!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=81)}({81:function(e,t,i){"use strict";!function(e){var t=e.$,i=e.snippet,n=i.register,o=e.utils,a="skuid__DataSourceType__ui",s="skuid__DataSource__ui",l=e.constants,r=l.SALESFORCE,c=e.dataSource,d=e.ui.getRenderer,u=e.platform.getEntityFieldNames("page"),p=u.api_version,m=u.type,g=void 0;function b(t,i){return function(){if(g&&g.length)return o.resolve(g);var t=e.platform.services.getDataSourceTypes;return t?t().then(function(e){return g=e,e}):(g=[],o.resolve(g))}().then(function(e){return e.filter(function(e){return(!e.hasOwnProperty("isEnabled")||e.isEnabled)&&(!t||t(e))}).map(function(e){var t=e.value||e.name;return{value:t,label:e.label||t}}).sort(function(e,t){return i?i(e,t):e.label.localeCompare(t.label)})})}function f(i){var n=i.field,o=i.value,a=i.entries,s=i.onChange;"edit"===n.mode?n.element.html(d("PICKLIST").edit({value:o,required:!0,onChange:function(e){n.model.updateRow(n.row,n.id,e,{initiatorId:n._GUID}),s&&i.onChange(e)},entries:a})):(t.each(a,function(){if(o===this.value)return o=this.label,!1}),e.ui.getFieldRenderer(n)[n.mode](n,o))}function v(e,t){return e.label.localeCompare(t.label)}function y(e,t){return e.value===r?-1:t.value===r?1:v(e,t)}function h(i,n){n||(n={});var a=!1,s=o.generateUniqueId(),l=t("<div>").attr("id",s),r=!0!==n.quiet;return r&&(t.blockUI({message:l}),c("Generating Support Files for "+i.length+" Page(s): Initiating Deployment"),n.progressCallback=function(e){if(a)return;!0===e.done&&d(!0,"");r&&c("Generating Support Files: "+e.message)}),e.pageSupport.generateFiles(i,n).then(function(e){d(!0,e)},function(e){d(!1,e)});function c(e){l.text(e)}function d(e,i){a=!0,r&&(e?t.unblockUI({message:"Generating Support Files: "+i.numberComponentsDeployed+" deployed, "+i.numberComponentErrors+" errors",timeout:3e3}):(o.isString(i)||(i=i&&i.statusText||""),t.blockUI({message:"There was an error: "+i,timeout:5e3})))}}n("skuid.settings.dataSources.getDataSourceTypePicklistEntries",b),n("skuid.core.haveMultipleActiveDataSources",function(){return o.size(e.dataSource.map())>1}),n("skuid.core.actions.previewPage",function(){var e=arguments[0],t=i.get("skuid.builder.page.preview");t&&t({model:e.model,row:e.item?e.item.row:e.row})}),n("skuid.settings.dataSources.getDataSourceTypePicklistEntriesForTemplateSelector",function(){var e=c.mapByType();return b(function(t){var i=t.value;return!["REST","Ui-Only"].includes(i)&&e[i]},v)}),n("skuid.core.renderers.dataSource",function(){var e=c.mapByType(),i=arguments[0],n=i.model.getFieldValue(i.row,a,!0)||Object.keys(e)[0];f({field:arguments[0],value:o.decodeHTML(arguments[1]),entries:t.map(e[n],function(e){var t=e.name;return{value:t,label:t===r?"Current Salesforce Org":t}}).sort(y)})}),n("skuid.core.renderers.dataSourceAll",function(){f({field:arguments[0],value:o.decodeHTML(arguments[1]),entries:c.list().map(function(e){var t=e.name;return{value:t,label:t===r?"Current Salesforce Org":t}}).sort(y)})}),n("skuid.core.snippets.newPageRenderStartingPoint",function(e){var i,n,o=e.updates&&e.updates[m],a=e.updates&&e.updates[p],s=e.model,l=e.row;(o||a)&&(i=s.getFieldValue(l,"skuid__Initial_State__c"),n=s.registeredFields,"Mobile"===o&&"masterpage"===i&&s.updateRow(l,{skuid__Initial_State__c:"none"}),t.each(n,function(){"skuid__Initial_State__c"===this.id&&this.render()}))}),n("skuid.core.snippets.newPageStartingPoint",function(i,n){if(i.options||(i.options={}),i.options.type="RADIO_BUTTONS",e.ui.getFieldRenderer(i)[i.mode](i,n),i.options.type="CUSTOM","edit"===i.mode){var o=i.model,a=i.row,s=o.getFieldValue(a,m,!0),l=o.getFieldValue(a,p,!0);if("Mobile"===s||"v2"===l)i.element.find("div.nx-radiowrapper").each(function(){var e=t(this),i=e.children('input[type="radio"]');"Mobile"===s&&"masterpage"===i.val()?e.hide():"v2"===l&&"template"===i.val()&&e.hide()})}}),n("skuid.settings.snippets.regenSupportFiles",function(){var i=e.$M("stng__AllPages");return t.blockUI({message:"Querying Skuid Pages..."}),i.updateData().then(function(){return h(i.getRows())})}),n("skuid.pageList.snippets.regenSupportFiles",function(e){return h(e.list.getSelectedItems())}),n("skuid.pageList.snippets.regenPackSupportFiles",function(e){return h(e)}),n("skuid.pageBuilder.snippets.regenSupportFile",function(e){return h(e.model.getRows(),{relaxFieldChecks:!0})}),n("skuid.pageBuilder.snippets.regenSupportFileQuietly",function(e){return h(e.model.getRows(),{relaxFieldChecks:!0,quiet:!0})}),t(document.body).one("pageload",function(){var i="skuid__Primary_Object__c",m=e.platform.getDefaultDataSourceTypeName(),g=e.platform.getDefaultDataSourceName(),b="skuid__Initial_State__c",f="skuid__Page_Template__c",v=u.master_page_id,y="skuid__Page_XML__c";function h(n){n||(n={});var l,c,d,h,_=n.model,w=n.row,k=_.getFieldValue(w,b,!0)||"none",S=_.getFieldValue(w,f,!0)||"tab-page",F=_.getFieldValue(w,i,!0)||"",M=_.getFieldValue(w,a,!0)||m,P=_.getFieldValue(w,s,!0)||g,D=e.dataSource.get(P),C=D.getCachedEntityMetadata(F),T=P===r&&M===r,I=_.getFieldValue(w,u.type,!0)||"Desktop",q=function(e){var t=e.getFirstRow();return t&&t[p]&&"v1"!==t[p]?"skuid__page":"skuidpage"}(_),x="<"+q+' unsavedchangeswarning="yes" personalizationmode="server"',R=function(){M===r&&t.inArray(F,["Contact","Lead","User"])>-1?(d=["FirstName","LastName"],"Lead"===F&&d.push("Company")):(d=[],(h=D.getNameField(F))&&d.push(h))};if("skuid__page"===q&&(S="new-page"),""!==F&&"none"!==k)c=F.replace("__c","").replace(/_/g,""),"tab-page"===S?(R(),l="Mobile"===I?x+"><models>":x+' showsidebar="true" showheader="true" '+(T?'tabtooverride="'+F+'"':"")+"><models>",l+='<model id="'+c+'" limit="100" query="true" createrowifnonefound="false" datasourcetype="'+M+'" datasource="'+P+'" sobject="'+F+'">',l+="<fields>",t.each(d,function(e,t){C.getField(t)&&(l+='<field id="'+t+'"/>')}),C.getField("CreatedDate")&&(l+='<field id="CreatedDate"/>'),l+="</fields>",l+="<conditions/></model></models><components>","Desktop"===I?(l+='<pagetitle model="'+c+'"><maintitle><template>{{Model.labelPlural}}</template></maintitle><subtitle><template>Home</template></subtitle><actions><action type="savecancel"/></actions></pagetitle>',l+='<skootable showconditions="true" showsavecancel="false" searchmethod="server" searchbox="true" showexportbuttons="false" pagesize="10" createrecords="true" model="'+c+'" mode="read" allowcolumnreordering="true">',l+="<fields>",t.each(d,function(e,t){C.getField(t)&&(l+='<field id="'+t+'" hideable="true" allowordering="true" uniqueid="'+o.generateUniqueId({prefix:"fi"})+'"/>')}),C.getField("CreatedDate")&&(l+='<field id="CreatedDate" hideable="true" allowordering="true" uniqueid="'+o.generateUniqueId({prefix:"fi"})+'"/>'),l+='</fields><rowactions><action type="edit"/><action type="delete"/></rowactions><massactions usefirstitemasdefault="true"><action type="massupdate"/><action type="massdelete"/></massactions><views><view type="standard"/></views>',l+="</skootable>"):"Mobile"===I&&(l+="<skuidmobile>",l+="<mobilepanels>",l+='<mobilepanel uniqueid="main" minwidth="400">',l+="<components>",l+='<mobiledeck showsavecancel="true" searchmethod="server" searchbox="true" tokenizesearch="true" createrecords="true" precision="6" minwidth="300" model="'+c+'" mode="read">',l+="<components>",t.each(d,function(e,t){C.getField(t)&&(l+='<mobilefield id="'+t+'"/>')}),C.getField("CreatedDate")&&(l+='<mobilefield id="CreatedDate"/>'),l+="</components>",l+="<title>{{Model.labelPlural}}</title>",l+="<cardtitle>",t.each(d,function(e,t){l+=(0!==e?" ":"")+"{{"+t+"}}"}),l+="</cardtitle>",l+="</mobiledeck>",l+="</components>",l+="</mobilepanel>",l+="</mobilepanels>",l+="<mobilenavs>",l+='<mobilenav uniqueid="header">',l+="<components>",l+='<mobilegrid precision="6" minwidth="50">',l+="<divisions>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-bars">',l+="<actions>",l+='<action type="setMainPanel" panel="main"/>',l+="</actions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+='<division size="4">',l+="<components>",l+="<mobiletitle>",l+="<contents>{{$Model."+c+".labelPlural}}</contents>",l+="</mobiletitle>",l+="</components>",l+="</division>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-th">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+="</divisions>",l+="</mobilegrid>",l+="</components>",l+="<interactions>",l+='<interaction type="doubletap">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+='<interaction type="swipedown">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilenav>",l+="</mobilenavs>",l+="</skuidmobile>"),l+='</components><resources><labels/><css/><javascript/><actionsequences/></resources><styles><styleitem type="background" bgtype="none"/></styles></'+q+">"):"detail-page"===S?(R(),l="Mobile"===I?x+"><models>":x+' showsidebar="true" showheader="true" '+(T?'tabtooverride="'+F+'"':"")+"><models>",l+='<model id="'+c+'" limit="1" query="true" createrowifnonefound="false" datasourcetype="'+M+'" datasource="'+P+'" sobject="'+F+'">',l+="<fields>",t.each(d,function(e,t){C.getField(t)&&(l+='<field id="'+t+'"/>')}),C.getField("CreatedDate")&&(l+='<field id="CreatedDate"/>'),l+="</fields>",l+='<conditions><condition type="param" enclosevalueinquotes="true" operator="=" field="Id" value="id"/></conditions>',l+="</model></models><components>","Desktop"===I?(l+='<pagetitle model="'+c+'"><maintitle><template>',t.each(d,function(e,t){C.getField(t)&&(l+=(0!==e?" ":"")+"{{"+t+"}}")}),l+="</template></maintitle><subtitle><template>{{Model.label}}</template></subtitle><actions>"+(T?'<action type="delete"/><action type="clone"/><action type="share"/>':"")+'<action type="savecancel" window="self"/></actions></pagetitle>',l+='<basicfieldeditor showsavecancel="false" showheader="true" model="'+c+'" mode="read"><columns>',l+='<column width="50%"><sections>',l+='<section title="Basics"><fields>',t.each(d,function(e,t){C.getField(t)&&(l+='<field id="'+t+'"/>')}),l+="</fields></section>",l+="</sections></column>",l+='<column width="50%"><sections>',l+='<section title="System Info"><fields>'+(C.getField("CreatedDate")?'<field id="CreatedDate"/>':"")+"</fields></section>",l+="</sections></column>",l+="</columns></basicfieldeditor>"):"Mobile"===I&&(l+="<skuidmobile>",l+="<mobilepanels>",l+='<mobilepanel uniqueid="main" minwidth="400">',l+="<components>",l+='<mobiledeck showsavecancel="true" searchmethod="server" searchbox="false" tokenizesearch="false" createrecords="false" precision="1" minwidth="200" model="'+c+'" mode="read">',l+="<components>",t.each(d,function(e,t){C.getField(t)&&(l+='<mobilefield id="'+t+'"/>')}),C.getField("CreatedDate")&&(l+='<mobilefield id="CreatedDate"/>'),l+="</components>",l+="<title>{{Model.label}}</title>",l+="<cardtitle>",t.each(d,function(e,t){C.getField(t)&&(l+=(0!==e?" ":"")+"{{"+t+"}}")}),l+="</cardtitle>",l+="</mobiledeck>",l+="</components>",l+="</mobilepanel>",l+="</mobilepanels>",l+="<mobilenavs>",l+='<mobilenav uniqueid="header">',l+="<components>",l+='<mobilegrid precision="6" minwidth="50">',l+="<divisions>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-bars">',l+="<interactions>",l+='<interaction type="tap">',l+="<actions>",l+='<action type="setMainPanel" panel="main"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+='<division size="4">',l+="<components>",l+="<mobiletitle>",l+="<contents>{{$Model."+c+".label}}</contents>",l+="</mobiletitle>",l+="</components>",l+="</division>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-th">',l+="<interactions>",l+='<interaction type="tap">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+="</divisions>",l+="</mobilegrid>",l+="</components>",l+="<interactions>",l+='<interaction type="doubletap">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+='<interaction type="swipedown">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilenav>",l+="</mobilenavs>",l+="</skuidmobile>"),l+='</components><resources><labels/><css/><javascript/><actionsequences/></resources><styles><styleitem type="background" bgtype="none"/></styles></'+q+">"):"new-page"===S&&(R(),l="Mobile"===I?x+"><models>":x+' showsidebar="true" showheader="true" '+(T?'tabtooverride="'+F+'"':"")+"><models>",l+='<model id="'+c+'" limit="1" query="false" createrowifnonefound="true" datasourcetype="'+M+'" datasource="'+P+'" sobject="'+F+'">',l+="<fields>",t.each(d,function(e,t){C.getField(t)&&(l+='<field id="'+t+'"/>')}),l+="</fields>",l+="</model></models><components>","Desktop"===I?(l+='<pagetitle model="'+c+'"><maintitle><template>New {{Model.label}}</template></maintitle><subtitle><template>{{Model.labelPlural}}</template></subtitle><actions><action type="savecancel" '+(T?'afterCancel="/{{Model.KeyPrefix}}/o" ':"")+(T?'afterSave="/{{Id}}" ':"")+'rollbackonanyerror="true"/></actions></pagetitle>',l+='<basicfieldeditor showsavecancel="false" showheader="true" model="'+c+'" mode="edit"><columns>',l+='<column width="50%"><sections>',l+='<section title="Basics"><fields>',t.each(d,function(e,t){C.getField(t)&&(l+=(0!==e?" ":"")+'<field id="'+t+'"/>')}),l+="</fields></section>",l+="</sections></column>",l+='<column width="50%"><sections>',l+='<section title="Additional Info"><fields/></section>',l+="</sections></column>",l+="</columns></basicfieldeditor>"):"Mobile"===I&&(l+="<skuidmobile>",l+="<mobilepanels>",l+='<mobilepanel uniqueid="main" minwidth="400">',l+="<components>",l+='<mobiledeck showsavecancel="true" searchmethod="client" searchbox="false" tokenizesearch="false" createrecords="true" precision="1" minwidth="200" model="'+c+'" mode="edit">',l+="<components>",t.each(d,function(e,t){C.getField(t)&&(l+='<mobilefield id="'+t+'"/>')}),l+="</components>",l+="<title>{{Model.label}}</title>",l+="<cardtitle>",t.each(d,function(e,t){C.getField(t)&&(l+=(0!==e?" ":"")+"{{"+t+"}}")}),l+="</cardtitle>",l+="</mobiledeck>",l+="</components>",l+="</mobilepanel>",l+="</mobilepanels>",l+="<mobilenavs>",l+='<mobilenav uniqueid="header">',l+="<components>",l+='<mobilegrid precision="6" minwidth="50">',l+="<divisions>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-bars">',l+="<interactions>",l+='<interaction type="tap">',l+="<actions>",l+='<action type="setMainPanel" panel="main"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+='<division size="4">',l+="<components>",l+="<mobiletitle>",l+="<contents>New {{$Model."+c+".label}}</contents>",l+="</mobiletitle>",l+="</components>",l+="</division>",l+='<division size="1">',l+="<components>",l+='<mobilebutton label="" style="nav" icon="fa-th">',l+="<interactions>",l+='<interaction type="tap">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilebutton>",l+="</components>",l+="</division>",l+="</divisions>",l+="</mobilegrid>",l+="</components>",l+="<interactions>",l+='<interaction type="doubletap">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+='<interaction type="swipedown">',l+="<actions>",l+='<action type="toggleSetupMenu"/>',l+="</actions>",l+="</interaction>",l+="</interactions>",l+="</mobilenav>",l+="</mobilenavs>",l+="</skuidmobile>"),l+='</components><resources><labels/><css/><javascript/><actionsequences/></resources><styles><styleitem type="background" bgtype="none"/></styles></'+q+">");else if("masterpage"===k&&""!==v)l="<"+q+' unsavedchangeswarning="yes">\n\t<models/>\n\t<pageregioncontents/>\n\t<components/>\n\t<resources>\n\t\t<labels/>\n\t\t<javascript/>\n\t\t<css/>\n\t\t<actionsequences/>\n\t</resources>\n\t<styles>\n\t\t<styleitem type="background" bgtype="none"/>\n\t</styles>\n</'+q+">";else if("from-xml"===k||"from-xml-file"===k){var L=_.getFieldValue(w,y,!0);return void(L&&o.writeXmlToPageLayoutFields(L,_,w))}l||(l="Mobile"===I?x+'>\n\t<models/>\n\t<components>\n\t\t<skuidmobile>\n\t\t\t<mobilepanels/>\n\t\t\t<mobilenavs/>\n\t\t</skuidmobile>\n\t</components>\n\t<resources>\n\t\t<labels/>\n\t\t<javascript/>\n\t\t<css/>\n\t\t<actionsequences/>\n\t</resources>\n\t<styles>\n\t\t<styleitem type="background" bgtype="none"/>\n\t</styles>\n</'+q+">":x+' showsidebar="true" showheader="true">\n\t<models/>\n\t<components/>\n\t<resources>\n\t\t<labels/>\n\t\t<javascript/>\n\t\t<css/>\n\t\t<actionsequences/>\n\t</resources>\n\t<styles>\n\t\t<styleitem type="background" bgtype="none"/>\n\t</styles>\n</'+q+">"),o.writeXmlToPageLayoutFields(l,_,w)}if(n("skuid.pageList.buildLayoutFromTemplate",function(e){h({model:e.model,row:e.row})}),n("PrimaryObjectField",function(n){var o=n.model,l=n.row,r=c.mapByType(),u=o.getFieldValue(l,i,!0);n.element.append(d("ENTITY").edit({dataSource:function(){var t=o.getFieldValue(l,a,!0)||Object.keys(r)[0],i=o.getFieldValue(l,s,!0);return i&&e.dataSource.getDataSource(i)||r[t][0]},getErrorContainer:function(){var e=n.element.find(".nx-error-inline");return e.length||(e=t("<div>").addClass("nx-error-inline").appendTo(n.element)),e},onChange:function(e){o.updateRow(l,i,e,{initiatorId:n._GUID})},value:u}))}),o._ie<9&&t(".sk-header-skuidlogo img").attr("src",o.getStaticResourceUrl("SkuidLogoCustomHeaderPNG","skuid",void 0,e.version.date)),o._ie<10){t(".nx-page").addClass("sk-ie-legacy");var _=t(".sk-master-grid-division-rightside");_.eq(0).prev().after(_.toArray().reverse())}var w,k,S=e.$M("pgs__NewPage"),F=e.$M("master__DataSourceReassign");S.subscribe("row.updated",function(t){var i=t.row;t.updates.hasOwnProperty("skuid__Page_XML__c")&&i.skuid__Page_XML__c!==w&&function(){if(!k){if(o.inPlatform(l.NATIVE)){var t=e.$M("master__DataSources");return t.load().then(function(){k=t.getRows().map(function(e){return e.name}).sort(function(e,t){return e.localeCompare(t)})})}k=e.dataSource.list().map(function(e){return e.name}).sort(function(e,t){return e.localeCompare(t)})}return o.resolve()}().then(function(){!function(e){var t=o.makeXMLDoc(e.skuid__Page_XML__c),i=[];F.emptyData(),t.find("[datasource]").each(function(){var e=this.getAttribute("datasource");k.includes(e)||i.includes(e)||(F.adoptRow({currentName:e}),i.push(e))}),w=e.skuid__Page_XML__c}(i)})}),n("after-xml-file-upload",function(e){var t=S.getRows()[0];S.updateRow(t,{fileName:e.component.fileName})})}),n("newpage-before-save-xml",function(){var t=e.$M("pgs__NewPage"),i=e.$M("master__DataSourceReassign"),n=t.getRows()[0];if(i.getRows().length){var a=o.makeXMLDoc(n.skuid__Page_XML__c);i.getRows().forEach(function(e){a.find('[datasource="'+e.currentName+'"]').attr("datasource",e.newName||e.currentName)}),t.updateRow(n,{skuid__Page_XML__c:a[0].outerHTML})}i.cancel()})}(skuid)}});