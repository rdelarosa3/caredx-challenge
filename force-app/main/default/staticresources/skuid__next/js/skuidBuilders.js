skuid.runtime.registerApi("v2","skuidBuilders",function(e){var t=function(e){var t={};function n(i){if(t[i]){return t[i].exports}var a=t[i]={i:i,l:false,exports:{}};e[i].call(a.exports,a,a.exports,n);a.l=true;return a.exports}n.m=e;n.c=t;n.d=function(e,t,i){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var i=Object.create(null);n.r(i);Object.defineProperty(i,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=735)}({0:function(t,n,i){"use strict";i.d(n,"b",function(){return o});i.d(n,"a",function(){return r});i.d(n,"d",function(){return d});function a(){if(e){return e}throw Error("skuid not found")}let o=a().constants;let r=a().componentType;n["c"]=a();const l={MOBILE:480};const s=(t,n)=>e.builder&&e.builder.core.getDomProperties(t,n);function d(){const e=a(),{utils:t,themeSettings:n}=e,i=n&&n.getAll(),r=e.virtualDom&&e.virtualDom.hyperScript;return{skuid:e,h:r,div:r&&r.bind(null,"div"),span:r&&r.bind(null,"span"),utils:t,ts:i,getShadow:n&&n.getShadow,$:e.$,$L:e.$L,KEYCODES:o.KEYCODES,breakpoints:l,moment:e.moment,getBuilderProps:s}}},100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var o=n(26);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function e(t,n,a){s(this,e);this.type="conditional";this.isProcessed=false;this.key=t;this.options=a;this.rules=new r["default"](i({},a,{parent:this}));for(var o in n){this.rules.add(o,n[o])}this.rules.process()}a(e,[{key:"getRule",value:function e(t){return this.rules.get(t)}},{key:"indexOf",value:function e(t){return this.rules.indexOf(t)}},{key:"addRule",value:function e(t,n,i){var a=this.rules.add(t,n,i);this.options.jss.plugins.onProcessRule(a);return a}},{key:"toString",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{indent:1};var n=this.rules.toString(t);return n?this.key+" {\n"+n+"\n}":""}}]);return e}();t["default"]=d},101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(43);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(t,n,i){l(this,e);this.type="font-face";this.isProcessed=false;this.key=t;this.style=n;this.options=i}i(e,[{key:"toString",value:function e(t){if(Array.isArray(this.style)){var n="";for(var i=0;i<this.style.length;i++){n+=(0,o["default"])(this.key,this.style[i]);if(this.style[i+1])n+="\n"}return n}return(0,o["default"])(this.key,this.style,t)}}]);return e}();t["default"]=s},102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(43);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(t,n,i){l(this,e);this.type="viewport";this.isProcessed=false;this.key=t;this.style=n;this.options=i}i(e,[{key:"toString",value:function e(t){return(0,o["default"])(this.key,this.style,t)}}]);return e}();t["default"]=s},103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(20);var a=d(i);var o=n(34);var r=d(o);var l=n(56);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}t["default"]={onCreateRule:function e(t,n,i){if(!(0,s["default"])(n))return null;var a=n;var o=(0,r["default"])(t,{},i);a.subscribe(function(e){for(var t in e){o.prop(t,e[t])}});return o},onProcessRule:function e(t){if(!(t instanceof a["default"]))return;var n=t;var i=n.style;var o=function e(t){var a=i[t];if(!(0,s["default"])(a))return"continue";delete i[t];a.subscribe({next:function e(i){n.prop(t,i)}})};for(var r in i){var l=o(r);if(l==="continue")continue}}}},104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(26);var a=d(i);var o=n(20);var r=d(o);var l=n(34);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var c=Date.now();var u="fnValues"+c;var p="fnStyle"+ ++c;t["default"]={onCreateRule:function e(t,n,i){if(typeof n!=="function")return null;var a=(0,s["default"])(t,{},i);a[p]=n;return a},onProcessStyle:function e(t,n){var i={};for(var a in t){var o=t[a];if(typeof o!=="function")continue;delete t[a];i[a]=o}n=n;n[u]=i;return t},onUpdate:function e(t,n){if(n.rules instanceof a["default"]){n.rules.update(t);return}if(!(n instanceof r["default"]))return;n=n;if(n[u]){for(var i in n[u]){n.prop(i,n[u][i](t))}}n=n;var o=n[p];if(o){var l=o(t);for(var s in l){n.prop(s,l[s])}}}}},105:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(18);var o=p(a);var r=n(44);var l=p(r);var s=n(20);var d=p(s);var c=n(33);var u=p(c);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var m=function e(t){var n=void 0;return function(){if(!n)n=t();return n}};function h(e,t){try{return e.style.getPropertyValue(t)}catch(e){return""}}function g(e,t,n){try{var i=n;if(Array.isArray(n)){i=(0,u["default"])(n,true);if(n[n.length-1]==="!important"){e.style.setProperty(t,i,"important");return true}}e.style.setProperty(t,i)}catch(e){return false}return true}function b(e,t){try{e.style.removeProperty(t)}catch(e){(0,o["default"])(false,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',e.message,t)}}var y={STYLE_RULE:1,KEYFRAMES_RULE:7};var v=function(){var e=function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;return t.substr(n,t.indexOf("{")-1)};return function(t){if(t.type===y.STYLE_RULE)return t.selectorText;if(t.type===y.KEYFRAMES_RULE){var n=t.name;if(n)return"@keyframes "+n;var i=t.cssText;return"@"+e(i,i.indexOf("keyframes"))}return e(t.cssText)}}();function C(e,t){e.selectorText=t;return e.selectorText===t}var k=m(function(){return document.head||document.getElementsByTagName("head")[0]});var S=function(){var e=void 0;var t=false;return function(n){var i={};if(!e)e=document.createElement("style");for(var a=0;a<n.length;a++){var o=n[a];if(!(o instanceof d["default"]))continue;var r=o.selector;if(r&&r.indexOf("\\")!==-1){if(!t){k().appendChild(e);t=true}e.textContent=r+" {}";var l=e,s=l.sheet;if(s){var c=s.cssRules;if(c)i[c[0].selectorText]=o.key}}}if(t){k().removeChild(e);t=false}return i}}();function w(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint){return i}}return null}function x(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint){return i}}return null}function I(e){var t=k();for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(i.nodeType===8&&i.nodeValue.trim()===e){return i}}return null}function T(e){var t=l["default"].registry;if(t.length>0){var n=w(t,e);if(n)return n.renderer.element;n=x(t,e);if(n)return n.renderer.element.nextElementSibling}var i=e.insertionPoint;if(i&&typeof i==="string"){var a=I(i);if(a)return a.nextSibling;(0,o["default"])(i==="jss",'[JSS] Insertion point "%s" not found.',i)}return null}function A(e,t){var n=t.insertionPoint;var i=T(t);if(i){var a=i.parentNode;if(a)a.insertBefore(e,i);return}if(n&&typeof n.nodeType==="number"){var r=n;var l=r.parentNode;if(l)l.insertBefore(e,r.nextSibling);else(0,o["default"])(false,"[JSS] Insertion point is not in the DOM.");return}k().insertBefore(e,i)}var P=m(function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null});var _=function(){function e(t){f(this,e);this.getPropertyValue=h;this.setProperty=g;this.removeProperty=b;this.setSelector=C;this.getKey=v;this.getUnescapedKeysMap=S;this.hasInsertedRules=false;if(t)l["default"].add(t);this.sheet=t;var n=this.sheet?this.sheet.options:{},i=n.media,a=n.meta,o=n.element;this.element=o||document.createElement("style");this.element.setAttribute("data-jss","");if(i)this.element.setAttribute("media",i);if(a)this.element.setAttribute("data-meta",a);var r=P();if(r)this.element.setAttribute("nonce",r)}i(e,[{key:"attach",value:function e(){if(this.element.parentNode||!this.sheet)return;if(this.hasInsertedRules){this.deploy();this.hasInsertedRules=false}A(this.element,this.sheet.options)}},{key:"detach",value:function e(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function e(){if(!this.sheet)return;this.element.textContent="\n"+this.sheet.toString()+"\n"}},{key:"insertRule",value:function e(t,n){var i=this.element.sheet;var a=i.cssRules;var r=t.toString();if(!n)n=a.length;if(!r)return false;try{i.insertRule(r,n)}catch(e){(0,o["default"])(false,"[JSS] Can not insert an unsupported rule \n\r%s",t);return false}this.hasInsertedRules=true;return a[n]}},{key:"deleteRule",value:function e(t){var n=this.element.sheet;var i=this.indexOf(t);if(i===-1)return false;n.deleteRule(i);return true}},{key:"indexOf",value:function e(t){var n=this.element.sheet.cssRules;for(var i=0;i<n.length;i++){if(t===n[i])return i}return-1}},{key:"replaceRule",value:function e(t,n){var i=this.indexOf(t);var a=this.insertRule(n,i);this.element.sheet.deleteRule(i);return a}},{key:"getRules",value:function e(){return this.element.sheet.cssRules}}]);return e}();t["default"]=_},106:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(){a(this,e)}i(e,[{key:"setProperty",value:function e(){return true}},{key:"getPropertyValue",value:function e(){return""}},{key:"removeProperty",value:function e(){}},{key:"setSelector",value:function e(){return true}},{key:"getKey",value:function e(){return""}},{key:"attach",value:function e(){}},{key:"detach",value:function e(){}},{key:"deploy",value:function e(){}},{key:"insertRule",value:function e(){return false}},{key:"deleteRule",value:function e(){return true}},{key:"replaceRule",value:function e(){return false}},{key:"getRules",value:function e(){}},{key:"indexOf",value:function e(){return-1}}]);return e}();t["default"]=o},107:function(e,t,n){"use strict";var i=/[A-Z]/g;var a=/^ms-/;var o={};function r(e){return e in o?o[e]:o[e]=e.replace(i,"-$&").toLowerCase().replace(a,"-ms-")}e.exports=r},108:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.supportedValue=t.supportedProperty=t.prefix=undefined;var i=n(7);var a=d(i);var o=n(60);var r=d(o);var l=n(125);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}t["default"]={prefix:a["default"],supportedProperty:r["default"],supportedValue:s["default"]};t.prefix=a["default"];t.supportedProperty=r["default"];t.supportedValue=s["default"]},109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.noPrefill=t.propertyDetectors=undefined;var i=n(110);var a=N(i);var o=n(111);var r=N(o);var l=n(112);var s=N(l);var d=n(113);var c=N(d);var u=n(114);var p=N(u);var f=n(115);var m=N(f);var h=n(116);var g=N(h);var b=n(117);var y=N(b);var v=n(118);var C=N(v);var k=n(119);var S=N(k);var w=n(120);var x=N(w);var I=n(121);var T=N(I);var A=n(122);var P=N(A);var _=n(123);var F=N(_);var M=n(124);var E=N(M);function N(e){return e&&e.__esModule?e:{default:e}}function O(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++){n[t]=e[t]}return n}else{return Array.from(e)}}var R=[a["default"],r["default"],s["default"],c["default"],p["default"],m["default"],g["default"],y["default"],C["default"],S["default"],E["default"],F["default"],x["default"],T["default"],P["default"]];var D=t.propertyDetectors=R.filter(function(e){return e.supportedProperty}).map(function(e){return e.supportedProperty});var L=t.noPrefill=R.filter(function(e){return e.noPrefill}).reduce(function(e,t){e.push.apply(e,O(t.noPrefill));return e},[])},11:function(t,n,i){"use strict";i.d(n,"a",function(){return d});i.d(n,"h",function(){return c});i.d(n,"j",function(){return u});i.d(n,"f",function(){return p});i.d(n,"i",function(){return f});i.d(n,"e",function(){return m});i.d(n,"l",function(){return h});i.d(n,"k",function(){return g});i.d(n,"d",function(){return b});i.d(n,"b",function(){return y});i.d(n,"c",function(){return v});i.d(n,"n",function(){return C});i.d(n,"m",function(){return k});i.d(n,"g",function(){return S});var a=i(5);const o=e.$,r=e.utils,l=r.isString,s=r.escapeSelector;function d(){let e=p();if(!e||!e.children("models").length){return u().children("models")}else{return e.children("models").clone().append(u().children("models").children("model").clone())}}function c(){return u().children("models")}function u(){return e.builder.core.pageXML}function p(){return e.builder.core.masterPageXML}function f(){return o(u()).find('> resources > javascript > jsitem[location="inlinesnippet"]')}function m(){return o(p()).find('> resources > javascript > jsitem[location="inlinesnippet"]')}function h(){return o.extend({},m(),f())}function g(){return o.map(h(),function(e){return o(e).attr("name")})}function b(){return c().children("model").first()}function y(e,t){let n=e.closest("["+t+"]");return n.length?n.first().attr(t):""}function v(e,t){let n;if(l(t)){n=Object(a["j"])(t);if(n)n=n.children("conditions")}else if(t&&t.jquery&&t.prop("nodeName")==="conditions"){n=t}return n?n.find('condition[name="'+e+'"]'):null}function C(e){return r.startsWith(e.attr("state"),"filterable")}function k(e,t,n){if(!e||!t){return false}if(!n)n={searchByName:false};let i,o=n.searchByName;if(l(e)===true){i=Object(a["j"])(e)}else if(e.jquery){i=e}else{return false}let r=o===true?"name":"id",d=i.children("fields,groupby").find("field["+r+'="'+s(t)+'"]');if(d&&d.length>0){return true}return false}function S(e){if(e.attr("type")==="readwrite"){return e.children("methods").children('method[type="query"][pathtocontent]').first().attr("pathtocontent")}else{return e.attr("pathtocontent")}}},110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["appearance"],supportedProperty:function e(t){if(t!=="appearance")return false;if(a["default"].js==="ms"){return"-webkit-"+t}return a["default"].css+t}}},111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["transform"],supportedProperty:function e(t,n,i){if(t!=="transform")return false;if(i.transform){return t}return a["default"].css+t}}},112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["transition"],supportedProperty:function e(t,n,i){if(t!=="transition")return false;if(i.transition){return t}return a["default"].css+t}}},113:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t){if(t.substring(0,11)!=="scroll-snap")return false;if(a["default"].js==="ms"){return""+a["default"].css+t}return t}}},114:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=d(i);var o=n(16);var r=d(o);var l=n(45);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["mask"],supportedProperty:function e(t,n){if(!/^mask/.test(t))return false;if(a["default"].js==="Webkit"){var i="mask-image";if((0,s["default"])(i)in n){return t}if(a["default"].js+(0,r["default"])(i)in n){return a["default"].css+t}}return t}}},115:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["writing-mode"],supportedProperty:function e(t){if(t!=="writing-mode")return false;if(a["default"].js==="Webkit"||a["default"].js==="ms"){return a["default"].css+t}return t}}},116:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["clip-path"],supportedProperty:function e(t,n){if(t==="clip-path"&&a["default"].js==="Webkit"){n.clipPath="inset(10px 20px 30px 40px)";var i=n.clipPath;n.clipPath="";if(i)return t;if(a["default"].js+(0,r["default"])(t)in n){return a["default"].css+t}}return false}}},117:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}t["default"]={noPrefill:["filter"],supportedProperty:function e(t,n){if(t==="filter"&&a["default"].js==="Webkit"){n.filter="grayscale(50%)";var i=n.filter;n.filter="";if(i)return t;if(a["default"].js+(0,r["default"])(t)in n){return a["default"].css+t}}return false}}},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(45);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t,n){return(0,a["default"])(t)in n?t:false}}},119:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t,n){var i=(0,r["default"])(t);if(a["default"].js+i in n)return a["default"].css+t;if(a["default"].js!=="Webkit"&&"Webkit"+i in n)return t;return false}}},120:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t,n){if(!/^(border|margin|padding)-inline/.test(t))return false;var i=t.replace("-inline","");return a["default"].js+(0,r["default"])(i)in n?a["default"].css+i:false}}},121:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t){if(!/^mask-border/.test(t))return false;var n=t.replace(/^mask-border/,"mask-box-image");if(a["default"].js==="Webkit"){return a["default"].css+n}return t}}},122:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}t["default"]={supportedProperty:function e(t,n){if(!/^break-/.test(t))return false;if(a["default"].js==="Webkit"){var i="WebkitColumn"+(0,r["default"])(t);return i in n?a["default"].css+"column-"+t:false}if(a["default"].js==="Moz"){var o="page"+(0,r["default"])(t);return o in n?"page-"+t:false}return false}}},123:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var s={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"};var d=Object.keys(s);var c=function e(t){return a["default"].css+t};t["default"]={supportedProperty:function e(t,n,i){var o=i.multiple;if(d.indexOf(t)>-1){var l=s[t];if(!Array.isArray(l)){return a["default"].js+(0,r["default"])(l)in n?a["default"].css+l:false}if(!o)return false;for(var u=0;u<l.length;u++){if(!(a["default"].js+(0,r["default"])(l[0])in n)){return false}}return l.map(c)}return false}}},124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(7);var a=l(i);var o=n(16);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}var s={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"};t["default"]={supportedProperty:function e(t,n){var i=s[t];if(!i)return false;return a["default"].js+(0,r["default"])(i)in n?a["default"].css+i:false}}},125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=h;var i=n(35);var a=d(i);var o=n(7);var r=d(o);var l=n(60);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var c={};var u={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1};var p=/(^\s*\w+)|, (\s*\w+)(?![^()]*\))/g;var f=void 0;function m(e,t,n){if(t==="all")return"all";if(n==="all")return", all";return t?(0,s["default"])(t):", "+(0,s["default"])(n)}if(a["default"])f=document.createElement("p");function h(e,t){if(!f)return t;if(typeof t!=="string"||!isNaN(parseInt(t,10))){return t}var n=e+t;if("production"!=="benchmark"&&c[n]!=null){return c[n]}try{f.style[e]=t}catch(e){c[n]=false;return false}if(u[e]){t=t.replace(p,m)}else if(f.style[e]===""){t=r["default"].css+t;if(t==="-ms-flex")t="-ms-flexbox";f.style[e]=t;if(f.style[e]===""){c[n]=false;return false}}f.style[e]="";c[n]=t;return c[n]}},128:function(t,n,i){"use strict";const a=e.builder,o=a.core,r=a.ink,l=e.utils.makeXMLDoc;const s=new o.Builder({id:"step",componentType:"skuid__wizardStep",icon:"sk-webicon-ink:stepper",name:"Step",hideWrapper:true,indexSelectors:{unsurfaced:"components, buttons"},getSubtitle(e){return e.getAttribute("stepLabel")||e.getAttribute("stepId")},init(e){const t=e.get("xmlState");const n=(e,t)=>{const i=e.getParentComponent();if(!i)return;if(t(i))return i;return n(i,t)};e.set("parentWizard",n(e,e=>e.type()==="skuid__wizard"));e.set("parentWizardBuilder",n(e,e=>e.type()==="skuidbuilder__builderComponent"&&e.builder.id==="skuid__wizard"));e.cpi.setCanvasComponent();e.addActionItem("Remove Step","sk-webicon-ink:delete",()=>{e.get("xmlState").remove();e.cpi.remove()});e.addActionItem("Add Button","sk-webicon-ink:add",()=>{const t=l('<button label="Step Button"/>');e.get("xmlState").children("buttons").append(t);e.cpi.save();e.cpi.refresh()});e.cpi.createObserver({node:t.children("buttons")[0],observe:{childList:true},callback:()=>{e.cpi.save();e.cpi.refresh()}})},parseState(e,t){return Object.assign({},t,{parentWizard:e.get("parentWizard"),components:[{componentType:"skuidbuilder__componentAcceptor",componentsXML:e.get("xmlState").children("components")}]})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Step Properties");function n(){t.refresh()}function i(){t.get("parentWizardBuilder").refresh()}const a=t.get("xmlState"),l={id:"stepId",type:"string",label:"Step Id"},s={id:"stepLabel",type:"string",label:"Step Label",onChange:i},d={id:"alignButtons",type:"picklist",label:"Align Buttons",picklistEntries:[{value:"",label:"Left"},{value:"right",label:"Right"},{value:"center",label:"Center"},{value:"separate",label:"Separated"}],onChange(){t.rebuildProps();n()}},c={id:"showStepIndicators",type:"boolean",defaultValue:true,label:"Show step indicators",onChange:n};e.applyPropsWithCategories([{name:"Basic",props:[l,s,d,a.attr("alignButtons")==="separate"&&c]},r.getTooltipProperties(),o.getRenderingCategory({enableConditionsNodeId:"enableConditions",component:t,model:a.attr("model"),propViewer:e,showEnableDisableConditions:true,hideRenderConditions:true})],a,{mode:e.mode})},defaultStateGenerator(e){let t,n,i,a,o,r,s,d,c,u=l("<buttons/>"),p=(e,t,n="")=>l('<button label="'.concat(e,'" ').concat(n," />")).append(l("<actions/>").append(l('<action type="runComponentAction" componentid="'.concat(a,'" action="navigateToStep" stepId="').concat(t||"",'"/>'))));if(e){a=e.wizardId,n=e.stepId;i=e.stepLabel;o=e.addPreviousStepButton;r=e.addNextStepButton;s=e.previousStepId;d=e.nextStepId;c=e.wizardSteps}if(o!==false)o=true;if(r!==false)r=true;if(!n&&c&&c.length){t=c.length+1}if(t){if(!n)n="step"+t;if(!i)i="Step "+t;if(o&&!s&&t>1&&c&&c.length){s=c.eq(t-2).attr("stepId")}}if(o){u.append(p("Back",s))}if(r){u.append(p("Next",d,'styleSettingsVariant="primary"'))}return l("<step/>").attr({stepId:n,stepLabel:i}).append(l("<components/>"),u)},componentSpoofMap:{skuid__button:{builderId:"skuid__button",cache:true,filter:e=>e.styleSettingsVariant!=="@parent/stepButtons"}}});n["a"]=s},13:function(e,t,n){"use strict";n.d(t,"a",function(){return i});n.d(t,"b",function(){return a});n.d(t,"c",function(){return o});const i={acceptorEmptyState:"sk-dropzone-emptystate"};const a={left:-5,top:-5};const o={noModel:"no-model"}},135:function(t,n,i){"use strict";i.d(n,"a",function(){return m});var a=i(71);var o=i(51);const r=e.utils,l=r.makeXMLDoc,s=e.builder,d=s.core,c=e.builder.listHelper,u="skuid__table",p=(e,t)=>{const n=c.propertiesFactory.mode().picklistEntries,i=d.getModelFromModelName(e),a=i&&i.attr("type"),o=a==="aggregate";if(o&&t){t._cpi.updateRowAndValue("readonly")}return o?n.filter(e=>e.value==="readonly"):n},f=e=>{const t=[];if(e!=="readonly"){t.push({value:"showSaveCancel",label:"Save and cancel buttons"})}t.push({value:"enableSearch",label:"Search"},{value:"showListFooter",label:"List footer"});return t};function m(t){const n=e.builder.desktop.getVariantsForComponentType(u);const i=r.Deferred(),s=a["a"].getModelPicklistEntries(),m=t.attr("model")||undefined;new a["a"]({modalOptions:{styleSettingsVariant:"no-content-padding",title:"Configure Table"},overrideButtons:true,fields:[{id:"model",displaytype:"PICKLIST",picklistEntries:[{value:"",label:"No data model selected"},...s],defaultValue:m},{id:"title",displaytype:"TEXT",defaultValue:"{{Model.labelPlural}}"},{id:"styleSettingsVariant",displaytype:"PICKLIST",picklistEntries:n,defaultValue:""},{id:"pageSize",displaytype:"PICKLIST",picklistEntries:c.propertiesFactory.pageSize().picklistEntries,defaultValue:"10"},{id:"mode",displaytype:"PICKLIST",picklistEntries:p(m),defaultValue:t.attr("mode")||"read",controllingField:"model"},{id:"include",displaytype:"MULTIPICKLIST",picklistEntries:f(t.attr("mode")),defaultValue:"showListFooter",controllingField:"mode"}],getLayout(s){const u=s.getModel(),m="wizard-"+r.generateGUID(),h="step-1-"+r.generateGUID(),g="step-2-"+r.generateGUID(),b=e=>d.getModelFromModelName(e),y=l('<renderConditions>\n\t\t\t\t\t\t<renderCondition type="blank" fieldmodel="'.concat(u.id,'" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" operator="!=" field="model" fieldtargetobjects="').concat(u.id,'" value="null" enclosevalueinquotes="false"/>\n\t\t\t\t\t</renderConditions>')),v=l('<renderConditions>\n\t\t\t\t\t\t<renderCondition type="blank" fieldmodel="'.concat(u.id,'" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" operator="=" field="model" fieldtargetobjects="').concat(u.id,'" value="null" enclosevalueinquotes="false"/>\n\t\t\t\t\t</renderConditions>')),C=a["a"].makeQuickConfigUniqueId;let k=u.getFirstRow(),S=k.model,w=new o["a"](b(S)),x;u.subscribe("row.updated",()=>{k=u.getFirstRow();S=k.model;w.addFieldsToModel(b(S))});return[{componentType:"skuid__wizard",styleSettingsVariant:"quick-config",uniqueId:m,hideStepLabels:true,showStepIndicators:true,height:"480px",maxHeight:"100%",steps:[{stepId:h,alignButtons:"separate",components:[{componentType:"skuid__form",model:u,sections:[{rows:[{fields:[{uniqueId:C("field-model"),id:"model",label:"Data model"}]}]}],styles:{spacing:{marginBottom:3}}},{componentType:"skuid__text",uniqueId:C("component-no-model-selected"),contents:"You can always skip this step and connect your table to a data model later",styles:{spacing:{marginBottom:3}},renderConditions:v},{componentType:"skuid__labelInput",uniqueId:C("component-table-columns"),label:"Table columns",renderConditions:y},w.getFieldsTableConfig({uniqueId:C("component-fields-table"),heightStrategy:"fixed",height:"custom",heightCustom:"260px",styles:{spacing:{marginBottom:1}},renderConditions:y})],buttons:[{label:"Cancel",onClick:()=>{s.getModal().getCPI().close();i.reject()}},{label:"Next",styleSettingsVariant:"primary",onClick:()=>{x=w.getSelectedFields();const t=e.$C(m);t.getCPI().navigate(g)}}]},{stepId:g,alignButtons:"separate",components:[{componentType:"skuid__form",showSaveCancel:false,mode:"edit",model:u,sections:[{rows:[{fields:[{uniqueId:C("field-title"),id:"title",label:"Title"}]},n.length>1?{fields:[{uniqueId:C("field-styleSettingsVariant"),id:"styleSettingsVariant",label:"Table style"}]}:{},{fields:[{uniqueId:C("field-pageSize"),id:"pageSize",label:"Maximum number of records to display"}]},{fields:[{uniqueId:C("field-mode"),id:"mode",label:"Display as",getValidPicklistEntries(e){const t=e.get("row");return r.resolve(p(t.model,e))}}]},{fields:[{uniqueId:C("field-include"),id:"include",label:"Include:",displayAs:"CHECKBOX_LIST",getValidPicklistEntries(e){const t=e.get("row");return r.resolve(f(t.mode))}}]}]}],styles:{spacing:{marginBottom:2}}}],buttons:[{label:"Back",onClick:()=>{const t=e.$C(m);t.getCPI().navigate(h)}},{label:"Done",styleSettingsVariant:"primary",onClick:()=>{const e=b(S),n=e&&e.attr("type"),a=n==="aggregate",o=s.getModel(),r=o.getFirstRow();["title","model","styleSettingsVariant","pageSize"].forEach(e=>r[e]&&t.attr(e,r[e]));t.attr("mode",a?"readonly":r["mode"]);w.addFieldsToState({fieldsToAdd:x,defaultStateGenerator:e=>{const t=c.fieldStateGenerator(e);if(S&&c.isNumericType(e.fieldId,S)){t.attr("horizontalAlignment","right")}return t},state:t});const l=r.include||"";if(l.includes("showSaveCancel")&&!a)t.attr("showSaveCancel",true);if(!l.includes("showListFooter"))t.attr("showListFooter",false);if(l.includes("enableSearch"))t.children("filtering").attr("enableSearch",true);s.getModal().getCPI().close();i.resolve(t)}}]}]}]}});return i.promise()}},14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.create=t.createGenerateClassName=t.sheets=t.RuleList=t.SheetsManager=t.SheetsRegistry=t.toCssValue=t.getDynamicStyles=undefined;var i=n(88);Object.defineProperty(t,"getDynamicStyles",{enumerable:true,get:function e(){return p(i)["default"]}});var a=n(33);Object.defineProperty(t,"toCssValue",{enumerable:true,get:function e(){return p(a)["default"]}});var o=n(55);Object.defineProperty(t,"SheetsRegistry",{enumerable:true,get:function e(){return p(o)["default"]}});var r=n(89);Object.defineProperty(t,"SheetsManager",{enumerable:true,get:function e(){return p(r)["default"]}});var l=n(26);Object.defineProperty(t,"RuleList",{enumerable:true,get:function e(){return p(l)["default"]}});var s=n(44);Object.defineProperty(t,"sheets",{enumerable:true,get:function e(){return p(s)["default"]}});var d=n(58);Object.defineProperty(t,"createGenerateClassName",{enumerable:true,get:function e(){return p(d)["default"]}});var c=n(95);var u=p(c);function p(e){return e&&e.__esModule?e:{default:e}}var f=t.create=function e(t){return new u["default"](t)};t["default"]=f()},151:function(e,t,n){"use strict";var i=n(0);const a=i["c"].utils.makeXMLDoc,o=i["c"].$;var r={ignore:{cssclass:true,buttonposition:true,layout:true,showerroronhover:true},attributes:{uniqueid:true,model:true,mode:true,showheader:{becomes:"showHeader"},showsavecancel:{becomes:"showSaveCancel"},showerrorsinline:{becomes:"showErrorsInline"},saveicon:{becomes:"saveIcon"},cancelicon:{becomes:"cancelIcon"}},nodes:{renderconditions:true,enableconditions:true,conditions:true,columns:{ignore:{layoutmode:true,columngutter:true,rowgutter:true},nodes:{column:{ignore:{ratio:true,minwidth:true,behavior:true},attributes:{uniqueid:true},nodes:{sections:{nodes:{section:{ignore:{collapsible:true},attributes:{uniqueid:true,title:true,showheader:{becomes:"showHeading"}},nodes:{fields:{nodes:{field:{migrate:true}}},renderconditions:true}}}}}}}}},afterTransform:e=>{e.find("section").each((e,t)=>{const n=o(t),i=a("<rows/>");n.find("field").each((e,t)=>{let n=o(t);i.append(a("<row/>").append(a("<fields/>").append(a("<skuid__field/>").attr(n.attr()).append(n.children()))))});n.append(i);n.children("fields").remove()});e.append(a("<sections/>").append(e.find("section")));e.children("columns").remove();return e}};const l=i["c"].utils.makeXMLDoc,{ACTION_TYPES:{REDIRECT:s}}=i["c"].constants;var d={ignore:{cssclass:true},attributes:{uniqueid:true,icon:true,label:true,type:true,secondary:{becomes:"styleSettingsVariant",valueFunction:e=>e?"default":"primary"},stepid:true},nodes:{actions:true,renderconditions:true,enableconditions:true,hotkeys:true},setup(e){const t=e.closest("buttonset"),n=e.closest("pagetitle"),i=t.length&&t.attr("model")||n.length&&n.attr("model"),a=e.attr("type"),o=l("<actions />"),r=l("<action />");let d;if(a!=="savecancel")e.removeAttr("type");if(["multi","navigate","navigateToStep"].includes(a))return e;switch(a){case s:r.attr("type",s);r.attr("window",e.attr("window"));r.attr("url",e.attr("url"));e.removeAttr("window url");break;case"popup":r.attr("type","showModal");r.append(e.children());break;case"save":d=e.children("models").first().detach();r.attr("type","save");if(i){if(!d.length){r.append("<models>\n\t\t<model>".concat(i,"</model>\n\t</models>"))}else{d.prepend("<model>".concat(i,"</model>"));d.detach();r.append(d)}}break;case"cancel":case"savecancel":d=e.children("models").first().detach();r.attr("type","cancel");if(a==="savecancel")e.attr("label","Cancel");if(i){if(!d.length){r.append("<models>\n\t\t<model>".concat(i,"</model>\n\t</models>"))}else{d.prepend("<model>".concat(i,"</model>"));d.detach();r.append(d)}}break;case"delete":r.attr("type","markRowsForDeletion");r.attr("model",i);r.attr("affectedRows","context");break;case"custom":r.attr("type","custom");r.attr("snippet",e.attr("snippet"));break;case"share":r.attr("type","datasource-action");r.attr("datasource","salesforce");r.attr("actionname","share");break;case"clone":r.attr("type","datasource-action");r.attr("datasource","salesforce");r.attr("actionname","clone");break;case"sfdcweblink":r.attr("type","datasource-action");r.attr("datasource","salesforce");r.attr("actionname","sfdcweblink");break}e.append(o.append(r));return e}};const c=i["c"].utils.makeXMLDoc;var u={attributes:{uniqueid:true,position:true,model:true},nodes:{buttons:{afterTransform:e=>c("<groups />").append(c("<skuid__buttonGroup />").append(e)),nodes:{button:{migrate:true}}},conditions:true,renderconditions:true}};const p=i["c"].utils.makeXMLDoc,f=i["c"].$,m=i["c"].$L;const h={processNode:(e,t)=>{const n=p("<action/>").attr(e.attr()),i=e.parents("[model]").attr("model"),a=e.parent()[0].nodeName!=="actions";switch(e.attr("type")){case"testingPurposes":n.attr("type","testSuccess");break;case"popup":case"showPopup":n.attr("type","showModal");break;case"massupdate":n.attr("type","multi").attr("label",m("Mass_Update_Selected_Rows")).append(p("<actions/>").append(p('<action type="massUpdate"/>')));break;case"massdelete":n.attr("type","multi").attr("label",m("Mark_Row_for_Deletion")).append(p("<actions/>").append(p('<action type="markRowsForDeletion" model="'.concat(i,'" affectedrows="context"/>'))));break;case"redirect":if(a){n.attr("type","multi").append(p("<actions/>").append(p('<action type="redirect" window="'.concat(e.attr("window"),'" url="').concat(e.attr("url"),'" />'))));n.removeAttr("window").removeAttr("url")}break;case"custom":if(a){n.attr("type","multi").append(p("<actions/>").append(p('<action type="custom" snippet="'.concat(e.attr("snippet"),'" />'))));n.removeAttr("snippet")}break;default:break}e.children().each((e,i)=>{n.append(t(f(i)))});return n}};const g=e=>{const t=p("<filtering/>"),n=["emptySearchBehavior","enableSearch","instantFilters","instantSearch","searchConditionName","searchMethod","searchPlaceholder","tokenizeSearch"],i=["useSOSL","soslFields"],a=(e,n)=>e.forEach(e=>{t.attr(e,n.attr(e));n.removeAttr(e)}),o=e.children("searchFields").first();a(n,e);a(i,o);e.append(t.append(o));return e};var b={actions:{nodes:{action:h}},actionsequences:{attributes:{copyAll:true},nodes:{actionsequence:{attributes:{copyAll:true},nodes:{actions:{nodes:{action:h}},description:true,inputs:true}}}},defaults:true,enableconditions:{becomes:"enableConditions",attributes:{copyAll:true},nodes:{condition:true}},focushotkeys:{becomes:"hotkeys",nodes:{hotkey:{attributes:{copyAll:true}}}},formula:true,iftrueactions:{nodes:{action:h}},interactions:{nodes:{interaction:{attributes:{copyAll:true},nodes:{action:h}}}},massactions:{becomes:"massActions",nodes:{action:h}},models:{nodes:{model:true}},onerroractions:{nodes:{action:h}},outputs:true,pageregioncontents:{becomes:"pageregioncontents",attributes:{copyAll:true},nodes:{pageregioncontent:{becomes:"pageregioncontent",attributes:{copyAll:true},nodes:{components:{migrate:true}}}}},params:true,renderconditions:{becomes:"renderConditions",attributes:{copyAll:true},nodes:{rendercondition:{becomes:"renderCondition",attributes:{copyAll:true}}}},resultactions:{becomes:"resultActions",nodes:{action:h}},rowactions:{becomes:"rowActions",nodes:{action:h}},searchfields:{becomes:"searchFields",attributes:{usesosl:{becomes:"useSOSL"},soslfields:{becomes:"soslFields"}},nodes:{searchfield:{becomes:"searchField",attributes:{copyAll:true}}}},selectactions:{becomes:"selectActions",nodes:{action:h}},updates:true};var y={ignore:{behavior:true,buttonposition:true,filtersposition:true,filterswidth:true,ratio:true,styles:true},attributes:{uniqueid:true,model:true,heading:{becomes:"title"},alwaysresetpagination:{becomes:"resetPaginationOnQuery"},columngutter:{becomes:"columnGutter"},rowgutter:{becomes:"rowGutter"},hideheader:{becomes:"showListHeader",valueFunction:e=>e==="true"?"false":"true"},hidefooter:{becomes:"showListFooter",valueFunction:e=>e==="true"?"false":"true"},pagesize:{becomes:"pageSize",valueFunction:e=>e==="all"?"Infinity":e},showsavecancel:{becomes:"showSaveCancel"},minwidth:{becomes:"minWidth"},verticalalign:{becomes:"verticalAlign"},setmaxwidth:{becomes:"setMaxWidth"},maxwidth:{becomes:"maxWidth"},searchplaceholdertext:{becomes:"searchPlaceholder"},emptysearchbehavior:{becomes:"emptySearchBehavior"},searchbox:{becomes:"enableSearch"},searchconditionname:{becomes:"searchConditionName"},instantsearch:{becomes:"instantSearch"},instantfilters:{becomes:"instantFilters"},searchmethod:{becomes:"searchMethod"},tokenizesearch:{becomes:"tokenizeSearch"}},nodes:{components:{migrate:true},massactions:true,actions:true,interactions:true,renderconditions:true,filters:{migrate:true},searchfields:true},afterTransform:e=>{return g(e)}};var v={setup:e=>{if(e.attr("hideable")){e.attr("hideable",e.attr("hideable")==="true"?e.attr("showbydefault")==="false"?"trueHideByDefault":"trueShowByDefault":"false")}if(e.attr("type")==="COMBO"){e.attr("__type","COMBO");e.removeAttr("type")}return e},ignore:{allowhtml:true},attributes:{uniqueid:true,columnwidth:{becomes:"columnWidth"},decimalplaces:{becomes:"decimalPlaces"},hideable:true,id:true,maxselected:{becomes:"maxSelected"},nonelabel:{becomes:"noneLabel"},orderfield:{becomes:"orderField"},placeholder:true,readonly:{becomes:"readOnly"},required:true,snippet:true,type:{becomes:"displayAs",valueFunction:e=>e==="REFPICK"?"PICKLIST":e},__type:{becomes:"type"},valuehalign:{becomes:"horizontalAlignment"},maxdisplaycharacters:{becomes:"maxDisplayCharacters"}},nodes:{label:{newType:"attribute",valueFunction:e=>e.html()||null},template:{newType:"attribute",valueFunction:e=>e.html()||null},renderconditions:true,enableconditions:true}};var C={attributes:{uniqueid:true,autorefreshmodels:{becomes:"autoRefreshModels"},datasource:true,defaultimage:{becomes:"defaultImage"},description:true,displayas:{becomes:"displayAs"},field:true,fieldtargetobjects:true,filename:{becomes:"fileName"},idfield:{becomes:"idField"},label:{becomes:"buttonLabel"},maxfilesize:{becomes:"maxFileSize"},enforcemaxfilesize:{becomes:"enforceMaxFileSize"},model:true,owneridfield:{becomes:"ownerIdField"},processonclient:{becomes:"processOnClient"},saveto:{becomes:"saveTo"},storeas:{becomes:"storeAs"},uselightninguploader:{becomes:"useLightningUploaderIfAvailable"}},nodes:{conditions:true,renderconditions:true,uploadsuccessactions:{becomes:"uploadSuccessActions",nodes:{action:h}},uploadfailureactions:{becomes:"uploadFailureActions",nodes:{action:h}}}};var k={nodes:{filter:{becomes:"skuid__filter",ignore:{maxheight:true,source:true},attributes:{type:true,label:true,fieldtargetobjects:true,condition:{becomes:"conditionName"},startcondition:{becomes:"startCondition"},endcondition:{becomes:"endCondition"},conditionsource:{becomes:"conditionSource"},filtermethod:{becomes:"filterMethod"},conditionfield:{becomes:"conditionField"},affectcookies:{becomes:"rememberInPersonalization"},createfilteroffoption:{becomes:"createFilterOffOption"},filteroffoptionlabel:{becomes:"filterOffOptionLabel"},labelmode:{becomes:"labelMode"},autocompthreshold:{becomes:"autocompleteThreshold"}},nodes:{effects:true,sources:{nodes:{source:{attributes:{copyAll:true},nodes:{labeltemplate:{newType:"attribute",valueFunction:e=>e.text()||null},valuetemplate:{newType:"attribute",valueFunction:e=>e.text()||null},options:{nodes:{option:{attributes:{copyAll:true},nodes:{effects:{nodes:{effect:{attributes:{copyAll:true}}}}}}}}}}}}},afterTransform:e=>{if(e.attr("conditionSource")==="auto"&&e.attr("conditionField")&&!e.attr("conditionName")){e.attr("conditionName","__autofilter__".concat(e.attr("conditionField")))}const t=e.children("effects");if(t.length){let n=t.children().map((e,t)=>{return i["c"].$(t).attr("condition")});e.attr("conditionsToToggle",n.toArray().join(","));e.children("effects").remove()}return e}}}};var S={ignore:{position:true},attributes:{model:true,layout:true,uniqueid:true,emptysearchbehavior:{becomes:"emptySearchBehavior"},instantfilters:{becomes:"instantFilters"},searchbox:{becomes:"enableSearch"},searchconditionname:{becomes:"searchConditionName"},searchmethod:{becomes:"searchMethod"},searchplaceholdertext:{becomes:"searchPlaceholder"},tokenizesearch:{becomes:"tokenizeSearch"}},nodes:{filters:{migrate:true},searchfields:true,renderconditions:true},afterTransform:e=>{return g(e)}};const w={top:"flex-start",center:"center",bottom:"flex-end"};var x={ignore:{height:true,scroll:true,type:true,styles:true},attributes:{uniqueid:true,columngutter:{becomes:"columnGutter"},rowgutter:{becomes:"rowGutter"}},nodes:{divisions:{nodes:{division:{ignore:{behavior:true,height:true,scroll:true,type:true},attributes:{uniqueid:true,ratio:true,minwidth:{becomes:"minWidth"},verticalalign:{becomes:"alignSelf",valueFunction:e=>w[e]}},nodes:{components:{migrate:true}}}}},interactions:true,renderconditions:true,enableconditions:true}};var I={ignore:{styles:true},attributes:{uniqueid:true,alt:true,behavior:true,datasource:true,field:true,fieldtargetobjects:true,model:true,namespace:true,path:true,resource:true,resourceContentType:true,source:true,url:true},nodes:{conditions:true,interactions:true,enableconditions:true,renderconditions:true}};var T={ignore:{cssclass:true},attributes:{actiontype:{becomes:"actionType"},lazyload:{becomes:"lazyLoad"},module:{becomes:"moduleName"},objecttype:{becomes:"objectType"},pagename:{becomes:"pageName"},querystring:{becomes:"queryString"},showloading:{becomes:"showLoadingIndicator"},type:{becomes:"includeType"},uniqueid:true},nodes:{renderconditions:true}};const A=i["c"].utils.makeXMLDoc;var P={attributes:{uniqueid:true,type:true,responsivebreakpoint:{becomes:"responsiveBreakpoint"},alternateformat:{becomes:"alternateFormat"},overflowtomenu:{becomes:"overflowToMenu"},icon:true,label:true},nodes:{navigationitems:{becomes:"items",afterTransform:e=>A("<itemGroups />").append(A("<itemGroup />").append(e)),nodes:{navigationitem:{becomes:"item",migrate:true}}},renderconditions:true}};const _=i["c"].utils.makeXMLDoc;var F={attributes:{uniqueid:true,label:true,href:true,icon:true},nodes:{navigationitems:{becomes:"items",afterTransform:e=>_("<itemGroups />").append(_("<itemGroup />").append(e)),nodes:{navigationitem:{becomes:"item",migrate:true}}},actions:true,renderconditions:true,selectedconditions:true}};var M={attributes:{},nodes:{}};const E=i["c"].$,N=i["c"].utils.makeXMLDoc;var O={attributes:{uniqueid:true,model:true},nodes:{maintitle:{newType:"attribute",becomes:"title",valueFunction:e=>e.text().trim()},subtitle:{newType:"attribute",valueFunction:e=>e.text().trim()},actions:{becomes:"buttons",nodes:{action:{componentType:"button",migrate:true}},afterTransform:e=>{e.children().each(function(e,t){t=E(t);if(t.attr("type")==="savecancel"){t.removeAttr("type");const e=E(t).clone(true);e.attr("label","Save");e.find("action").attr("type","save");t.before(e)}});return N("<skuid__buttonSet />").append(N("<groups />").append(N("<skuid__buttonGroup />").append(e)))}},conditions:true,renderconditions:true}};var R={ignore:{behavior:true},attributes:{uniqueid:true,title:true,size:true,origin:true,closeonpageclick:{becomes:"closeOnPageClick"}},nodes:{components:{migrate:true},interactions:true}};const D=i["c"].utils.makeXMLDoc;var L={setup:e=>{if(e.attr("type")==="vertical"){e.children("panels").children("panel").each((e,t)=>{t.setAttribute("width","100%");t.setAttribute("ratio","1")})}else{const t=e.find("panel[type=left]"),n=e.find("panel[type=right]"),i=e.find("panel:not([type])"),a=D("<panels/>").append(t.attr("ratio","0"),i.attr("ratio","1"),n.attr("ratio","0"));e.children("panels").remove();e.append(a)}return e},ignore:{cssclass:true,height:true,scroll:true,type:true},attributes:{uniqueid:true},nodes:{panels:{becomes:"divisions",nodes:{panel:{becomes:"division",ignore:{behavior:true,type:true},attributes:{uniqueid:true,ratio:true,width:{becomes:"minWidth"}},nodes:{components:{migrate:true}}}}},renderconditions:true}};var B={attributes:{title:true,closeicon:{becomes:"closeIcon"},width:true},nodes:{components:{migrate:true},afterclose:{becomes:"afterCloseActions",nodes:{action:h}}}};const V=i["c"].utils.makeXMLDoc;var j={ignore:{cssclass:true,showsearchbydefault:true,tagrendertype:true},attributes:{uniqueid:true,model:true,title:true,itemicon:true,hideheader:{becomes:"showListHeader",valueFunction:e=>e==="true"?"false":"true"},hidefooter:{becomes:"showListFooter",valueFunction:e=>e==="true"?"false":"true"},emptysearchbehavior:{becomes:"emptySearchBehavior"},instantfilters:{becomes:"instantFilters"},searchbox:{becomes:"enableSearch"},searchconditionname:{becomes:"searchConditionName"},searchmethod:{becomes:"searchMethod"},searchplaceholdertext:{becomes:"searchPlaceholder"},tokenizesearch:{becomes:"tokenizeSearch"}},nodes:{interactions:true,searchfields:true,conditions:true,enableconditions:true,renderconditions:true,rendertemplate:{newType:"attribute",becomes:"template",valueFunction:e=>e.text()}},afterTransform:e=>{const t=e.attr("template"),n=e.attr("itemicon"),i=V("<columns/>");if(t||n){e.append(i);if(n){i.append(V('<column fillRatio="0" />').append(V("<items/>").append(V('<item displayType="icon" fallback="'.concat(n,'"/>')))))}if(t){i.append(V("<column/>").append(V("<items/>").append(V('<item displayType="template" template="'.concat(t,'" />')))))}}e.removeAttr("itemicon template");return g(e)}};var G={ignore:{multiple:true},attributes:{uniqueid:true,model:true},nodes:{contents:{newType:"attribute",valueFunction:e=>e.text()},conditions:true,renderconditions:true}};var W={attributes:{uniqueid:true,limit:true,boxwidth:{becomes:"minWidth"},placeholdertext:{becomes:"placeholder"},preventchange:{becomes:"preserveSearchTerm"},soslfields:{becomes:"soslFields"}},nodes:{selectactions:true,resultactions:true,focushotkeys:true,objects:{nodes:{object:{ignore:{fields:true},attributes:{datasource:true,displaytemplate:{becomes:"displayTemplate"},headername:{becomes:"headerName"},icon:{becomes:"headerIcon"},id:true,orderby:{becomes:"orderBy"}},nodes:{resultactions:true,fields:{nodes:{field:{attributes:{copyAll:true}}}}}}}}}};var U={attributes:{uniqueid:true,sticky:true},nodes:{renderconditions:true,components:{migrate:true}}};var z={attributes:{uniqueid:true,sticky:true},nodes:{renderconditions:true,components:{migrate:true}},afterTransform:e=>e.attr("isFooter","true")};var q={ignore:{styles:true},attributes:{copyAll:true},nodes:{models:true,components:{migrate:true},pageregioncontents:true,resources:{ignore:{css:true},nodes:{javascript:true,actionsequences:true,labels:true}},interactions:true},afterTransform:e=>e.attr("theme","Ink")};var H={attributes:{copyAll:true},nodes:{actions:true,buckets:true,categoryaxes:true,colors:true,conditions:true,dataaxes:true,legend:true,renderconditions:true,serieslist:true,styles:true}};const X=i["c"].utils.makeXMLDoc;var Y={setup:e=>X("<chartSet/>").append(e),nodes:{skuidvis__chartset:{nodes:{charts:{nodes:{skuidvis__chart:{migrate:true},skuidvis__geochart:{migrate:true}}}}}}};var $={attributes:{copyAll:true},nodes:{actions:true,buckets:true,colors:true,legend:true,renderconditions:true,serieslist:true,styles:true}};var K={ignore:{cssclass:true},attributes:{uniqueid:true,model:true,showtopics:true,showfollowers:true,feedtype:true},nodes:{actions:true,renderconditions:true}};const J=i["c"].utils.makeXMLDoc,Q=i["c"].$;function Z(e,t){t.attr("enabledrawers","true");if(!t.children("drawer").length){t.append(e.children("drawer").first().remove())}}var ee={setup:e=>{let t=e.children("rowactions"),n=e.children("actions"),i=e.attr("model"),a,o;t.children().each((t,n)=>{o=Q(n);switch(n.getAttribute("type")){case"edit":case"delete":o.remove();break;case"drawer":Z(o,e);o.remove();break;case"multi":a=o.children("actions").first().children("action");if(a.length){a.each((t,n)=>{let i=Q(n);if(i.attr("type")==="drawer"){Z(i,e)}})}break}});if(!t.children().length){t.remove()}if(e.attr("createrecords")==="true"&&!e.children("action").find("action[type=createRow]").length){const t=e.attr("createrecordsicon");if(!n.length){n=J("<actions />").appendTo(e)}n.append(J('<action type="multi" label="Create record" '.concat(t?'icon="'.concat(t,'"'):"","/>")).append(J("<actions/>").append(J('<action type="createRow" model="'.concat(i,'" appendorprepend="prepend" defaultmodefornewitems="edit" affectedrows="context"/>')))))}return e},ignore:{allowscrollbars:true,buttonposition:true,columnstofreeze:true,createrecords:true,createrecordsicon:true,cssclass:true,floatheader:true,freezeleftcolumns:true,responsive:true,showconditions:true,showerroronhover:true,sortonclient:true,tablescrollheight:true,views:true},attributes:{uniqueid:true,allowcolumnreordering:{becomes:"allowColumnOrdering"},alwaysresetpagination:{becomes:"resetPaginationOnQuery"},cancelicon:{becomes:"cancelIcon"},configicon:{becomes:"moreActionsButtonIcon"},enabledrawers:{becomes:"enableDrawers"},heading:{becomes:"title"},hideheader:{becomes:"showListHeader",valueFunction:e=>e==="true"?"false":"true"},hidefooter:{becomes:"showListFooter",valueFunction:e=>e==="true"?"false":"true"},mode:true,model:true,pagesize:{becomes:"pageSize",valueFunction:e=>e==="all"?"Infinity":e},saveicon:{becomes:"saveIcon"},showexportbuttons:{becomes:"enableExport"},showsavecancel:{becomes:"showSaveCancel"},sortOnClient:{becomes:"sortOnClient"},showerrorsinline:{becomes:"showErrorsInline"},emptysearchbehavior:{becomes:"emptySearchBehavior"},instantfilters:{becomes:"instantFilters"},searchbox:{becomes:"enableSearch"},searchconditionname:{becomes:"searchConditionName"},searchmethod:{becomes:"searchMethod"},searchplaceholdertext:{becomes:"searchPlaceholder"},tokenizesearch:{becomes:"tokenizeSearch"}},nodes:{fields:{nodes:{field:{migrate:true}}},filters:{migrate:true},actions:true,massactions:true,rowactions:true,exportproperties:{becomes:"exportProperties",attributes:{filename:true,usetablecolumns:{becomes:"useTableColumns"},loadallrecords:{becomes:"loadAllRecords"},appendrowidcolumn:{becomes:"appendRowIdColumn"}},nodes:{columns:{nodes:{column:{attributes:{type:true,headertype:{becomes:"headerType"},field:true},nodes:{label:{newType:"attribute",valueFunction:e=>e.html()||null},template:{newType:"attribute",valueFunction:e=>e.html()||null}}}}}}},searchfields:true,drawer:{nodes:{components:{migrate:true},beforeload:{becomes:"beforeLoad",nodes:{action:h}}}},renderconditions:true,conditions:true},afterTransform:e=>{return g(e)}};var te={ignore:{defertabrendering:true},attributes:{uniqueid:true,rememberlastusertab:{becomes:"rememberActiveTab"}},nodes:{renderconditions:true,tabs:{nodes:{tab:{becomes:"skuid__tabPanel",attributes:{uniqueid:true,name:true,icon:true,loadlazypanels:{becomes:"loadLazyPanels"}},nodes:{components:{migrate:true},renderconditions:true,oninitialshowactions:{becomes:"onInitialShowActions",nodes:{action:h}},onshowactions:{becomes:"onShowActions",nodes:{action:h}}}}}}}};var ne={ignore:{multiple:true},attributes:{uniqueid:true,model:true,allowhtml:{becomes:"allowHTML"}},nodes:{contents:{newType:"attribute",valueFunction:e=>e.text()},conditions:true,renderconditions:true}};const{$:ie,utils:ae}=i["c"],oe=ae.makeXMLDoc;var re={ignore:{buttonslocation:true,deferstepcontentsrendering:true},attributes:{uniqueid:true},nodes:{steps:{nodes:{step:{attributes:{stepid:{becomes:"stepId"},steplabel:{becomes:"stepLabel"}},nodes:{components:{migrate:true},actions:{becomes:"buttons",nodes:{action:{becomes:"button",componentType:"button",migrate:true}},afterTransform:e=>{e.children().each((e,t)=>{const n=ie(t),i=n.find("actions"),a=n.attr("stepid"),o=oe('<action type="navigateToStep" stepId="'.concat(a,'"/>'));n.removeAttr("stepid");if(!a)return;if(!i.length){n.append(oe("<actions/>").append(o))}else{const e=n.find('action[type="navigateToStep"]');if(!e.length){n.find("actions").append(o)}else{e.removeAttr("stepid").attr("stepId",a)}}});return e}}}}}},renderconditions:true}};var le={ignore:{cssclass:true,styles:true},attributes:{uniqueid:true},nodes:{background:{selector:'> styles > styleitem > styles > styleitem[property="background-color"]',becomes:"background",attributes:{value:{becomes:"color"},property:{becomes:"type",valueFunction:()=>"color"}}},components:{migrate:true},interactions:true,renderconditions:true,enableconditions:true}};var se=Object.assign({},b,{basicfieldeditor:Object.assign({becomes:"skuid__form"},r),button:Object.assign({becomes:"skuid__button"},d),buttonset:Object.assign({becomes:"skuid__buttonSet"},u),deck:Object.assign({becomes:"skuid__deck"},y),field:Object.assign({},v),file:Object.assign({becomes:"skuid__file"},C),filters:Object.assign({},k),filterset:Object.assign({becomes:"skuid__filterSet"},S),grid:Object.assign({becomes:"skuid__grid"},x),image:Object.assign({becomes:"skuid__image"},I),includepanel:Object.assign({becomes:"skuid__pageInclude"},T),navigation:Object.assign({becomes:"skuid__navigation"},P),navigationitem:Object.assign({becomes:"skuid__navigationItem"},F),pagebuilder:Object.assign({becomes:"skuid__pageBuilder"},M),pagetitle:Object.assign({becomes:"skuid__header"},O),panel:Object.assign({becomes:"skuid__slidingPanel"},R),panelset:Object.assign({becomes:"skuid__grid"},L),popup:Object.assign({becomes:"skuid__modal"},B),queue:Object.assign({becomes:"skuid__list"},j),richtext:Object.assign({becomes:"skuid__text"},G),search:Object.assign({becomes:"skuid__search"},W),skootable:Object.assign({becomes:"skuid__table"},ee),skuidheader:Object.assign({becomes:"skuid__layoutRegion"},U),skuidfooter:Object.assign({becomes:"skuid__layoutRegion"},z),skuidpage:Object.assign({becomes:"skuid__page"},q),skuidvis__chart:Object.assign({becomes:"skuid__chart"},H),skuidvis__chartset:Object.assign({becomes:"skuid__chartSet"},Y),skuidvis__geochart:Object.assign({becomes:"skuid__geochart"},$),social:Object.assign({becomes:"skuid__chatter"},K),tabset:Object.assign({becomes:"skuid__tabSet"},te),template:Object.assign({becomes:"skuid__text"},ne),wizard:Object.assign({becomes:"skuid__wizard"},re),wrapper:Object.assign({becomes:"skuid__wrapper"},le)});const de=i["c"].$,ce=i["c"].componentType,ue=i["c"].utils,pe=ue.makeXMLDoc;class fe{convert(e,t={}){const n=t.overrideComponentType||e[0].nodeName,i=se[n.toLowerCase()];if(!t.overrideReturnType&&!i){if(ce.map()[n]){return e}return pe("<skuid__text contents='Cannot migrate component of type \"".concat(n,"\"'/>"))}const a=t.overrideReturnType||i.becomes||n,o=pe("<".concat(a," />"));if(i.setup){e=i.setup(e)}if(i===true){return e}this.processAttributes(o,i,e);this.processNodes(o,i,e);if(i.afterTransform)return i.afterTransform(o);return o}processAttributes(e,t,n){const i=t.attributes;if(!i)return;const a=n.attr(),o=t.ignore||{};if(i.copyAll){de.each(n.attr(),(t,n)=>e.attr(t,n));return}Object.keys(i).forEach(t=>{const o=this.processAttribute(t,i[t],n.attr(t));e.attr(o.attr,o.value);delete a[t]});Object.keys(a).forEach(t=>{if(!o[t]){ue.log('Attribute "'.concat(t,'" not found for ').concat(e[0].nodeName),"warn")}})}processAttribute(e,t,n){let i,a;if(typeof t==="boolean"&&t===true){i=e;a=n}else if(typeof t==="object"){i=t.becomes||e;a=this.getValue(t,n)}return{attr:i,value:a}}processNodes(e,t,n){const i=t.nodes;if(!i)return;const a={},o=t.ignore||{};n.children().each((e,t)=>{a[t.nodeName]=true});Object.keys(i).forEach(t=>{const o=i[t];let r=o.selector?n.find(o.selector):n.children(t);delete a[t];if(typeof o==="object"&&o.newType==="attribute"){const n=this.processAttribute(t,o,r);e.attr(n.attr,n.value)}else if(r.length){if(typeof o==="boolean"){e.append(this.processSpecialNode(t,n))}else if(o.processNode){r.each((t,n)=>{e.append(o.processNode(de(n),this.convert.bind(this)))})}else if(o.migrate===true){if(t==="components"){e.append(pe("<".concat(o.becomes||t,"/>")).append(this.convertMany(n.children("components").children())))}else{e.append(this.convertMany(r,{overrideReturnType:o.becomes||null,overrideComponentType:o.componentType||null}))}}else{r.each((n,a)=>{e.append(this.processNode(t,i[t],de(a)))})}}});Object.keys(a).forEach(t=>{if(!o[t]){ue.log('Node "'.concat(t,'" not found for ').concat(e[0].nodeName),"warn")}})}processNode(e,t,n){const i=pe("<".concat(t.becomes||e,"/>"));this.processAttributes(i,t,n);this.processNodes(i,t,n);if(t.afterTransform)return t.afterTransform(i);return i}processSpecialNode(e,t){if(b[e]){return this.processNode(e,b[e],t.children(e))}return t.children(e)}convertMany(e,t){return de.map(e,e=>{return this.convert(de(e),t)})}getValue(e,t){if(e.valueFunction){return e.valueFunction(t)}return t}}var me=t["a"]=new fe},152:function(t,n,i){"use strict";var a=i(30);var o=i(48);var r=i(13);var l=i(135);const s=e.virtualDom.hyperScript;var d=function(e,t,n){const i=(t,n)=>e.subscribeChange(t,n);i("showListHeader",n.initListHeader);i("showListFooter",n.initListFooter);const a=t=>{["title","showSaveCancel","filters","filtering","saveIcon","cancelIcon","massActions","actions","moreActionsButtonIcon"].forEach(e=>this.bind(e,t));["allowColumnHiding","enableExport"].forEach(i=>e.subscribeChange(i,()=>{t.set("moreActionsOptions",n.getMoreActionsOptions())}))};const o=e=>this.bind("showPageSizeSelect",e);t.listHeaderInstance&&a(t.listHeaderInstance);t.listFooterInstance&&o(t.listFooterInstance);i("listHeaderInstance",a);i("listFooterInstance",o);i("enableDrawers",n.initDrawers);i("drawer",n.initDrawers);const r=()=>e.get("projector")&&e.get("projector").renderNow();i("rowActionsOnLeft",r);i("showRowNumbers",r);i("fields",()=>{const t=e.get("headRowData");if(t&&t.fields){t.fields.forEach(e=>e.dropdownButton&&e.dropdownButton.unregister())}n.initFields();n.populateRowContents()});i("rowActions",()=>{(this.get("rowActionsButtonGroups")||[]).forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.unset("rowActionsButtonGroups");n.updateRowActionButtonGroups()});["massActions","enableExport"].forEach(e=>i(e,()=>{n.initListHeader();n.initMassActionCheckboxHead();n.updateMassActionComponents()}));const l=e.createChildComponent({componentType:"skuid__button",icon:"sk-webicon-ink:delete",tooltip:'<tooltip text="Remove" compact="true"/>',onClick:()=>{const e=this.get("_activeCell").split("-");const t=this.get("_elementContainer").querySelector('[aria-rowindex="'.concat(e[0],'"][aria-colindex="').concat(e[1],'"]'));if(t){this.publish("field.remove",[(t.getAttribute("data-cell-index")||"").split("-")[1]])}}});this.set("renderRemoveField",e=>{const{_activeCell:t}=this.getState();if(e.columnGroup.id!=="data")return;if("".concat(e.ariaRowIndex,"-").concat(e.ariaColIndex)!==t)return;return s("div",{styles:{position:"absolute",right:"0",top:"0"}},[l.renderVDom()])})};function c(e,t,n){e.subscribeChange("showSaveCancel",n.initSaveCancel);e.subscribeChange("showTitle",n.initTitle);e.subscribeChange("title",n.initTitle);e.subscribeChange("filters",n.initFilters);e.subscribeChange("filtering",n.initFilters);const i=()=>{if(e.get("moreActionsButton")){e.bind("moreActionsButtonIcon",e.get("moreActionsButton"),"icon")}};e.subscribeChange("moreActionsOptions",t=>{if(!t.length)e.unset("moreActionsButton");n.initMoreActions();t&&i()});i();e.subscribeChange("massActions",()=>{e.get("massActionsButtonGroup")&&e.get("massActionsButtonGroup").unregister({avoidUnregisteringSpoofer:true});e.unset("massActionsButtonGroup");n.initMassActions()});e.subscribeChange("actions",()=>{e.get("globalActionsButtonGroup")&&e.get("globalActionsButtonGroup").unregister({avoidUnregisteringSpoofer:true});e.unset("globalActionsButtonGroup");n.initGlobalActions()});const a=e=>this.bind("title",e,"contents");t.headingInstance&&a(t.headingInstance);e.subscribeChange("headingInstance",a);const o=e=>{["filters","filtering"].forEach(t=>this.bind(t,e))};t.filterSetInstance&&o(t.filterSetInstance);e.subscribeChange("filterSetInstance",o);const r=t=>{const n=t.getCPI().getGroups()[0].getCPI().getButtons();e.bind("saveIcon",n[0],"icon");e.bind("cancelIcon",n[1],"icon")};e.subscribeChange("saveCancelButtonGroup",r);t.saveCancelButtonGroup&&r(t.saveCancelButtonGroup)}function u(e,t,n){e.subscribeChange("showPageSizeSelect",n.initPagination)}var p=i(5);var f=i(41);i.d(n,"b",function(){return O});const m=e.virtualDom.hyperScript;let h=e.$,g=e.builder,b=g.core,y=g.ink,v=g.desktop,C=e.utils,k=C.makeXMLDoc,S=e.events.publish,w=g.listHelper,x=w.updateNumRowsInModel,I="Entity",T="Entities",A="skuid__table",P=b.escapeMergeSyntax,_=e.componentType.get(A);_.initBuilder=d;e.componentType.get("skuid__listHeader").initBuilder=c;e.componentType.get("skuid__listFooter").initBuilder=u;const F=new b.Builder({id:A,name:"Table",icon:"sk-webicon-ink:table",componentType:A,providesContext:true,quicklyConfigure:l["a"],indexSelectors:{unsurfaced:"fields, rowActions, massActions, filters",ignored:"filtering"},neededNotices:[r["c"].noModel],resolveChildBuilder(e){if(e.tagName.toLowerCase()!=="action")return;if(e.parentElement.tagName.toLowerCase()==="massactions")return M;if(e.parentElement.tagName.toLowerCase()==="rowactions")return E;return N},getNotices(e){const t=[];if(!e.attr("model"))t.push(r["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/table/",n=v.getDescriptionTag(),i='Configured in a spreadsheet-like format of rows and columns, the Table component displays lists of records for viewing and inline-editing.\n\t\t\t\t<br/><br/>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Table component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},actions:[{value:"changeMode",label:"Change edit/read mode",props:[{id:"mode",label:"Mode",type:"picklist",entries:[{value:"toggle",label:"Toggle mode"},{value:"edit",label:"Edit mode"},{value:"read",label:"Read mode"}]}]},{value:"openConfigureModal",label:"Show table configuration modal"},{value:"toggleModeRow",label:"Toggle row mode",props:[{id:"targetMode",type:"picklist",label:"Target Mode",entries:[{label:"Toggle",value:""},{label:"Edit",value:"edit"},{label:"Read",value:"read"}]}]}],handleStateEvent(e,t,n){let i=e.attr("model"),a=t.type==="model.idChange",o=t.type==="model.remove",r=t.type==="model.field.remove",l=t.type==="model.field.metadataChange",s=false,d=false,c=t.parentChildRelationship!==undefined;if(c&&t.parentChildRelationship!==e.attr("model")){return}o&&b.handleModelRemove(e,t,{component:n});a&&b.handleModelIdChange(e,t);if(a||o||r){let n=e.find('fields > field > filters > filter[type="modelmerge"][model="'+(a?t.oldId:t.modelId)+'"]');if(n.length){n.each(function(){if(o){s=true;h(this).remove()}else if(a){s=true;h(this).attr("model",t.newId)}else if(r&&h(this).attr("mergefield")===t.fieldId){s=true;h(this).remove()}})}}if(a&&t.oldId===i){d=true}if((r||l)&&!c){if(e.attr("model")===t.modelId){let n="field[",i;if(t.fieldName){n+='name="'+C.escapeSelector(t.fieldName)}else{n+='id="'+C.escapeSelector(t.fieldId)}n+='"]';i=e.children("fields").first().children(n);if(i.length){if(r){i.each(function(){h(this).remove()});s=true;d=true}else{i.each(function(){let e=b.getCanvasComponentFromState(h(this));if(e){e.refresh()}})}}}}if(o||a){let n="optionmodel";e.children("fields").first().children("field["+n+'="'+C.escapeSelector(o?t.modelId:t.oldId)+'"]').each(function(){if(o){h(this).removeAttr(n)}else{h(this).attr(n,t.newId)}s=true})}if(s){S("skuidBuilderNeedSave")}if(d&&n){S("skuidBuilderComponentNeedsRefresh",[n])}},refresh(e){const t=e.get("xmlState").attr("model"),n=Object(p["k"])(t);const i=e.get("model");i.label=n?n.getLabel():I;i.labelPlural=n?n.getLabelPlural():T;i.fields=n?n.getFieldsList():[];x(i,t);e.cpi.updateCanvasComponent({scheduleRender:false})},init(t){const n=t.get("xmlState"),i=O(t,this),a=()=>k('<action uniqueId="'.concat(e.utils.generateUniqueId(),'" type="multi" label="Run actions"/>')),o=R(t,this),r=function e(){if(t.get("xmlState").children("rowActions").length===0){t.get("xmlState").append(k("<rowActions><actions/></rowActions>"));y()}let n=a();t.get("xmlState").find("> rowActions").first().append(n);t.save().refresh()},l=function e(){if(n.children("massActions").length===0){n.append(k("<massActions/>"))}n.children("massActions").append(a());t.save().refresh()},s=function e(){if(n.children("actions").length===0){n.append(k("<actions/>"))}n.children("actions").append(a());t.save().refresh()},d=()=>{if(n.children("filters").length===0){n.append(k("<filters/>"));v()}n.children("filters").append(b.getBuilder("skuid__filter").defaultStateGenerator());t.save().refresh()},c=[{text:"Add Mass Action",icon:"sk-webicon-ink:actions",action:l},{text:"Add Global Action",icon:"sk-webicon-ink:actions",action:s},{text:"Add Row Action",icon:"sk-webicon-ink:actions",action:r},{text:"Add Table Filter",icon:"sk-webicon-ink:filter-list",action:d}];t.set("fieldBuilder",i);t.set("drawerBuilder",o);t.addActionGroup(c,"Add Features");t.updateSearchBox=(()=>t.refresh());t.addActionGroup(g.makeAddFieldActionButton({component:t,fieldBuilder:i,showImage:false}),"Add Field(s)","sk-webicon-ink:edit-form");const u=t.get("xmlState").attr("model"),f=Object(p["k"])(u);const m=new e.model.Model({id:"deck-builder-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,label:f?f.getLabel():I,labelPlural:f?f.getLabelPlural():T,fields:f?f.getFieldsList():[],doClone:false,dataSourceName:"Ui-Only"});m.initialize().register();x(m,u);t.set("model",m);t.storeSubscription(e.events.subscribe("skuid.builder.modelPropChanged",e=>{if(e===n.attr("model"))t.refresh()}));t.getCPI().setComponentDefinitionProcessor(new e.component._ComponentDefinitionProcessor({logErrors:false,getModel:n=>{if(n===t.get("xmlState").attr("model"))return m;return e.$M(n)}}));const h=t.cpi.setCanvasComponent();h.subscribe("fields.reordered",(e,n)=>{const i=t.get("xmlState").children("fields");const a=i.children().eq(e);if(n>0){i.children().eq(n).after(a)}else{i.prepend(a)}t.save()});h.subscribe("field.remove",e=>{const n=t.get("xmlState").children("fields");n.children().eq(e).remove();t.save().refresh()});const y=()=>{t.cpi.createObserver({node:n.children("rowActions")[0],observe:{attributes:true,subtree:true,childList:true,attributeFilter:["label","icon","iconPosition"]}})};const v=()=>{t.cpi.createObserver({node:n.children("filters")[0],observe:{childList:true}})};n.children("rowActions").length&&y();n.children("filters").length&&v()},parseState(e,t){t=Object.assign({},t,{model:e.get("model"),allowColumnOrdering:true,allowColumnAdjusting:false,_disablePersonalization:true});if(t.title)t.title=P(t.title);if(t.filters){t.filters=t.filters.map(e=>{e.conditionName=e.conditionName||"_builderPlaceholder";return e})}else{t.filters=[]}if(t.fields){t.fields.forEach(e=>{e.addNoneOption=false;delete e.renderConditions;delete e.enableConditions;delete e.noneLabel;delete e.hideable})}return t},renderVDom(e){const t=t=>{const n=t.manifest;return n.model===e.get("xmlState").attr("model")&&n.builderId==="model__field"};return m("div",{key:"table-builder-".concat(e.get("uniqueId")),ondragover:e=>e.preventDefault(),ondragenter(){e.set("enterCounter",(e.get("enterCounter")||0)+1,{renderOnChange:false});if(!t(g.dragDrop.dragData))return;e.getCPI().getCanvasComponent().set("_dropModeEnabled",true)},ondragleave(){e.set("enterCounter",(e.get("enterCounter")||0)-1,{renderOnChange:false});if(e.get("enterCounter")!==0)return;if(!t(g.dragDrop.dragData))return;e.getCPI().getCanvasComponent().set("_dropModeEnabled",false)},ondrop(){e.set("enterCounter",0,{renderOnChange:false});if(!t(g.dragDrop.dragData))return;e.getCPI().getCanvasComponent().set("_dropModeEnabled",false);const n=e.getCPI().getCanvasComponent().get("_hoveredVisibleColumnIndex")||0;const i=g.dragDrop.dragData||{};const a=i.deploymentConfiguration;const o=n-1;const r=e.get("fieldBuilder");const l=r.defaultStateGenerator({fieldId:a.fieldId,fieldName:a.fieldName,isChildRelationship:a.isChildRelationship});let s=e.get("xmlState").children("fields").children();if(!s.length){e.get("xmlState").children("fields").append(l)}else if(o<=0){s.eq(0).before(l)}else{s.eq(o).after(l)}e.save().refresh();event.dataTransfer.clearData()}},[e.getCPI().getCanvasComponent().renderVDom()])},propertiesRenderer(t,n){t.setTitle("Skuid Table Properties");const i=()=>n.refresh();let a=n.get("xmlState"),r=a.attr("model"),l=b.getModelFromModelName(r),s;if(l){s=l&&l.attr("type")==="aggregate"}a.find("fields > field").each(function(e,t){let n=h(t);if(!n.attr("uniqueid")){n.attr("uniqueid",C.generateUniqueId({prefix:"fi"}))}});let d=function e(){a.attr({showSaveCancel:"false"})};let c,u;const p={id:"model",type:"model",label:"Model",required:false,onChange(t){let i=false,o=false,r=true,l=false,c=b.getModelFromModelName(t),u,p,f=true,m,g;if(c){u=c.attr("type")==="aggregate";p=c.children("fields,groupby").children();m=e.dataSource.getDataSource(c.attr("datasource"));g=m&&m.dataSourceType;f=g?g.prop("canServerSearch")!==false:true}n.updateAutoCreatedEditorCondition();if(!f){let e=a.children("filtering").first();if(e.length&&e.attr("searchMethod")!=="client"){e.attr("searchMethod","client");o=true;r=true;i=true;l=true}}a.children("fields").children().each(function(){let e=h(this),t=e.attr("id"),n=e.attr("name");if(!p.filter('[id="'+t+'"],[name="'+n+'"]').length){e.remove();i=true;r=true}});if(u!==s){if(u){a.attr("mode","readonly");d()}else if(s){a.attr("mode","read")}i=true;o=true;r=true}if(i)n.save();if(o)n.rebuildProps();if(r)n.refresh();if(l)n.renderProperties&&n.renderProperties()}},f={id:"mode",type:"picklist",label:"Default Mode",defaultValue:s?"readonly":"read",helptext:"When this page is first loaded, should all of the table's rows be in Read mode with Inline Edit capabilities, permanent Edit mode, or Read-Only mode?",picklistEntries:[...!s?[{label:"Read with Inline-Editing",value:"read"},{label:"Edit",value:"edit"}]:[],{label:"Read-Only",value:"readonly"}],onChange(e){if(e==="readonly"){d()}n.save().rebuildProps().refresh()}},m={id:"showSaveCancel",label:"Show Save/Cancel",helptext:"If checked, then Save/Cancel buttons will be rendered above the table to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",type:"boolean",defaultValue:true,onChange:i},g={id:"title",label:"Table Title",helptext:"Displays text as title above table.",location:"attribute",type:"template",onChange:i},v={id:"allowSortingByColumn",type:"boolean",defaultValue:true,label:"Allow Users to Sort by Column",onChange:i},k={id:"sortOnClient",type:"boolean",label:"Sort Columns Client-side"},S={id:"enableExport",type:"boolean",label:"Enable export",helptext:"If true, then users will see a button in this table's footer which will allow them to export its data to CSV (which can be opened in Excel, Numbers, etc.).",onChange(e){let t=n.get("xmlState").children("exportProperties").first();if(e){t=w.getExportDefaultState();n.get("xmlState").append(t)}else{t.remove()}n.save().refresh();n.rebuildProps()}};u=[p,f,v,k,S];if(a.attr("mode")!=="readonly"){u.push(m)}u.push(g);c=[{name:"Basic",props:u},y.getFilteringPropsCategory({component:n,modelName:r,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true}),{name:"Display",tree:[{label:"Pagination",linkedComponent:n,deleteable:false,props:[w.propertiesFactory.pageSize({onChange(){i();n.rebuildProps()}}),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true,onChange:i},w.propertiesFactory.resetPaginationOnQuery()]},Object(o["c"])(n,{onChange:i}),{label:"Drawers",linkedComponent:n,deleteable:false,propsFunction:e=>[{id:"enableDrawers",type:"boolean",label:"Enable Drawers",defaultValue:false,onChange:()=>{if(!a.children("drawer").length){a.append(n.get("drawerBuilder").getDefaultState())}e.rebuildProps();n.refresh()}},...a.attr("enableDrawers")==="true"?[{type:"customaction",label:"Configure Drawer",icon:"sk-webicon-ink:open",mode:"edit",customAction(){n.builderCPI.showDrawerBuilder({parentState:n.get("xmlState"),parentComponent:n,getContextModelName(){return n.get("xmlState").attr("model")}})}}]:[]]},{label:"Configuration",linkedComponent:n,deleteable:false,propsFunction:e=>{const t=a.attr("allowColumnHiding")==="true"||a.attr("enableExport")==="true"||a.attr("allowColumnFreezing")==="modal"||a.attr("allowColumnFreezing")==="dragDropAndModal";return[{id:"allowColumnOrdering",type:"boolean",defaultValue:false,label:"Allow users to reorder columns"},{id:"allowColumnHiding",type:"boolean",label:"Allow column hiding",helptext:"If enabled, a config button will display a modal to hide/show columns.",onChange:()=>{e.rebuildProps().refresh();i()}},...t?[{id:"moreActionsButtonIcon",type:"icon",defaultValue:"sk-webicon-ink:dots-vertical",label:"More Actions button icon",helptext:"The icon that opens the More Actions dialog, allowing end user to select Configure table or Export table data. Click the icon selector to choose the icon.",onChange:i}]:[],{id:"numFrozenColumns",type:"number",label:"Set number of frozen columns",helptext:"If you will have many columns in the Table, it can be useful to freeze 1 (or more) of the columns on the left side of the table. Users can scroll to the right to see additional columns that may not fit on screen, while still seeing the important data in the initial column(s).",onChange:()=>{i()}},{id:"allowColumnFreezing",type:"picklist",label:"Allow users to freeze columns",defaultValue:false,picklistEntries:[{value:"never",label:"Never"},{value:"dragDrop",label:"Using drag and drop"},{value:"modal",label:"Via Table Settings modal"},{value:"dragDropAndModal",label:"Either by drag and drop or via Table Settings"}],onChange:()=>{e.rebuildProps().refresh();i()}}]}},{label:"Advanced",linkedComponent:n,deleteable:false,propsFunction:e=>[b.coreProps.uniqueIdProp({component:n}),{id:"adaptiveColumns",type:"boolean",defaultValue:false,label:"Enable Adaptive Columns",helptext:"Enables table columns to adjust their size to accommodate the content.",onChange:()=>{e.rebuildProps();i()}},a.attr("adaptiveColumns")==="true"?{type:"helptext",html:"Frozen column headers disabled. To reenable, uncheck Enable Adaptive Columns."}:null,...a.attr("showSaveCancel")!=="false"?[{id:"saveIcon",type:"icon",label:"Save Icon",onChange:i},{id:"cancelIcon",type:"icon",label:"Cancel Icon",onChange:i}]:[]]},{label:"Other",deleteable:false,props:[{id:"rowActionsOnLeft",label:"Row Actions on Left",type:"boolean",defaultValue:false,onChange:()=>{i()}},{id:"showRowNumbers",label:"Show row numbers",type:"boolean",onChange:i},w.propertiesFactory.showListHeader({onChange:i}),w.propertiesFactory.showListFooter({onChange:i})]}]},a.attr("enableExport")==="true"&&w.getExportTab(n),y.getInkStylesTab({component:n,propViewer:t,spacing:true}),b.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:t,showStyleVariantConditions:true}),b.getContextCategory({propViewer:t,state:a,model:r})];t.applyPropsWithCategories(c,n.get("xmlState"))},createFromModel(t,n){const i=t.attr("type")==="aggregate",a=F.getDefaultState(n,{setUniqueId:true}),o=t.attr("id"),r=[];let l="read";if(i){l="readonly"}a.attr({model:o,mode:l});if(!e.platform.hasFeature("PageComposerStaging")){h.each(t.children("fields, groupby").children(),function(){const e=h(this),t=b.getMetadataForField(b.getComponentFromState(e)),n=w.fieldStateGenerator({fieldId:e.attr("id"),fieldName:e.attr("name"),isChildRelationship:e.attr("type")==="childRelationship",relationshipName:t&&t.relationshipName});if(w.isNumericType(e.attr("id"),o)){n.attr("horizontalAlignment","right")}r.push(n)});a.children("fields").append(r)}return a},defaultStateGenerator(){return k("<skuid__table/>").attr({allowColumnFreezing:"dragDrop",showSaveCancel:"false"}).append(k("<fields/>"),k('<filtering enableSearch="false" />'),k("<rowActions/>"),k("<massActions/>"))},propHintMap:{listHeader__heading:{prop:"title"},"listHeader__save-cancel":{prop:"showSaveCancel"},"listHeader__more-actions":{category:"Display",subcategory:"Configuration",prop:"moreActionsButtonIcon"},listFooter__pagination:{category:"Display",prop:"pageSize"},"listFooter__page-size":{category:"Display",prop:"pageSize"},"filter--search":{category:"Search",prop:"enableSearch"},"column--field":{onMouseDown(e,t){const n=t.getCPI().getCanvasComponent(),i=e.target.hasAttribute("data-cell-index")?e.target.getAttribute("data-cell-index"):h(e.target).parents("[data-cell-index]").attr("data-cell-index"),a=n._getCPI().getColumnIndex(i),o=t.get("xmlState").children("fields").children().eq(a);if(!o.length)return;const r=b.componentFactory(o,t.get("fieldBuilder"));r.getCPI().select();if(t.get("lastTempFieldBuilder")){t.get("lastTempFieldBuilder").unregister()}t.set("lastTempFieldBuilder",r)}},drawer:{onMouseDown(e,t){t.builderCPI.showDrawerBuilder({getContextModelName(){return t.get("xmlState").attr("model")},state:t.get("xmlState")})}}},componentSpoofMap:{skuid__filter:{builderId:"skuid__filter",filter:e=>e.type!=="search",cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false}},skuid__buttonGroup:{builderId:"actions",cache:true,filter:e=>{const t=e._&&e._.node;if(!t)return false;if(e._.index!==undefined&&e._.index!==0)return false;return["rowActions","massActions","actions"].includes(t[0].tagName)}}},cpi:{showDrawerBuilder(e){if(!e)e={};let t=e.parentState||this.get("xmlState"),n=e.getContextModelName,i=this.popupDrawerComponent,a,o;if(!i){o=t.children("drawer");if(!o.length){o=k("<drawer/>");t.append(o)}a=v.makePopupBuilder({id:"drawer",title:"Drawer",width:"90%",getContextModelName:n,customProps:D(this),linkedComponent:this}),i=this.popupDrawerComponent=b.componentFactory(o,a,true)}if(e.select===false){i.builderCPI.open()}else{i.builderCPI.open();i.select()}}}});const M=new b.Builder(Object.assign({},f["a"],{xmlTag:"action",name:"Mass Action"}));const E=new b.Builder(Object.assign({},f["a"],{xmlTag:"action",name:"Row Action"}));const N=new b.Builder(Object.assign({},f["a"],{xmlTag:"action",name:"Global Action"}));if(e.platform.hasFeature("PageComposerStaging")){F.registerChildBuilder(M);F.registerChildBuilder(E);F.registerChildBuilder(N);b.registerBuilder(F)}const O=function e(t,n){return n.registerChildBuilder(new b.Builder({id:"field",name:"Field",icon:"sk-webicon-ink:edit-form",getSubtitle(e,t){return e.getAttribute("label")||Object(a["b"])(e.getAttribute("id"),t.modelFieldsMetadata)||e.getAttribute("id")||e.getAttribute("name")},setUniqueId:false,renderVDom(){return m("div")},refresh(){t.refresh()},propertiesRenderer(e,n){e.setTitle("Field Properties");let i=y.getFieldProperties(n,t.get("xmlState").attr("model"),t.builderId,null,t.get("xmlState"));e.applyPropsWithCategories(i,n.get("xmlState"))},defaultStateGenerator(e){const n=t.get("xmlState").attr("model"),i=w.fieldStateGenerator(e);if(w.isNumericType(e.fieldId,n)){i.attr("horizontalAlignment","right")}return i}}))};function R(t,n){let i=n.registerChildBuilder(new b.Builder({id:"drawer",icon:"sk-webicon-ink:drawer",title:"Drawer Properties",hideWrapper:true,componentRenderer(n){const i=n.get("xmlState").attr("showDrawerIcon")!=="false";n.body.append('\n\t\t\t\t\t\t<div class="nx-field-label">&nbsp</div>\n\t\t\t\t\t\t<div style="margin-top: 4px; '.concat(!i?"opacity: .5;":"",'">\n\t\t\t\t\t\t\t').concat(e.ui.createIcon("sk-webicon-ink:chevron-small-right"),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t")).css("background","#f8f8f8");n.getContextModelName=(()=>t.get("xmlState").attr("model"));n.body.on("dblclick",()=>{t.builderCPI.showDrawerBuilder({getContextModelName(){return t.get("xmlState").attr("model")},state:t.get("xmlState")})})},propertiesRenderer(e,n){e.setTitle("Drawer Properties");e.applyPropsWithCategories(D(t),n.get("xmlState"))},defaultStateGenerator(){return k("<drawer/>")}}));return i}const D=e=>[{name:"Basic",props:[{id:"showDrawerIcon",type:"boolean",label:"Show Drawer Icon",helptext:"If unchecked, the drawer icon will be hidden and drawers must be opened/closed via actions",defaultValue:true,onChange(){e.refresh()}}]},b.getActionsCategory({customNodeId:"beforeLoad",label:"Before Load Actions",getModelName:()=>e.get("xmlState").attr("model"),linkedComponent:e})];var L=n["a"]=F},158:function(t,n,i){"use strict";var a=i(13);var o=i(49);let r=e.$,l=e.utils,s=e.builder,d=s.core,c=s.desktop,u=s.ink,p=l.makeXMLDoc,f="skuid__form",m="rows",h="row",g="sections",b="section",y="fields",v="nx-pagebuilder__form__row",C=e.builder.dragDrop.DragManifest;const k=e=>e.attr("mode")!=="readonly"&&e.attr("showSaveCancel")==="true";const S=(t,n)=>{n.attr("uniqueId",e.utils.generateUniqueId());t.find(m).append(p("<".concat(h,"/>")).append(p("<".concat(y,"/>")).append(n)))};const w=(t,n)=>{n.attr("uniqueId",e.utils.generateUniqueId());t.find("fields").append(n)};const x=new d.Builder({id:f,name:"Form",icon:"sk-webicon-ink:edit-form",neededNotices:[a["c"].noModel],getNotices(e){const t=[];if(!e.attr("model"))t.push(a["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/form/",n=c.getDescriptionTag(),i='The Form component displays rows of selected fields for a single record. Fields can be viewed, or viewed and edited.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Form component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},actions:[{value:"changeMode",label:"Change edit/read mode",props:[{id:"mode",label:"Mode",type:"picklist",picklistEntries:[{value:"",label:"Toggle mode"},{value:"edit",label:"Edit mode"},{value:"read",label:"Read mode"}]}]}],componentRenderer(e){let t=e.get("xmlState"),n=e.get("xmlState"),i=this;let a=this.registerChildBuilder(new d.Builder({id:"skuid__form__row",name:"Row",setUniqueId:false,indexSelectors:{unsurfaced:"fields"},componentRenderer(t){let a=t.get("xmlState");t.getCPI().setStyle({width:"100%","box-sizing":"border-box",margin:"0"});t.getCPI().addClass(v);t.setTitle();t.body.addClass("column-body");let l=Object(o["b"])({editorComponent:e,formBuilder:i}),u=a.children(y);e.fieldBuilder=l;const f=e.get("xmlState").attr("model");t.getCPI().setDragManifest(new C({builderId:"skuid__form__row",model:f}));if(!u.length){u=p("<"+y+"/>");a.append(u)}let m=r("<div>").css({});let h=t.get("fieldAcceptor");h&&h.acceptorComponent.unregister();let g=new c.ComponentAcceptor(u,{customBuilder:l,acceptsBuilderIds:["model__field","skuid__form__field","skuid__table__field","skuid__image"],requiresModels:[f],requiresGlobalComponent:false,mode:t.mode,layout:"flex",parentComponent:t});t.set("fieldAcceptor",g);m.append(g.element);t.body.append(m);t.addActionItem("Remove Row","sk-webicon-ink:delete",function(){t.remove()});t.addActionGroup(s.makeAddFieldActionButton({component:t,modelName(){return n.attr("model")},fieldBuilder:l,insertFieldStateHandler(t){w(a,t);e.save().refresh()},addTemplateHandler(){w(a,Object(o["a"])({componentId:"template"}));e.save().refresh()},addImageHandler(){w(a,d.getBuilder("skuid__image").defaultStateGenerator());e.save().refresh()}}),"Add Field(s)","sk-webicon-ink:edit-form")},propertiesRenderer(e,t){e.setTitle("Row Properties");let n=[];e.applyPropsWithCategories([{name:"Basic",props:n}],t.get("xmlState"))},defaultStateGenerator(e){if(e.fieldId){return p("<"+h+"/>").append(p("<"+y+"/>").append(Object(o["a"])(e)))}return p("<"+h+"/>")}}));let l=this.registerChildBuilder(new d.Builder({id:b,name:"Section",setUniqueId:false,icon:"sk-webicon-ink:row",indexSelectors:{unsurfaced:"rows, row"},componentRenderer(t){let l=Object(o["b"])({editorComponent:e,formBuilder:i});let u=t.get("xmlState"),p=r("<div>").addClass("nx-basicfieldeditor-section-wrapper"),h=r("<div>").addClass("nx-basicfieldeditor-section").css({margin:"0"}).appendTo(p),g=u.attr("showHeading")!=="false"?r("<div>").addClass("nx-basicfieldeditor-section-header").text(u.attr("title")).appendTo(h):false,b=t.get("xmlState");const y=u.parents(f).attr("model");t.sectionHeading=g;t.body.css({"min-height":"90px"}).append(p);t.addActionItem("Remove Section","sk-webicon-ink:delete",function(){t.remove()});t.addActionGroup(s.makeAddFieldActionButton({component:t,fieldBuilder:l,modelName(){return n.attr("model")},insertFieldStateHandler(t){S(b,t);e.save()},addTemplateHandler(){S(b,Object(o["a"])({componentId:"template"}));e.save()},addImageHandler(){S(b,d.getBuilder("skuid__image").defaultStateGenerator());e.save()}}),"Add Field(s)");let v=t.get("rowAcceptor");v&&v.acceptorComponent.unregister();let C=new c.ComponentAcceptor(u.find(m).first(),{customBuilder:a,acceptsBuilderIds:["model__field","skuid__form__row"],requiresModels:[y],requiresGlobalComponent:false,subtleTitle:"section",mode:t.mode,parentComponent:t});t.set("rowAcceptor",C);t.body.append(C.element)},propertiesRenderer(e,t){e.setTitle("Section Properties");let i=t.get("xmlState"),a=n.attr("model"),o=i.attr("showHeading")!=="false",r=[{id:"showHeading",type:"boolean",defaultValue:true,label:"Show section heading",onChange(){t.save().refresh().rebuildProps()}}];if(o){r.push({id:"title",type:"template",location:"attribute",modelname:a,label:"Section heading",onChange(e){let n=t.sectionHeading;if(n){n.text(e)}}})}e.applyPropsWithCategories([{name:"Basic",props:r},d.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:a,propViewer:e})],i)},defaultStateGenerator(e){let t=e?e.showHeading:true,n=p("<"+b+' title="New Section"/>').append(p("<"+m+"/>"));if(!t)n.attr("showHeading","false");return n},hideWrapper:true}));n.find(b).each(function(){d.componentFactoryWithCache(r(this),l).element.appendTo(e.body)});const u=[];e.set("sectionComponents",u);e.setTitle("Form");t.children(g).first().children().each(function(){let t=r(this),n=d.getCanvasComponentFromState(t);if(!n){n=d.componentFactory(t,l)}else{n.refresh()}n.element.appendTo(e.body);u.push(n)});e.body.sortableComponent({axis:"y",component:e,handle:".nx-basicfieldeditor-section-header",parentStateSelector:g}).addClass("nx-pagebuilder__form");e.body.addClass("clearfix");e.addActionItem("Add Section",null,function(){let t=l.defaultStateGenerator();e.get("xmlState").children(g).first().append(t);e.save().refresh()});k(n)&&e.body.append(I({saveIcon:n.attr("saveIcon"),cancelIcon:n.attr("cancelIcon")}))},propertiesRenderer(e,t){let n=t.get("xmlState"),i="Form Properties";e.setTitle(i);let a=[{id:"model",type:"model",label:"Model",required:false,onChange(e){t.get("sectionComponents").forEach(t=>{const n=t.get("rowAcceptor").acceptorComponent;n.set("requiresModels",[e]);n.getChildComponentsOfType("skuidbuilder__builderComponent").forEach(t=>{t.get("fieldAcceptor").set("requiresModels",[e])})});t.updateAutoCreatedEditorCondition();t.refresh().rebuildProps()}},{id:"mode",type:"picklist",label:"Default mode",defaultValue:"read",picklistEntries:[{label:"Read with Inline-Edit",value:"read"},{label:"Edit",value:"edit"},{label:"Read-Only",value:"readonly"}],onChange(){t.rebuildProps().refresh()}},...n.attr("mode")!=="readonly"?[{id:"showSaveCancel",label:"Show Save/Cancel",helptext:"If checked, then Save/Cancel buttons will be rendered above the table to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",type:"boolean",defaultValue:false,onChange(){t.rebuildProps().refresh()}}]:[]];e.applyPropsWithCategories([{name:"Basic",props:a},{name:"Display",tree:[{label:"Field Layout",linkedComponent:t,deleteable:false,props:[{id:"labelPlacement",label:"Label position",type:"picklist",defaultValue:false,onChange(){t.rebuildProps().refresh()},picklistEntries:[{value:"",label:"Top"},{value:"beside",label:"Left"}]},...n.attr("labelPlacement")==="beside"?[{id:"minLabelWidth",type:"csssize",label:"Label minimum width",defaultValue:"150px"},{id:"maxLabelWidth",type:"csssize",label:"Label maximum width"},{id:"flexRatioLabel",type:"string",label:"Label flex ratio",helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by maximum and minimum widths.",defaultValue:"1"},{id:"minValueWidth",type:"csssize",label:"Input field/text minimum width",defaultValue:"200px"},{id:"maxValueWidth",type:"csssize",label:"Input field/text maximum width"},{id:"flexRatioValue",type:"string",label:"Input field/text flex ratio",helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by maximum and minimum widths.",defaultValue:"2"}]:[]]},{label:"Errors",linkedComponent:t,deleteable:false,propsFunction(e){return u.getErrorBehaviorProperties(e,true)}},{label:"Advanced",linkedComponent:t,deleteable:false,props:[d.coreProps.uniqueIdProp({component:this}),...k(n)?[{id:"saveIcon",type:"icon",label:"Save icon",onChange:()=>t.refresh()},{id:"cancelIcon",type:"icon",label:"Cancel icon",onChange:()=>t.refresh()}]:[]]}]},u.getInkStylesTab({component:t,propViewer:e,spacing:true}),d.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),d.getContextCategory({propViewer:e,state:n,model:n.attr("model")})],n)},defaultStateGenerator(){let e=d.getLastSelectedModelComponent(),t=e?e.get("xmlState"):d.getFirstModel(),n=t?t.attr("id"):null,i=p("<"+f+"/>").attr({showErrorsInline:"true",model:n});i.append(p("<"+g+"/>").append(p("<"+b+' title="New Section"/>').append(p("<"+m+"/>"))));return i},handleStateEvent(t,n,i){let a=t.attr("model"),o=n.type==="model.idChange",s=n.type==="model.remove",c=n.type==="model.field.remove",u=n.type==="model.field.metadataChange",p=false,f=false,m=n.parentChildRelationship!==undefined;s&&d.handleModelRemove(t,n,{component:i});o&&d.handleModelIdChange(t,n);if(o||s||c){let e=t.find('fields > field > filters > filter[type="modelmerge"][model="'+(o?n.oldId:n.modelId)+'"]');if(e.length){e.each(function(){if(s){r(this).remove();p=true}else if(o){p=true;r(this).attr("model",n.newId)}else if(c&&r(this).attr("mergefield")===n.fieldId){p=true;r(this).remove()}})}}if(o&&n.oldId===a){f=true}if((c||u)&&!m){if(t.attr("model")===n.modelId){let e="skuid__field[",i;if(n.fieldName){e+='name="'+l.escapeSelector(n.fieldName)}else{e+='id="'+l.escapeSelector(n.fieldId)}e+='"]';i=t.find(e);if(i.length){if(c){i.each(function(){r(this).remove()});p=true;f=true}else{i.each(function(){let e=d.getCanvasComponentFromState(r(this));if(e){e.refresh()}})}}}}if(p){e.events.publish("skuidBuilderNeedSave")}if(f&&i){e.events.publish("skuidBuilderComponentNeedsRefresh",[i])}if(c){return false}},createFromModel(e,t){const n=e.attr("type")==="aggregate",i=x.getDefaultState(t,{setUniqueId:true}),a=e.attr("id"),l=[];let s="read";if(n){s="readonly"}else if(e.attr("createrowifnonefound")==="true"){s="edit"}i.attr({model:a,mode:s});r.each(e.children("fields, groupby").children(),function(){const e=r(this),t=d.getMetadataForField(d.getComponentFromState(e)),n=Object(o["a"])({fieldId:e.attr("id"),fieldName:e.attr("name"),isChildRelationship:e.attr("type")==="childRelationship",relationshipName:t&&t.relationshipName});l.push(n)});const c=i.children(g).first().children(b).first();l.forEach(e=>{S(c,e)});return i}});d.registerBuilder(x);const I=(t={})=>{return r("<div>").addClass("nx-pagebuilder-buttonwrapper").css({float:"left",marginTop:"48px"}).append(r("<div>").text(e.$L("Save")).css({marginLeft:"4px"}).skooButton({icon:t.saveIcon}).addClass("nx-pagebuilder-savebtn").button("disable"),r("<div>").text(e.$L("Cancel")).css({marginLeft:"4px"}).skooButton({icon:t.cancelIcon}).addClass("nx-pagebuilder-cancelbtn nx-button-secondary").button("disable"))};n["a"]=x},159:function(t,n,i){"use strict";const a=e.$,o=e.builder,r=o.core,l=o.ink,s=o.desktop,d=r.propertyRenderers,c=e.utils,u=c.makeXMLDoc,p=e=>{let t=e.get("xmlState"),n=false;if(!t.attr("displayAs")){t.attr("displayAs","filename");n=true}f(e);n&&e.save()},f=e=>{const t=e.get("xmlState"),n=t.attr("model"),i=h(n,t.attr("datasource"));if(!t.attr("storeAs")&&i&&i.length){t.attr("storeAs",i[0].value);e.save()}return t.attr("storeAs")},m=e=>!!e.getUploadMethods,h=(t,n)=>{const i=t&&r.getModelFromModelName(t),o=i?r.getDataSourceFromModel(i):e.dataSource.get(n||e.platform.getDefaultDataSourceName());return o&&o.getUploadMethods?a.map(o.getUploadMethods(),(e,t)=>{if(typeof e.hasDescription==="undefined"){e.hasDescription=true}if(typeof e.hasParent==="undefined"){e.hasParent=true}if(typeof e.hasLabel==="undefined"){e.hasLabel=true}if(typeof e.hasName==="undefined"){e.hasName=true}const n={label:e.label,value:t,forcestoreAsFileName:e.forcestoreAsFileName,needsFieldContext:e.needsFieldContext,needsRecordContext:e.needsRecordContext,canRunPostUploadSnippet:e.canRunPostUploadSnippet,needsModelInContext:e.needsModelInContext,hasDescription:e.hasDescription,hasName:e.hasName,hasLabel:e.hasLabel,hasParent:e.hasParent,builderProps:e.builderProps};if(i){return e.needsRecordContext||e.needsModelInContext?n:null}return e.needsRecordContext?null:n}):[]},g=(e,t)=>{const n=e.filter(e=>e.value===t);if(n&&n.length){return n[0]}return null};const b=new r.Builder({id:"skuid__file",name:"File Upload",icon:"sk-webicon-ink:upload",indexSelectors:{unsurfaced:"uploadSuccessActions, uploadFailureActions"},getSubtitle(e){return e.getAttribute("buttonLabel")},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/file-upload/",n=s.getDescriptionTag(),i='The File Upload component lets users upload and associate files with a data source object. Uploaded files can be viewed or removed.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">File Upload component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){r.handleModelRemove(e,t,{component:n});r.handleModelIdChange(e,t)},componentRenderer(e){p(e);e.setTitle(e.builder.name);const t=a("<img>").prop("src",c.getDefaultImageUrl(e.get("xmlState").attr("defaultImage")||"person")).css({width:"100%",maxWidth:"300px"}).appendTo(e.body);t.toggle(e.get("xmlState").attr("displayAs")==="image");e.body.css("overflow","hidden")},propertiesRenderer(e,t){p(t);const n=t.get("xmlState"),i="File Properties",o=n.attr("model"),s=f(t),u=h(o,n.attr("datasource")),b={id:"model",type:"model",label:"Parent Model",helptext:'The Model in whose record(s) this File will be stored, stored in the specified "File storage location".',required:false,entryFilter(e){const t=h(e.attr("id"),e.attr("datasource"));return!!(t&&t.length)},onChange(i){const a=h(i,n.attr("datasource")),o=t.updateAutoCreatedEditorCondition;if(o)o.call(t);n.removeAttr("idField label defaultImage editable deletable");if(a&&a.length){n.attr("storeAs",a[0].value)}n.attr("displayAs","filename");t.save().refresh().rebuildProps(e)}},y={id:"defaultImage",type:"picklist",label:"Default Image",defaultValue:"person",helptext:"A default image to display if an image has not been displayed yet.",picklistEntries:[{label:"Person",value:"person"},{label:"Org",value:"org"}],onChange(e){t.body.find("img").prop("src",c.getDefaultImageUrl(e))}},v={id:"editable",type:"boolean",label:"Allow Editing",defaultValue:true,helptext:"If true, a yellow pencil icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."},C={id:"deletable",type:"boolean",label:"Allow Removal",defaultValue:true,helptext:"If true, a red delete icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."},k={id:"buttonLabel",type:"text",label:"Upload Button Label",helptext:"The label for this File Component/field button.",onChange(){t.refresh()}},S={id:"buttonIcon",type:"icon",label:"Upload Button Icon",helptext:"The icon for this File Component/field button.",onChange(){t.refresh()}},w={id:"description",type:"text",label:"File Description"},x={id:"fileName",type:"text",label:"File Name",helptext:"If this is left blank, the filename will not change."},I={id:"snippetName",type:"snippet",label:"Snippet to Run on Completion"},T={id:"storeAs",type:"picklist",label:"File storage location",defaultValue:"field",helptext:"The File Component allows you to store an uploaded file in the following ways: "+"(1) In a field on this object that is a lookup to the Skuid Image object, e.g. Profile_Photo__c. This is useful when this particular File will need to be retrieved later, e.g. a Profile Photo or a Transcript."+"(2) As an Attachment to the record containing in this Model. This is useful for generic File Attachments that do not be referred to by their purpose.",picklistEntries:u.map(e=>e.hideInBuilder?null:e),onChange(i){n.removeAttr("idField label defaultImage editable deletable");const a=h(n.attr("model"),n.attr("datasource")),o=g(a,i);if(o&&o.forcestoreAsFileName){n.attr("displayAs","filename")}t.save().refresh().rebuildProps(e)}},A={id:"idField",type:"field",addFieldToModel:true,label:"Field Name",helptext:"The Skuid Image lookup field on this object that this File will be stored in.",modelprop:"model",displayTypeFilter:"REFERENCE",refFilter:"skuid__Image__c"},P={id:"displayAs",type:"picklist",label:"Display As",defaultValue:"filename",helptext:"Once a File has been uploaded, should just the File's name be shown, or should a preview of the File / the image stored in the File be shown?",picklistEntries:[{label:"File Name",value:"filename"},{label:"File Preview/Image",value:"image"}],onChange(){t.refresh().rebuildProps(e)}},_={id:"saveTo",type:"picklist",label:"Save To",picklistEntries:[{label:"Data Source",value:""},{label:"Field on Model",value:"field"}],onChange(){n.attr("model","");n.removeAttr("storeAs");f(t);t.rebuildProps(e)}};const F={id:"enforceMaxFileSize",type:"boolean",label:"Enforce Max File Size?",onChange:()=>t.rebuildProps()},M={id:"maxFileSize",type:"custom",label:"Max File Size",validator:r.validators.integerOnly,renderProperty(e){const t=[{value:"000000000",label:"GB"},{value:"000000",label:"MB"},{value:"000",label:"KB"},{value:"",label:"B"}],{state:n,element:i,updateState:o}=e,l="maxFileSize",s=n.attr(l)||"";let c=t.find(e=>s.endsWith(e.value)),u=s.substring(0,s.length-c.value.length);if(e.readonly){return d.readonly(s)}const p=(e,n)=>{u=e||u;c=n?t.find(e=>e.value===n):c;o(l,"".concat(u).concat(c.value))};i.append(d.picklist({isStateless:true,value:c.value,picklistEntries:t,onChange:e=>{p(null,e)}}).css({width:"50px",float:"right"}),a("<div>").append(r.getValueEditorFromMetadata({isStateless:true,valueFunction:()=>u,validator:r.validators.integerOnly,onChange:e=>{p(e)}})).css("margin-right","58px"));return i}},E={name:"Advanced",props:[F]};if(n.attr("enforceMaxFileSize")==="true"){E.props.push(M)}let N=[_],O=g(u,s);if(!n.attr("saveTo")){if(O&&O.hasParent){N.push(b)}if(O&&O.hideInBuilder){T.picklistEntries.push({label:O.label,value:O.label})}if(!o){N=[...N,...r.getDataSourceSelectionProps(t,e,{filter:m})]}if(T.picklistEntries.length<2){T.type="readonly"}N.push(T);if(O){if(O.needsFieldContext){N.push(P);N.push(A)}if(O.hasLabel){N.push(k);N.push(S)}if(n.attr("displayAs")==="image"){N.push(y)}if(O.needsFieldContext){N.push(v,C)}if(O.hasName){N.push(x)}if(O.hasDescription){N.push(w)}if(O.canRunPostUploadSnippet){N.push(I)}if(O.builderProps){if(typeof O.builderProps==="function"){N=N.concat(O.builderProps(t,n))}else{Array.prototype.push.apply(N,O.builderProps)}}}}else{N.push({id:"model",type:"model",label:"Model"},{id:"field",modelprop:"model",type:"field",label:"Field",displayTypeFilter(e){return["TEXT","STRING","TEXTAREA"].indexOf(e.displaytype)>-1}})}const R=[{name:"Basic",props:N,expanded:true},E,{name:"On-Upload Actions",tree:[r.getActionsTree({customNodeId:"uploadSuccessActions",label:"On-Upload Success Actions",linkedComponent:t,actionsIndent:0,props:[{type:"helptext",html:"Success Actions will be run only when a File is successfully uploaded."}]}),r.getActionsTree({customNodeId:"uploadFailureActions",label:"On-Upload Failure Actions",linkedComponent:t,actionsIndent:0,props:[{type:"helptext",html:"Failure Actions will be run if a File fails to upload. "+"The error message returned, if any, will be available "+"for display using the merge {{$Error.Message}}"}]})]},l.getInkStylesTab({component:t,propViewer:e,spacing:true}),r.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",showStyleVariantConditions:true})];if(O&&O.needsRecordContext){R.push(r.getContextCategory({propViewer:e,state:n,modelprop:"model"}))}e.setTitle(i);e.applyPropsWithCategories(R,n)},defaultStateGenerator(){return u('<skuid__file editable="true" storeAs="" displayAs="" deletable="true"/>')}});n["a"]=b;if(!e.platform.hasFeature("PageComposerStaging")){r.registerBuilder(b)}},16:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=r;var i=n(45);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function r(e){return(0,a["default"])("-"+e)}},160:function(t,n,i){"use strict";var a=i(69);var o=i(13);var r=i(30);var l=i(5);var s=i(29);const d=e.virtualDom.hyperScript;var c=function(e,t,n){const i=(t,n)=>e.subscribeChange(t,n);i("showListHeader",n.initListHeader);i("showListFooter",n.initListFooter);const a=t=>{["title","showSaveCancel","filters","filtering","saveIcon","cancelIcon","massActions","actions","moreActionsButtonIcon"].forEach(e=>this.bind(e,t));["allowColumnHiding","enableExport"].forEach(i=>e.subscribeChange(i,()=>{t.set("moreActionsOptions",n.getMoreActionsOptions())}))};const o=e=>this.bind("showPageSizeSelect",e);t.listHeaderInstance&&a(t.listHeaderInstance);t.listFooterInstance&&o(t.listFooterInstance);i("listHeaderInstance",a);i("listFooterInstance",o);i("enableDrawers",n.initDrawers);i("drawer",n.initDrawers);const r=()=>e.get("projector")&&e.get("projector").renderNow();i("rowActionsOnLeft",r);i("showRowNumbers",r);i("rowActions",()=>{(this.get("rowActionsButtonGroups")||[]).forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.unset("rowActionsButtonGroups");n.updateRowActionButtonGroups()});["massActions","enableExport"].forEach(e=>i(e,()=>{n.initListHeader();n.initMassActionCheckboxHead();n.updateMassActionComponents()}));const l=e.createChildComponent({componentType:"skuid__button",icon:"sk-webicon-ink:delete",tooltip:'<tooltip text="Remove" compact="true"/>',onClick:()=>{const e=this.get("_activeCell").split("-");const t=this.get("_elementContainer").querySelector('[aria-rowindex="'.concat(e[0],'"][aria-colindex="').concat(e[1],'"]'));if(t){this.publish("field.remove",[(t.getAttribute("data-cell-index")||"").split("-")[1]])}}});this.set("renderRemoveField",e=>{const{_activeCell:t}=this.getState();if(e.columnGroup.id!=="data")return;if("".concat(e.ariaRowIndex,"-").concat(e.ariaColIndex)!==t)return;return d("div",{styles:{position:"absolute",right:"0",top:"0"}},[l.renderVDom()])});e.subscribe("beforeUnregister",()=>{const t=e.get("_cachedSpoofers")||{};Object.keys(t).forEach(e=>{(t[e]||[]).forEach(e=>e.unregister())})});e.subscribe("rebuildRows",()=>n.populateRowContents());e.subscribe("updateColumnWidths",()=>{n.clearColumnWidthExtrasCache();e.get("uiPaginatedRows").uiRows.forEach(e=>{e.cells.forEach((e,t)=>Object.assign(e.extras,n.getColumnWidthExtras(t)))});e.scheduleVirtualRender()});e.subscribe("updateItemProps",()=>{const{columns:t,uiPaginatedRows:i}=this.getState();n.clearItemConfigCache();i.uiRows.forEach(i=>{i.cells=t.map((t,a)=>{const o=i.cells[a];const r=new s["a"]({items:t.items.map((t,r)=>{const l=n.getItemConfig(a,r,i.record);Object.assign({},t,l.itemProps);if(l.componentDefinition){if(o.components[r]){t.component=o.components[r];t.component.set(l.componentDefinition)}else{t.component=e.createChildComponent(l.componentDefinition)}}return t}),model:o.model,row:o.row},Object.assign({},o.extras,{displayStyles:t.items.map(e=>e.displayStyle)}));r.updateDisplayInfo();return r})});e.scheduleVirtualRender()})};var u=i(41);i.d(n,"a",function(){return B});const p=e.virtualDom.hyperScript;const{AcceptanceCriteria:f,DragManifest:m}=e.builder.dragDrop;let h=e.$,g=e.builder,b=g.core,y=g.ink,v=g.desktop,C=g.listHelper,k=e.utils,S=k.makeXMLDoc,w=e.events.publish,x=b.escapeMergeSyntax,I=C.updateNumRowsInModel,T="skuid__list",A=e.componentType.get(T),P=e=>g.componentRegistry.getByState(e);A.initBuilder=c;const _="Template",F="Entity",M="Entities",E=()=>S('<action type="multi" label="Run actions"/>');const N=e=>{const t=C.fieldStateGenerator(Object.assign({},e,{fieldNodeName:"item"}));const n=t.attr("id");if(n){t.attr("fieldId",n)}t.removeAttr("id");t.removeAttr("label");return t};const O=e=>{const t={};if(e){e.getFieldsList().forEach(e=>{t[e.id]=e.label||e.id})}return()=>{return t}};const R=new b.Builder({id:T,componentType:T,name:"List",icon:"sk-webicon-ink:list",providesContext:true,indexSelectors:{unsurfaced:"columns, rowActions, massActions, filters",ignored:"filtering"},resolveChildBuilder(e){if(e.tagName.toLowerCase()!=="action")return;if(e.parentElement.tagName.toLowerCase()==="massactions")return V;return j},neededNotices:[o["c"].noModel],getNotices(e){const t=[];if(!e.attr("model"))t.push(o["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/list/",n=v.getDescriptionTag(),i='The List components displays a roster of items (pulled from models) in a vertical layout.\n\t\t\t\tTo configure the actions taken when a List item is selected, use the Interactions tab.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">List component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){let i=e.attr("model"),a=t.type==="model.idChange",o=t.type==="model.remove",r=t.type==="model.field.remove",l=t.type==="model.field.metadataChange",s=false,d=false,c=t.parentChildRelationship!==undefined;if(c&&t.parentChildRelationship!==e.attr("model")){return}o&&b.handleModelRemove(e,t,{component:n});a&&b.handleModelIdChange(e,t);if(a&&t.oldId===i){d=true}if((r||l)&&!c){if(e.attr("model")===t.modelId){let n=e.find('columns > column > items > item[fieldId="'.concat(t.fieldId,'"]'));if(n.length&&r){n.each(function(){h(this).remove()});s=true;d=true}}}if(s){w("skuidBuilderNeedSave")}if(d&&n){w("skuidBuilderComponentNeedsRefresh",[n])}},propertiesRenderer(e,t){e.setTitle("List Properties");const n=()=>t.cpi.refresh();let i=t.get("xmlState"),a=i.attr("model");let o,r;const l={id:"model",type:"model",label:"Model",required:false,onChange(e){let n=false,a=true,o=false,r=b.getModelFromModelName(e),l;if(r){l=r.children("fields,groupby").children()}const s=t.get("fieldAcceptor").acceptorComponent;s.set("requiresModels",[e]);s.getChildComponentsOfType("skuidbuilder__builderComponent").forEach(t=>{t.get("itemAcceptor").set("requiresModels",[e])});t._cpi.updateAutoCreatedEditorCondition();i.children("fields").children().each(function(){let e=h(this),t=e.attr("id"),i=e.attr("name");if(!l.filter('[id="'.concat(t,'"],[name="').concat(i,'"]')).length){e.remove();n=true;a=true}});if(n)t.save();t.rebuildProps();if(a)t.refresh();if(o)t.renderProperties&&t.renderProperties()}};const s={id:"title",label:"Title",type:"template",location:"attribute",onChange(){t.cpi.refresh()}};r=[l,s];o=[{name:"Basic",props:r},{name:"Display",tree:[{label:"Pagination",linkedComponent:t,deleteable:false,props:[C.propertiesFactory.pageSize({onChange(){n();t.cpi.rebuildProps()}}),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true,onChange:n},C.propertiesFactory.resetPaginationOnQuery()]},{label:"Advanced",linkedComponent:t,deleteable:false,propsFunction:()=>[b.coreProps.uniqueIdProp({component:t})]},{label:"Other",linkedComponent:t,deleteable:false,props:[{id:"rowActionsOnLeft",label:"Row Actions on Left",type:"boolean",defaultValue:false,onChange:n},{id:"showLoadMore",label:'Show "Load more" button',type:"boolean",defaultValue:true,onChange:n},C.propertiesFactory.showListHeader({onChange:n}),C.propertiesFactory.showListFooter({onChange:n})]}]},y.getFilteringPropsCategory({component:t,modelName:a,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true,updateSearchBox:n}),b.getInteractionsCategory({getModelName:()=>i.attr("model"),linkedComponent:t}),y.getInkStylesTab({component:t,propViewer:e,spacing:true}),b.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),b.getContextCategory({propViewer:e,state:i,model:a})];e.applyPropsWithCategories(o,t.get("xmlState"))},defaultStateGenerator(){let e=b.getLastSelectedModelComponent(),t=e?e.get("xmlState"):b.getFirstModel(),n=t?t.attr("id"):null;return S("<skuid__list/>").attr({model:n}).append(S("<columns/>"),S("<rowActions/>"),S("<massActions/>"),S('<filtering enableSearch="false" />'))},init(t){let n=t.get("xmlState"),i=g.getBuilder("skuid__filter");t.setTitle(t.builder.name);const a=(e,t={})=>n.find("columns").append(S("<column />").append(S("<items />").append(S('<item displayType="'.concat(e,'"/>')).attr(t))));t.addActionGroup(g.makeAddFieldActionButton({component:t,columnBuilder:D,showAvatar:true,showIcon:true,showImage:true,showTemplate:true,fieldBuilder:B,insertFieldStateHandler(e){n.find("columns").append("\n\t\t\t\t\t<column>\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t".concat(e[0].outerHTML,"\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</column>\n\t\t\t\t"))},addTemplateHandler(){a("template",{template:_});t.save().refresh()},addImageHandler(){a("image");t.save().refresh()},addAvatarHandler(){a("avatar");t.save().refresh()},addIconHandler(){a("icon");t.save().refresh()}}),"Add Field(s)","sk-webicon-ink:edit-form");const o=()=>{if(n.children("filters").length===0){n.append(S("<filters/>"));t.save()}let e=i.getDefaultState();n.children("filters").append(e);t.save().refresh()};t.addActionGroup([{text:"Add Row Action",icon:"sk-webicon-ink:actions",action(){if(!n.children("rowActions").length){!n.append("<rowActions/>")}n.find("rowActions").append(E());t.save().refresh()}},{text:"Add Mass Action",icon:"sk-webicon-ink:actions",action(){if(!n.children("massActions").length){!n.append("<massActions/>")}n.find("massActions").append(E());t.save().refresh()}},{text:"Add List Filter",icon:"sk-webicon-ink:filter",action:o}],"Add Feature");const r=t.get("xmlState").attr("model"),s=Object(l["k"])(r);const d=new e.model.Model({id:"list-builder-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,label:s?s.getLabel():F,labelPlural:s?s.getLabelPlural():M,fields:s?s.getFieldsList():[],doClone:false,dataSourceName:"Ui-Only"});d.initialize().register();I(d,r,{createRowData:O(s)});t.set("model",d);t.storeSubscription(e.events.subscribe("skuid.builder.modelPropChanged",e=>{if(e===n.attr("model"))t.refresh()}));t.getCPI().setComponentDefinitionProcessor(new e.component._ComponentDefinitionProcessor({logErrors:false,getModel:n=>{if(n===t.get("xmlState").attr("model"))return d;return e.$M(n)}}));const c=t.cpi.setCanvasComponent();const u=e=>{if(e&&e!==t)e.cpi.refresh();t.cpi.save();t.cpi.updateCanvasComponent({scheduleRender:false});c._cpi.clearItemConfigCache();c.publish("rebuildRows")};const p=[];c.set("getDragDropFragmentColumn",e=>{if(!p[e]){p[e]=g.dragDrop.createAcceptorFragment({parentComponent:c,mode:t.cpi.getMode(),emptyStateEnabled:false,acceptanceCriteria:new f({acceptsBuilderIds:["list__item"]}),onDrop(n,i){const a=i.component;if(!a)return;const o=a.get("xmlState");const r=t.get("xmlState").find("columns > column:nth-child(".concat(e+1,") > items"));n=k.clamp(n,0,r.children().length);b.moveXmlToIndex(o,r,n);u(P(o.closest("skuid__list")[0]))}})}return p[e]});c.set("dragDropFragmentRow",g.dragDrop.createAcceptorFragment({parentComponent:c,mode:t.cpi.getMode(),emptyStateEnabled:false,inline:true,filter(e){return k.grab(e,"properties","classes",c.getStyledClasses("row__column"))},acceptanceCriteria:new f({acceptsBuilderIds:["list__column"]}),onDrop(e,n){const i=n.component;if(!i)return;const a=i.get("xmlState");const o=t.get("xmlState").find("columns");e=k.clamp(e,0,o.children().length);b.moveXmlToIndex(a,o,e);u(P(a.closest("skuid__list")[0]));t.cpi.getCanvasComponent().publish("updateColumnWidths")}}));t.cpi.createObserver({node:n.children("columns")[0],observe:{childList:true,subtree:true},callback:()=>{t.cpi.updateCanvasComponent({scheduleRender:false});c.publish("rebuildRows");c.publish("updateItemProps")}});t.cpi.createObserver({node:n.children("columns")[0],observe:{subtree:true,attributes:true,attributeFilter:["alt","displayStyle","displayType","fallback","fallbackType","fieldId","size","styleSettingsVariant","template","url"]},callback:()=>{t.cpi.updateCanvasComponent({scheduleRender:false});c.publish("updateItemProps")}});const m=()=>{t.cpi.createObserver({node:n.children("rowActions")[0],observe:{attributes:true,subtree:true,childList:true,attributeFilter:["label","icon","iconPosition"]}})};const h=()=>{t.cpi.createObserver({node:n.children("filters")[0],observe:{childList:true}})};n.children("rowActions").length&&m();n.children("filters").length&&h()},refresh(e){const t=e.get("xmlState").attr("model"),n=Object(l["k"])(t);const i=e.get("model");i.label=n?n.getLabel():F;i.labelPlural=n?n.getLabelPlural():M;i.fields=n?n.getFieldsList():[];I(i,t,{createRowData:O(n)});e.cpi.updateCanvasComponent({scheduleRender:false})},parseState(e,t){t=Object.assign({},t,{model:e.get("model")});if(t.title)t.title=x(t.title);if(t.filters){t.filters=t.filters.map(e=>{e.conditionName=e.conditionName||"_builderPlaceholder";return e})}else{t.filters=[]}return t},renderVDom(e){return p("div",{key:"list-builder"},[e.getCPI().getCanvasComponent().renderVDom()])},propHintMap:{listHeader__heading:{prop:"title"},listFooter__pagination:{category:"Display",prop:"pageSize"},"listFooter__page-size":{category:"Display",prop:"pageSize"},"filter--search":{category:"Search",prop:"enableSearch"}},componentSpoofMap:{skuid__filter:{builderId:"skuid__filter",filter:e=>e.type!=="search",cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false}},skuid__buttonGroup:{builderId:"actions",cache:true,filter:e=>{const t=e._&&e._.node;if(!t)return false;if(e._.index!==undefined&&e._.index!==0)return false;return["rowActions","massActions","actions"].includes(t[0].tagName)}}}});let D=new b.Builder({id:"list__column",name:"Column",xmlTag:"column",icon:"sk-webicon-ink:column",setUniqueId:false,hideWrapper:true,makeDraggable:true,alternateFramelessButtons:true,init(e){let t=e.get("xmlState"),n=t.closest("skuid__list");const i=e=>{const t=e.getParentComponent();return[].concat(t||[],t?i(t):[])};const a=i(e).find(e=>e.get("xmlState")&&e.get("xmlState").is("skuid__list"));e.set("listBuilderComponent",a);let o=n.attr("model");const r=e.getCPI();r.setDragManifest(new m({model:o,builderId:"list__column",isGlobalComponent:false}));e.addActionItem("","sk-webicon-ink:delete",()=>{e.remove()},"Remove");const l=()=>{a.cpi.save();a.cpi.refresh()};e.addActionGroup(g.makeAddFieldActionButton({component:a,showAvatar:true,showIcon:true,showImage:true,showTemplate:true,fieldBuilder:B,insertFieldStateHandler(e){t.find("items").append(e);l()},addTemplateHandler(){t.find("items").append('<item displayType="template" template="'.concat(_,'"/>'));l()},addImageHandler(){t.find("items").append('<item displayType="image" />');l()},addAvatarHandler(){t.find("items").append('<item displayType="avatar" />');l()},addIconHandler(){t.find("items").append('<item displayType="icon" />');l()}}),"Add Field(s)","sk-webicon-ink:edit-form")},renderVDom(e){return p("div",{styles:{padding:"8px",border:"1px dashed #ddd"}},[e.get("nodes")])},refresh(e){const t=e.getState().listBuilderComponent;t.cpi.updateCanvasComponent({scheduleRender:false});t.cpi.getCanvasComponent().publish("rebuildRows")},propertiesRenderer(e,t){const n=t.get("xmlState").attr("widthBehavior")==="fixed";const i=t.getState().listBuilderComponent;const a=()=>{t.save().rebuildProps();i.cpi.updateCanvasComponent({scheduleRender:false});i.cpi.getCanvasComponent().publish("updateColumnWidths")};e.setTitle("Column Properties");e.applyPropsWithCategories([{name:"Basic",props:[{id:"widthBehavior",type:"picklist",label:"Width behavior",defaultValue:"",picklistEntries:[{label:"Fill",value:""},{label:"Fixed",value:"fixed"}],onChange:()=>{a()}},...!n?[{id:"fillRatio",type:"number",label:"Fill ratio",defaultValue:1,onChange:()=>{a()}}]:[],...n?[{id:"width",type:"picklist",label:"Width",defaultValue:"",picklistEntries:[{label:"Extra small",value:6},{label:"Small",value:""},{label:"Medium",value:24},{label:"Large",value:48},{label:"Extra Large",value:72},{label:"Custom",value:-1}],onChange:()=>{a()}}]:[],...n&&t.get("xmlState").attr("width")==="-1"?[{id:"customWidthAmount",type:"csssize",label:"Custom width amount",onChange:()=>{a()}}]:[]]}],t.get("xmlState"))},defaultStateGenerator(e){if(e.fieldId){return S("\n\t\t\t\t\t<column>\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t".concat(N(e)[0].outerHTML,"\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</column>\n\t\t\t\t"))}return S("<column/>")}});const L={field:{label:"Field",icon:"sk-webicon-ink:edit-form"},template:{label:"Template",icon:"sk-webicon-ink:list-template"},avatar:{label:"Avatar",icon:"sk-webicon-ink:avatar"},icon:{label:"Icon",icon:"sk-webicon-ink:image"},image:{label:"Image",icon:"sk-webicon-ink:image"}};const B=new b.Builder({id:"list__item",xmlTag:"item",icon:"sk-webicon-ink:edit-form",hideWrapper:true,setUniqueId:false,makeDraggable:true,getSubtitle(e,t){switch(e.getAttribute("displayType")){case"field":let n=e.getAttribute("fieldId");return n?Object(r["b"])(n,t.modelFieldsMetadata)||n:null;case"template":return e.getAttribute("template");case"avatar":return"AVATAR";case"icon":return"ICON";case"image":return"IMAGE"}},getName(e){const t=L[e.attr("displayType")||"field"]||{};return t.label},getIcon(e){const t=L[e.attr("displayType")||"field"]||{};return t.icon},init(e){let t=e.get("xmlState"),n=t.closest("skuid__list").attr("model");e.getCPI().setDragManifest(new m({model:n,builderId:"list__item",isGlobalComponent:false}));e.addActionItem("Remove","sk-webicon-ink:delete",()=>{e.remove()})},renderVDom(e){return p("div",[e.get("nodes")])},propertiesRenderer(e,t){e.setTitle("Item Properties");const n=t.get("xmlState"),i=n.closest("skuid__list").attr("model"),o=b.getModelFromModelName(i),r=o&&o.attr("type")==="aggregate",l={id:"displayType",type:"picklist",label:"Type",defaultValue:"field",picklistEntries:[{label:"Field",value:"field"},{label:"Field Label",value:"fieldLabel"},{label:"Template",value:"template"}],onChange:e=>{if(e==="template"){t.get("xmlState").removeAttr("fieldId")}t.rebuildProps().refresh()}},s={id:"displayStyle",type:"picklist",label:"Display Style Override",picklistEntries:[{label:"None",value:""},{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Tertiary",value:"tertiary"}],onChange:()=>{t.refresh()}},d={id:"fieldId",type:"field",label:"Field",onChange:e=>{if(r){const n=o.find('> fields > field[name="'.concat(e,'"], > groupby > field[name="').concat(e,'"]'));t.get("xmlState").attr({fieldId:n.attr("id"),name:n.attr("name")})}t.rebuildProps().refresh()}},c={id:"url",type:"template",label:"Image URL",location:"attribute"},u={id:"alt",type:"template",label:"Alternate Text",location:"attribute"},p=[c,u],f=t.get("xmlState").attr("fallbackType"),m={id:"styleSettingsVariant",label:"Style Variant",type:"picklist",picklistEntries:[{value:"",label:"Default"},{value:"circular",label:"Circular"},{value:"square",label:"Square - Crop Image"},{value:"nocrop",label:"Square - Full Image"}]},h={id:"size",label:"Size",type:"picklist",defaultValue:"medium",picklistEntries:Object.keys(a["a"]).map(e=>({value:e,label:a["a"][e].label}))},g=[m,c,u,h,{id:"fallbackType",label:"Fallback Type",type:"picklist",picklistEntries:[{value:"",label:"Text"},{value:"icon",label:"Icon"}],onChange:()=>t.rebuildProps()},{id:"fallback",label:f==="icon"?"Fallback Icon":"Fallback Text",type:f==="icon"?"icon":"template",location:"attribute",onChange:()=>t.refresh()}],y=[m,{id:"fallback",label:"Icon",type:"icon",location:"attribute",onChange:()=>t.refresh()},h,u],v={id:"template",type:"template",label:"Template",location:"attribute",onChange:()=>t.refresh()},C={id:"delimiter",type:"string",label:"Delimiter",location:"attribute"},k=[];switch(t.get("xmlState").attr("displayType")){case"avatar":k.push(...g);break;case"image":k.push(...p);break;case"icon":k.push(...y);break;case"template":k.push(l,s,v);break;default:if(t.get("xmlState").attr("type")!=="CHILDREL"){k.push(l,s,d)}else{k.push(l,s,v,C)}break}e.applyPropsWithCategories([{name:"Basic",props:k}],t.get("xmlState"))},defaultStateGenerator(e){return N(e)}});const V=new b.Builder(Object.assign({},u["a"],{xmlTag:"action",name:"Mass Action"}));const j=new b.Builder(Object.assign({},u["a"],{xmlTag:"action",name:"Row Action"}));var G=R;if(e.platform.hasFeature("PageComposerStaging")){R.registerChildBuilder(V);R.registerChildBuilder(j);b.registerBuilder(R);b.registerBuilder(D);b.registerBuilder(B)}},161:function(t,n,i){"use strict";function a(t){const n=t.get("buttonInstance"),i=t.get("fileController");n.set("onClick",undefined);t.subscribeChange("buttonIcon",e=>n.set("icon",e));t.subscribeChange("buttonLabel",e=>n.set("label",e));i.removeError();i.isNewRow=true;t.subscribeChange("fileController",e=>e.removeError());t.subscribeChange("defaultImage",n=>{const i=t.get("imageComponents");i&&i.image.set({defaultImage:n,imageSrc:e.utils.getDefaultImageUrl(n||"person")})})}const o=e.builder,r=o.core,l=o.ink,s=o.desktop,d=r.propertyRenderers,c=e.utils,u=c.makeXMLDoc,p="skuid__file",f=e.componentType.get(p);f.initBuilder=a;const m=new r.Builder({id:p,name:"File Upload",icon:"sk-webicon-ink:upload",componentType:p,indexSelectors:{unsurfaced:"uploadSuccessActions, uploadFailureActions"},getSubtitle(e){return e.getAttribute("buttonLabel")},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/file-upload/",n=s.getDescriptionTag(),i='The File Upload component lets users upload and associate files with a data source object. Uploaded files can be viewed or removed.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">File Upload component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){r.handleModelRemove(e,t,{component:n});r.handleModelIdChange(e,t)},init(e){const t=e.get("xmlState");let n=false;e.cpi.setCanvasComponent();if(!t.attr("displayAs")){t.attr("displayAs","filename");n=true}e.builderCPI.updateStoreAs();n&&e.cpi.save()},parseState(e,t){return Object.assign({},t,{editable:false})},refresh(e){e.cpi.updateCanvasComponent(undefined,()=>{const t=e.cpi.getCanvasComponent();t.set("defaultImage",e.get("xmlState").attr("defaultImage")||"person")})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(t,n){const i=n.builderCPI,a=n.get("xmlState"),o="File Properties",s=a.attr("model"),c=i.updateStoreAs(),u=i.getUploadMethods(s,a.attr("datasource")),p={id:"model",type:"model",label:"Parent Model",helptext:'The Model in whose record(s) this File will be stored, stored in the specified "File storage location".',required:false,entryFilter(e){const t=i.getUploadMethods(e.attr("id"),e.attr("datasource"));return!!(t&&t.length)},onChange(e){const o=i.getUploadMethods(e,a.attr("datasource")),r=n.updateAutoCreatedEditorCondition;if(r)r.call(n);a.removeAttr("idField label defaultImage editable deletable");if(o&&o.length){a.attr("storeAs",o[0].value)}a.attr("displayAs","filename");n.save().refresh().rebuildProps(t)}},f={id:"defaultImage",type:"picklist",label:"Default Image",defaultValue:"person",helptext:"A default image to display if an image has not been displayed yet.",picklistEntries:[{label:"Person",value:"person"},{label:"Org",value:"org"}],onChange(){n.save().refresh()}},m={id:"editable",type:"boolean",label:"Allow Editing",defaultValue:true,helptext:"If true, a yellow pencil icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."},h={id:"deletable",type:"boolean",label:"Allow Removal",defaultValue:true,helptext:"If true, a red delete icon will be shown when hovering over this File's preview, allowing users to upload a different File as a replacement."},g={id:"buttonLabel",type:"text",label:"Upload Button Label",helptext:"The label for this File Component/field button.",onChange(){n.refresh()}},b={id:"buttonIcon",type:"icon",label:"Upload Button Icon",helptext:"The icon for this File Component/field button.",onChange(){n.refresh()}},y={id:"description",type:"text",label:"File Description"},v={id:"fileName",type:"text",label:"File Name",helptext:"If this is left blank, the filename will not change."},C={id:"snippetName",type:"snippet",label:"Snippet to Run on Completion"},k={id:"storeAs",type:"picklist",label:"File storage location",defaultValue:"field",helptext:"The File Component allows you to store an uploaded file in the following ways: "+"(1) In a field on this object that is a lookup to the Skuid Image object, e.g. Profile_Photo__c. This is useful when this particular File will need to be retrieved later, e.g. a Profile Photo or a Transcript."+"(2) As an Attachment to the record containing in this Model. This is useful for generic File Attachments that do not be referred to by their purpose.",picklistEntries:u.filter(e=>!e.hideInBuilder),onChange(e){a.removeAttr("idField label defaultImage editable deletable displayAs");const o=i.getUploadMethods(a.attr("model"),a.attr("datasource")),r=i.getCurrentUploadMethod(o,e);if(r&&r.forcestoreAsFileName){a.attr("displayAs","filename")}n.save().refresh().rebuildProps(t)}},S={id:"idField",type:"field",addFieldToModel:true,label:"Field Name",helptext:"The Skuid Image lookup field on this object that this File will be stored in.",modelprop:"model",displayTypeFilter:"REFERENCE",refFilter:"skuid__Image__c"},w={id:"displayAs",type:"picklist",label:"Display As",defaultValue:"filename",helptext:"Once a File has been uploaded, should just the File's name be shown, or should a preview of the File / the image stored in the File be shown?",picklistEntries:[{label:"File Name",value:"filename"},{label:"File Preview/Image",value:"image"}],onChange(){n.refresh().rebuildProps(t)}},x={id:"saveTo",type:"picklist",label:"Save To",picklistEntries:[{label:"Data Source",value:""},{label:"Field on Model",value:"field"}],onChange(){a.attr("model","");a.removeAttr("storeAs");i.updateStoreAs();n.rebuildProps(t)}},I={id:"enforceMaxFileSize",type:"boolean",label:"Enforce Max File Size?",onChange:()=>n.rebuildProps()},T={id:"maxFileSize",type:"custom",label:"Max File Size",validator:r.validators.integerOnly,renderProperty(t){const n=[{value:"000000000",label:"GB"},{value:"000000",label:"MB"},{value:"000",label:"KB"},{value:"",label:"B"}],{state:i,element:a,updateState:o}=t,l="maxFileSize",s=i.attr(l)||"";let c=n.find(e=>s.endsWith(e.value)),u=s.substring(0,s.length-c.value.length);if(t.readonly){return d.readonly(s)}const p=(e,t)=>{u=e||u;c=t?n.find(e=>e.value===t):c;o(l,"".concat(u).concat(c.value))};a.append(d.picklist({isStateless:true,value:c.value,picklistEntries:n,onChange:e=>{p(null,e)}}).css({width:"50px",float:"right"}),e.$("<div>").append(r.getValueEditorFromMetadata({isStateless:true,valueFunction:()=>u,validator:r.validators.integerOnly,onChange:e=>{p(e)}})).css("margin-right","58px"));return a}},A={name:"Advanced",props:[I]};if(a.attr("enforceMaxFileSize")==="true"){A.props.push(T)}A.props.push(r.coreProps.uniqueIdProp({component:n}));let P=[x],_=i.getCurrentUploadMethod(u,c);if(!a.attr("saveTo")){if(_&&_.hasParent){P.push(p)}if(_&&_.hideInBuilder){k.picklistEntries.push({label:_.label,value:_.label})}if(!s){P=[...P,...r.getDataSourceSelectionProps(n,t,{filter:e=>!!e.getUploadMethods})]}if(k.picklistEntries.length<2){k.type="readonly"}P.push(k);if(_){if(_.needsFieldContext){P.push(w);P.push(S)}if(_.hasLabel){P.push(g);P.push(b)}if(a.attr("displayAs")==="image"){P.push(f)}if(_.needsFieldContext){P.push(m,h)}if(_.hasName){P.push(v)}if(_.hasDescription){P.push(y)}if(_.canRunPostUploadSnippet){P.push(C)}if(_.builderProps){if(typeof _.builderProps==="function"){P=P.concat(_.builderProps(n,a))}else{Array.prototype.push.apply(P,_.builderProps)}}}}else{P.push({id:"model",type:"model",label:"Model"},{id:"field",modelprop:"model",type:"field",label:"Field",displayTypeFilter(e){return["TEXT","STRING","TEXTAREA"].indexOf(e.displaytype)>-1}})}const F=[{name:"Basic",props:P,expanded:true},A,{name:"On-Upload Actions",tree:[r.getActionsTree({customNodeId:"uploadSuccessActions",label:"On-Upload Success Actions",linkedComponent:n,actionsIndent:0,props:[{type:"helptext",html:"Success Actions will be run only when a File is successfully uploaded."}]}),r.getActionsTree({customNodeId:"uploadFailureActions",label:"On-Upload Failure Actions",linkedComponent:n,actionsIndent:0,props:[{type:"helptext",html:"Failure Actions will be run if a File fails to upload. "+"The error message returned, if any, will be available "+"for display using the merge {{$Error.Message}}"}]})]},l.getInkStylesTab({component:n,propViewer:t,spacing:true}),r.getRenderingCategory({component:n,model:null,propViewer:t,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",showStyleVariantConditions:true})];if(_&&_.needsRecordContext){F.push(r.getContextCategory({propViewer:t,state:a,modelprop:"model"}))}t.setTitle(o);t.applyPropsWithCategories(F,a)},defaultStateGenerator(){return u('<skuid__file editable="true" storeAs="" displayAs="" deletable="true"/>')},cpi:{updateStoreAs(){const e=this.get("xmlState"),t=this.builderCPI.getUploadMethods(e.attr("model"),e.attr("datasource"));if(!e.attr("storeAs")&&t&&t.length){e.attr("storeAs",t[0].value);this.save()}return e.attr("storeAs")},getUploadMethods(t,n){const i=t&&r.getModelFromModelName(t),a=i?r.getDataSourceFromModel(i):e.dataSource.get(n||e.platform.getDefaultDataSourceName());if(a&&a.getUploadMethods){const e=[];c.eachObject(a.getUploadMethods(),(t,n)=>{["hasDescription","hasParent","hasLabel","hasName"].forEach(e=>{if(c.isUndefined(t[e])){t[e]=true}});const a=Object.assign({},t,{value:n});if(i&&(t.needsRecordContext||t.needsModelInContext)){e.push(a)}else if(!t.needsRecordContext){e.push(a)}});return e}else return[]},getCurrentUploadMethod(e,t){const n=e.filter(e=>e.value===t);if(n&&n.length){return n[0]}return null}}});var h=n["a"]=m;if(e.platform.hasFeature("PageComposerStaging")){r.registerBuilder(m)}},162:function(t,n,i){"use strict";var a=i(30);var o=i(5);const r=e.$,l=e.builder,s=l.core,d=e.utils,c=s.getConditionByName,u=s.getFieldInfoFromCache,p=e.constants.DISPLAY_TYPES;function f(e){return e==="select"||e==="multiselect"}function m(e,t,n){const i=e.attr("type"),a=e.attr("conditionfield")||e.attr("conditionField"),o=s.getModelFromModelName(t),r=o.children("conditions"),l=r.children();const c=[];if(l.length){if(i==="daterange"){c.push(s.getDateRangeAutoFilterStartConditionName(a),s.getDateRangeAutoFilterEndConditionName(a))}else if(i==="numericrange"){c.push(s.getNumericRangeAutoFilterStartConditionName(a),s.getNumericRangeAutoFilterEndConditionName(a))}else if(d.contains(i,"select")){c.push(s.getSelectAutoFilterConditionName(a))}}for(let i of c){const a=r.find('condition[name="'.concat(i,'"]'));if(!a.length){return s.addModelConditionsForAutoFilter(e,t)}a.attr("clientorserver",n)}}function h(e){const t="skuid__filterSet, skuid__table, skuid__deck, skuid__list",n=e.closest(t);let i;if(n.is(t)){i=n.attr("model")}else if(n.is("eventview")){i=n.attr("groupingmodel")}return i}function g(e){let t=e.attr("labelMode")==="manual"&&e.attr("label");switch(e.attr("type")){case"multiselect":return t||"Multiselect Filter";case"select":return t||"Select Filter";case"toggle":return t||"Toggle Filter";case"daterange":return t||"Date-Range Filter";case"numericrange":return t||"Numeric Filter"}}function b(e){return"__autofilter__"+e}function y(e){const t=h(e.get("xmlState")),n=s.actionSequences;let i=s.getAllModelsInPage().children('[id="'+t+'"]'),a;if(!i.length){let a=n.getActionSequenceFromChildAction(e.get("xmlState"));if(a){i=n.getModelXMLForPickerOfInputModel(a,t)}}a=i.children("conditions, havings").find("[name]");return a.map(function(){let e=r(this),t=e.attr("name"),i=n.removeInputMerge(t);if(!d.startsWith(t,"__autofilter__")){return{value:t,label:i}}})}function v(e){return function(t){if(t.calculated&&t.uiOnly){return false}return e.includes(t.displaytype)}}function C(e){const{xmlState:t}=e.getState();const n=()=>{const e=t.attr("conditionField");let n,a;if(e&&i){n=u(i,e);a=n?n.displaytype:false}return{metadata:n,displayType:a}};let i=h(t),a={id:"conditionField",type:"field",label:"Numeric Field",displayTypeFilter:v([p.INTEGER,p.NUMBER,p.DOUBLE,p.PERCENT,p.CURRENCY]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){s.adjustFieldForAutoFilterConditions(t,i,r)}else{s.addModelConditionsForAutoFilter(t,i)}t.attr("startConditionName",s.getNumericRangeAutoFilterStartConditionName(n));t.attr("endConditionName",s.getNumericRangeAutoFilterEndConditionName(n));e.cpi.save();e.cpi.refresh()}},o={id:"conditionField",type:"field",label:"Filter Field",displayTypeFilter:v([p.PICKLIST,p.MULTIPICKLIST,p.REFERENCE]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){s.adjustFieldForAutoFilterConditions(t,i,r)}else{s.addModelConditionsForAutoFilter(t,i)}t.attr("conditionName",s.getSelectAutoFilterConditionName(n));if(r!==n){t.children("conditions").remove()}e.save().refresh().rebuildProps()}},l={id:"conditionField",type:"field",label:"Date/Datetime Field",displayTypeFilter:v([p.DATE,p.DATETIME]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){s.adjustFieldForAutoFilterConditions(t,i,r)}else{s.addModelConditionsForAutoFilter(t,i)}t.attr("startConditionName",s.getDateRangeAutoFilterStartConditionName(n));t.attr("endConditionName",s.getDateRangeAutoFilterEndConditionName(n));e.cpi.save();e.cpi.refresh()}},d={id:"conditionSource",label:"Pick Options and Condition(s)",type:"picklist",defaultValue:"auto",picklistEntries:[{label:"Automatically",value:"auto",disabled:t.attr("type")==="toggle"},{label:"Manually",value:"manual"}],onChange(n){if(n==="manual"){const e=t.attr("conditionField");if(e){s.removeModelConditionsForAutoFilter(t,i)}}t.removeAttr("conditionField conditionName startConditionName endConditionName");e.save().refresh().rebuildProps()}},g={id:"type",type:"picklist",label:"Filter Type",defaultValue:"select",picklistEntries:[{label:"Date Range",value:"daterange"},{label:"Numeric Range",value:"numericrange"},{label:"Multi-select Option",value:"multiselect"},{label:"Select Option",value:"select"},{label:"Toggle",value:"toggle"}],onChange(n,a){if(a==="toggle"){t.children("effects").remove()}else if(f(a)&&!f(n)){t.children("conditions, sources").remove()}const o=t.attr("conditionField");if(o){s.removeModelConditionsForAutoFilter(t,i,a)}if(n==="toggle"&&t.attr("conditionSource")==="auto"){t.attr("conditionSource","manual")}t.removeAttr("conditionName startConditionName endConditionName conditionField");e.save().refresh().rebuildProps()}},C={id:"filterMethod",type:"picklist",label:"Filter Method",defaultValue:"server",helptext:'By default, filters are performed server-side; all records in the database that fit the criteria of the filter will be returned. To filter only the records present within the Skuid model, select "Client" instead.',picklistEntries:[{label:"Server",value:"server"},{label:"Client",value:"client"}],onChange(n){let a=t.attr("conditionfield")||t.attr("conditionField");let o=t.attr("conditionsource")==="auto"||t.attr("conditionSource")==="auto";if(a&&o&&e){m(t,i,n);e.save()}else{}if(e){e.rebuildProps&&e.rebuildProps();e.renderProperties&&e.renderProperties()}}},k={id:"conditionName",label:"Default Condition to Affect",helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options.",modelName:i,type:"condition",onChange(){e.cpi.refresh();e.cpi.rebuildProps()}},S=r.extend({},k,{helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options. Only conditions with multiple values are valid for a multi-select filter type.",filter(e){return e.attr("type")==="multiple"}}),w={id:"createFilterOffOption",label:'Create "None Selected" Option',helptext:"If checked, an option which turns off this filter will be added to the options list.",type:"boolean",defaultValue:false,onChange(){e.refresh().rebuildProps()}},x={id:"filterOffOptionLabel",label:'"None Selected" Option Text',type:"string",helptext:'If desired, you can change the text of the "Filter Off" option, to be something like "Any Status", "Any Record Type", etc.',defaultValue:"",onChange(){e.refresh()}},I={id:"labelMode",label:"Show Label above Filter",type:"picklist",helptext:"If desired, an always-visible label will be shown above this filter.",defaultValue:"no",picklistEntries:[{label:"Yes, use Field's label",value:"auto"},{label:"Yes, use custom label",value:"manual"},{label:"No",value:"no"}],onChange(){e.save().refresh().rebuildProps()}},T={id:"label",label:"Filter Label",type:"string",onChange(){e.refresh()}},A,P=t.attr("type"),_=t.attr("conditionSource")==="auto",F=[g],M={id:"conditionsToToggle",location:"node",type:"multipicklist",label:"Conditions to Toggle",entries:y(e),noneSelectedText:"Select Conditions..."},E={id:"autocompleteThreshold",label:"Switch Filter to Autocomplete at X Items",type:"number",helptext:"By default, Select Option filters will become Autocompletes when the count of items in their list reaches 25. Change this amount if you'd like that to happen at a higher or lower number."};const{metadata:N,displayType:O}=n(),R=N&&N.displaytype===p.REFERENCE;if(s.filterSupportsServer(e.get("xmlState"),i)){F.push(C)}F.push(d);if(!_){F.push(T);if(P!=="toggle"){F.push(P==="multiselect"?S:k);if(P==="select"||P==="multiselect"){F.push(E)}if(P==="numericrange"||P==="daterange"){k.id="startConditionName";k.label="(Start of Range) Model Condition to Affect",A={id:"endConditionName",label:"(End of Range) Model Condition to Affect",helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options.",modelName:i,type:"condition",onChange(){e.cpi.refresh();e.cpi.rebuildProps()}};F.push(A)}}else{F.push(M)}}if(_){switch(P){case"date":F.push(l);break;case"daterange":F.push(l);break;case"numericrange":F.push(a);break;case"multiselect":F.push(o);if(!R){F.push(E)}if(N&&O){F.push(s.getConditionOperatorPropObj(e,{id:"conditionOperator",label:"Filter Condition Operator",conditionType:"multiple",fieldMetadata:N,handleChange(n){const a=b(t.attr("conditionField")),o=c(a,i);if(o&&o.length){o.attr("operator",n);e.cpi.save()}},defaultValue:O===p.MULTIPICKLIST?"includes":"in"}))}break;case"select":F.push(o);if(!R){F.push(E)}break}F.push(I);if(t.attr("labelMode")==="manual"){F.push(T)}else{t.removeAttr("label")}}else{t.attr("labelMode","manual")}if(P==="select"||P==="multiselect"){if(!_){F.push(w);if(t.attr("createFilterOffOption")=="true"){F.push(x)}}else{F.push(x)}}if(!R&&f(P)){F.push({id:"displayAs",label:"Display As",type:"picklist",options:[{value:"",label:"Dropdown"},{value:"radioOrCheckboxes",label:P==="select"?"Radio":"Checkboxes"}],onChange(){e.save().rebuildProps()}},...t.attr("displayAs")==="radioOrCheckboxes"?[{id:"limitOptions",label:"Option Limit",helptext:"Set this to preview long lists of select options.  e.g. Set it to 4 to see 4 options initially with a button to reveal the rest.",type:"string"}]:[])}F.push({id:"rememberInPersonalization",label:"Remember last-selected filter value",helptext:"Skuid will remember each user's last filter value selection.",type:"boolean",defaultValue:true});return F}var k=i(50);const S=e.$,w=e.builder,x=w.core,I=w.ink,T=e.utils,A=T.makeXMLDoc,P=e.events.publish,_="skuidBuilderNeedSave",F=e.constants.DISPLAY_TYPES,M=F.REFERENCE,E="skuid__filter";const N=new x.Builder({id:E,name:"Filter",hideWrapper:true,hideFromComponentsList:true,icon:"sk-webicon-ink:filter",componentType:E,indexSelectors:{unsurfaced:"filters",ignored:"filtering"},getSubtitle(e,t){return e.getAttribute("label")||Object(a["b"])(e.getAttribute("conditionField"),t.modelFieldsMetadata)||e.getAttribute("id")||e.getAttribute("conditionField")},handleStateEvent(e,t,n){if(n.builderCPI.getParentState().prop("tagName").toLowerCase()==="field"){return false}let i=t.type==="model.condition.nameChange",a=t.type==="model.remove",o=t.type==="model.idChange",r=false;if(i){if(t.modelId===e.closest("[model]").attr("model")){if(e.attr("conditionName")===t.oldName){e.attr("conditionName",t.newName);r=true}S.each(e.find('effect[condition="'+t.oldName+'"]'),function(){S(this).attr("conditionName",t.newName);r=true})}}else if(a||o){S.each(e.find('source[model="'+(o?t.oldId:t.modelId)+'"]'),function(){if(o){S(this).attr("model",t.newId);r=true}else if(a){S(this).remove();r=true}})}if(r){P(_);n&&P("skuidBuilderComponentNeedsRefresh",[n])}return false},init(t){const n=t.builderCPI.getParentState(),{model:i,uniqueid:a}=n.attr(),r="filter-builder-".concat(a),l=Object(o["k"])(i),s=e.$M(r)||new e.model.Model({id:r,accessible:true,createable:true,label:l&&l.getLabel(),labelPlural:l&&l.getLabelPlural(),fields:l&&l.getFieldsList(),doClone:false,dataSourceName:"Ui-Only"}).initialize().register();t.set({model:s});t.storeSubscription(e.events.subscribe("skuid.builder.modelPropChanged",e=>{if(e===n.attr("model"))t.refresh()}));t.getCPI().setComponentDefinitionProcessor(new e.component._ComponentDefinitionProcessor({logErrors:false,getModel:t=>{if(t===n.attr("model"))return s;return e.$M(t)}}));const d=t.cpi.setCanvasComponent();d.subscribeChange("filterRenderer",e=>{const t=e.type&&e.type(),n=[{options:[{label:"Option 1",value:"1"},{label:"Option 2",value:"2"}]}];if(["skuid__radioList","skuid__checkboxList"].includes(t)){e.set("optionGroups",n);e._cpi.processOptionGroups();e.subscribeChange("optionGroups",()=>{e.set("optionGroups",n,{renderOnChange:false})})}});t.addActionItem("Remove","sk-webicon-ink:delete",()=>{const e=t.get("xmlState"),n=h(e);x.removeModelConditionsForAutoFilter(e,n);t.remove()})},refresh(e){e.cpi.updateCanvasComponent()},parseState(e,t){return Object.assign({},t,{model:e.get("model")})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(t,n){const i=[{name:"Basic",props:C(n)}],a=n.get("xmlState"),o=a.parents("skuid__filterSet").first(),r=o.length?!o.attr("layout"):true;let l=a.attr("type"),s=a.attr("conditionSource");t.setTitle("Filter Properties");if(!s){s=l?"manual":"auto";a.attr("conditionSource",l)}if(!l){l="select";a.attr("type",l)}if(f(l)&&s!=="auto"){i.push({name:"Sources",tree:{id:"sources",label:"Option Sources",addtooltip:"Add Option Source",deleteable:false,icon:"sk-bi-source",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"source",labelFunction(e){let t="Source: ",n=e.attr("type");if(n==="metadata")t+="Picklist Options";else if(n==="model")t+="Rows in a Model";else if(n==="manual")t+="Manual";else if(n==="custom")t+="Result of Snippet";return t},icon:"sk-bi-source",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Option Source",deletetooltip:"Remove Option Source",childrenFunction(n){let i=[],o=n.get("xmlState");if(o.attr("type")==="manual"){i.push({id:"option",labelFunction(e){return e.attr("label")},invisibleParent:"options",indent:1,icon:"sk-webicon-ink:success",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Option",deletetooltip:"Remove Option",childrenFunction(e){let t=[];if(e.get("xmlState").attr("type")==="complex"){t.push({id:"effect",labelFunction:x.getEffectItemLabel,invisibleParent:"effects",indent:3,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:x.getEffectItemProperties,defaultStateFunction(){return A('<effect action="set" value=""/>')}})}return t},propsFunction(n){let i={id:"type",type:"picklist",label:"What Condition(s) will this Option affect?",defaultValue:"simple",picklistEntries:[{label:"Affect the Default Condition",value:"simple"},{label:"Affect Other Condition(s)",value:"complex"}],onChange(){n.get("xmlState").empty();n.element.children(".nx-childwrapper").empty();n.save().refresh().rebuildProps()}};let o={id:"label",label:"Label",type:"string",onChange(){n.refresh()}};let r={id:"value",label:"Value",type:"string",onChange(){n.refresh()}};const l=n.get("xmlState").attr("type");if(l==="simple"){const n=a.closest("[model]");const l=n.length&&n.attr("model");const s=a.attr("conditionName");const d=e.builder.core;const c=d.getModelFromModelName(l);const u=c&&c.find('condition[name="'.concat(s,'"]'));const p=u&&u.length&&u.attr("field");const f=t.metadata||p&&d.getFieldInfoFromCache(l,p);if(f.displaytype==="BOOLEAN"){r.type="boolean"}else{r=Object(k["b"])(r,l,s)}return[i,o,r]}else if(l==="complex"){return[i,o]}},defaultStateFunction(){return A('<option label="New Option" type="simple"/>')}})}else if(["justothers","defaultandothers"].includes(o.attr("effectsbehavior"))){i.push({id:"effect",labelFunction:x.getEffectItemLabel,invisibleParent:"effects",indent:1,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:x.getEffectItemProperties,defaultStateFunction(){return A('<effect action="set" value=""/>')}})}return i},propsFunction(e){let t=e.get("xmlState");let n={id:"type",type:"picklist",label:"Source Type",defaultValue:"manual",picklistEntries:[{label:"Manual",value:"manual"},{label:"Rows in a Model",value:"model"},{label:"Picklist Options for Default Condition's Field",value:"metadata"},{label:"Custom Source (Snippet)",value:"custom"}],onChange(n){e.get("xmlState").empty();e.element.children(".nx-childwrapper").empty();const i=()=>{e.save().refresh().rebuildProps()};if(n!=="metadata")return i();const a=t.closest("skuid__filter");if(!a.length)return i();const o=a.attr("conditionName");if(!o)return i();const r=a.closest("[model]");const l=r.length&&r.attr("model");const s=l&&x.getModelFromModelName(l);if(!s)return i();const d=s.find('condition[name="'.concat(o,'"]'));const c=d.length&&d.attr("field");if(!c)i();x.addFieldToModel({fieldId:c,model:s});i()}};let i={id:"effectsbehavior",type:"picklist",label:"Which Conditions will this Source's Options affect?",defaultValue:"justdefault",picklistEntries:[{label:"Just the Default Condition",value:"justdefault"},{label:"Default Condition and others",value:"defaultandothers"}],onChange(n){if(n==="justdefault"){t.remove("effects");e.element.children(".nx-childwrapper").empty()}e.save().refresh().rebuildProps()}};let a,o=t.attr("model"),r=o&&x.getModelFromModelName(o);if(r){a=T.getNameField(r.attr("sobject"))}if(!a)a="Name";let l={id:"labeltemplate",type:"string",defaultValue:"{{{"+a+"}}}",label:"Option Label Template",helptext:'Defines the visible label for each auto-created Filter Option. Example: "Account: {{Name}}". Defaults to {{{Name}}}.'};let s={id:"valuetemplate",type:"string",defaultValue:"{{Id}}",label:"Value to inject into Default Condition",helptext:'Defines the value for each auto-created Filter Option, which will be injected into the Default Condition when the Option is chosen. Defaults to "{{Id}}", but can be any field included in the Model.'};let d={id:"prefix",type:"string",label:"Label Prefix (optional)",helptext:'Text to insert BEFORE each auto-generated Filter Option\'s label. For example, if your Filter is on a Status field with options like "New", "Closed", you might want Label Prefix to be "Status: ", so that your Option Labels will look like "Status: New", "Status: Closed", etc.'};let c={id:"suffix",type:"string",label:"Label Suffix (optional)",helptext:"Text to be added after each auto-generated Filter Option's label."};let u={id:"snippet",type:"string",label:"Snippet Name",helptext:"The name of a Snippet which will dynamically return a list of Options to use to build this Filter."};let p={id:"model",type:"model",label:"Merge Source",helptext:"The Model whose first row's specified Merge Field's value will be used as the merge value for this Condition.",onChange(n,i,a){t.children("labeltemplate, valuetemplate").empty();t.children("effects").children("effect[value]").attr("value","{{Id}}");if(a&&n)e.refresh().rebuildProps()}};let f={manual:[n],model:[n,p,l,i],metadata:[n,d,c,i],custom:[n,u,i]};let m=t.attr("type"),h=t.attr("effectsbehavior"),g=f[m];if(m==="model"&&h!=="justothers"){g.push(s)}return g},defaultStateFunction(){return A('<source type="manual" effectsbehavior="justdefault"/>')}}]}})}else if(f(l)&&s==="auto"){let e=x.getFilterDefaultModelName(a.parent().closest("[model], [groupingmodel]")),o=a.attr("conditionField"),r=x.getModelFromModelName(e),l=x.getFieldInfoFromCache(e,o,r.attr("sobject"));if(l&&l.displaytype===M){i.push({name:"Lookup Filters",tree:{id:"conditions",label:"Lookup Filters",addtooltip:"Add Lookup Filter",deleteable:false,icon:"sk-webicon-ink:fallback",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"condition",icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Lookup Filter",deletetooltip:"Remove Lookup Filter",labelFunction(e){return x.getConditionDisplayString(e)},defaultStateFunction(){return A('<condition type="fieldvalue" operator="=" enclosevalueinquotes="true"/>')},propsFunction(n){let i=n.get("xmlState");if(!i.attr("operator")){i.attr("operator","=")}n.isReferenceFilterCondition=true;let a=x.getMetadataForField(n,{modelName:e});let o=[x.getConditionFieldPropObj(n,{sobject:x.getSObjectForField(n),modelName:e,showObjectPickerIfPolymorphic:true,handleChange(){n.rebuildProps(t)}}),x.getConditionOperatorPropObj(n,{fieldMetadata:a})];return o.concat(x.getConditionValueProperties(n,{handleRefresh(){n.rebuildProps(t)},modelName:e,validTypes:["fieldvalue","multiple","blank","userinfo","param","modelmerge","dependent"]}))}}]}})}}else if(l==="toggle"){i.push({name:"Effects",tree:{id:"effects",label:"Effects",addtooltip:"Add Effect",deleteable:false,icon:"sk-webicon-ink:fallback",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"effect",labelFunction:x.getEffectItemLabel,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:x.getEffectItemProperties,defaultStateFunction(){return A('<effect action="set" value=""/>')}}]}})}i.push(I.getInkStylesTab({component:n,propViewer:t,positioning:{isRow:r,item:{alignSelf:true,minWidth:true,maxWidth:true,ratio:true}},styleVariants:false}),x.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:t,showStyleVariantConditions:true}));t.applyPropsWithCategories(i,a)},defaultStateGenerator(){return A('<skuid__filter uniqueId="'.concat(T.generateUniqueId(),'" type="select" conditionSource="auto"/>'))},cpi:{getParentState(){const e=this.get("xmlState");return e.parent().parent()}}});if(e.platform.hasFeature("PageComposerStaging")){x.registerBuilder(N)}var O=n["a"]=N},17:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(e){if(typeof window==="object")n=window}e.exports=n},18:function(e,t,n){"use strict";var i="production"!=="production";var a=function(){};if(i){a=function(e,t,n){var i=arguments.length;n=new Array(i>2?i-2:0);for(var a=2;a<i;a++){n[a-2]=arguments[a]}if(t===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(t.length<10||/^[s\W]*$/.test(t)){throw new Error("The warning format should be able to uniquely identify this "+"warning. Please, use a more descriptive format than: "+t)}if(!e){var o=0;var r="Warning: "+t.replace(/%s/g,function(){return n[o++]});if(typeof console!=="undefined"){console.error(r)}try{throw new Error(r)}catch(e){}}}}e.exports=a},2:function(e,t,n){"use strict";n.d(t,"g",function(){return o});n.d(t,"i",function(){return r});n.d(t,"j",function(){return l});n.d(t,"q",function(){return d});n.d(t,"p",function(){return u});n.d(t,"e",function(){return m});n.d(t,"b",function(){return g});n.d(t,"v",function(){return b});n.d(t,"f",function(){return v});n.d(t,"h",function(){return C});n.d(t,"n",function(){return k});n.d(t,"c",function(){return S});n.d(t,"k",function(){return x});n.d(t,"o",function(){return T});n.d(t,"u",function(){return P});n.d(t,"s",function(){return _});n.d(t,"w",function(){return F});n.d(t,"m",function(){return M});n.d(t,"d",function(){return E});n.d(t,"t",function(){return O});n.d(t,"x",function(){return R});n.d(t,"r",function(){return D});n.d(t,"a",function(){return L});n.d(t,"l",function(){return B});const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a="1234567890",o={ADDRESS:"ADDRESS",ANYTYPE:"ANYTYPE",ARRAY:"ARRAY",BASE64:"BASE64",BOOLEAN:"BOOLEAN",BUTTONGROUP:"BUTTONGROUP",COMBOBOX:"COMBOBOX",CURRENCY:"CURRENCY",CUSTOM:"CUSTOM",DATE:"DATE",DATETIME:"DATETIME",DOUBLE:"DOUBLE",EMAIL:"EMAIL",ENCRYPTEDSTRING:"ENCRYPTEDSTRING",FORMULA:"FORMULA",ID:"ID",IMAGE:"IMAGE",INTEGER:"INTEGER",LOCATION:"LOCATION",MULTIBUTTONGROUP:"MULTIBUTTONGROUP",MULTIPICKLIST:"MULTIPICKLIST",NUMBER:"NUMBER",OBJECT:"OBJECT",PHONE:"PHONE",PICKLIST:"PICKLIST",PERCENT:"PERCENT",REFERENCE:"REFERENCE",STRING:"STRING",TEXT:"TEXT",TEXTAREA:"TEXTAREA",RICHTEXT:"RICHTEXT",TIME:"TIME",URL:"URL",UUID:"UUID"},r={CHILDREL:"CHILDREL",COMBO:"COMBO",FILE:"FILE",IMAGE:"IMAGE"},l={BOOLEAN:"boolean",NUMBER:"number",STRING:"string",OBJECT:"object",FUNCTION:"function",UNDEFINED:"undefined"},s={DEFAULT_DATA_SOURCE:"defaultDS"},d={JSON:"application/json",ZIP:"application/zip",FORM_URL_ENCODED:"application/x-www-form-urlencoded"},c={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE",MERGE:"MERGE"},u={GLOBAL:"global",MODEL:"model",ROW:"row"},p=["ink","ink-filetypes","font-awesome","foundation-icons","icons8-win10","ionicons","material-icons","lightning-icons"],f={"font-awesome":"Font Awesome 4","foundation-icons":"Foundation","icons8-win10":"Icons8 Windows 10",ink:"Ink","ink-filetypes":"Ink Filetypes",ionicons:"Ion","material-icons":"Material","lightning-icons":"Lightning Design"},m={SEARCH_CONDITION:"__default_searchbox",SEARCH_CONDITION_CLIENT:"__default_searchbox_client",GLOBAL_SEARCH_CONDITION:"search"},h={PAGE_REDIRECT:"pageredirect",PLATFORM_ACTION:"platform-action",REDIRECT:"redirect"},g={REUSABLE:"reusable",EVENT_TRIGGERED:"event-triggered",HOTKEY_TRIGGERED:"hotkey-triggered",VOICE_COMMAND:"voice-command"},b={COMPONENT:"component",MODEL:"model",PAGE:"page",SKUID:"skuid",GLOBAL:"global"},y={medium:1024,small:480},v={NOW:"NOW",YESTERDAY:"YESTERDAY",TODAY:"TODAY",TOMORROW:"TOMORROW",LAST_90_DAYS:"LAST_90_DAYS",NEXT_90_DAYS:"NEXT_90_DAYS",LAST_N_DAYS:"LAST_N_DAYS",NEXT_N_DAYS:"NEXT_N_DAYS",N_DAYS_AGO:"N_DAYS_AGO",LAST_WEEK:"LAST_WEEK",THIS_WEEK:"THIS_WEEK",NEXT_WEEK:"NEXT_WEEK",LAST_N_WEEKS:"LAST_N_WEEKS",NEXT_N_WEEKS:"NEXT_N_WEEKS",N_WEEKS_AGO:"N_WEEKS_AGO",LAST_MONTH:"LAST_MONTH",THIS_MONTH:"THIS_MONTH",NEXT_MONTH:"NEXT_MONTH",LAST_N_MONTHS:"LAST_N_MONTHS",NEXT_N_MONTHS:"NEXT_N_MONTHS",N_MONTHS_AGO:"N_MONTHS_AGO",LAST_QUARTER:"LAST_QUARTER",THIS_QUARTER:"THIS_QUARTER",NEXT_QUARTER:"NEXT_QUARTER",LAST_N_QUARTERS:"LAST_N_QUARTERS",NEXT_N_QUARTERS:"NEXT_N_QUARTERS",N_QUARTERS_AGO:"N_QUARTERS_AGO",LAST_YEAR:"LAST_YEAR",THIS_YEAR:"THIS_YEAR",NEXT_YEAR:"NEXT_YEAR",LAST_N_YEARS:"LAST_N_YEARS",NEXT_N_YEARS:"NEXT_N_YEARS",N_YEARS_AGO:"N_YEARS_AGO"},C={DEV:"development",PROD:"production",TEST:"test"},k={ERROR:"error",WARNING:"warning",INFO:"info"},S={SUM:"sum",AVERAGE:"avg",MAXIMUM:"max",MINIMUM:"min",MEDIAN:"med",COUNT:"count"},w={TOKEN_SHORTHAND_PREFIX:"@tk",PALETTE_SHORTHAND_PREFIX:"@palette"},x={ALT:18,BACKSPACE:8,CAPSLOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38},I={BLANK:"blank",DS_USER_INFO:"datasourceuserinfo",FIELD_VALUE:"fieldvalue",FORMULA:"formula",MODEL_MERGE:"modelmerge",PARAM:"param",USER_INFO:"userinfo"},T="styleSettingVariantNameMappings",A="local",P="salesforce",_="skuid-platform",F="visualforce",M="lightning",E="cordova",N="YYYY-MM-DD",O=typeof window!=="undefined"&&window.SKUID_RUNNING_TESTS,R={HEADER:50,EDIT_PAGE_BUTTON:51,DYNAMIC:1e3,TOAST:1e6,UI_BLOCKER:1000001},D=5,L={WRITEABLE:"writeable",READONLY:"readonly"},B="48.0";const V={ACCESS:L,ACTION_TYPES:h,ACTION_SEQUENCE_TYPES:g,AGGREGATION_TYPES:S,ALPHABET:i,CORDOVA:E,DATASOURCE:m,DATE_KEYWORDS:v,DATE_STORAGE_FORMAT:N,DIGITS:a,DISPLAY_TYPES:o,ENVIRONMENTS:C,EVENT_SCOPES:b,FIELD_TYPES:r,HTTP_VERBS:c,JS_TYPES:l,KEYCODES:x,LATEST_SFDC_API_VERSION:B,LIGHTNING:M,LOCAL:A,LOCAL_STORAGE_KEYS:s,LOG_LEVELS:k,MAPPED_STYLE_SETTINGS_TOKEN_NAME:T,MEDIA_QUERY_BREAKPOINTS:y,MERGE_CONTEXTS:u,MIME_TYPES:d,MODEL_CHANGE_DEBOUNCE_RATE:D,NATIVE:_,SALESFORCE:P,SCOPES:b,THEME_CONSTANTS:w,VALUE_SOURCES:I,VISUALFORCE:F,WEB_ICON_SET_LABELS:f,WEB_ICON_SET_PREFIXES:p,Z_INDICES:R};if(O)V.RUNNING_TESTS=O;t["y"]=V},20:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var r=n(18);var l=p(r);var s=n(43);var d=p(s);var c=n(33);var u=p(c);function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var m=function(){function e(t,n,i){f(this,e);this.type="style";this.isProcessed=false;var a=i.sheet,o=i.Renderer,r=i.selector;this.key=t;this.options=i;this.style=n;if(r)this.selectorText=r;this.renderer=a?a.renderer:new o}o(e,[{key:"prop",value:function e(t,n){if(n===undefined)return this.style[t];if(this.style[t]===n)return this;n=this.options.jss.plugins.onChangeValue(n,t,this);var i=n==null||n===false;var a=t in this.style;if(i&&!a)return this;var o=i&&a;if(o)delete this.style[t];else this.style[t]=n;if(this.renderable){if(o)this.renderer.removeProperty(this.renderable,t);else this.renderer.setProperty(this.renderable,t,n);return this}var r=this.options.sheet;if(r&&r.attached){(0,l["default"])(false,'Rule is not linked. Missing sheet option "link: true".')}return this}},{key:"applyTo",value:function e(t){var n=this.toJSON();for(var i in n){this.renderer.setProperty(t,i,n[i])}return this}},{key:"toJSON",value:function e(){var t={};for(var n in this.style){var i=this.style[n];if((typeof i==="undefined"?"undefined":a(i))!=="object")t[n]=i;else if(Array.isArray(i))t[n]=(0,u["default"])(i)}return t}},{key:"toString",value:function e(t){var n=this.options.sheet;var a=n?n.options.link:false;var o=a?i({},t,{allowEmpty:true}):t;return(0,d["default"])(this.selector,this.style,o)}},{key:"selector",set:function e(t){if(t===this.selectorText)return;this.selectorText=t;if(!this.renderable)return;var n=this.renderer.setSelector(this.renderable,t);if(!n&&this.renderable){var i=this.renderer.replaceRule(this.renderable,this);if(i)this.renderable=i}},get:function e(){return this.selectorText}}]);return e}();t["default"]=m},26:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var o=n(34);var r=f(o);var l=n(57);var s=f(l);var d=n(20);var c=f(d);var u=n(93);var p=f(u);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var h=function(){function e(t){var n=this;m(this,e);this.map={};this.raw={};this.index=[];this.update=function(e,t){var i=n.options,a=i.jss.plugins,o=i.sheet;if(typeof e==="string"){a.onUpdate(t,n.get(e),o)}else{for(var r=0;r<n.index.length;r++){a.onUpdate(e,n.index[r],o)}}};this.options=t;this.classes=t.classes}a(e,[{key:"add",value:function e(t,n,a){var o=this.options,l=o.parent,s=o.sheet,d=o.jss,u=o.Renderer,f=o.generateClassName;a=i({classes:this.classes,parent:l,sheet:s,jss:d,Renderer:u,generateClassName:f},a);if(!a.selector&&this.classes[t]){a.selector="."+(0,p["default"])(this.classes[t])}this.raw[t]=n;var m=(0,r["default"])(t,n,a);var h=void 0;if(!a.selector&&m instanceof c["default"]){h=f(m,s);m.selector="."+(0,p["default"])(h)}this.register(m,h);var g=a.index===undefined?this.index.length:a.index;this.index.splice(g,0,m);return m}},{key:"get",value:function e(t){return this.map[t]}},{key:"remove",value:function e(t){this.unregister(t);this.index.splice(this.indexOf(t),1)}},{key:"indexOf",value:function e(t){return this.index.indexOf(t)}},{key:"process",value:function e(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)}},{key:"register",value:function e(t,n){this.map[t.key]=t;if(t instanceof c["default"]){this.map[t.selector]=t;if(n)this.classes[t.key]=n}}},{key:"unregister",value:function e(t){delete this.map[t.key];if(t instanceof c["default"]){delete this.map[t.selector];delete this.classes[t.key]}}},{key:"link",value:function e(t){var n=this.options.sheet.renderer.getUnescapedKeysMap(this.index);for(var i=0;i<t.length;i++){var a=t[i];var o=this.options.sheet.renderer.getKey(a);if(n[o])o=n[o];var r=this.map[o];if(r)(0,s["default"])(r,a)}}},{key:"toString",value:function e(t){var n="";var i=this.options.sheet;var a=i?i.options.link:false;for(var o=0;o<this.index.length;o++){var r=this.index[o];var l=r.toString(t);if(!l&&!a)continue;if(n)n+="\n";n+=l}return n}}]);return e}();t["default"]=h},284:function(t,n){(function(e){let t=e.$,n=e.utils,i=e.visualizations=e.visualizations?e.visualizations:{},a=i.core=i.core?i.core:{},o=i.chart=i.chart?i.chart:{},r=i.map=i.map?i.map:{};a.AGG_FUNCTIONS={avg:{label:"Average",abbreviation:"AVG",value:"avg"},sum:{label:"Sum",abbreviation:"SUM",value:"sum"},max:{label:"Max",abbreviation:"MAX",value:"max"},min:{label:"Min",abbreviation:"MIN",value:"min"},count:{label:"Count",abbreviation:"COUNT",value:"count"}};a.DATE_GRANULARITIES={none:{label:"None",value:"none"},day:{label:"Day",value:"day",dayInterval:1},calweek:{label:"Calendar Week",value:"calweek",dayInterval:7},calmonth:{label:"Calendar Month",value:"calmonth",monthInterval:1},calquarter:{label:"Calendar Quarter",value:"calquarter",monthInterval:3},calyear:{label:"Calendar Year",value:"calyear",yearInterval:1}};a.getColorsArray=function(e){let n=[],i=e.children("value");if(i.length){t.each(i,function(){let e=t(this);n.push(e.text())})}return n};a.parseNodetoObj=function(e){let n={};t.each(e.get(0).attributes,function(){if(this.value){n[this.name]=this.value}});return n};a.utils={replaceElementTag(e,i){let a=n.makeXMLDoc("<".concat(i,">").concat(e.html(),"</").concat(i,">"));t.each(e[0].attributes,function(){a.attr(this.name,this.value)});return a}};a.methods={formatBorders(e,t){if(!e.chart)e.chart={};if(t.color)e.chart.borderColor=t.color;if(t.width)e.chart.borderWidth=t.width;if(t.radius)e.chart.borderRadius=t.radius}};o.methods={drawCenter(t,n,i,a,o,r){let l=n.plotWidth/2,s=n.plotHeight/2,d=t.group.element.getBBox(),c=Math.max(d.height/6,12),u=Math.max(d.height/24,10);if(!n.innerText){n.innerText=n.renderer.text("",l,s).css("text-anchor","middle").addClass("sk-chart-innertext").add()}if(r){n.innerText.attr({text:'<span style="font-size:'+c+"px;color:"+r+'" class="sk-chart-innertext-title">'+e.lib.Highcharts.numberFormat(i,0)+"%"+"</span>"+'<br><span style="font-size:'+u+"px;color:"+r+'">'+e.lib.Highcharts.numberFormat(a)+"</span>"+'<br><span style="font-size:'+u+"px;color:"+r+'">'+e.utils.decodeHTML(o)+"</span>"})}n.innerText.attr({x:l,y:s,transform:"translate("+t.group.translateX+","+t.group.translateY+")",style:"text-anchor: middle;",class:"sk-chart-innertext"})}};o.types={line:{label:"Line",value:"line",category:"line",metadata:{hasDataAxes:true,hasCategories:true,hasLegend:true,hasMultiAxis:true,isStackable:true}},spline:{label:"Spline",value:"spline",category:"line"},area:{label:"Area",value:"area",category:"line"},areaspline:{label:"Area Spline",value:"areaspline",category:"line"},column:{label:"Column",value:"column",category:"line"},bar:{label:"Bar",value:"bar",category:"line"},pie:{label:"Pie",value:"pie",category:"pie",metadata:{hasLegend:true,hasDataLabels:true},additionalProps(e,n){if(n===undefined)n="pie";if(e.plotOptions===undefined)e.plotOptions={};if(e.plotOptions[n]===undefined)e.plotOptions[n]={};t.extend(true,e.plotOptions[n],{tooltip:{headerFormat:"",pointFormat:"{point.name}: <b>{point.y}</b><br/>"}})}},donut:{label:"Donut",value:"donut",category:"pie",hcType:"pie",additionalProps(e){let i=o.types.donut.hcType;if(e.plotOptions===undefined)e.plotOptions={};if(e.plotOptions[i]===undefined)e.plotOptions[i]={};const a=function e(i){let a,r=i.hcObj,l=i.series;if(!l)return;t.each(l.data,function(){if(!a||this.y>a.y){a=this}});if(!n.isUndefined(a)){o.methods.drawCenter(l,r,a.percentage,a.y,a.name,a.color)}};t.extend(e.plotOptions[i],{innerSize:"70%",point:{events:{mouseOver(){o.methods.drawCenter(this.series,this.series.chart,this.percentage,this.y,this.name,this.color)},select(){this.slice(true);o.methods.drawCenter(this.series,this.series.chart,this.percentage,this.y,this.name,this.color)}}},events:{afterAnimate(){a({hcObj:this.chart,series:this})}}});t.extend(e.chart,{events:{endResize(){a({hcObj:this,series:this.series[0]})}}});o.types.pie.additionalProps(e,i)}},funnel:{label:"Funnel",value:"funnel",category:"pie",additionalProps(e){if(e.plotOptions===undefined||e.plotOptions.funnel===undefined||e.plotOptions.funnel.dataLabels===undefined||e.plotOptions.funnel.dataLabels===undefined||e.plotOptions.funnel.dataLabels.enabled===undefined||e.plotOptions.funnel.dataLabels.enabled===true){e.chart.marginRight=100;if(e.title!==undefined)e.title.x=-45;if(e.subtitle!==undefined)e.subtitle.x=-45}t.extend(true,e,{plotOptions:{series:{neckWidth:"30%",neckHeight:"25%"}}});o.types.pie.additionalProps(e,"funnel")}},pyramid:{label:"Pyramid",value:"pyramid",category:"pie",additionalProps(e){if(e.plotOptions===undefined||e.plotOptions.pyramid===undefined||e.plotOptions.pyramid.dataLabels===undefined||e.plotOptions.pyramid.dataLabels===undefined||e.plotOptions.pyramid.dataLabels.enabled===undefined||e.plotOptions.pyramid.dataLabels.enabled===true){e.chart.marginRight=100;if(e.title!==undefined)e.title.x=-45;if(e.subtitle!==undefined)e.subtitle.x=-45}o.types.pie.additionalProps(e,"pyramid")}},scatter:{label:"Scatter",value:"scatter",category:"scatter",metadata:{hasMultiAxis:true,hasDataAxes:true,hasXY:true,hasSize:true,hasLegend:true}},bubble:{label:"Bubble",value:"bubble",category:"scatter"}};t.each(o.types,function(){if(!this.metadata){this.metadata=o.types[this.category].metadata}});r.methods={formatDataLabels(e,n){if(n.format==="sk-off"){e.plotOptions.map.dataLabels.enabled=false}else if(n.format){e.plotOptions.map.dataLabels.formatter=function(){let e=this.point.name;if(n.format==="sk-data-value"){e=this.point.value}else if(this.point.properties&&this.point.properties[n.format]){e=this.point.properties[n.format]}return e}}if(n.color||n.bold||n.strokeColor||n.strokeWidth){let i=n.bold===true?"bold":"normal";t.extend(true,e.plotOptions.map.dataLabels,{style:{fontWeight:i}});t.extend(true,e,{drilldown:{activeDataLabelStyle:{fontWeight:i}}});if(n.color)e.plotOptions.map.dataLabels.style.color=n.color;if(n.strokeColor||n.strokeWidth){e.plotOptions.map.dataLabels.style.textShadow="0 0 "+(n.strokeWidth>=0?n.strokeWidth*2:"6")+"px contrast, 0 0 "+(n.strokeWidth>=0?n.strokeWidth:"3")+"px "+(n.strokeColor||"contrast")}}},formatRegions(e,t){if(t.color)e.plotOptions.map.borderColor=t.color;if(t.width)e.plotOptions.map.borderWidth=t.width;if(t.style)e.plotOptions.map.dashStyle=t.style},formatLegend(e,n){if(n.layout==="off"){e.legend={enabled:false}}else{let i={};if(n.layout)i.layout=n.layout;if(n.halign)i.align=n.halign;if(n.valign)i.verticalAlign=n.valign;if(n.backgroundcolor)i.backgroundColor=n.backgroundcolor;if(n.title){i.title={text:n.title}}if(!t.isEmptyObject(i))e.legend=i}}};r.defaultSettings={BACKGROUND_COLOR:"#9bc6cf",NULL_COLOR:"#eee",REGION_WIDTH:"0",LABEL_COLOR:"black",STROKE_WIDTH:"0"}})(e)},29:function(e,t,n){"use strict";var i=n(0);const a={row:Symbol("row"),model:Symbol("model"),enableConditions:Symbol("conds"),extras:Symbol("extras"),displayMethod:Symbol("displayMethod"),items:Symbol("items"),publicItems:Symbol("publicItems")};const{h:o,utils:r}=Object(i["d"])(),{$:l,model:s}=i["c"],d=e=>({_isChildRel:e.isChildRel,_fieldId:e.fieldId,_name:e.name,_displayType:e.displayType||"field",_template:e.template,_displayTemplate:e.displayTemplate,_component:e.component,_delimiter:e.delimiter,_maxDisplayCharacters:e.maxDisplayCharacters,_htmlFormatted:e.htmlFormatted,_noneLabel:e.noneLabel,_decimalPlaces:e.decimalPlaces,_redirectType:e.redirectType,_rootUrl:e.rootUrl,_page:e.page,_route:e.route,_linkWindow:e.linkWindow,_linkParams:e.linkParams});class c{constructor(e,t={}){this[a.row]=e.row;this[a.model]=e.model;this[a.enableConditions]=e.enableConditions||null;this[a.extras]=t;this[a.displayMethod]=e.displayMethod;if(e.items){this[a.items]=e.items.map(d)}else{this[a.items]=[d(e)]}this[a.publicItems]=this[a.items]}get name(){return this[a.publicItems][0]._name}get names(){return this[a.publicItems].map(e=>e._name)}get fieldId(){return this[a.publicItems][0]._fieldId}get fieldIds(){return this[a.publicItems].map(e=>e._fieldId)}get model(){return this[a.model]}get row(){return this[a.row]}set row(e){this[a.row]=e;this.updateDisplayInfo()}get displayType(){return this[a.publicItems][0]._displayType}get displayTypes(){return this[a.publicItems].map(e=>e._displayType)}get component(){return this[a.publicItems][0]._component}get components(){return this[a.publicItems].map(e=>e._component)}renderVDom(){return this.renderItemAtIndex(0)}renderItemAtIndex(e){const t=this[a.publicItems][e],{_referenceLink:n,_referenceOnClick:i,_displayHTML:r}=t,l=t._linkWindowOverride||t._linkWindow;return!(n||i)?o("span",{key:t,innerHTML:r}):o("a",{key:t,innerHTML:r,href:n||"#",onclick:i,target:n&&window&&l?"_".concat(l):null,tabindex:this[a.extras].tabIndex?this[a.extras].tabIndex:null})}get displayText(){return this[a.publicItems][0]._displayText}get displayTexts(){return this[a.publicItems].map(e=>e._displayText)}get items(){return this[a.publicItems]}get referenceLink(){return this[a.publicItems][0]._referenceLink}get referenceLinks(){return this[a.publicItems].map(e=>e._referenceLink)}get extras(){return this[a.extras]}get htmlFormatted(){return this[a.publicItems][0]._htmlFormatted}evaluateIsDisabled(){const e=this[a.enableConditions]||[],t=[];if(e.length&&e.children().length){e.children().each(()=>{t.push(new s.Condition(l(this)))});const n=r.areConditionsMet(t,{row:this[a.row],model:this[a.model],logicType:e.attr("logictype")});if(!n)return true}return false}updateDisplayInfo(){const e=this,t=e[a.row],n=e[a.model],o=n?n.getDataSourceType():null,l=o?o.name:null;e[a.publicItems]=e[a.items].map(e=>{const a=e._fieldId,o=e._name,s=o||a,d=e._displayType,c=r.getObjectProperty(t,s),u=typeof c==="undefined"?"":c,f={model:n,row:e.record||t};if(!n||!t)return e;if(e._component){e._component.set("context",f);return e}if(e._isChildRel&&t[s]){const i=t[s].records.map(i=>n.mergeRow(i,r.encodeHTML(e._template)||"",{parentRow:t,allowHTML:false,registerFields:false}));return Object.assign(e,{_displayHTML:i.map(e=>e.html()).join(r.encodeHTML(e._delimiter||"")),_displayText:i.map(e=>e.text()).join(e._delimiter||"")})}const m=n.getField(s),h=d==="template",g=h?"COMBO":m.displaytype||m.type,b=i["c"].component.displayMethodRegistry.get(g,l),y=b.getDisplayInformation(h?e._template:u,{model:n,row:e.record||t,fieldId:a,name:o,displayTemplate:e._displayTemplate,noneLabel:e._noneLabel,decimalPlaces:e._decimalPlaces,redirectType:e._redirectType,rootUrl:e._rootUrl,page:e._page,route:e._route,window:e._linkWindow,params:e._linkParams});let v=h?y.displayHTML:e._htmlFormatted?p(y.displayText):r.encodeHTML(y.displayText);return Object.assign(e,{_displayHTML:v,_displayText:y.displayText,_referenceLink:y.referenceLink||false,_referenceOnClick:y.onClick||false,_linkWindowOverride:y.target||false,_displayMethod:b})}).map(e=>{if(e._maxDisplayCharacters&&e._displayText.length>e._maxDisplayCharacters){e._displayText=e._displayText.substr(0,e._maxDisplayCharacters)+"...";e._displayHTML=e._displayText}return e})}}const u=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;function p(e){return e.replace(u,"")}t["a"]=c},30:function(t,n,i){"use strict";i.d(n,"b",function(){return g});i.d(n,"a",function(){return C});var a=i(5);var o=i(47);const r=e.builder,l=r.core,s=e.utils;const d=64;const c=[];const u=/Edge\/\d+/.test(window.navigator.userAgent);const p=(t,n)=>{return Array.from(u?e.$(t).find(n):t.querySelectorAll(":scope ".concat(n)))};const f="interactions, interaction, actions, action, optionGroups, optionGroup, options, option";const m="background, models, styles, resources, conditions, tooltip, hotkeys, renderConditions, enableConditions, styleVariantConditions";function h(e){if(!e.matches("action"))return false;const t=e.parentElement;if(t.matches("massActions, rowActions"))return true;const n=t&&t.parentElement;return!!n&&n.matches("skuid__table")}const g=(e,t)=>{let n=t&&t[e];if(!n)return"";return n.label||n.id||n.name};function b(t,n={}){Object.assign({surface:true},n);const i=Object(o["a"])(t),d=t.getAttribute("uniqueId")||t.getAttribute("uniqueid"),u=i?f+(i.indexSelectors.unsurfaced?", ".concat(i.indexSelectors.unsurfaced):""):n.unsurfacedSelector||f,g=i?m+(i.indexSelectors.ignored?", ".concat(i.indexSelectors.ignored):""):m,y=[],v=Array.from(t.children).filter(e=>!e.matches(g)).filter(e=>{if(e.matches(u)&&!h(e)){y.push(e);return false}return true});let C={name:d,data:t};const k=t.getAttribute("model");if(k){const e=r.getModelFromModelName(k)[0];const i=[...e?Array.from(e.querySelectorAll("field")).map(e=>e.getAttribute("id")):[],...p(t,"filters > skuid__filter").map(e=>e.getAttribute("conditionField"))];n.mostRecentModelFieldsMetadata=Object(a["h"])(k,i)}if(i){const n=e.$(t),a=i.neededNotices&&e.component.factory({type:"skuidbuilder__builderNotices",definition:{builder:i,state:n,neededNotices:i.neededNotices}});a&&c.push(a);C=Object.assign(C,{title:i.getName(n)||s.camelToTitle(t.tagName),icon:i.getIcon(n)||"",notices:a})}else{C=Object.assign(C,{title:s.camelToTitle(t.tagName.replace("skuid__","")),icon:"sk-webicon-ink:help"})}let S;if(i&&i.getSubtitle){S=i.getSubtitle(t,{modelFieldsMetadata:n.mostRecentModelFieldsMetadata})}if(!S)S=t.getAttribute("label")||t.getAttribute("title")||t.getAttribute("name");if(S)C.title="".concat(C.title," (").concat(S,")");if(t.tagName==="skuid__pageRegion"){const e=l.getPageXML().children("pageregioncontents").children('[regionid="'.concat(t.getAttribute("uniqueid"),'"]'))[0];if(e){C.sections=[b(e,n)]}}else if(v.length){const e=v[0];if(v.length==1&&!Object(o["a"])(e)&&!e.matches(g)){C.sections=Array.from(e.children).map(e=>{return b(e,n)})}else{C.sections=v.map(e=>b(e,n))}}if(!C.sections)C.sections=[];C._unsurfacedChildren=y||[];if(y.length){const e=t=>{t.forEach(t=>{const i=b(t,Object.assign(n,{unsurfacedSelector:u}));if(i.sections.length){C.sections=C.sections.concat(i.sections||[])}else if(i._unsurfacedChildren){e(i._unsurfacedChildren)}})};e(y)}C.sections=(C.sections||[]).filter(e=>e);return C}function y(){const e=l.getMasterPageXML();if(e)return e.children("components")[0];return l.getPageXML().children("components")[0]}let v;function C(){const t=()=>{c.forEach(e=>e.unregister());return b(y(),{}).sections||[]},n=s.debounce(()=>{i.set("sections",t());const e=r.componentRegistry.getSelectedComponent();if(e){i.getCPI().selectSectionByData(e.get("xmlState")[0])}},10,this);const i=e.component.createFromDefinition({componentType:"skuidbuilder__composerTree",fillButtonSpace:true,styleSettingsVariant:"pageBuilder",selectableFolders:true,indentMultiplier:2,minIndent:0,levelsShownByDefault:Infinity,sections:t(),emptyText:"No index to display",styles:{spacing:{marginTop:2}}});v&&v.disconnect();v=new MutationObserver(function(){setTimeout(()=>n())});const a=l.getPageXML().children("pageregioncontents")[0];let o=a&&a.hasChildNodes()?a:l.getPageXML().children("components")[0];v.observe(o,{attributes:true,childList:true,subtree:true});e.events.subscribe("skuid.pageComposer.component.selected",e=>{if(e.builder&&!e.builder.isInToolbar){i.getCPI().selectSectionByData(e.get("xmlState")[0],true)}});i.subscribe("viewchange",(t,n,a)=>{const o=r.selectedComponent,l=o&&o.get("xmlState"),s=o&&(l.attr("uniqueid")||l.attr("uniqueId"));if(o&&l[0]===n||t===s){o.cpi.select({focus:false});return}if(!["selectNextPrevious","click","keyboard"].includes(a.initiator))return;const c=e.$(n);const u="step, skuid__tabPanel, drawer, skuid__modal, skuid__slidingPanel";const p=Array.from(c.parents(u));const f=[];const m=e=>r.componentRegistry.getByState(e);if(c.is(u)){p.unshift(n)}const h=e.builder.componentRegistry.getComponentsList().filter(e=>{if(e.cpi.getBuilder()){return["skuid__modal","drawer","skuid__slidingPanel"].includes(e.cpi.getBuilder().id)}return false});if(h.length){h.forEach(e=>{if(!e.get("xmlState")[0].contains(n)){e.builderCPI.close()}})}p.reverse().forEach(t=>{const n=e.$(t);if(t.matches("skuid__modal")){e.builder.desktop.showModalBuilder({parentState:n.parent()});return}else if(t.matches("skuid__slidingPanel")){e.builder.desktop.showSlidingPanelBuilder({parentState:n.parent()});return}const i=m(n.parents("skuid__tabSet, skuid__tabContainer").first()[0]);if(i){i.builderCPI.showTabByIndex(n.index());if(!f.includes(i.projector))f.push(i.projector);return}const a=m(n.parents("skuid__wizard").first()[0]);if(a){a.builderCPI.showStepByIndex(n.index());if(!f.includes(a.projector))f.push(a.projector);return}if(t.tagName.toLowerCase()==="drawer"){const e=m(n.parents("skuid__table").first()[0]);e&&e.builderCPI.showDrawerBuilder({select:false});return}});f.forEach(e=>e.renderNow());let g=r.componentRegistry.getById(t);if(!g){g=r.componentRegistry.getByState(n)}if(n.tagName!=="skuid__modal"){r.pagebuilderui.cproperties.unsetFocusedProperty();g&&g.select({focus:false})}if(!g)return;const b=g.getElement();if(b&&document.contains(b)){const e=i.getParentPage();const t=e.getElement();const n=document.querySelector("#toolbar-and-buttons");const a=b.getBoundingClientRect().y-t.getBoundingClientRect().y;const o=n.getBoundingClientRect();window.scrollTo({top:a-o.height-d,behavior:"smooth"})}});return i}},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=a;var i=function e(t,n){var i="";for(var a=0;a<t.length;a++){if(t[a]==="!important")break;if(i)i+=n;i+=t[a]}return i};function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!Array.isArray(e))return e;var n="";if(Array.isArray(e[0])){for(var a=0;a<e.length;a++){if(e[a]==="!important")break;if(n)n+=", ";n+=i(e[a]," ")}}else n=i(e,", ");if(!t&&e[e.length-1]==="!important"){n+=" !important"}return n}},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=c;var i=n(18);var a=d(i);var o=n(20);var r=d(o);var l=n(90);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}function c(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"unnamed";var t=arguments[1];var n=arguments[2];var i=n.jss;var o=(0,s["default"])(t);var l=i.plugins.onCreateRule(e,o,n);if(l)return l;if(e[0]==="@"){(0,a["default"])(false,"[JSS] Unknown at-rule %s",e)}return new r["default"](e,o,n)}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=t.isBrowser=(typeof window==="undefined"?"undefined":i(window))==="object"&&(typeof document==="undefined"?"undefined":i(document))==="object"&&document.nodeType===9;t.default=a},38:function(t,n,i){"use strict";i.d(n,"a",function(){return ae});var a=i(2);var o=i(54);let r=e.$,l=e.ui,s=e.utils,d=e.time,c=d.parseSFDate,u=d.parseSFDateTime,p=d.getSFDate,f=d.getSFDateTime,m=e.$L,h=s.encodeHTML,g=s.startsWith,b,y,v="placeholder",C="keydown.action.skuid",k=a["g"].ANYTYPE,S=a["g"].ARRAY,w=a["g"].BOOLEAN,x=a["g"].COMBOBOX,I=a["g"].CURRENCY,T=a["g"].CUSTOM,A=a["g"].DATE,P=a["g"].DATETIME,_=a["g"].DOUBLE,F=a["g"].EMAIL,M=a["g"].ID,E=a["g"].INTEGER,N=a["g"].LOCATION,O=a["g"].MULTIPICKLIST,R=a["g"].NUMBER,D=a["g"].PERCENT,L=a["g"].PHONE,B=a["g"].PICKLIST,V=a["g"].REFERENCE,j=a["g"].RICHTEXT,G=a["g"].STRING,W=a["g"].TEXT,U=a["g"].TEXTAREA,z=a["g"].URL,q=a["i"].CHILDREL,H=a["i"].COMBO,X=a["i"].FILE,Y=a["i"].IMAGE,$=[w,I,A,P,_,M,E,D,a["g"].TIME];function K(e,t){let n=e.options&&e.options.addfocusbox;e.element.html('<div class="nx-fieldtext">'+t+(n?'<div class="focusbox" tabindex="0"/>':"")+"</div>")}function J(e){let t=e.model,n=e.row,i=t.getFieldValue(n,e.id),a=t.objectName,o=t.getNameFieldValueForRow(n),r;if(window.sforce&&sforce.interaction&&window.sendCTIMessage)r=window.sendCTIMessage;r&&r("/CLICK_TO_DIAL?DN="+encodeURIComponent(i)+(n.Id?"&ID="+n.Id:"")+"&ENTITY_NAME="+a+"&OBJECT_NAME="+encodeURIComponent(o))}function Q(e,t){let n=e.metadata;return n&&n.displaytype&&r.inArray(n.displaytype,$)!=-1?t:h(t)}function Z(e){let t=e.options,n=t&&t[v];return n||e.metadata[v]}function ee(t,n,i){let a=false;let l=[];function s(t,n,a){let o=r("<div>").addClass("nx-radiowrapper"),l=e.utils.generateGUID(),s=r('<input type="radio" name="'+i.buttonSetName+'">').addClass("nx-radio").prop("id",l).prop("checked",a).prop("disabled",i.mode==="read"||i.mode==="readonly").val(t),d=r("<label>").prop("for",l).addClass("nx-radiolabel").html(h(n)).appendTo(o);o.append(s,d);return o}if(i.makeNoneOption){l.push(s("",Object(o["a"])(i.noneLabel),!t))}r.each(n,function(e,n){if(n.value){let e=n.value==t&&n.label!=="";if(e&&!a)a=true;l.push(s(n.value,n.label,e))}});if(!a&&(t||t==="0"||t==="false")){let e=s(t,t,true);if(i.makeNoneOption)l.splice(1,0,e);else l.unshift(e)}return l}function te(e){if(!e)e={};let t=e.value,n=s.userLocale,i=e.decimalPlaces||0,a=e.decimalsSeparator||n.decimalsSeparator,o=e.thousandsSeparator||n.thousandsSeparator,l=e.prefix||"",d=e.suffix||"",c;if(!t&&t!==0)t="";if(t===""||!r.isNumeric(t))c=t;else if(!isFinite(t))c="-";else c=l+r.number(t,i,a,o)+d;return e.wrapInElement?r("<div>").text(c):c}function ne(e){let t={},n=function n(i,a){let o=e[i];if(typeof o!=="undefined")t[a]=o};n("showYearPicker","changeYear");n("showMonthPicker","changeMonth");n("yearPickerRange","yearRange");return t}function ie(e,t){let n,i;n=r('<div class="nx-field-lengthcounter"></div>');i=function e(i){n.text(+i+"/"+t.length);if(i>t.length){n.addClass("nx-field-lengthcounter-error")}else{n.removeClass("nx-field-lengthcounter-error")}};i(t.value?t.value.length:0);e.append(n);return i}b={AUTOCOMPLETE:{edit:function e(t){t=t||{};if(!t.minLength&&t.minLength!==0){t.minLength=2}let n=r("<input>"),i,a=function e(){if(i){i.removeClass("ui-icon ui-icon-search");i.addClass("nx-spinner-small")}},o=function e(){if(i){i.removeClass("nx-spinner-small");i.addClass("ui-icon ui-icon-search")}},l=function e(){if(typeof t.source=="function"){return function(e,n){t.source(e,n,a,o)}}else{return t.source}};n.autocomplete({minLength:t.minLength,source:l(),select:t.onChange,focus:t.onFocus,close:t.onClose,appendTo:t.appendTo}).val(t.value);if(t.menuRenderer){n.data("ui-autocomplete")._renderMenu=t.menuRenderer}if(t.optionRenderer){n.data("ui-autocomplete")._renderItem=t.optionRenderer}n.on("keyup",function(e){if(r(this).val()===""&&e.keyCode!==9){t.onClear&&t.onClear()}});n.focus(function(){n.autocomplete("widget").css("z-index",parseInt(n.closest(".ui-front").css("z-index"),10)+1)});n.blur(function(){t.onBlur&&t.onBlur()});n.attr("placeholder",t.placeholder||"Type to search");if(t.showSearchIcon&&t.parentElem){i=r("<div>").addClass("ui-icon ui-icon-search nx-field-reference-search").css({cursor:"pointer"});t.parentElem.append(i);if(t.parentElem.is(n)){n.css("padding-right","22px")}}return n}},BOOLEAN:{edit:function e(t){let n=r('<input type="checkbox">').prop("checked",t.value).change(function(){t.onChange&&t.onChange(r(this).is(":checked"));n.focus()});return n}},COMBOBOX:{edit:function t(n){n=n||{};let i=".nx-combobox-renderer-button",a=function e(t){let i=n.entries;if(s.isFunction(i)){i=i(t)}return s.resolve(i)},o=function e(t){return{value:l(t),label:d(t)}},l=function e(t){return s.isString(t)?t:t.value},d=function e(t){return s.isString(t)?t:t.label?t.label:t.value},c=n.getErrorContainer,u=n.invalidEntryMessage||"Only entries in this list are allowed.",p=function t(n,i){C();a(n.term).then(function(t){k();i(t.filter(function(e){let t=n.term?n.term.toLowerCase():"";let i=function e(n){return n.toString().toLowerCase().indexOf(t)>-1};if(s.isObject(e)){return r.map(e,function(e){if(i(e))return e}).length>0}else return i(e)}).map(function(e){return o(this||e)}));if(s.runningTests()){e.events.publish("combobox.entries.ready")}}).catch(function(e){c().show().text(e);k();i([])})},f=n.onChange,m=n.parentElem,h=n.showLabelInTextInput,g=n.originalValue,b=n.restrictToEntries,y=r("<div>").addClass("ui-icon ui-icon-search nx-field-reference-search").css({cursor:"pointer"}),v=r("<select/>"),C=function e(){let t=m.find(i);if(y){t.css("display","none");y.removeClass("ui-icon ui-icon-search").addClass("nx-spinner-small").css({top:"5px"})}},k=function e(){let t=m.find(i);if(y){y.removeClass("nx-spinner-small").addClass("ui-icon ui-icon-search");t.css("display","block")}},S=n.label,w=n.value,x=h&&S?S:w,I={appendDropdown:n.appendDropdown,originalValue:n.originalValue,showLabelInTextInput:h,parentElem:m,required:n.required,searchicon:y,source:p,value:x,onBlur:function t(n){let i=c(),p=r(n.target),m=p.data("value"),y=n.target.value;if(h&&m&&m!==y&&S&&y==S){y=m}if(!y&&!w)return;a(y).then(function(t){let n=t.find(e=>y===l(e)||y===d(e));let a=!!n;let r=a?o(n):{value:y,label:y};y=r.value;if(b&&!a){i.show().text(u);if(s.runningTests()){e.events.publish("combobox.entry.error")}}else{i.hide();if(w===y)return;g=w;w=r.value;S=r.label;if(h&&a&&S){p.data("value",w);if(p.val()!==S){p.val(S)}}f&&f(w,g,{item:r})}}).catch(function(e){i.show("Error fetching entries: "+e)})},onChange:function e(t,n){let i=r(this);g=w;S=n.item.label;w=n.item.value;c().hide();if(f){f(w,g,{item:n.item})}if(h&&S){i.data("value",w);n.item.value=S}},onFocus:function e(t){t.target.select()}},T;if(!h||!w||h&&n.label){T=v.combobox(I);if(x!==w){m.find("input").data("value",w)}return T}return a(w).then(function(e){let t=e.filter(function(e){if(s.isObject(e)){return r.map(e,function(e){if(w===e)return e}).length>0}else return w===e})[0],n,i;if(s.isObject(t)){i=l(t);n=d(t)}else i=t;if(i)w=i;if(n)S=n;x=h&&S?S:w;T=v.combobox(r.extend(I,{value:x,getInputValue:function e(){return w}}));if(x!==w){m.find("input").data("value",w)}return T})}},CURRENCY:{read:function t(n){if(!n)n={};let i=s.userLocale,a=s.userInfo.defaultCurrency,o=n.value,l=n.decimalPlaces||0,d=n.decimalsSeparator,c=n.thousandsSeparator,u=n.valueCurrencyCode,p,f;if(typeof d==="undefined")d=i.decimalsSeparator;if(typeof c==="undefined")c=i.thousandsSeparator;if(!o&&o!==0)o="";f=o!==""&&r.isNumeric(o)?r.number(o,l,d,c):o;if(o!==""&&r.isNumeric(o)){if(s.isMultiCurrencyOrganization){f=u+" "+f;if(u&&u!=a){p=s.convertCurrency(o,u,a);if(p&&p!=o){f+=" ("+a+" "+r.number(p,l,d,c)+")"}}}else{f=e.currency.getSymbol(a)+f}}return n.wrapInElement?r("<div>").text(f):f}},DOUBLE:{read:te},DATE:{edit:function e(t){t=t||{};let n,i=false,a,o=t.value&&c(t.value);n=r("<input>").datepicker(r.extend(ne(t),{onSelect:function e(o,r){let l=3-2,s=r.selectedMonth-0+l+"",d=r.selectedDay+"",c;if(s.length===1)s="0"+s;if(d.length===1)d="0"+d;c=r.selectedYear+"-"+s+"-"+d;a=n.val();t.onChange&&t.onChange(c);i=true;n.focus();setTimeout(function(){i=false},200)},beforeShow:function e(){setTimeout(function(){r(".ui-datepicker").css("z-index",parseInt(n.closest(".ui-front, .sk-pagepanel").css("z-index")||0,10)+1)},0);if(i)return false}})).on("click",function(){n.datepicker("show")});n.datepicker("widget").click(function(e){e.stopPropagation()});o&&n.datepicker("setDate",o);a=n.val();n.bind("change keyup",function(){let e=r(this).val();if(e!=a){a=e;let i;if(e!==""){i=p(n.datepicker("getDate"))}else{i=""}t.onChange&&t.onChange(i)}});return n}},DATETIME:{edit:function e(t){let n=r("<div>"),i=r("<input>"),a,o,l,c=false;if(t.value){a=u(t.value);n.data("usedate",a)}i.datepicker(r.extend(ne(t),{onSelect:function e(a,o){let r=new Date,l,s,u,p=n.data("usedate");if(p){l=d.getLocalDateTime(p)}else{l=d.getLocalDateTime(r);l.setHours(0,0,0,0)}l.setFullYear(o.selectedYear,o.selectedMonth,o.selectedDay);s=d.getRealJSDateTimeFromLocal(l);u=f(s);t.onChange&&t.onChange(u);n.data("usedate",s);c=true;i.focus();setTimeout(function(){c=false},200)},beforeShow:function e(){setTimeout(function(){r(".ui-datepicker").css("z-index",parseInt(i.closest(".ui-front, .sk-pagepanel").css("z-index")||0,10)+1)},0);if(c)return false}})).click(function(){i.datepicker("show")});t.value&&a&&i.datepicker("setDate",d.getLocalDateTime(a));i.datepicker("widget").click(function(e){e.stopPropagation()});let p=i.val(),m,h,g=r("<div>").addClass("nx-dt-timewrapper"),b,y,v;i.bind("change keyup",function(){if(r(this).val()!=p){p=r(this).val();let e;if(r(this).val()!==""){let t=i.datepicker("getDate")||new Date,a,o;t.setHours(0,0,0,0);a=d.getLocalDateTime(n.data("usedate")||t);a.setFullYear(t.getFullYear(),t.getMonth(),t.getDate());o=d.getRealJSDateTimeFromLocal(a);e=f(o);n.data("usedate",o)}else{e="";n.data("usedate",null)}t.onChange&&t.onChange(e)}}).addClass("nx-dt-dateinput");m=new Date;if(a){h=d.getLocalDateTime(a)}else{h=d.getLocalDateTime(m);h.setHours(0,0,0,0)}let C=s.userLocale,k=C.timeFormat,S,w=d.amPm,x=function e(t){let n=S+1<k.length&&k.charAt(S+1)===t;if(n)S++;return n},I=false,T=function e(){let i=d.getLocalDateTime(n.data("usedate")||new Date),a;i.setHours((parseInt(b.val(),10)+(v&&v.val()==="pm"?12:0))%24);i.setMinutes(y.val());a=d.getRealJSDateTimeFromLocal(i);n.data("usedate",a);t.onChange&&t.onChange(f(a))},A=function e(t){g.append(r("<span>"+t+"</span>"))},P,_=function e(t,n,i,a){t.append(r("<option "+(i?"selected ":"")+'value="'+n+'">'+(a&&n<10?"0"+n:n)+"</option>"))};for(S=0;S<k.length;S++){P=k.charAt(S);if(I){if(P==="'"&&!x("'")){I=false}else{A(P)}}else{switch(P){case"a":if(!v){let e=h&&h.getHours()>=12;v=r("<select>").html("<option "+(e?"":"selected ")+'value="am">'+w[0]+"</option>"+"<option "+(e?"selected ":"")+'value="pm">'+w[1]+"</option>").appendTo(g).on("change",T)}break;case"h":case"K":case"k":case"H":if(!b){b=r("<select>");o=x(P);let e,t=P==="h"||P==="K"?12:24;for(let n=0;n<t;n++){if(P==="h"&&n===0)e=12;else if(P==="k")e=n-0+1;else e=n;l=false;if(h){l=n===(t>12?h.getHours():h.getHours()%12)}else if(n===8)l=true;b.append(r("<option "+(l?"selected ":"")+'value="'+n+'">'+(o&&e<10?"0"+e:e)+"</option>"))}b.appendTo(g).on("change",T)}break;case"m":if(!y){y=r("<select>");o=x("m");let e=t.minuteIncrement||5,n=h?h.getMinutes():0,i=h&&n%e===0;for(let t=0;t<60;t=t+e){l=t===n;if(!i&&t>n){_(y,n,true,o);i=true}_(y,t,l,o)}y.appendTo(g).on("change",T)}break;case"'":if(x("'")){A("'")}else{I=true}break;default:A(k.charAt(S))}}}if(C&&C.showTimeBeforeDate)n.append(g,i);else n.append(i,g);return n}},ENTITY:{edit:function t(n){if(!n)n={};let i=r('<div style="position: relative;">'),a=n.value,o=n.readOnly,l=function t(){let i=n.dataSource;if(s.isFunction(i))return i();else if(i)return i;else return e.dataSource.get(e.platform.getDefaultDataSourceName())},d=function e(t){let i=n.filter;if(s.isFunction(i)){return i(t)}else{return l().getEntityList()}},c=n.getErrorContainer||function(){let e=i.parent();let t=e.find(".nx-property-error");if(!t.length){t=r("<div>").addClass("nx-property-error").css("margin-top","8px").insertAfter(i);e.css("display","block")}return t},u=n.invalidEntryMessage||"Please select a valid entity.",p=function e(t,i){l().getEntityMetadata({entities:{objectName:t},ignoreMetadataOverrides:true}).catch(function(e){c().show().text(e)});a=t;n.onChange&&n.onChange(t,i)},f="x-metadata",m,h,g,b;if(o){h=l();m=a;if(h&&h.dataSourceType){if(h.dataSourceType.prop&&s.size(h.dataSourceType.prop(f))){g=h.dataSourceType.prop(f)[a];if(g&&g.label){m=g.label}}else if(h.dataSourceType.getEntityLabel){b=h.dataSourceType.getEntityLabel(a,h);if(b)m=b}}i.addClass("nx-fieldtext").css("margin-top","6px").text(m||"")}else{i.append(ae(x).edit({appendDropdown:true,entries:d,getErrorContainer:c,invalidEntryMessage:u,onChange:p,parentElem:i,restrictToEntries:true,showLabelInTextInput:n.showLabelInTextInput,value:a}))}return i}},INTEGER:{read:function e(t){if(!t)t={};r.extend(t,{decimalPlaces:0});return te(t)}},MULTIPICKLIST:{edit:function e(t){if(!t.valueDelimiter)t.valueDelimiter=";";let n=t.value,i=t.checkboxSetName,o=t.entries,l=t.maxSelected,d=t.valueDelimiter,c=t.selectedList||t.selectedList===0?t.selectedList:3,u=t.selectedText||m("Number_Selected"),p=t.noneSelectedText||m("None_Selected"),f=false,g=t.required||false,b;if(!n)n="";let y=n.length?n.split(d):[],v=l&&y.length>=l,k=t.element||r("<div>"),S=n,w;if(t.renderas==="CHECKBOXES"){k.addClass("nx-fieldtext").css("padding","0px");b=function e(){if(f)return;else f=true;let n=k.find('input[type="checkbox"]'),i=n.filter(function(){return r(this).prop("checked")}).map(function(){return this.value}).get(),a;if(l){if(i.length>=l){a=[];let e=0;n.each(function(){let t=r(this);if(t.prop("checked")){if(e++<l){a.push(t.val());return true}else{t.prop("checked",false)}}t.prop("disabled",true)})}else{n.each(function(){if(r(this).prop("disabled"))r(this).prop("disabled",false)})}}w=(l&&a?a:i).join(d);t.onChange&&t.onChange(w,S);S=w;f=false};r.each(o,function(e,t){if(t.value){let e="";if(r.inArray(t.value,y)!==-1&&t.value!==""){e='checked="yes"'}let n=r("<div>").addClass("nx-checkboxwrapper"),a=r("<input "+e+' type="checkbox">').val(t.value).prop("id","mscb_"+i+"_"+t.value).addClass("nx-checkbox").appendTo(n),o=r("<div>").addClass("nx-checkboxlabel").appendTo(n);if(v&&!e){a.prop("disabled",true)}o.append(r("<label>").html(h(t.label)).prop("for","mscb_"+i+"_"+t.value));k.append(n)}});k.off();k.on("change","input",function(){b()})}else{let e=r('<select multiple="multiple">').appendTo(k);r.each(o,function(t,n){let i="",a;if(r.inArray(n.value,y)!==-1&&n.label!==""){i='selected="selected"'}a=r("<option "+i+">").attr("value",n.value).text(n.label);e.append(a)});b=function n(){if(f)return;else f=true;let i={};let a=e.multiselect("getChecked").map(function(){i[this.value]=1;return this.value}).get();let o;let s;let c;if(l){s=e.multiselect("widget").find('input[type="checkbox"]');if(a.length>=l){o=[];c=0;s.each(function(){let e=r(this),t=e.val();if(e.prop("checked")){if(c++<l){o.push(t);i[t]=1;return true}else{delete i[t];this.click()}}e.prop("disabled",true).closest("label").addClass("ui-state-disabled")});e.children().each(function(){let e=r(this);if(!i[e.val()]){e.prop("disabled",true).removeAttr("aria-selected")}else{e.attr("aria-selected","true")}})}else{e.children().each(function(){let e=r(this);e.prop("disabled",false).attr("aria-selected",i[e.val()]?"true":"false")});s.each(function(){r(this).prop("disabled",false).closest("label").removeClass("ui-state-disabled")})}}w=(l&&o?o:a).join(d);t.onChange&&t.onChange(w,S);S=w;f=false};e.multiselect({selectedText:u,noneSelectedText:p,checkAllText:m("Check_All"),uncheckAllText:m("Uncheck_All"),selectedList:c,position:t.position,autoOpen:false,classes:g?"required":"",close:function e(){r(this).parent().find("button.ui-multiselect").removeAttr("tabindex").focus();if(s._ie){r(this).multiselect("disable")&&r(this).multiselect("enable")}t.onClose&&t.onClose.call(this)},click:function e(t,n){b(t,n)},open:function t(){r(this).parent().find("button.ui-multiselect").attr("tabindex","-1");e.multiselect("widget").find("li").on(C,function(e){if(e.which===a["k"].TAB)e.stopPropagation()})},create:function n(){if(e.val()&&e.val().length>=l){e.children().each(function(){let e=r(this);if(!e.prop("selected")){e.prop("disabled",true).removeAttr("aria-selected")}})}t.onCreate&&t.onCreate.call(this)}}).on("multiselectcheckall multiselectuncheckall",function(e,t){b(e,t)});let n=e.data("echMultiselect")||e.data("ech-multiselect");n&&n.menu&&n.menu.on("focusin",function(e){e.stopPropagation()});e.multiselect("getButton").attr({role:"button",tabindex:0}).on(C,function(t){if(t.which===a["k"].ENTER||t.which===a["k"].SPACE){let t=e.multiselect("isOpen")?"close":"open";e.multiselect(t)}});if(o.length>5){e.multiselectfilter({label:"",placeholder:m("Enter_keywords")})}}return k}},PERCENT:{read:function e(t){if(!t)t={};r.extend(t,{suffix:"%"});return te(t)}},PICKLIST:o["b"],TEXT:{edit:function e(t){let n=t.inputType,i=t.onChange,a={},o=r("<input "+(n?' type="'+n+'"':"")+">").val(t.value),l=r("<div>");["inputMode","maxLength",v].forEach(function(e){if(t[e]){a[e.toLowerCase()]=t[e]}});if(s.size(a)){o.attr(a)}if(i){s.delayInputCallback(o,function(e,t){i(e,t)},{dataPropertyName:t.dataPropertyName})}l.append(o);if(t.length!==undefined){let e=ie(l,t);o.on("input",function(){e(o.val().length)})}return l}},TEXTAREA:{edit:function e(t){let n=t.onChange,i=t.displayRows,a=t[v],o=r("<div>"),l=r("<textarea>").val(t.value).appendTo(o);if(i){l.attr("rows",i).css({height:"100%"})}else{l.flexText()}if(a){l.attr(v,a)}s.delayInputCallback(l,function(e,t){n&&n(e,t)});if(t.length!==undefined){let e=ie(o,t);l.on("input",function(){e(l.val().length)})}return o}},RICHTEXT:{edit:function t(n){n||(n={});let i=r("<div>").append(r('<div class="nx-spinner">')),a;function o(t){let o=n.config||{};let l;let d;let c=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(o instanceof Array){o=r.extend.apply(this,r.map(o,function(e){if(typeof e==="function")e=e();return e}))}l={allowedContent:true,disallowedContent:"style script iframe",toolbar:c?"Mobile":"FieldEditor"};if(typeof o==="function"){o(l)}else{l=r.extend(l,o)}d=r('<div class="nx-richtext-input" id="'+(n.id||s.generateUniqueId())+'">').on("mousedown.sk-richtext focus.sk-richtext",u);if(n.value){d.html(n.value)}if(!i.parent().hasClass("disabled")){d.attr("contenteditable","true");d[0].style["-webkit-user-select"]="text";d[0].style["user-select"]="text"}else{d.attr("sk-contenteditabledisabled","true")}i.empty().append(d);if(n.initialize._initializeWhenReady===true){u();n.initialize=function(){}}else{n.initialize=u}function u(){if(i.parent().hasClass("disabled"))return;if(a)return;d.off("click.sk-richtext focus.sk-richtext");l.removePlugins="ckeditor-gwf-plugin";a=t.inline(d[0],l);i.parent().attr("sk-ckeditorname",a.name);a.config.customConfig=s.getStaticResourceUrl("CKEditor","skuid","config.js",s.getCacheTimestamp());a.config.uiColor="#DDDDDD";function o(){let e=r(".cke");let t=r(e[e.length-1]);t.insertAfter(r(d[0]));if(t){t.removeClass("cke-sf1-fix");t.addClass("cke-sf1-fix")}}if(e.utils._oniOS()&&e.utils._inIframe()){a.on("contentDom",o);r(d[0]).on("click",o)}let c=2,u=function e(t){n.onChange&&n.onChange(t,c)};a.on("change",function(){u(a.getData())});a.on("mode",function(){if(c===2)c=false;else c=!c});a.on("key",function(){if(c){u(a.getData())}});n.onCreated&&n.onCreated(a);if(n.afterInit){n.afterInit({ckInstance:a})}}}n.initialize=function(){n.initialize._initializeWhenReady=true};e.utils.loadRichTextApi().then(o);return i}},COLOR:{read:function e(t){return l.Color.read(t)},edit:function e(t){return l.Color.edit(t)}}};y={TEXT:{read:function e(t,n){if(!n&&n!==0)n="";if(t.options&&t.options.type==="PASSWORD"){n=Array(n.length+1).join("*")}if(!s.isString(n)){n=""+n}let i=t.options.maxDisplayCharacters,a=t.metadata,o=a&&a.displaytype===z,r=t.model.getDataSourceType(),l,d,c=false,u;if(o){if(n&&!s.contains(n,"//")&&!g(n,"/"))n="http://"+n;if(!i)i=40}d=n;i&&(i-=0);if(!isNaN(i)&&i>0&&i<n.length){n=n.substring(0,i)+"..."}let p;if(r&&r.getNameFieldURLForTextField){p=r.getNameFieldURLForTextField(t,d,n);if(p){c=true;n=p}}if(o&&!p){u=h(d);n='<a href="'+u+'">'+h(n)+"</a>"}if(a?a.htmlFormatted:false){l=s.removeScriptTags(n)}else{l=s.nl2br(c?n:h(n))}K(t,l)},readonly:function e(t,n){oe(W).read(t,n)},edit:function e(t,n,i){let a=t.options,o=Z(t),l;if(!n&&n!==0)n="";l={inputType:i,value:n,onChange:function e(n){t.model.updateRow(t.row,t.id,n,t._getUpdateRowOptions())}};if(a&&a.type==="PASSWORD"){l.inputType="password"}if(o){l[v]=o}if(t.options.showLengthCounter&&t.metadata.length){l.length=t.metadata.length}t.element.append(ae(W).edit(l),r("<div>").addClass("sk-focusbar"))}},TEXTAREA:{read:function e(t,n){if(t._ckInstance){t._ckInstance.destroy();delete t._ckInstance}oe(t,W).read(t,n)},readonly:function e(t,n){oe(U).read(t,n)},edit:function e(t,n){let i=t.options||{},a=Z(t),o=i.displayRows,r=i.showLengthCounter?t.metadata.length:undefined;if(!n&&n!==0)n="";if(t.metadata.htmlFormatted){t.disableBlur=true;t.element.append(ae(j).edit({afterInit:function e(n){t._ckInstance=n.ckInstance},config:[{uiColor:"#DDDDDD"},i.ckEditorConfig||{}],field:t,length:r,onChange:function e(n){t.model.updateRow(t.row,t.id,n,t._getUpdateRowOptions())},value:n}))}else{t.element.append(ae(U).edit({displayRows:o,length:r,onChange:function e(n){t.model.updateRow(t.row,t.id,n,t._getUpdateRowOptions())},placeholder:a,value:n}))}},destroy:function e(t){let n;if(t.metadata.htmlFormatted){n=ae(j);if(n.destroy)n.destroy({field:t})}}},RICHTEXT:{read:function e(t,n){t.metadata.htmlFormatted=true;return oe(t,U).read(t,n)},readonly:function e(t,n){return oe(j).read(t,n)},edit:function e(t,n){t.metadata.htmlFormatted=true;return oe(t,U).edit(t,n)}},DOUBLE:{read:function e(t,n,i,a){let o=t.metadata,r=t.options.decimalPlaces,l;if(r||r==="0"){l=parseInt(r,10)}else if(o&&o.scale){l=o.scale}if(!l||!s.isNumber(l)){l=0}K(t,ae(_).read({value:n,decimalPlaces:l,prefix:i,suffix:a}))},readonly:function e(t,n){oe(_).read(t,n)},edit:function e(t,n){if(!n&&n!==0)n="";let i=s.userLocale,a=r('<input inputmode="numeric">').val(n!==""&&r.isNumeric(n)?r.number(n,t.metadata&&t.metadata.scale?t.metadata.scale:0,i.decimalsSeparator,i.thousandsSeparator):n);s.delayInputCallback(a,function(e){let n=t.metadata.displaytype,o=false,r=i.thousandsSeparator,l=i.decimalsSeparator,d=e.indexOf(l),c=e.split(l),u=c[0],p=parseInt(c[1],10),f=c[1]?c[1].length:0,m=p.toString().length,h=a.val(),g,b,y={k:3,m:6,b:9,t:12},v=h.toLowerCase().charAt(h.length-1),C=Math.pow(10,y[v]),k=C/10,S=new RegExp("[^\\dbkm"+(l==="."?"\\"+l:l)+(r==="."?"\\"+r:r)+"-]|[bkm"+l+"]{2,}","ig").exec(h)===null;if(r===".")r="\\.";e=e.toString().replace(new RegExp(r,"g"),"").replace(l,".");g=parseInt(e,10);if(u==="")u=0;else if(u==="-")u=-0;if(S&&isNaN(C)==false){if(d!==-1){for(m;m>1;m--){k=k/10}for(b=0;b<f;b++){if(c[1][b]==="0")k=k/10;else break}k=u>=0&&1/u>0?p*k:-(p*k);e=u*C+k}else e=g*C}if(e){if(n===E){o=parseInt(e,10)}else{o=parseFloat(e)}}if(o!==false&&!s.isExactlyNaN(o))e=o;t.model.updateRow(t.row,t.id,e,t._getUpdateRowOptions())});t.element.append(a)}},INTEGER:{read:function e(t,n){K(t,ae(E).read({value:n}))},readonly:function e(t,n){oe(E).read(t,n)},edit:function e(t,n){oe(t,_).edit(t,n)}},PERCENT:{read:function e(t,n){oe(t,_).read(t,n,"","%")},readonly:function e(t,n){oe(D).read(t,n)},edit:function e(t,n){oe(t,_).edit(t,n)}},CURRENCY:{read:function e(t,n){let i=t.metadata,a=t.options?t.options.decimalPlaces:null,o,r=t.row,l;if(a||a==="0"||a===0){o=parseInt(a,10)}else if(i&&i.scale){o=i.scale}if(!o||!s.isNumber(o)){o=0}if(n!==""&&r&&s.isMultiCurrencyOrganization){l=s.getRowCurrency({row:r,model:t.model,field:t.id})}K(t,ae(I).read({value:n,decimalPlaces:o,valueCurrencyCode:l}))},readonly:function e(t,n){oe(I).read(t,n)},edit:function e(t,n){oe(t,_).edit(t,n)}},BOOLEAN:{read:function e(t,n){let i=r("<div>").addClass("nx-fieldtext").css("padding","0px"),a=r('<input type="checkbox">').prop({checked:n,disabled:"true"});i.append(a);if(t.editable&&t.mode!=="readonly")i.append('<div class="focusbox" tabindex="0"/>');t.element.append(i)},readonly:function e(t,n){oe(w).read(t,n)},edit:function e(t,n){if(n==="true")n=true;t.element.append(ae(w).edit({value:n,onChange:function e(n){t.model.updateRow(t.row,t.id,n,{initiatorId:t._GUID})}}))}},DATE:{read:function e(t,n){K(t,d.makeFormattedDate(n))},readonly:function e(t,n){oe(A).read(t,n)},edit:function e(t,n){let i=t.options;t.element.append(ae(A).edit({value:n,renderas:i.type,showMonthPicker:i.showMonthPicker,showYearPicker:i.showYearPicker,yearPickerRange:i.yearPickerRange,onChange:function e(n){t.model.updateRow(t.row,t.id,n,t._getUpdateRowOptions())}}))}},DATETIME:{read:function e(t,n){K(t,d.makeFormattedLongDateTime(n))},readonly:function e(t,n){oe(P).read(t,n)},edit:function e(t,n){let i=t.options;t.element.append(ae(P).edit({value:n,showMonthPicker:i.showMonthPicker,showYearPicker:i.showYearPicker,yearPickerRange:i.yearPickerRange,minuteIncrement:i.minuteIncrement,onChange:function e(n){t.model.updateRow(t.row,t.id,n,t._getUpdateRowOptions())}}))}},EMAIL:{read:function e(t,n){if(!n&&n!==0)n="";if(n!==""){n=h(n);n='<a href="mailto:'+n+'">'+n+"</a>"}K(t,n)},edit:function e(t,n){oe(t,W).edit(t,n,"email")},readonly:function e(t,n){oe(F).read(t,n)}},LOCATION:{read:function e(t,n){let i=".",a="DECIMAL",o,l="",s,d,c=t.options.type||t.metadata.type||a,u;if(n){s=n.latitude;d=n.longitude;if(c===a){u=function e(t){let n=(t+"").split(i);return r.number(t,n.length>1?n[1].length:1,i,"")+""};s=u(s);d=u(d);if(s)l+=s;l+=" ";if(d)l+=d}else{o="&#39;";u=function e(t,n){let i=t<0,a=Math.abs(t),r=Math.floor(a),l=(a-r)*60,s=Math.floor(l),d=Math.round((l-s)*60);return r+"&deg;"+s+o+d+o+o+(n?i?"S":"N":i?"W":"E")};s=u(s,true);d=u(d);if(s)l+=s;l+=" ";if(d)l+=d}}K(t,l)},edit:function t(n){let i=n.row,a=n.model,o=n.id,r=o.substring(0,o.length-1),l=r+"Latitude__s",s=r+"Longitude__s";let d=new e.ui.Field(i,a,{fieldId:l});let c=new e.ui.Field(i,a,{fieldId:s});d.render();c.render();n.element.append(d.element,c.element)},readonly:function e(t,n){oe(N).read(t,n)}},PHONE:{read:function e(t,n){if(window.sforce&&n&&l.showClick2Dial){oe(t,W).read(t,n);let e=l.click2Dial;if(!e)e=J;t.element.css("white-space","nowrap").append(r('<div class="sk-click2dial-wrapper">').append(r('<span class="ui-icon sk-icon sk-icon-phone inline">').attr("title","Click to dial")).on("click.skuid",function(){e(t)}).css("cursor","pointer"));t.element.children().css({display:"inline-block"})}else{let e;if(!n&&n!=="0"){n="";e=false}else{n=n+"";e=n.replace(/\D+/g,"")}if(n!==""){n=h(n);if(e||e==="0"){n='<a href="tel:'+e+'">'+n+"</a>"}}K(t,n)}},edit:function e(t,n){oe(t,W).edit(t,n,"tel")},readonly:function e(t,n){oe(L).read(t,n)}},PICKLIST:{read:function e(t,n,i){let a=r.extend({},t.options,i),o=t.metadata&&t.metadata.nameField,l=o?t.model.getDataSourceType():null,s=n,d,c,u=i&&i.picklistEntries||a.entries||a.picklistEntries,p,f;if(n===true||n===false){n=n+"";s=n}if(!u||u.length==0)u=t.getValidPicklistEntries();if(a.type==="RADIO_BUTTONS"){p=r("<div>").addClass("nx-fieldtext").css("padding","0px");f=ee(n,u,{makeNoneOption:!t.required||a.addNoneOption,mode:t.mode,buttonSetName:t.id+"_"+t._GUID,noneLabel:a.noneLabel});r.each(f,function(){p.append(this)});if(t.editable&&t.mode!=="readonly")p.append('<div class="focusbox" tabindex="0"/>');t.element.append(p)}else{if(u&&u.length){r.each(u,function(){if(this.value==n){if(this.label){s=this.label}return false}})}if(o&&l&&l.getNameFieldURLForTextField){c=l.getNameFieldURLForTextField(t,n,s);if(c){d=true;s=c}}K(t,s?d?s:h(s):"")}},readonly:function e(t,n,i){oe(B).read(t,n,i)},edit:function e(t,n,i){let a=r.extend({},t.options,i);if(n===true||n===false){n=n+""}t.element.append(ae(B).edit({addNoneOption:t.options.addNoneOption,buttonSetName:t.id+"_"+t._GUID,entries:a.picklistEntries||t.getValidPicklistEntries(),mode:t.mode,noneLabel:t.options.noneLabel,onChange:function e(n){t.model.updateRow(t.row,t.id,n,{initiatorId:t._GUID})},renderas:t.options.type,required:t.required,value:n}))}},MULTIPICKLIST:{read:function e(t,n,i,a){const o=r.extend({},t.options,a);let l=a&&a.picklistEntries||o.entries||o.picklistEntries;if(!i)i=";";let s=r("<div>").addClass("nx-fieldtext"),d=n?n:"",c=d.split(i);if(!l){l=t.getValidPicklistEntries()}if(t.options.type==="CHECKBOXES"){s.css("padding","0px");r.each(l,function(e,t){if(t.value){let e="";if(r.inArray(t.value,c)!==-1&&t.value!==""){e='checked="yes"'}let n=r("<div>").addClass("nx-checkboxwrapper");n.append(r("<input "+e+' type="checkbox" value="'+t.value+'">').addClass("nx-checkbox").prop("disabled",true));n.append(r("<div>"+h(t.label)+"</div>").addClass("nx-checkboxlabel"));s.append(n)}})}else{if(d){let e={},t=[];r.each(l,function(t,n){e[n.value]=n.label});r.each(c,function(){t.push(e[this]||this)});s.html(h(t.join(", ")))}else{s.html("")}}if(t.editable&&t.mode!=="readonly")s.append('<div class="focusbox" tabindex="0"/>');t.element.append(s)},readonly:function e(t,n,i,a){oe(O).read(t,n,i,a)},edit:function e(t,n,i){let a=";";i=i||{};if(s.isString(i)){a=i;i={}}else{a=i.valueDelimiter||a}let o=t.options;if(o.type!=="CHECKBOXES"){t.disableBlur=true}t.element.append(ae(O).edit({value:n,defaultValue:t.metadata.defaultValue,entries:i.picklistEntries||t.getValidPicklistEntries(),renderas:o.type,onChange:function e(n){t.model.updateRow(t.row,t.id,n,{initiatorId:t._GUID})},valueDelimiter:a,checkboxSetName:t.id+"_"+t._GUID,maxSelected:o.maxSelected,required:t.required,selectedList:o.selectedList}))}},COMBOBOX:{read:function e(t,n){oe(t,B).read(t,n)},readonly:function e(t,n){oe(x).read(t,n)},edit:function t(n,i){n.element.off("click.skuidLinkHandler");function a(){let e=n.element.find(".nx-error-inline");if(!e.length){e=r("<div>").addClass("nx-error-inline").appendTo(n.element)}return e}function o(t){i=t;let a=n.model.updateRow(n.row,n.id,i,{initiatorId:n._GUID});if(s.runningTests()){e.events.publish("combobox.onchange")}return a}n.element.append(ae(x).edit({entries:function e(){return n.getValidPicklistEntriesAccountingForDataSource()},getErrorContainer:a,onChange:o,parentElem:r("<div>").appendTo(n.element),restrictToEntries:n.metadata.limitEntries||false,showLabelInTextInput:true,value:i}))}},ARRAY:{read:function e(t,n,i){if(!i)i={};let a=r("<div>").addClass("nx-fieldtext").appendTo(t.element),o=t.row,l=t.model.getFieldValue(t.row,t.id,true),d,c,u=t.options.delimiter,p=i.dataPath||t.metadata.dataPath;if(!u)u="";if(l){d=l;if(p){d=s.getObjectProperty(d,p)}c=d.length;r.each(d,function(e,n){let i=t.model.mergeRow(n,t.options.template,{parentRow:o,childRelName:t.id,allowHTML:t.options&&t.options.allowHTML,registerFields:false});i.css("display","inline");a.append(i);if(e+1!==c){a.append("<span>"+u+"</span>")}})}t.element.append(a)},readonly:function e(t,n){oe(S).read(t,n)}},CHILDREL:{read:function e(t,n){oe(t,S).read(t,n,{dataPath:t.metadata.dataPath||"records"})},readonly:function e(t,n){oe(q).read(t,n)}},COMBO:{read:function e(t){let n=r("<div>").addClass("nx-fieldtext").appendTo(t.element),i=t.options;n.append(t.model.mergeRow(t.row,i.template,{allowHTML:i&&i.allowHTML,registerFields:false}));if(t.editable&&t.mode!=="readonly")n.append('<div class="focusbox" tabindex="0"/>');t.element.append(n).off("dblclick.skuid mouseenter.skuid mouseleave.skuid").css("cursor","auto")},readonly:function e(t,n){oe(H).read(t,n)},edit:function e(t,n){oe(H).read(t,n);let i=t.options,a=t.element,o=a.find(".focusbox").prop("tabindex","-1"),d=r('<input type="text">').addClass("nx-visuallyhidden"),c;o.before(d);c=function e(){let n,c,u,p=i.editModeBehavior==="custompopup",f=[{text:m("Done"),icons:{primary:"sk-icon-save sk-icon"},click:function e(){r(this).dialog("close")}}];function h(){r(this).click().find(":input").first().focus()}function g(){let e=a.find("input");let t=a.find(".focusbox");if(e.length){if(e[0]===d[0]){e.attr("data-preventaction","true")}}if(t.length){if(t[0]===o[0]){t.attr("data-preventaction","true")}}}function b(){let e=a.find("input");let t=a.find(".focusbox");if(e.length){if(e[0]!==d[0]){e.attr("data-preventaction","true").focus()}}else{if(t[0]!==o[0]){t.attr("data-preventaction","true").focus()}}setTimeout(function(){e.removeAttr("data-preventaction");t.removeAttr("data-preventaction")},100)}if(p){u=s.createPopupFromPopupXML(i.editModePopupXML,t,{open:h,close:b,beforeClose:g,buttons:f,modal:true,resizable:true})}else{n=t.model.getRowMergeResult(t.row,i.template);c=n.fields;u=r('<div title="'+i.label+'" class="nx-editor"/>');u.append(l.createFieldSet(c,{editor:t.editor}));u.dialog({resizable:true,modal:true,width:450,open:h,beforeClose:g,close:function e(){b();u.dialog("destroy").remove()},buttons:f})}t.editor.editModePopup=u};d.on("focus.skuid",function(){let e=r(this);if(e.attr("data-preventaction")){e.removeAttr("data-preventaction")}else{c()}});a.on("mouseenter.skuid mouseleave.skuid","> .nx-fieldtext",function(e){if(e.type==="mouseenter"){r(this).append(r("<div>").addClass("nx-edithover sk-icon-edit sk-icon inline").click(function(e){c();e.stopPropagation()}))}else{r(this).find("div.nx-edithover").remove()}}).css("cursor","pointer")}},CUSTOM:{read:function t(n,i){let a=e.snippet.get(n.options.snippet);if(a){a(n,Q(n,i))}},readonly:function e(t,n){oe(T).read(t,n)},edit:function e(t,n){oe(T).read(t,n)}},FILE:{read:function e(t){let n=r("<div>").addClass("nx-fieldtext").css({padding:"0px","min-height":"26px"}).appendTo(t.element);new s.FileComponent(n,{model:t.model,row:t.row,displayAs:"filename",storeAs:"field",idField:t.id,deleteable:false,editable:false,_GUID:t._GUID})},readonly:function e(t,n){oe(X).read(t,n)},edit:function t(n,i){if(e.offline.networkDown()){oe(X).read(n,i);return false}let a=r("<div>").addClass("nx-fieldtext").appendTo(n.element);if(n.model.isRowNew(n.row)){a.css({"font-size":"8pt",color:"#aaa"});a.text("Save record before uploading files.")}else{a.attr("id",s.generateGUID()).css("padding","0px");new s.FileComponent(a,{model:n.model,row:n.row,displayAs:"filename",storeAs:"field",idField:n.id,deleteable:true,editable:true,_GUID:n._GUID})}}},REFERENCE:{read:function e(t,n){let i=!n&&n!==0?"":h(t.calculateReferenceText()),a,o=t.model.getDataSourceType();if(t.metadata.ref==="skuid__Image__c"){oe(t,X).read(t,n);return false}i=s.nl2br(i);if(o&&o.getNameFieldURLForReferenceField){a=o.getNameFieldURLForReferenceField(t,n,i)}K(t,a||i)},readonly:function e(t,n){oe(V).read(t,n)},edit:function t(n,i){if(e.offline.networkDown()){oe(V).read(n,i);return false}if(n.metadata.ref==="skuid__Image__c"){oe(n,X).edit(n,i);return false}if(!i&&i!==0)i="";let a=n.element,l=n.options,d=r("<input>"),c=n.metadata.ref,u=n.metadata.referenceTo,p=c&&c.indexOf(",")!=-1,f=n.metadata.dataSourceName?e.dataSource.getDataSource(n.metadata.dataSourceName):n.model.getDataSource(),b=f.getDataSourceType(),y=b&&b.getReferenceHandler&&b.getReferenceHandler(),v=r('<div class="ui-autocomplete-container"></div>'),C,k,S,w,x,I;if(r.isPlainObject(i)){w=true;r.each(i,function(e,t){if(!(s.isUndefined(t)||t===null)){w=false;return false}});if(w){i=""}}d.val(i);if(!y){oe(V).read(n,i);return false}let T=function e(t){let i=s.extractFieldsFromTemplate(l.searchTemplate||l.template),a=s.calculateReferenceMerges({targetObject:t,fieldMetadata:n.metadata,model:n.model});k=r("<div>").append(a.merges).text();S=[];r.each(i,function(e,t){S.push({id:n.metadata.rel&&t.indexOf(n.metadata.rel+".")===0?t.slice(n.metadata.rel.length+1):t})})};a.data("recordId",i);if(p){let e;n.element.addClass("nx-polymorphic");C=r("<select>").on("change",function(){e=C.val();a.data("selectedSObject",C.find('option[value="'+e+'"]').attr("data-sobject"));a.data("selectedSObjectPrefix",e);a.data("recordId","");a.data("recordLabel","");T(e);n.model.updateRow(n.row,n.id,null,{initiatorId:n._GUID});let t=C.next();t.val("");a.data("recordId","");a.data("recordLabel","");if(l.type==="REFPICK"){n.getReferenceOptions("",{searchFields:I(),returnFields:x(),referencedObject:a.data("selectedSObject")}).then(P)}t.focus()});let t={},i=[];r.each(u,function(e,n){t[n.label+"_"+n.objectName]=n});r.each(Object.keys(t).sort(),function(e,n){i.push(t[n])});r.each(i,function(e,t){C[t.objectName==="User"&&s.endsWith(n.id,"OwnerId")?"prepend":"append"](r("<option>").attr({value:t.keyPrefix,"data-sobject":t.objectName}).text(t.label))});if(a.data("recordId")&&a.data("recordId")!="undefined"){let e=n.model.getValueKeyPrefix(a.data("recordId"));if(e&&e.length===3){a.data("selectedSObjectPrefix",e)}}if(a.data("selectedSObjectPrefix")){C.val(a.data("selectedSObjectPrefix"))}let o=C.find('option[value="'+C.val()+'"]');if(o.length===0)o=C.find("option").first();a.data("selectedSObject",o.attr("data-sobject"))}else{a.data("selectedSObject",c)}T(a.data("selectedSObject"));a.data("recordLabel",a.data("recordId")===""?"":k);x=function e(){let t=n.options.returnFields;if(!t||!t.length){t=[];r.each(S,function(e,n){n.showInSearchDialog=true;t.push(n)})}return t};I=function e(){let t=n.options.searchFields;if(!t||!t.length){if(S&&S.length){t=[];r.each(S,function(e,n){t.push(n)})}else{t=[{id:f.getNameField(a.data("selectedSObject")),displaytype:G,filterable:true}]}}return t};let A=function e(t,i,o){if(!t&&t!==0&&t!==""){return}a.data("recordId",t);let s=f.getNameField&&f.getNameField(a.data("selectedSObject")),d=o||y&&y.getRowFromReferenceValue(i,t,n.metadata)||i.getRowById(t);if(d){let e=i.getRowMergeResult(d,l.searchTemplate||l.template||"{{"+s+"}}",{registerFields:false}),t=e.merges.text();a.data("recordLabel",t)}if(d&&s&&s!=="Name"&&s!=="Id"&&!("Name"in d)&&s in d){d.Name=d[s]}let c={},u=t;if(n.metadata&&d&&r.inArray(n.metadata.displaytype,[V,M])===-1&&d.__templabel){u=d.__templabel}c[n.id]=u;if(u||u===0){c[n.metadata.rel]=d}n.model.updateRow(n.row,c,{initiatorId:n._GUID})};let P=function e(t){d.empty();if(!n.element.hasClass("disabled")){d.prop("disabled",false)}let s=false;if(!n.required||!t.data.length||l.addNoneOption){s=!i;d.append(r("<option>").val("").text(Object(o["a"])(l.noneLabel,{model:n.model})).prop("selected",!i))}let c=f.getNameField(a.data("selectedSObject")),u=n.metadata.originalDisplayType,p=u===R||u===E||u===_,m=l.searchTemplate||l.template||"{{"+c+"}}";r.each(t.data,function(e,a){let o=y?y.getReferenceValue(a,n.metadata):a.Id;if(!s)s=i+""===o+"";let l=t.mergeRow(a,m,{registerFields:false}).text();d.append(r("<option>").val(o).text(l).prop("selected",i===o))});if(!s&&(i||i===0)){d.append(r("<option>").val(i).text(a.data("recordLabel")).prop("selected",true))}if(n.required&&!(i||i===0)){A(p?parseInt(d.val(),10):d.val(),t,null)}d.off("change.skuid").on("change.skuid",function(){let e=r(this).val();if(p)e=parseInt(e,10);A(e,t,null)})};if(l.type==="REFPICK"){d=r("<select>").prop("disabled",true).append(r('<option value="">').text(i?k:Object(o["a"])(l.noneLabel,{model:n.model})));n.getReferenceOptions("",{searchFields:I(),returnFields:x(),referencedObject:a.data("selectedSObject")}).then(P)}else{d=e.ui.getRenderer("AUTOCOMPLETE").edit({minLength:n.metadata.minInputLength||2,source:function e(t,i,o,s){o();let d,c=u&&u[0]&&u[0].objectName,p=function e(){n.getReferenceOptions(t.term,{searchFields:I(),returnFields:x(),relMetadata:d,referencedObject:a.data("selectedSObject")}).then(function(e,t){if(t&&t.isStale){i([]);return}a.data("tempmodel",e);let n=f.getNameField&&f.getNameField(a.data("selectedSObject")),o=l.searchTemplate||l.template||"{{"+n+"}}",d=o.indexOf("Name}}")!==-1;r.each(e.data,function(){if(d&&!this.Name&&n in this){this.Name=this[n]}this.__templabel=a.data("tempmodel").mergeRow(this,o,{registerFields:false}).text()});i(e.data);if(!t||t&&t.isFinal){s()}})};if(n.options.searchFields&&c){f.getEntityMetadata({entities:[c]}).then(function(e){d=e._unwrap();p()})}else{d={};p()}},onFocus:function e(t,n){d.val(n.item.__templabel);return false},onChange:function e(t,i){let o=y?y.getReferenceValue(i.item,n.metadata):i.item.Id;A(o,a.data("tempmodel"),i.item);let r=n.element.find(".nx-error-inline");d=n.element.find("input");r&&n.element.prepend(r);d.focus();return false},onClose:function e(){d.focus()},onBlur:function e(){setTimeout(function(){d.val(a.data("recordLabel"))},200)},onClear:function e(){let t=n.model.getFieldValue(n.row,n.id,true);if(t!==null&&t!==undefined){n.model.updateRow(n.row,n.id,null,{initiatorId:n._GUID});a.data("recordId","");a.data("recordLabel","")}},optionRenderer:function e(t,n){return r("<li></li>").data("ui-autocomplete-item",n).html("<a>"+h(n.__templabel)+"</a>").appendTo(t)},appendTo:undefined,value:a.data("recordLabel")||i,parentElem:a});v.insertAfter(a.children().last());let t=a.find(".ui-icon-search");t.on("click.skuid",function(t){t.stopPropagation();if(n.element.hasClass("disabled")){return}let i,o,c,u,p,f,h,b=function e(){f.unregister&&f.unregister();if(g(h.id,"_TempModel_")){h.unregister()}},v;e.snippet.registerSnippet("skuid.__referencepopupselect",function(e){let t,i;if(e.row)t=e.row;else if(e.component&&e.component.row)t=e.component.row;else if(e.item)t=e.item.row;if(e.model)i=e.model;else if(e.component&&e.component.list)i=e.component.list.model;let a=y?y.getReferenceValue(t,n.metadata):t.Id;A(a,i,t);d=n.element.find("input");b();d.focus()});u=a.data("selectedSObject");if(n.options&&n.options.optionsource==="model"){v=e.$M(n.options.optionmodel);if(v&&v.objectName===u&&v.label){u=v.label}}else if(n.metadata&&n.metadata.referenceTo&&n.metadata.referenceTo.length){r.each(n.metadata.referenceTo,function(){if(this.objectName===u){if(this.label){u=this.label}else{r.each(e.model.list(),function(){if(this.objectName===u&&this.label){u=this.label;return false}})}return false}})}if(!u&&n.metadata&&n.metadata.label){u=n.metadata.label}p=m("Select")+" "+s.encodeHTML(u+"");i=r("<div>").attr("title",m("Select")+" "+u);c=r("<div>").css("min-height","300px");i.append(c);n.getReferenceOptions(d.data("uiAutocomplete").term,{searchFields:I(),returnFields:x(),referencedObject:a.data("selectedSObject")}).then(function(t){if(!e.$M(t.id)){t.register()}h=t;r.each(h.fields,function(){if(this.nameField){this.nameField=false}});let i,a=l.tokenizeSearch?' tokenizesearch="true"':"",o=t.getNameField(),s=x(o),d=[],u=I(o),m="";if(s&&s.length){r.each(s,function(e,t){if(t.showInSearchDialog){d.push(t)}})}else{d.push({id:o})}if(u&&u.length||l.useSOSLSearch){m+="<searchfields"+(l.useSOSLSearch?' usesosl="true"':"")+(l.SOSLFields?' soslfields="'+l.SOSLFields+'"':"")+">";if(u&&u.length){r.each(u,function(){m+='<searchfield field="'+this.id+'"/>'})}m+="</searchfields>"}else{m=""}i='<skootable model="'+t.id+'"'+a+' pagesize="'+(n.options.pageSize||5)+'" mode="readonly" searchbox="true" showsavecancel="false" createrecords="false">'+"<fields>";r.each(d,function(e,t){i+='<field id="'+t.id+'" allowordering="true"';if(t.label){i+=">"+t.label+"</field>"}else{i+="/>"}});i+="</fields>"+"<rowactions>"+'<action type="custom" label="'+p+'" icon="sk-icon-add-reference" snippet="skuid.__referencepopupselect"/>'+"</rowactions>"+m+"</skootable>";f=e.component.factory({xmlDefinition:i});c.append(f.element);c.append(f.element);c.find(".searchbox").focus().select()});o=[{icons:{primary:"ui-button-icon-primary ui-icon sk-icon-remove-reference sk-icon inline"},text:"Clear Value",click:function e(){n.model.updateRow(n.row,n.id,null,{initiatorId:n._GUID});a.data("recordId","");a.data("recordLabel","");b();d.val("")}},{icons:{primary:"ui-button-icon-primary ui-icon sk-icon-cancel sk-icon inline"},text:m("Cancel"),click:function e(){b()}}];i.dialog({close:function e(){b()},modal:true,resizable:true,width:"90%",buttons:o});i.parent(".ui-dialog").addClass("sk-dialog-autocomplete");r(".ui-widget-overlay").addClass("sk-overlay-autocomplete")})}a.addClass("editable");if(C){let e=r("<label>").addClass("nx-basicfieldeditor-item-select-label");e.append(C);a.append(e,d)}else{a.append(d)}}},ID:{read:function e(t,n){oe(t,W).read(t,n)},readonly:function e(t,n){oe(M).read(t,n)},edit:function e(t,n){if(t.model.isRowNew(t.row)){n=null}t.metadata.ref=t.model.objectName;oe(t,V).edit(t,n)}},STRING:{read:function e(t,n){oe(t,W).read(t,n)},readonly:function e(t,n){oe(G).read(t,n)},edit:function e(t,n){oe(t,W).edit(t,n)}},IMAGE:{read:function t(n){let i=n.options,a=e.component.getById(i.parentComponentId),o=e.utils.makeXMLDoc("<image/>").attr({alt:n.model.getRowMergeResult(n.row,i.alt||"",{asText:true}),url:n.row[n.id]||n.model.getRowMergeResult(n.row,i.url||"",{asText:true}),model:n.model.id,dataSource:n.model.dataSourceName,source:"url"}),r,l;if(a){r=a.createChildComponent(o,n.element)}else{r=e.component.factory({element:n.element,xmlDefinition:o})}if(i.height){r.element.css({height:i.height,overflow:"hidden"});l=r.element.children().first();if(i.fill){l.addClass("nx-field-image-fill")}l.addClass("nx-field-image-withheight").attr("tabindex",0)}n.subComponents.push(r)},readonly:function e(t,n){oe(Y).read(t,n)},edit:function e(t,n){oe(Y).read(t,n)}},ANYTYPE:{read:function e(t,n){oe(t,s.getDisplayTypeOfEntity(n))[t.mode](t,n)},readonly:function e(t,n){oe(k).read(t,n)},edit:function e(t,n){oe(k).read(t,n)}}};r.each(y,function(t,n){n.loading=function(t){oe(t,W).read(t,e.$L("Loading"))}});function ae(t){t||(t={});let n=e.platform,i;if(s.isString(t)){i=t}else{i=t.displayType}let a=n.getRenderers&&n.getRenderers();if(a&&i in a){return a[i]}else if(i in b){return b[i]}}function oe(e,t){e||(e={});let n,i,o;if(s.isString(e)){n=e;i=t}else if(e instanceof l.Field||s.isString(t)){o=e;n=t}else if(e.displayType){n=e.displayType;i=e.dataSource;o=e.field}if(!i&&o){i=o.model.getDataSource()}if(!n&&o){n=o.metadata.displaytype}let r=i&&i.getFieldRenderers();if(r&&n in r){return r[n]}else if(n in y){return y[n]}else{s.log('Unable to find an appropriate renderer for "'+n+'"',a["n"].WARNING);return y[W]}}l.renderers=b;l.getRenderer=ae;l.fieldRenderers=y;l.getFieldRenderer=oe;l.click2Dial=J},40:function(e,t,n){"use strict";var i=n(14);var a=n.n(i);var o=n(61);var r=n.n(o);var l=n(62);var s=n.n(l);var d=n(63);var c=n.n(d);var u=n(64);var p=n.n(u);const f=e=>{const t=new RegExp("".concat(e," "),"g");return{onProcessRule:n=>{if(n.type!=="style")return;if(n.options.global)return;if(n.selector.indexOf(e)>-1){n.selector=n.selector.replace(t,"")}n.selector=n.selector.split(",").map(t=>"".concat(e," ").concat(t.trim())).join(", ")}}};a.a.use(r()());a.a.use(s()());a.a.use(c()());a.a.use(p()());a.a.use(f(".nx-page"));t["a"]=a.a},41:function(t,n,i){"use strict";function a(e,t){e.set({_allowPropagation:false,displayLabel:t.label});e.unregisterMergeText("label");e.subscribeChange("label",t=>e.set("displayLabel",t))}i.d(n,"a",function(){return m});const o=e.virtualDom.hyperScript,r=e.builder,l=r.core,s=r.ink,d=e.utils.makeXMLDoc,c="skuid__button",u=e.componentType.get(c),p=e.builder.dragDrop.DragManifest,f=e=>{const t=e.parent();const n=t&&t.closest("[model]");return n&&n.attr("model")};u.initBuilder=a;const m={id:c,name:"Button",icon:"sk-webicon-ink:button",componentType:c,hideWrapper:true,hideFromComponentsList:true,alternateFramelessButtons:true,copyable:false,init(e){e.cpi.setCanvasComponent();e.addActionItem("Remove","sk-webicon-ink:delete",()=>{e.get("xmlState").remove()});e.cpi.addClass("sk-buttonset-button");const t=e.get("xmlState").parent()[0];if(t&&t!==document&&t.matches&&t.matches("rowActions")){e.set("buttonsInMenus",true)}},parseState(e,t){const n=e.cpi.getSpoofedDefinition();if(n){t.grouped=n.grouped;t.groupPosition=n.groupPosition;t.expandToFill=n.expandToFill}return t},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return o("div",{key:"button canvas component"},[e.getCPI().getCanvasComponent().renderVDom()])},propertiesRenderer(e,t){e.setTitle("Button Properties");let n=this.options||{},i=n.customTypePropertiesCallback,a=t.get("xmlState"),o=()=>n.getContextModelName&&n.getContextModelName()||f(a),r=o(),d=()=>t.refresh();let c={id:"label",type:"template",location:"attribute",displayAs:"input",label:"Button Label",onChange:d},u={id:"icon",type:"icon",label:"Button Icon",onChange:d},p={id:"iconPosition",type:"picklist",label:"Button Icon Position",onChange:d,picklistEntries:[{label:"Left",value:""},{label:"Right",value:"right"}]},m={id:"ariaLabel",type:"template",location:"attribute",displayAs:"input",label:"Aria Label",helptext:"An accessibility feature to assist screen readers."},h={id:"window",type:"picklist",label:"Open URL in",defaultValue:"self",picklistEntries:[{label:"Current window",value:"self"},{label:"Blank window",value:"blank"},{label:"Parent window",value:"parent"}]},g="Save/Cancel";let b=r,y={id:"models",type:"models",label:"Additional Models to "+g,helptext:"When the "+g+(g==="Save/Cancel"?" buttons are ":" button is")+" shown, clicking on "+(g==="Save/Cancel"?"these buttons will ":"this button will ")+g+" the Model defined for the "+n.parentLabel+" component, as well as any additional Models selected here.",noneSelectedText:"Select Models...",entryFilter(e){return!b||b!==e.attr("id")}},v={id:"afterSave",type:"template",location:"attribute",displayAs:"input",label:"After Save Redirect URL",helptext:"The URL to which the User will be taken upon a successful Save."},C={id:"afterCancel",type:"template",location:"attribute",displayAs:"input",label:"After Cancel Redirect URL",helptext:"The URL to which the User will be taken immediately upon clicking 'Cancel'."},k={id:"saveLabel",type:"template",location:"attribute",displayAs:"input",label:"(Optional) Save Button Label",onChange(){t.refresh()}},S={id:"cancelLabel",type:"template",location:"attribute",displayAs:"input",label:"(Optional) Cancel Button Label",onChange(){t.refresh()}},w;let x=l.coreProps.uniqueIdProp({component:t}),I={},T={},A;let P={predefinedProps:{modelsProp:y,rollbackOnErrorProp:w,afterSaveProp:v,afterCancelProp:C,saveLabel:k,cancelLabel:S,windowProp:h},basicPropsList:{},advancedPropsList:{},categorizedProps:[]};if(typeof i==="function"){i(t,P);if(P.basicPropsList){Object.assign(I,P.basicPropsList)}if(P.advancedPropsList){Object.assign(T,P.advancedPropsList)}}const _=this.actionTypes||[];if(a.parent().is("massActions")){_.push({value:"massUpdate",label:"Mass Update Rows",props:[{type:"helptext",html:"Gives the ability to set the same value to many rows at one time."}]})}if(a.parent().is("rowActions")){_.push({value:"drawer",label:"Open/Close a Drawer",props:[{type:"customaction",label:"Configure Drawer",icon:"sk-webicon-ink:open",mode:"edit",customAction(){t.builderCPI.showDrawerBuilder({getContextModelName(){return t.get("xmlState").attr("model")},state:a})}}]})}A=[{name:"Basic",props:[c,u,p,m,{type:"reorder",label:"Change Order",onChange:()=>{t.save();t.rebuildProps()}}]},l.getActionsCategory({getModelName:o,linkedComponent:t,additionalActionOptions:_}),{name:"Advanced",props:[x]},s.getInkStylesTab({component:t,propViewer:e,spacing:false}),s.getTooltipProperties(),l.getHotkeysCategory({linkedComponent:t})];if(P.categorizedProps.length>0){A=A.concat(P.categorizedProps)}A.push(l.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:r,propViewer:e,showEnableDisableConditions:true,showStyleVariantConditions:true}));e.applyPropsWithCategories(A,a)},defaultStateGenerator(){return d("<skuid__button/>").attr({label:"Run actions",uniqueId:e.utils.generateUniqueId()})},cpi:{updateDragManifest(e){this.getCPI().setDragManifest(new p({builderId:c,model:e}))}}};let h=new l.Builder(m);l.registerBuilder(h);var g=n["b"]=h},42:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={HORIZONTAL:"horizontal",VERTICAL:"vertical"};var a={DIRECTIONS:i}},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var i=n(33);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n="";for(var i=0;i<t;i++){n+="  "}return n+e}function l(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i="";if(!t)return i;var o=n.indent,l=o===undefined?0:o;var s=t.fallbacks;l++;if(s){if(Array.isArray(s)){for(var d=0;d<s.length;d++){var c=s[d];for(var u in c){var p=c[u];if(p!=null){i+="\n"+r(u+": "+(0,a["default"])(p)+";",l)}}}}else{for(var f in s){var m=s[f];if(m!=null){i+="\n"+r(f+": "+(0,a["default"])(m)+";",l)}}}}for(var h in t){var g=t[h];if(g!=null&&h!=="fallbacks"){i+="\n"+r(h+": "+(0,a["default"])(g)+";",l)}}if(!i&&!n.allowEmpty)return i;l--;i=r(e+" {"+i+"\n",l)+r("}",l);return i}},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(55);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]=new a["default"]},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=o;var i=/[-\s]+(.)?/g;function a(e,t){return t?t.toUpperCase():""}function o(e){return e.replace(i,a)}},47:function(t,n,i){"use strict";i.d(n,"a",function(){return a});i.d(n,"b",function(){return o});function a(t){const n=e.builder;let i=n.core.getBuilderByTagName(t.tagName);if(!i){const e=i=>{const a=n.core.getBuilderByTagName(i.tagName);if(a&&a.getChildBuilders()[t.tagName]){let e=a.resolveChildBuilder(t);if(e)return e;return a.getChildBuilders()[t.tagName]}return i.parentElement?e(i.parentElement):null};return t.parentElement?e(t.parentElement):null}return i}function o(t){const n=Array.from(e.$(t).parents());let i;n.some(e=>{const t=a(e);if(t&&t.providesContext){i=e.getAttribute(t.modelAttributeName||"model");return true}});return i}},48:function(t,n,i){"use strict";i.d(n,"b",function(){return c});i.d(n,"c",function(){return f});i.d(n,"a",function(){return h});let a=e.$,o=e.builder.ink,r=e.builder.core,l=e.utils.makeXMLDoc;const s=e=>[{value:"flex-start",label:e?"Top":"Left"},{value:"center",label:e?"Middle":"Center"},{value:"flex-end",label:e?"Bottom":"Right"}];const d=e=>[{value:"flex-start",label:e?"Left":"Top"},{value:"center",label:e?"Center":"Middle"},{value:"flex-end",label:e?"Right":"Bottom"},{value:"space-between",label:"Space between"},{value:"space-around",label:"Space around"},{value:"stretch",label:"Stretch"}];function c(t={}){let n=t.component,i=n.get("xmlState");t=Object.assign({spacing:false,styleVariants:true,size:false},t);function a(e){let t=i.children("styles");if(!t.length){t=l("<styles/>").appendTo(i)}let a=t.children("spacing");if(!a.length){a=l("<spacing/>").appendTo(t)}if(e&&this&&this.id){a.attr(this.id,e)}let o=false;["top","bottom","right","left"].forEach(e=>{if(a.attr(e)==="0"||a.attr(e)===""){a.removeAttr(e)}else if(a.attr(e)!==undefined){o=true}});if(!o){a.remove()}if(!t.children().length){t.remove()}n.save().refresh()}const o=[];if(t.styleVariants){o.push({id:"styleVariant",label:"Style Variant",defaultState:"<styleVariant/>",deleteable:false,icon:"sk-webicon-ink:styles",singleton:true,linkedComponent:n,showChildrenEvenIfNodeIsNotPresent:true,propsFunction:()=>{const n=e.builder.desktop.getVariantsForComponentType(t.componentTypeName||t.component.builderId);n.forEach(e=>{if(e.value==="default")e.value=""});return[{id:"styleSettingsVariant",label:"Style Variant",type:"picklist",default:"",options:n,onChange:a}]}})}if(t.spacing){o.push({id:"spacing",label:"Spacing",pathToNode:">styles>spacing",defaultStateFunction(){return e.utils.makeXMLDoc("<styles><spacing/></styles>")},deleteable:false,icon:"sk-webicon-ink:styles",singleton:true,isChild:true,linkedComponent:n,showChildrenEvenIfNodeIsNotPresent:true,propsFunction:()=>{const t=e.builder.desktop.getSpacingTokensAsPicklist();return[{id:"top",label:"Top Margin",type:"picklist",default:0,options:t,onChange:a},{id:"bottom",label:"Bottom Margin",type:"picklist",default:0,options:t,onChange:a},{id:"left",label:"Left Margin",type:"picklist",default:0,options:t,onChange:a},{id:"right",label:"Right Margin",type:"picklist",default:0,options:t,onChange:a}]}})}if(t.positioning){o.push(u(n,t.positioning))}if(t.background){o.push(p(n,t.propViewer))}if(t.scrolling){o.push(f(n,t.scrolling))}if(t.size){o.push(m(n,t.size))}return{name:"Styles",tree:o}}function u(e,t){const{container:n,item:i,isRow:a,defaultStateFunction:o}=t;return{id:"positioning",pathToNode:">positioning",label:"Layout",deleteable:false,icon:"sk-webicon-ink:styles",singleton:true,isChild:true,linkedComponent:e,showChildrenEvenIfNodeIsNotPresent:true,defaultStateFunction:o,propsFunction(){const e=[];let t;if(n){t=n.justifyContent;t&&e.push(Object.assign({id:"justifyContent",label:"Justify items",type:"picklist",picklistEntries:[{value:"",label:"Auto"},...d(a)]},typeof t==="object"?t:{}));t=n.alignItems;t&&e.push(Object.assign({id:"alignItems",label:"Align items",type:"picklist",picklistEntries:[{value:"",label:"Auto"},...s(a)]},typeof t==="object"?t:{}))}else if(i){t=i.alignSelf;t&&e.push(Object.assign({id:"alignSelf",label:"Align self",type:"picklist",picklistEntries:[{value:"",label:"Auto"},...s(a)]},typeof t==="object"?t:{}));t=i.ratio;t&&e.push(Object.assign({id:"ratio",label:"Flex ratio",helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by maximum and minimum widths.",type:"text"},typeof t==="object"?t:{}));t=i.minWidth;t&&e.push(Object.assign({id:"minWidth",label:"Minimum width",type:"text"},typeof t==="object"?t:{}));t=i.maxWidth;t&&e.push(Object.assign({id:"maxWidth",label:"Maximum width",type:"text"},typeof t==="object"?t:{}))}return e}}}a.extend(o,{getInkStylesTab:c});const p=(t,n)=>{const i=n=>{n.element.addClass("nx-pagebuilder-prop-visualoptions-wrapper");if(n.additionalClass)n.element.addClass(n.additionalClass);n.element.append((n.items||[]).map(o=>{let r=n.itemComponent,l=r.get("xmlState"),s=n.styleProps,d=n.property,c=a("<div>"),u=a("<div>").addClass("visualoption-wrapper").append(c),p=e=>{if(l.attr(n.property))return e===l.attr(n.property);return e===n.defaultValue};if(!p&&s&&d){p=(e=>e===s[n.property])}if(o instanceof Array){c.addClass("visualoption-group");n.element=c;n.items=o;i(n);return u}c.addClass("visualoption ui-state-default");if(p(o.value))c.addClass("ui-state-highlight");c.append(a("<div>").addClass(o.fullCSS?o.fullCSS:n.cssPrefix+o.value.replace(" ","-")).attr("title",o.label));if(o.icon){c.append(e.ui.createIcon(o.icon))}if(o.minilabel){c.append(a("<div>").addClass("minilabel").text(o.minilabel))}if(r.node==="readonly"){c.addClass("visualoption-disabled")}else{c.on("click",function(){l.attr(d,o.value);n.onClick&&n.onClick(o.value);r.rebuildProps().refresh();t.save().refresh()})}return u}))};return{id:"background",pathToNode:">background",label:"Background",deleteable:false,icon:"sk-webicon-ink:styles",singleton:true,isChild:true,linkedComponent:t,showChildrenEvenIfNodeIsNotPresent:true,propsFunction(a){let o=a.get("xmlState"),l=o.attr("type")||"default",s=[{id:"type",label:"Background Type",type:"picklist",options:[{value:"",label:"Default"},{value:"image",label:"Image"},{value:"color",label:"Color"}],onChange(){a.rebuildProps();t.refresh()}}],d=t.refresh;switch(l){case"default":break;case"image":s=s.concat(r.getImageProperties({component:a,propViewer:n,filter:{noRecordContext:true},additionalOnRefresh(){t.refresh()},additionalOnRebuildProps(){t.save().refresh()},additionalOnRebuildAndRefresh(){t.save().refresh()}}));s.push({id:"size",label:"Size",type:"picklist",options:[{value:"auto",label:"Original"},{value:"contain",label:"Contain"},{value:"cover",label:"Cover"}],onChange:d},{label:"Position",type:"custom",renderProperty:e=>{i({additionalClass:"position-prop",element:e.element,forceNewLinesForGroups:true,items:[[{label:"Top Left",value:"top left",icon:"sk-webicon-ink:arrow-top-left"},{label:"Top Center",value:"top center",icon:"sk-webicon-ink:arrow-up"},{label:"Top Right",value:"top right",icon:"sk-webicon-ink:arrow-top-right"}],[{label:"Center Left",value:"center left",icon:"sk-webicon-ink:arrow-left"},{label:"Center",value:"center center",icon:"sk-webicon-ink:record"},{label:"Center Right",value:"center right",icon:"sk-webicon-ink:arrow-right"}],[{label:"Bottom Left",value:"bottom left",icon:"sk-webicon-ink:arrow-bottom-left"},{label:"Bottom Center",value:"bottom center",icon:"sk-webicon-ink:arrow-down"},{label:"Bottom Right",value:"bottom right",icon:"sk-webicon-ink:arrow-bottom-right"}]],property:"position",cssPrefix:"preview bg position_",itemComponent:a})},onChange:d},{id:"repeat",label:"Repeat",type:"picklist",options:[{value:"",label:"No repeat"},{value:"repeat-x",label:"Horizontally"},{value:"repeat-y",label:"Vertically"},{value:"repeat",label:"Both"}],onChange:d},{id:"attachment",label:"Special Effects",type:"picklist",options:[{value:"",label:"No effects"},{value:"fixed",label:"Parallax effect"}],onChange:d})}l!="default"&&s.push({id:"color",label:"Color",type:"color",defaultValue:"transparent",onChange(){t.refresh();e.events.publish("builder.colorcheck")}});return s}}};function f(t,n={}){const i=t.get("xmlState");return{label:"Height/Scrolling",linkedComponent:t,deleteable:false,propsFunction:a=>{const o=[{id:"heightStrategy",type:"picklist",label:"Height Strategy",picklistEntries:[{label:"Fit to content",value:""},{label:"Fixed height",value:"fixed"}],onChange:()=>{t.refresh();a.rebuildProps();n.onChange&&n.onChange()}}];const r=(r,l)=>{const s=e.utils.camelToTitle(r);o.push({id:r,type:"picklist",label:l||s,picklistEntries:[{label:r==="height"?"Fit to content":"None",value:""},{label:"Short",value:30},{label:"Medium",value:60},{label:"Tall",value:90},{label:"Custom",value:"custom"}],onChange:()=>{t.refresh();if(i.attr(r)!=="custom"){i.removeAttr("maxHeightCustom")}a.rebuildProps();n.onChange&&n.onChange()}},...i.attr(r)==="custom"?[{id:"".concat(r,"Custom"),type:"csssize",label:"Custom ".concat(s),onChange:()=>{t.refresh();n.onChange&&n.onChange()}}]:[])};const l=t.get("xmlState").attr("heightStrategy")==="fixed";if(!l)r("minHeight","Min Height (Optional)");if(!l)r("maxHeight","Max Height (Optional)");if(l)r("height");return o}}}function m(e){const t=e.get("xmlState"),n=t.attr("imageHeight"),i=t.attr("height"),a=t.attr("heightStrategy"),o=t.attr("heightCustom");if(!n&&a==="fixed"&&i){t.attr("imageHeight",i==="custom"?o:"".concat(8*i,"px"));t.attr("height","")}return{label:"Size",linkedComponent:e,deleteable:false,propsFunction:()=>{const t=[{id:"imageWidth",type:"string",label:"Width",placeholder:"Enter a number and sizing unit (px, em, rem, %, vh, vw).",onChange:()=>{e.save().refresh()}},{id:"imageHeight",type:"string",label:"Height",placeholder:"Enter a number and sizing unit (px, em, rem, %, vh, vw).",onChange:()=>{e.save().refresh()}}];return t}}}function h(t,n){const i=t.children("background").first(),a=r.builderSafeBackgroundProperties,o="background-image",l=[],s={};if(i.attr("type")==="image"){if(!a||a&&a.indexOf(o)!==-1){const t=i.attr("source"),n=i.attr("datasource"),a=e.dataSource.get(n),r=a&&a.getImageSource(t);if(r&&r.getSrc){l.push(r.getSrc({context:{},mergeSettings:{},dataSource:r.dataSource,xmlDef:i,prefix:""}).then(function(e){if(e){s[o]="url("+e+")"}else{s[o]=""}},function(){s[o]=""}))}}}Promise.all(l).then(function(){n.css(Object.assign({},s,{},{"background-position":i.attr("position")||"center center","background-size":i.attr("size")||"auto","background-repeat":i.attr("repeat")||"no-repeat","background-attachment":i.attr("attachment")||"scroll"}))});if(i.attr("type")){n.css({"background-color":i.attr("color")})}else{n.removeAttr("style")}}a.extend(r,{builderSafeBackgroundProperties:["background","background-image","background-size","background-attachment","background-repeat","background-position","background-color"],builderSafePositionProperties:["min-height","border","border-left","border-right","border-top","border-bottom","padding","padding-left","padding-top","padding-right","padding-bottom"],builderSafeFormatProperties:["color","font-size"]})},49:function(t,n,i){"use strict";i.d(n,"a",function(){return g});i.d(n,"b",function(){return b});var a=i(30);let o=e.$,r=e.utils,l=e.builder,{core:s,ink:d,listHelper:c}=l,u="columns",p="fields",f="skuid__field",m=e.builder.dragDrop.DragManifest,h=e.builder.dragDrop.DragDeploymentConfiguration;function g(e){return c.fieldStateGenerator(Object.assign({},e,{fieldNodeName:f}))}function b(e){let t=e.editorComponent,n=e.columnSetBuilder;return e.formBuilder.registerChildBuilder(new s.Builder({id:"skuid__form__field",name:"Field",xmlTag:"skuid__field",icon:"sk-webicon-ink:edit",setUniqueId:false,getSubtitle(e,t){return e.getAttribute("label")||Object(a["b"])(e.getAttribute("id"),t.modelFieldsMetadata)||e.getAttribute("id")||e.getAttribute("name")},componentRenderer(i){let a=i.get("xmlState"),l=a[0].tagName;if(a.is(u)){n.componentRenderer(i,e);i.element.removeClass("nx-pagebuilder-component-hidewrapper");return}const d=i.getCPI();d.addClass("nx-pagebuilder-field");d.setStyle("flex","1");i.body.addClass("nx-pagebuilder__form__field");i.getCPI().setDragManifest(new m({builderId:"skuid__form__field",model:t.get("xmlState").attr("model")}));i.getCPI().setDragDeployment(new h({component:i,isChildRelationship:a.attr("type")==="childRelationship",fieldId:a.attr("id"),fieldName:a.attr("name"),recreate:true}));let c=t.get("xmlState").attr("model"),f=a.attr("id"),g=a.attr("name"),b,y,v="nx-field";i.body.removeClass(i.body.attr("data-layout"));let C=s.getFieldInfoFromCache(c,f),k;if(g){let e=s.getModelFromModelName(c);if(e){let t=e.children(p).first().children('[name="'+r.escapeSelector(g)+'"]').first();if(t)k=t.attr("function")}}let S=a.attr("label");if(l==="skuid__image"){b=""}else{b=S?S:k?k.toUpperCase()+"("+f+")":C?C.label||f:"Unknown Field"}y=o('<div class="nx-pagebuilder__form__field__label">'.concat(b,"</div>"));i.body.append(y);let w=a.attr("showHelp");let x=typeof w==="undefined"||w==="true"||w==="belowlabel";if(C&&C.inlineHelpText&&x){if(w==="belowlabel"){let e=o("<div>").text(C.inlineHelpText).css({color:"#8B8E94","font-size":"13px","font-weight":"400","margin-bottom":"8px"});y.append(e)}else{let e=o("<div>").addClass("sk-icon sk-icon-help inline").css({"vertical-align":"top","margin-left":"4px"});e.skootip(C.inlineHelpText);y.append(e)}}let I;if(a.attr("type")==="COMBO"){I="TEMPLATE"}else if(l==="skuid__image"){I="IMAGE"}else{I=(C&&C.displaytype?C.displaytype:f)||""}i.body.append(o('<div class="'+v+'"><div class="nx-fieldtext">'+I+"</div></div>"));i.addActionItem("Remove","sk-webicon-ink:delete",function(){i.remove()})},propertiesRenderer(e,i){let a=i.get("xmlState");if(a[0].tagName==="skuid__image"){s.getBuilder("skuid__image").propertiesRenderer(e,i);return}if(a.is(u)){n.propertiesRenderer(e,i);return}e.setTitle("Field Properties");let o=d.getFieldProperties(i,t.get("xmlState").attr("model"),t.builderId);e.applyPropsWithCategories(o,i.get("xmlState"))},defaultStateGenerator:g,hideWrapper:true}))}},5:function(t,n,i){"use strict";i.d(n,"o",function(){return m});i.d(n,"a",function(){return b});i.d(n,"h",function(){return y});i.d(n,"g",function(){return v});i.d(n,"i",function(){return C});i.d(n,"e",function(){return k});i.d(n,"f",function(){return S});i.d(n,"c",function(){return w});i.d(n,"d",function(){return x});i.d(n,"b",function(){return I});i.d(n,"j",function(){return T});i.d(n,"m",function(){return A});i.d(n,"l",function(){return P});i.d(n,"k",function(){return F});i.d(n,"n",function(){return M});var a=i(11);const o=e.dataSource,r=e.utils,l=r.isString,s=r.escapeSelector,d=e.$,c=e.constants.DISPLAY_TYPES,u=c.BOOLEAN,p=c.INTEGER,f={SkuidDataService:1};const m={"data.length":p,hasChildRows:u,hasNoChildRows:u,hasRows:u,hasNoRows:u,hasChanged:u,isNew:u,isCloned:u,isSaved:u,isMarkedForDeletion:u};const h=["Id","LastReferencedDate","LastViewedDate","Name","Type"];const g=["FirstName","LastName"];const b=e=>{return!!f[e]};const y=(e,t)=>{const n={};t.forEach(t=>{if(!t)return;n[t]=v(e,t,A(e),{readMetadataFromFieldNode:true})});return n};function v(t,n,i,o){if(!o)o={};let r,c,u,p,f,m,h,g,b,y,v,C,k=false,S=o.readMetadataFromFieldNode!==false,w="",P,_,F,M;if(t){if(l(t)){r=T(t)}else if(t.length){r=t;t=r.attr("id")}}if(r){C=Object(a["g"])(r);v=(C?C+".":"")+n;p=r.children("fields,groupby").children('[id="'+s(n)+'"]')}if(!v)v=n;c=x(r);u=I(r);M=c.prop("runtime.metadataSource");F=M==="local"||M==="hybrid";if(p&&p.length){if(p.attr("uionly")==="true"||F&&S){return new e.model.Field({xml:p,dataSourceType:c,model:{pathToContent:C,id:t}})}else if(p.attr("type")==="childRelationship"){k=true}}if(o.isChildRelationship){k=o.isChildRelationship}if(!i){i=t&&A(t)}h=(v||"").split(".");g=h.pop();b=p&&p.attr("targetobjects");y=b&&b.split(",");if(!k){h.length&&d.each(h,function(e,t){w+=t+".";P=u.buildEntityMetadataRequest({model:r,targetEntity:i,path:w,ignorePathToContent:true});f=u.getCachedEntityMetadata({entities:P});if(f){d.each(f.getFieldsList(),function(e,n){if(n.rel===t){i=n.ref;return false}})}_=i?i.split(","):[];if(_.length>0){if(y){let e=y.shift();if(_.indexOf(e)){i=e}else{i=_[0]}}else if(_.length>1){i="Name"}else{i=_[0]}}})}P=u.buildEntityMetadataRequest({model:r,targetEntity:i,path:w,ignorePathToContent:true});f=u.getCachedEntityMetadata({entities:P});m=null;if(f){m=f["get"+(k?"ChildRelationship":"Field")](g);if(!m&&v){let e=v.indexOf(".");if(e!==-1){m=f["get"+(k?"ChildRelationship":"Field")](v.substring(e+1))}}}if(p&&p.length&&m&&p.attr("overridemetadata")==="true"&&S){return new e.model.Field({xml:p,field:d.extend({},m),dataSourceType:c,model:{pathToContent:C,id:t}})}return m}function C(e,t){if(!t)t={};let n=e.get("xmlState"),i=n.attr("field"),a,o=t.modelName,r;if(n.is("field")){a=n.attr("id");o=n.closest("model").attr("id")}else if(i){a=i;if(!o){if(n.is("condition")){o=n.closest("model").attr("id")}}}if(d.inArray(n.attr("sourcetype"),["modelproperty","rowproperty"])>-1){r={displaytype:m[n.attr("sourceproperty")]||"STRING"}}else if(a){let n={},i="readMetadataFromFieldNode";if(t[i]===false){n[i]=false}r=v(o,a,P(e),n)}if(!r)r=false;return r}function k(t){let n=T(t);let i=o.get(n.attr("datasource")||n.attr("service")||e.platform.getDefaultDataSourceName());return n?i.getDataSourceType():null}function S(e){let t=e.closest("model");if(!t.length){return}return x(t)}function w(e){let t=T(e);return I(t)}function x(e){let t=I(e);let n=t.getDataSourceType();if(typeof n==="undefined"){return o.getType()}return n}function I(t){return e.dataSource.getDataSourceFromXML(t)}function T(e){e=r.escapeSelector(e);let t=Object(a["j"])().children("models").children('model[id="'+e+'"]');if(!t.length){const n=Object(a["f"])();if(n)t=n.children("models").children('model[id="'+e+'"]')}return t}function A(e){return T(e).attr("sobject")}function P(e){let t,n=e.get("xmlState");if(n.is("field"))t=n.closest("model").attr("sobject");else if(e.isSubcondition){t=n.parent().closest("condition").attr("joinobject")}else if(e.isChildRelationshipCondition){let e=_(n.closest("model").attr("id"),n.closest("field, skuid__field").attr("id"));t=e.childObject||e.childSObject}else if(e.isLookupFilterCondition){let e=v(n.parent().closest("[model]").attr("model"),n.closest("field, skuid__field").attr("id"));if(!e){t=null}else if(e.ref.indexOf(",")!==-1&&n.attr("fieldtargetobjects")){t=n.attr("fieldtargetobjects")}else t=e.ref}else if(e.isReferenceFilterCondition){let e=v(n.parent().closest("[model]").attr("model"),n.closest("skuid__filter").attr("conditionField"));t=e?e.ref:null}else if(e.isRenderCondition||e.isUpdateAction){if(n.attr("fieldmodel")){t=A(n.attr("fieldmodel"))}else{t=A(n.closest("[model]").attr("model"))}}else if(e.isContextCondition){t=A(n.closest("[model]").attr("model"))}else{t=n.closest("model").attr("sobject")}return t}function _(e,t,n){if(!n){n=e&&A(e)}let i=T(e),a=I(i),o=a.getCachedEntityMetadata({entities:[{objectName:n}]});return o?o.getChildRelationship(t):null}function F(t){const n=T(t),i=n.attr("datasource"),a=n.attr("sobject")||n.attr("x-entityname")||n.attr("id");if(i&&a){const t=e.dataSource.get(i);if(t){const e=t.getCachedEntityMetadata()[a];n.children("fields").children().each(function(){const t=d(this);if(t.attr("overridemetadata")==="true"){Object.assign(e.getField(t.attr("id")),{displaytype:t.attr("displaytype"),label:t.attr("label")})}});return e}}}function M(e,t){return t.includes("User")||(t.includes("Contact")||t.includes("Lead"))&&g.includes(e.id)||h.includes(e.id)}},50:function(t,n,i){"use strict";i.d(n,"b",function(){return a});i.d(n,"a",function(){return o});const a=(t,n,i)=>{if(!n||!i){return t}const a=e.builder.core;const r=a.getModelFromModelName(n);const l=r&&r.find('condition[name="'.concat(i,'"]'));const s=l&&l.length&&l.attr("field");return o(t,n,s)};const o=(t,n,i)=>{if(!n||!(i||t.metadata)){return t}const a=e.builder.core;const o=a.getDataSourceFromModelName(n);const r=a.getSObjectNameFromModelName(n);const l=t.metadata||i&&a.getFieldInfoFromCache(n,i);const s={type:"combobox"};const d=l&&["PICKLIST","MULTIPICKLIST","COMBOBOX"].includes(l.displaytype);if(!d){return t}s.entries=(async()=>{if(l&&(l.uiOnly||l.overrideMetadata&&l.customPicklistEntriesProvided||["local","hybrid"].includes(o.getDataSourceType().prop("runtime.metadataSource")))){return l.picklistEntries||[]}const e=o.getCachedEntityMetadata(r);const t=e&&e.getField&&e.getField(i);if(t&&t.picklistEntries){return t.picklistEntries}const n=await o.getEntityMetadata({entities:[r],ignoreCache:true,ignoreMetadataOverrides:true,loadPicklistValues:true});if(!n)return[];const a=n.getField(i);if(!a||!a.picklistEntries)return[];return a.picklistEntries});Object.assign(t,s);return t}},51:function(t,n,i){"use strict";i.d(n,"a",function(){return d});var a=i(11);var o=i(5);const r=e.utils,l=r.makeXMLDoc,s=e.$;class d{constructor(e,t={}){this.fieldsTableUniqueId="mfs-table";this.fieldsModelUniqueId="mfs-fields-"+r.generateGUID();this.fieldsModel=this.initModel();this.fieldsFilter=t.filter;this.addFieldsToModel(e)}initModel(){return new e.model.Model({id:this.fieldsModelUniqueId,dataSource:e.dataSource.get("Ui-Only"),preventUnloadIfUnsavedChanges:false,createRowIfNoneFound:false,doQuery:false,fields:[{id:"field",displaytype:"TEXT"},{id:"fieldId",displaytype:"TEXT"},{id:"id",displaytype:"TEXT"},{id:"name",displaytype:"TEXT"},{id:"type",displaytype:"TEXT"}]}).initialize().register()}getFieldLabel(e){const t=e.getAttribute("id"),n=e.getAttribute("function"),i=e.getAttribute("label");if(this.isAggregate()){return n?"".concat(n,"(").concat(t,")"):t}return i||r.camelToTitle(t)}getMetadataForField(e){const t=e.closest("model").attr("id"),n=e.attr("id"),i=t?Object(o["m"])(t):"",a={readMetadataFromFieldNode:true};return Object(o["g"])(t,n,i,a)}addFieldsToModel(e){this.model=e;this.fieldsModel.emptyData();const t=this.fieldsFilter;e.children("fields, groupby").children().each((e,n)=>{const i=this.getMetadataForField(s(n));let a=n.getAttribute("id");let o=n.getAttribute("name");let r=o||a;if(t&&!t({displaytype:n.getAttribute("displaytype"),id:a,name:o},null,r)){return true}this.fieldsModel.adoptRow({field:this.getFieldLabel(n),fieldId:r,id:a,name:o,type:i&&i.displaytype||n.getAttribute("displaytype")},{doAppend:true})})}getFieldsTableConfig(e={}){const t=this.fieldsTableUniqueId=e.uniqueId||this.fieldsTableUniqueId;return Object.assign({},{componentType:"skuid__table",uniqueId:t,styleSettingsVariant:"compact",showSaveCancel:false,allowSortingByColumn:false,allowColumnAdjusting:false,showPageSizeSelect:false,pageSize:Infinity,showListHeader:false,showListFooter:false,maxHeight:"custom",maxHeightCustom:"450px",mode:"readonly",model:this.fieldsModel,fields:[{id:"field",label:"Field",columnWidth:"40%"},{id:"fieldId",label:"ID"},{id:"type",label:"Type"}],massActions:l('<massActions>\n\t\t\t\t\t<action type="none" />\n\t\t\t\t</massActions>')},e)}getFieldsTable(){return e.$C(this.fieldsTableUniqueId)}getSelectedFields(){const e=this.getFieldsTable(),t=e._getCPI().getSelectedRecords();return(t||[]).map(e=>e.name||e.id)}isAggregate(){return this.model.attr("type")==="aggregate"}addFieldsToState(e){const t=e.fieldsToAdd||this.getSelectedFields(),n=this.model,i=this.isAggregate(),o=i?"name":"id",r=e.addFieldsHandler,l=e.insertFieldStateHandler,s=e.component,d=e.fieldBuilder,c=e.defaultStateGenerator,u=e.state||s&&s.get("xmlState");if(typeof r==="function"){r(t)}else{t.forEach(e=>{const t={};let r=n.children("fields,groupby").find("field[".concat(o,'="').concat(e,'"]')),s=!!(i&&r.length);if(s){t.fieldName=r.attr("name")}else if(i){r=n.children("fields").find('field[id="'.concat(e,'"]'));t.fieldName=r.attr("id")}t.fieldId=r.attr("id");t.fieldDisplayType=r.attr("displaytype");t.isChildRelationship=r.attr("type")==="childRelationship";const p=(c||d.defaultStateGenerator)(t);if(Object(a["m"])(n,e,{searchByName:s})===true){if(typeof l==="function"){l(p)}else{u.children("fields").first().append(p)}}});s&&s.save().refresh()}}createModal(t){const n=t.modalTitle||"Add Fields",i=t.modalWidth||"800px",a=t.modalZIndex;this.modal=e.utils._floatingComponentFactory.createModal({title:n,width:i,zIndex:a,components:[this.getFieldsTableConfig({styles:{spacing:{marginBottom:3,marginRight:1,marginLeft:1,marginTop:1}}})],buttons:t.buttons||[{label:"Apply",styleSettingsVariant:"primary",onClick:()=>{this.addFieldsToState(t);this.modal.getCPI().close()}},{label:"Cancel",onClick:()=>{this.modal.getCPI().close()}}],onClose:()=>{this.modal.unregister()}});return this.modal}}},54:function(t,n,i){"use strict";i.d(n,"a",function(){return r});i.d(n,"b",function(){return l});const a=e.utils,o=e.$;function r(t,n){return a.mergeAsTextInContext(t||e.$L("Select_Option_None"),n||{})}const l={edit:function e(t){let n,i=t.entries,l="change.skuid",s=t.onChange,d;if(a.isFunction(i)){i=i()}n=o("<select>");let c=false,u=t.value||t.value===""||t.value===0,p={},f=t.defaultValue,m=[],h=u?t.value:"",g=a.isString(h)?h.replace(/\"/g,'\\"'):h,b=a.isString(f)?f.replace(/\"/g,'\\"'):f;if(i){o.each(i,function(e,t){let n=t.value,i=o("<option>").attr("value",n).text(t.label);if(t.disabled===true)i.prop("disabled",true);p[n]=i;m.push(i)})}if(h&&a.isUndefined(p[h])){p[h]=o("<option>").attr("value",h).text(t.label?t.label:h);m.unshift(p[h])}if(!t.required||t.addNoneOption){m.unshift(o("<option>").attr("value","").text(r(t.noneLabel)))}if(m.length){n.append(m)}if(u&&h in p){c=true}if(u&&c){n.val(h);n.children('[value="'+g+'"]').attr("selected",true)}else{if(typeof f!=="undefined"&&f in p){n.val(f);n.children('[value="'+b+'"]').attr("selected",true)}}if(s){d=n.val();n.off(l).on(l,function(){s(n.val(),d);d=n.val()})}return n}}},55:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(){a(this,e);this.registry=[]}i(e,[{key:"add",value:function e(t){var n=this.registry;var i=t.options.index;if(n.indexOf(t)!==-1)return;if(n.length===0||i>=this.index){n.push(t);return}for(var a=0;a<n.length;a++){if(n[a].options.index>i){n.splice(a,0,t);return}}}},{key:"reset",value:function e(){this.registry=[]}},{key:"remove",value:function e(t){var n=this.registry.indexOf(t);this.registry.splice(n,1)}},{key:"toString",value:function e(t){return this.registry.filter(function(e){return e.attached}).map(function(e){return e.toString(t)}).join("\n")}},{key:"index",get:function e(){return this.registry.length===0?0:this.registry[this.registry.length-1].options.index}}]);return e}();t["default"]=o},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(91);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}t["default"]=function(e){return e&&e[a["default"]]&&e===e[a["default"]]()}},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=i;function i(e,t){e.renderable=t;if(e.rules&&t.cssRules)e.rules.link(t.cssRules)}},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(18);var a=d(i);var o=n(59);var r=d(o);var l=n(94);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var c=1e10;var u="production";t["default"]=function(){var e=0;var t=u==="production"?"c":"";return function(n,i){e+=1;if(e>c){(0,a["default"])(false,"[JSS] You might have a memory leak. Rule counter is at %s.",e)}var o=t;var r="";if(i){o=i.options.classNamePrefix||t;if(i.options.jss.id!=null)r+=i.options.jss.id}if(u==="production"){return""+o+s["default"]+r+e}return o+n.key+"-"+s["default"]+(r&&"-"+r)+"-"+e}}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var o=n(57);var r=d(o);var l=n(26);var s=d(l);function d(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var u=function(){function e(t,n){var a=this;c(this,e);this.update=function(e,t){if(typeof e==="string"){a.rules.update(e,t)}else{a.rules.update(e)}return a};this.attached=false;this.deployed=false;this.linked=false;this.classes={};this.options=i({},n,{sheet:this,parent:this,classes:this.classes});this.renderer=new n.Renderer(this);this.rules=new s["default"](this.options);for(var o in t){this.rules.add(o,t[o])}this.rules.process()}a(e,[{key:"attach",value:function e(){if(this.attached)return this;if(!this.deployed)this.deploy();this.renderer.attach();if(!this.linked&&this.options.link)this.link();this.attached=true;return this}},{key:"detach",value:function e(){if(!this.attached)return this;this.renderer.detach();this.attached=false;return this}},{key:"addRule",value:function e(t,n,i){var a=this.queue;if(this.attached&&!a)this.queue=[];var o=this.rules.add(t,n,i);this.options.jss.plugins.onProcessRule(o);if(this.attached){if(!this.deployed)return o;if(a)a.push(o);else{this.insertRule(o);if(this.queue){this.queue.forEach(this.insertRule,this);this.queue=undefined}}return o}this.deployed=false;return o}},{key:"insertRule",value:function e(t){var n=this.renderer.insertRule(t);if(n&&this.options.link)(0,r["default"])(t,n)}},{key:"addRules",value:function e(t,n){var i=[];for(var a in t){i.push(this.addRule(a,t[a],n))}return i}},{key:"getRule",value:function e(t){return this.rules.get(t)}},{key:"deleteRule",value:function e(t){var n=this.rules.get(t);if(!n)return false;this.rules.remove(n);if(this.attached&&n.renderable){return this.renderer.deleteRule(n.renderable)}return true}},{key:"indexOf",value:function e(t){return this.rules.indexOf(t)}},{key:"deploy",value:function e(){this.renderer.deploy();this.deployed=true;return this}},{key:"link",value:function e(){var t=this.renderer.getRules();if(t)this.rules.link(t);this.linked=true;return this}},{key:"toString",value:function e(t){return this.rules.toString(t)}}]);return e}();t["default"]=u},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=u;var i=n(35);var a=r(i);var o=n(109);function r(e){return e&&e.__esModule?e:{default:e}}var l=void 0;var s={};if(a["default"]){l=document.createElement("p");var d=window.getComputedStyle(document.documentElement,"");for(var c in d){if(!isNaN(c))s[d[c]]=d[c]}o.noPrefill.forEach(function(e){return delete s[e]})}function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!l)return e;if("production"!=="benchmark"&&s[e]!=null){return s[e]}if(e==="transition"||e==="transform"){t[e]=e in l.style}for(var n=0;n<o.propertyDetectors.length;n++){s[e]=o.propertyDetectors[n](e,l.style,t);if(s[e])break}try{l.style[e]=""}catch(e){return false}return s[e]}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var i=n(107);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={};for(var n in e){t[(0,a["default"])(n)]=e[n]}if(e.fallbacks){if(Array.isArray(e.fallbacks))t.fallbacks=e.fallbacks.map(r);else t.fallbacks=r(e.fallbacks)}return t}function l(){function e(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++){e[t]=r(e[t])}return e}return r(e)}function t(e,t,n){var i=(0,a["default"])(t);if(t===i)return e;n.prop(i,e);return null}return{onProcessStyle:e,onChangeValue:t}}},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};t.default=c;var a=n(18);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}var l=/\s*,\s*/g;var s=/&/g;var d=/\$([\w-]+)/g;function c(){function e(e){return function(t,n){var i=e.getRule(n);if(i)return i.selector;(0,o.default)(false,"[JSS] Could not find the referenced rule %s in %s.",n,e.options.meta||e);return n}}var t=function e(t){return t.indexOf("&")!==-1};function n(e,n){var i=n.split(l);var a=e.split(l);var o="";for(var r=0;r<i.length;r++){var d=i[r];for(var c=0;c<a.length;c++){var u=a[c];if(o)o+=", ";o+=t(u)?u.replace(s,d):d+" "+u}}return o}function a(e,t,n){if(n)return i({},n,{index:n.index+1});var a=e.options.nestingLevel;a=a===undefined?1:a+1;return i({},e.options,{nestingLevel:a,index:t.indexOf(e)+1})}function r(o,r){if(r.type!=="style")return o;var l=r.options.parent;var s=void 0;var c=void 0;for(var u in o){var p=t(u);var f=u[0]==="@";if(!p&&!f)continue;s=a(r,l,s);if(p){var m=n(u,r.selector);if(!c)c=e(l);m=m.replace(d,c);l.addRule(m,o[u],i({},s,{selector:m}))}else if(f){l.addRule(u,null,s).addRule(r.key,o[u],{selector:r.selector})}delete o[u]}return o}return{onProcessStyle:r}}},63:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=l;var i=n(108);var a=r(i);var o=n(14);function r(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var n in e){if(Object.prototype.hasOwnProperty.call(e,n))t[n]=e[n]}}t["default"]=e;return t}}function l(){function e(e){if(e.type==="keyframes"){e.key="@"+a.prefix.css+e.key.substr(1)}}function t(e,t){if(t.type!=="style")return e;for(var n in e){var i=e[n];var r=false;var l=a.supportedProperty(n);if(l&&l!==n)r=true;var s=false;var d=a.supportedValue(l,(0,o.toCssValue)(i));if(d&&d!==i)s=true;if(r||s){if(r)delete e[n];e[l||n]=d||i}}return e}function n(e,t){return a.supportedValue(t,(0,o.toCssValue)(e))||e}return{onProcessRule:e,onProcessStyle:t,onChangeValue:n}}},64:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();t["default"]=h;var o=n(14);function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var l="@global";var s="@global ";var d=function(){function e(t,n,a){r(this,e);this.type="global";this.key=t;this.options=a;this.rules=new o.RuleList(i({},a,{parent:this}));for(var l in n){this.rules.add(l,n[l],{selector:l})}this.rules.process()}a(e,[{key:"getRule",value:function e(t){return this.rules.get(t)}},{key:"addRule",value:function e(t,n,i){var a=this.rules.add(t,n,i);this.options.jss.plugins.onProcessRule(a);return a}},{key:"indexOf",value:function e(t){return this.rules.indexOf(t)}},{key:"toString",value:function e(){return this.rules.toString()}}]);return e}();var c=function(){function e(t,n,a){r(this,e);this.name=t;this.options=a;var o=t.substr(s.length);this.rule=a.jss.createRule(o,n,i({},a,{parent:this,selector:o}))}a(e,[{key:"toString",value:function e(t){return this.rule.toString(t)}}]);return e}();var u=/\s*,\s*/g;function p(e,t){var n=e.split(u);var i="";for(var a=0;a<n.length;a++){i+=t+" "+n[a].trim();if(n[a+1])i+=", "}return i}function f(e){var t=e.options,n=e.style;var a=n[l];if(!a)return;for(var o in a){t.sheet.addRule(o,a[o],i({},t,{selector:p(o,e.selector)}))}delete n[l]}function m(e){var t=e.options,n=e.style;for(var a in n){if(a.substr(0,l.length)!==l)continue;var o=p(a.substr(l.length),e.selector);t.sheet.addRule(o,n[a],i({},t,{selector:o}));delete n[a]}}function h(){function e(e,t,n){if(e===l){return new d(e,t,n)}if(e[0]==="@"&&e.substr(0,s.length)===s){return new c(e,t,n)}var i=n.parent;if(i){if(i.type==="global"||i.options.parent.type==="global"){n.global=true}}if(n.global)n.selector=e;return null}function t(e){if(e.type!=="style")return;f(e);m(e)}return{onCreateRule:e,onProcessRule:t}}},644:function(t,n){(function(e){let t=e.builder,n=t.core,i=t.ink,a=e.utils,o=a.escapeSelector,r=a.makeXMLDoc,l=e.constants,s=l.DISPLAY_TYPES,d=l.FIELD_TYPES,c=[1,2,3,4,5,6,7,8,9,10];const u=[{label:"Number",value:""},{label:"Slider",value:"SLIDER"},{label:"Stepper",value:"VALUE_STEPPER"}],p=[{label:"Text",value:""},{label:"Password",value:"PASSWORD"}],f={PICKLIST:[{label:"Picklist",value:""},{label:"Radio",value:"RADIO"},{label:"Button Group",value:"BUTTON_GROUP"}],MULTIPICKLIST:[{label:"Multi-picklist",value:""},{label:"Checkbox List",value:"CHECKBOX_LIST"},{label:"Multi-Button Group",value:"MULTIBUTTON_GROUP"}],CURRENCY:u,INTEGER:u,DOUBLE:u,PERCENT:u,BOOLEAN:[{label:"Checkbox",value:""},{label:"Switch",value:"SWITCH"}],TEXT:p,STRING:p,REFERENCE:[{label:"Autocomplete",value:""},{label:"Picklist",value:"PICKLIST"}],CUSTOM:[{label:"Custom",value:"CUSTOM"}]},m="The fixed width of this column.",h="The maximum width this column can expand to.",g=[{label:"Sum",value:"sum"},{label:"Average",value:"avg"},{label:"Min",value:"min"},{label:"Max",value:"max"},{label:"Median",value:"med"}],b=()=>e.platform.hasFeature("CustomDisplayMethods");function y(t,i,u,p,m){let h=n.getModelFromModelName(i),g=C.bind(null,t,i,u,p),y=n.getSObjectNameFromModelName(i),v=h?h.attr("type")==="aggregate":false,k=t.get("xmlState"),S=k.attr("displayAs")||k.attr("type"),w=k.attr("id"),x=w?n.getFieldInfoFromCache(i,w):false,I=x?x.displaytype:false,T=g("requiredProp"),A=g("decimalPlacesProp"),P,_,F,M,E,N,O,R,D,L,B,V,j,G,W,U,z,q,H,X,Y,$,K,J;if(x){x.dataSourceName=h.attr("datasource")}if(S===d.COMBO||S===d.CHILDREL||S===d.IMAGE){K=[{id:"label",type:"template",location:"attribute",label:"Label",onChange(){t.refresh()}}];if(S===d.IMAGE){K.push({id:"url",type:"template",label:"Image URL"},{id:"alt",type:"template",label:"Alternate Text"},{id:"height",type:"csssize",label:"Height",onChange(){t.rebuildProps()}});if(k.attr("height")||k.attr("columnWidth")){K.push({id:"fill",type:"boolean",label:"Fill Container",helptext:"Whether or not the image should fill the entire space of the element containing it."})}}else{K.push({id:"template",type:"template",label:"Template",location:"attribute",onChange(){t.refresh()}})}if(S!==d.IMAGE&&S!==d.CHILDREL){K.push({id:"readOnly",type:"boolean",label:"Read-only",defaultValue:false,onChange(){t.rebuildProps()}})}if(u==="skuid__table"&&m.attr("allowSortingByColumn")!=="false"){K.push({id:"orderField",type:"field",label:"Sort Field",showUiOnlyFields:false,helptext:"Used when sorting is enabled for the table.",sobject:y})}if(k.attr("readOnly")!=="true"&&S===d.COMBO&&u==="basicfieldeditor"){K.push({id:"editModeBehavior",type:"picklist",label:"Edit Mode behavior",defaultValue:"autopopup",picklistEntries:[{label:"Show default Popup",value:"autopopup"},{label:"Show custom Popup",value:"custompopup"}],onChange(){t.rebuildProps()}});if(k.attr("editModeBehavior")==="custompopup"){G=e.builder.desktop.makePopupBuilder({title:"Template Field Edit Mode Popup Properties",linkedComponent:t});W=k.children("editModePopup");if(W.length===0){J=k.children("template").text();if(J.length){j=a.extractFieldsFromTemplate(J,{ignoreGlobals:true})}W=G.defaultStateGenerator({id:"editModePopup",title:k.children("label").text()||"Template Field",width:"450",childComponents:r('<skuid__form showSaveCancel="false" mode="edit" model="'.concat(i,'">\n\t\t\t\t\t\t\t\t<sections>\n\t\t\t\t\t\t\t\t\t<section title="">\n\t\t\t\t\t\t\t\t\t\t<rows>\n\t\t\t\t\t\t\t\t\t\t\t<row>\n\t\t\t\t\t\t\t\t\t\t\t\t<fields>\n\t\t\t\t\t\t\t\t\t\t\t\t\t').concat(j&&j.length?'<field id="'.concat(j.join('"/><field id="'),'"/>'):"","\n\t\t\t\t\t\t\t\t\t\t\t\t</fields>\n\t\t\t\t\t\t\t\t\t\t\t</row>\n\t\t\t\t\t\t\t\t\t\t</rows>\n\t\t\t\t\t\t\t\t\t</section>\n\t\t\t\t\t\t\t\t</sections>\n\t\t\t\t\t\t\t</skuid__form>"))});k.append(W)}t.editModePopupComponent=n.componentFactory(W,G,true);K.push({id:"editModePopup",type:"customaction",label:"Configure Edit Mode Popup",icon:"sk-webicon-ink:open",customAction(){t.editModePopupComponent.select()}})}}if(S===d.CHILDREL){K.push({id:"delimiter",type:"string",label:"Delimiter"})}V=[{name:"Basic",props:K}];if(S===d.COMBO){V.push(Z())}}else{if(x&&x.required){T.defaultValue=true}if(x&&(x.required||x.calculated)){T.readonly=true}for(q=0;q<9;q++){A.picklistEntries.push({value:q+"",label:q+""})}if(!w){V=[{name:"Basic",props:[g("idProp")]}];return V}P=(()=>{let e=[g("showTodayButtonProp"),g("showMonthYearPickerProp")];if(k.attr("showMonthYearPicker")==="true"){let t=c.concat(20,30,40,50,60,70,80,90,100);e.push({id:"yearPickerMin",type:"picklist",label:"Year Picker Lower Bound",defaultValue:"c-10",picklistEntries:Object.keys(t).map(e=>{const n=t[e];return{value:"c-"+n,label:"Selected - "+n}}).concat(Object.keys(t).map(e=>{const n=t[e];return{value:"-"+n,label:"Today - "+n}}))},{id:"yearPickerMax",type:"picklist",label:"Year Picker Upper Bound",defaultValue:"c+10",picklistEntries:Object.keys(t).map(e=>{const n=t[e];return{value:"c+"+n,label:"Selected + "+n}}).concat(Object.keys(t).map(e=>{const n=t[e];return{value:"+"+n,label:"Today + "+n}}))})}return e});_=(()=>{return P().concat({id:"minuteIncrement",type:"picklist",label:"Minute Picker Increment",defaultValue:"5",picklistEntries:[1,5,10,15,20,30].map(e=>{e=""+e;return{value:e,label:e}})})});if(I&&I===s.MULTIPICKLIST){H=[g("maxSelectedProp")];if(S!=="CHECKBOXES"){H.push(g("listSelectedItemsProp"))}}z=I===s.TEXTAREA&&x&&x.htmlFormatted===true;let n=["VALUE_STEPPER","SLIDER"].includes(k.attr("displayAs")),a=k.attr("summaries");X=[];if(I===s.PICKLIST||I===s.REFERENCE&&S==="PICKLIST"){X.push(g("addNoneOptionProp"));if(k.attr("addNoneOption")==="true"){X.push(g("noneOptionLabelProp"))}}if(u==="skuid__table"){const e=k.children("summaries").children("summary").length>0,t=m&&m.attr("adaptiveColumns")!=="true",i=t?"columnWidthProp":"columnMaxWidthProp";M=(()=>[g("idProp"),g("labelProp"),g("readonlyProp"),T,g(i),g("horizontalAlignment"),b()?g("displayAs"):null,b()&&k.attr("displayAs")==="CUSTOM"?g("displayMethod"):null,m.attr("allowColumnHiding")==="true"?g("hideable"):null]);E=(()=>[...M(),g("placeholderProp"),g("showLengthCounterProp"),b()&&f[I]?null:g("displayAs")]);O=(()=>[...M(),g("placeholderProp"),g("calculationProp"),...[a?g("defaultSummaryProp"):[]],A,b()?null:g("displayAs"),...n?[g("minProp"),g("maxProp"),g("stepProp")]:[],e?g("countBlanksProp"):null]);R=(()=>[...M(),g("placeholderProp"),g("calculationProp"),...[a?g("defaultSummaryProp"):[]],b()?null:g("displayAs"),...n?[g("minProp"),g("maxProp"),g("stepProp")]:[],e?g("countBlanksProp"):null]);D=(()=>[...M(),g("placeholderProp"),...X||[],g("displayAs")]);L=(()=>[g("idProp"),g("labelProp"),g("readonlyProp"),T,g(i),...H||[],g("displayAs"),b()&&k.attr("displayAs")==="CUSTOM"?g("displayMethod"):null,m.attr("allowColumnHiding")==="true"?g("hideable"):null]);B=(()=>[g("idProp"),g("labelProp"),g("readonlyProp"),g(i),g("displayAs"),b()&&k.attr("displayAs")==="CUSTOM"?g("displayMethod"):null,m.attr("allowColumnHiding")==="true"?g("hideable"):null]);N=(()=>[...M(),g("showLengthCounterProp"),z?null:g("placeholderProp"),z?null:g("displayRowsProp")]);switch(I){case"TEXT":case"COMBOBOX":case"ANYTYPE":case"STRING":case"URL":K=E();break;case"TEXTAREA":K=N();break;case"REFERENCE":K=D();break;case"PICKLIST":K=[...M(),...X||[],b()?null:g("displayAs")];break;case"MULTIPICKLIST":K=L();break;case"BOOLEAN":K=B();break;case"INTEGER":K=R();break;case"DOUBLE":case"PERCENT":case"CURRENCY":case"NUMBER":K=O();break;case"DATE":case"DATETIME":K=[...M(),g("placeholderProp")];break;default:K=M();break}switch(I){case"REFERENCE":F=[g("optionsSourceProp")];if(k.attr("optionSource")==="model"){F.push(g("optionsSourceModelProp"))}F.push(g("displayTemplateProp"),g("searchTemplateProp"),g("pageSizeProp"),g("tokenizeSearchProp"));break;case"DATE":F=P();break;case"DATETIME":F=_();break;default:F=[];break}}else{M=(()=>[g("idProp"),g("labelProp"),g("showHelpProp"),g("readonlyProp"),T,b()?g("displayAs"):null,b()&&k.attr("displayAs")==="CUSTOM"?g("displayMethod"):null]);E=(()=>[...M(),g("placeholderProp"),g("maxCharactersProp"),g("showLengthCounterProp"),b()&&f[I]?null:g("displayAs")]);N=(()=>[...M(),b()?null:g("displayAs"),z?null:g("placeholderProp"),z?null:g("displayRowsProp"),g("maxCharactersProp"),g("showLengthCounterProp")]);R=(()=>[...M(),g("placeholderProp"),b()?null:g("displayAs"),...n?[g("minProp"),g("maxProp"),g("stepProp")]:[]]);switch(I){case"ANYTYPE":case"TEXT":case"STRING":case"COMBOBOX":case"URL":K=E();break;case"TEXTAREA":K=N();break;case"PICKLIST":K=[...M(),...X||[],b()?null:g("displayAs"),k.attr("displayAs")==="RADIO"?g("radioLayoutProp"):null];break;case"REFERENCE":K=[...M(),g("placeholderProp"),...X||[],k.attr("optionSource")==="model"?g("optionSourceModelProp"):null,!k.attr("displayAs")?g("tokenizeSearchProp"):null,b()?null:g("displayAs")];break;case"BOOLEAN":K=[g("idProp"),g("labelProp"),g("showHelpProp"),g("readonlyProp"),g("displayAs")];if(k.attr("displayAs")==="CUSTOM"&&b()){K.push(g("displayMethod"))}break;case"MULTIPICKLIST":K=[...M(),...H||[],b()?null:g("displayAs")];break;case"INTEGER":K=R();break;case"DOUBLE":case"PERCENT":case"CURRENCY":K=[...R(),A];break;case"CUSTOM":K=[...M(),g("snippetProp")];break;case"DATE":case"DATETIME":K=[...M(),g("placeholderProp")];break;default:K=M();break}switch(I){case"REFERENCE":F=[g("optionsSourceProp")];if(k.attr("optionSource")==="model"){F.push(g("optionsSourceModelProp"))}F.push(g("displayTemplateProp"),g("searchTemplateProp"),g("pageSizeProp"),g("tokenizeSearchProp"));break;case"DATE":F=P();break;case"DATETIME":F=_();break;default:F=[];break}}if(v){switch(I){case"TEXTAREA":K=[g("idProp"),g("aliasNameProp"),g("labelProp"),g("columnWidthProp"),g("maxCharactersProp"),g("horizontalAlignment")];break;case"DOUBLE":case"CURRENCY":case"PERCENT":K=[g("idProp"),g("aliasNameProp"),g("labelProp"),g("columnWidthProp"),A,g("horizontalAlignment")];break;default:K=[g("idProp"),g("aliasNameProp"),g("labelProp"),g("columnWidthProp"),g("horizontalAlignment")];break}$=h.children("groupby").children('[name="'+o(k.attr("name"))+'"]');U=$&&$.length;if(U){if(x&&x.sortable){K.push(g("sortingProp"))}}else{K.push(g("calculationProp"));if(k.children("summaries").children("summary").length>0){K.push(g("countBlanksProp"))}K.push(g("sortingProp"))}if(k.attr("displayAs")==="CUSTOM")K.push(g("snippetProp"));V=[{name:"Basic",props:K}]}else{if(I===s.REFERENCE){Y=[{label:"Search Properties",linkedComponent:t,deleteable:false,props:F}];if(x.referenceTo&&x.referenceTo.length===1){Y.push(e.builder.ink.getSearchFieldsTreeItem({sobject:x.ref,modelName:i,linkedComponent:t,isReference:true}))}V=[{name:"Basic",props:K},{name:"Search",tree:Y}]}else{V=[{name:"Basic",props:K},{name:"Advanced",props:F}]}}if(Q()){V.push(Z())}else if(!v&&I===s.REFERENCE){V.push(Z());V.push(ee())}}function Q(){const e=["FirstName","LastName","Company"],t=n.getDataSourceTypeFromModelName(i),o=t.name===l.SALESFORCE,r=a.inPlatform([l.VISUALFORCE,l.LIGHTNING]);return x&&(x.nameField||o&&r&&e.indexOf(x.id)>-1)}function Z(){let n=a.inPlatform(e.constants.NATIVE),i,o,l,s;i=k.attr("redirectType");o=[g("redirectProp")];s={id:"urlparameters",label:"Link Options",linkedComponent:t,deleteable:false,props:o};l={name:"Link",tree:s};if(n&&i==="page"){o.push(e.platform.builder.getPageSelectProperty({id:"page",label:"Skuid Page",valueTemplates:{page:"{{{name}}}"}}))}if(n&&i==="route"){o.push(e.platform.builder.getRouteSelectProperty({id:"route",label:"Skuid Route",platform:[e.constants.NATIVE]}))}if(i==="none"||i==="datasourcedefault"||!i){return l}if(i==="customurl"){o.push({id:"rootUrl",label:"URL",defaultValue:"",type:"template",location:"attribute",displayAs:"input"});o.push({id:"window",type:"picklist",label:"Open URL in",defaultValue:"self",picklistEntries:[{label:"Current window",value:"self"},{label:"New tab",value:"blank"}]})}s.children=[{id:"param",labelFunction(e){let t=e.attr("key")||"[No Key]",n=e.attr("value");if(a.isUndefined(n))n="[No Value]";return t+": "+n},invisibleParent:"params",invisibleParentLabel:"Parameters",indent:1,addtooltip:"Add Parameter",deletetooltip:"Remove Parameter",propsFunction(e){const t=()=>e.refresh();return[{id:"key",type:"text",label:"Key",onChange:t},{id:"value",type:"text",label:"Value",onChange:t}]},defaultStateFunction(){return r("<param/>")},onChange(){t.rebuildProps()}}];return l}function ee(){return{name:"Filters",tree:{id:"filters",label:"Lookup Filters",linkedComponent:t,deleteable:false,icon:"sk-bi-filters",isChild:true,children:[{id:"filter",addtooltip:"Add New Lookup Filter",labelFunction(e){return n.getConditionDisplayString(e)},defaultStateFunction(){return r('<filter type="fieldvalue" operator="=" enclosevalueinquotes="true"/>')},propsFunction(t){let a=t.get("xmlState");let o=e.dataSource.get(x.dataSourceName);let r=o.getConditionSourceProperties(t,{renderMode:"propsonly",url:x.searchRoute});if(!a.attr("operator")){a.attr("operator","=")}t.isLookupFilterCondition=true;if(!r||r.length===0){let e=n.getMetadataForField(t,{modelName:i});if(!e&&a.attr("field")){let e=n.getSObjectForField(t);if(e.indexOf(",")===-1){n.getDataSourceFromModel(h).getEntityMetadata({entities:e,ignoreMetadataOverrides:true}).then(function(){if(!n.getMetadataForField(t,{modelName:i})){a.removeAttr("field")}t.rebuildProps(p)});return[]}}r=[n.getConditionFieldPropObj(t,{sobject:n.getSObjectForField(t),modelName:i,showObjectPickerIfPolymorphic:true,handleChange(){t.rebuildProps(p)}}),n.getConditionOperatorPropObj(t,{fieldMetadata:e})]}return r.concat(n.getConditionValueProperties(t,{handleRefresh(){t.rebuildProps(p)},modelName:i,validTypes:["fieldvalue","multiple","blank","userinfo","param","modelmerge","dependent"]}))}}]}}}V.push(n.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,propViewer:p,model:i,showOnHideDataBehaviorProp:true,showEnableDisableConditions:true,showMessageWhenDisabledProp:true}));return V}function v(e){let t=[],n;n={id:"showErrorsInline",type:"boolean",label:"Show errors inline",helptext:"If true, field level errors will display next to the fields themselves.",defaultValue:true,onChange(){e.rebuildProps()}};t.push(n);return t}function C(t,i,o,r,l){let s;const u=n.getModelFromModelName(i),p=t.get("xmlState"),y=p.attr("id"),v=p.attr("displayAs"),C=y?n.getFieldInfoFromCache(i,y):false,k=C?C.displaytype:false,S=u&&e.dataSource.getDataSource(u.attr("datasource")),w=S&&S.dataSourceType,x=C?C.calculated||!(C.createable||C.editable):false;switch(l){case"addNoneOptionProp":return{id:"addNoneOption",type:"boolean",label:'Add "None" option',defaultValue:false,onChange(){t.rebuildProps(r)}};case"aliasNameProp":return{id:"name",type:"string",readonly:true,label:"Field Alias Name"};case"calculationProp":return{id:"summaries",location:"node",type:"multipicklist",label:"Column Summaries",helptext:"Choose one or more summary type(s) for this field. Summaries are displayed at the bottom of a table.",picklistEntries:g,noneSelectedText:"Select Summary Type(s)...",onChange(){t.rebuildProps(r)}};case"columnMaxWidthProp":return{id:"columnMaxWidth",type:"csssize",label:"Column Max Width",helptext:h,onChange:()=>t.rebuildProps(r)};case"columnWidthProp":return{id:"columnWidth",type:"csssize",label:"Column Width (Fixed)",helptext:m};case"countBlanksProp":return{id:"countBlanks",type:"boolean",label:"Count Blanks in Summaries",helptext:"Set this to true if you  want blank values to be counted in summary calculations."};case"decimalPlacesProp":return{id:"decimalPlaces",type:"picklist",label:"# of Decimal Places",helptext:"(Optional) The number of decimal places / digits to show in Read mode. Defaults to the number of decimal places configured in the Salesforce field's metadata.",picklistEntries:[{label:"(Use field metadata)",value:""}],defaultValue:""};case"defaultSummaryProp":{return{id:"defaultSummary",label:"Default Summary",type:"picklist",picklistEntries:g.filter(e=>p.attr("summaries").indexOf(e.value)>-1)}}case"displayTemplateProp":return{id:"displayTemplate",type:"template",label:"Display Template",modelprop:"optionModel",fieldContext:C?C:null,fieldId:y,location:"attribute",helptext:'The fields from related records to display, specified using Merge syntax, e.g. "{{Name}} - {{Industry}}" would show the Name and Industry of related Accounts, if this is the AccountId field. Fields can be easily added using the Merge-Field Picker to the right.'};case"displayAs":return{id:"displayAs",label:"Display As",type:"picklist",default:"",picklistEntries:b()?f[k]?f[k].concat(f["CUSTOM"]):[{label:e.utils.capitalizeFirst((k||"").toLowerCase()),value:""}].concat(f["CUSTOM"]):f[k]||[],onChange:e=>{if(!e){p.removeAttr("min max addNoneOption noneLabel")}t.save().rebuildProps()}};case"displayMethod":return{id:"displayMethod",label:"Display Method",type:"snippet",default:"",entries:e.$(n.pageXML).find('> resources > javascript > jsitem[location="displaymethod"]').map((t,n)=>({label:e.$(n).attr("name"),value:e.$(n).attr("name")}))};case"horizontalAlignment":return{id:"horizontalAlignment",label:"Horizontal Alignment",type:"picklist",picklistEntries:[{value:"",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"}],onChange(){t.refresh()}};case"idProp":return{id:"id",type:"string",readonly:true,label:"Field Id"};case"labelProp":return{id:"label",type:"template",location:"attribute",label:"Custom Label",onChange(){t.refresh()}};case"maxProp":return{id:"max",type:"number",label:"Maximum Value"};case"minProp":return{id:"min",type:"number",label:"Minimum Value"};case"listSelectedItemsProp":return{id:"selectedList",type:"picklist",label:'Show "# items selected" after what # items',picklistEntries:[{label:'0 (Always show "# items selected")',value:"0"}].concat(c.concat([11,12,13,14,15]).map(e=>{let t=e+"";return{label:t,value:t}})),defaultValue:"3",helptext:["Until the user selects more than this number of items, ","the Multiselect Picklist widget will display the selected values, ",'e.g. "Alpha, Beta, Gamma", but when the user selects more than this number of items, ','the widget will start displaying "# items selected", to conserve space on the screen. '].join("")};case"maxCharactersProp":return{id:"maxDisplayCharacters",type:"string",label:"Max Characters to Display",helptext:"(Read Mode only) The maximum number of characters that will be displayed for this textarea in Read mode before the text is curtailed with '...'",placeholder:k==="URL"?"40":""};case"optionsSourceModelProp":return{id:"optionModel",type:"model",label:"Option Model",entryFilter(e){let t=C?C.ref:false,i=n.getSObjectNameFromModelName(e.attr("id")),a=S.dataSourceType;if(a.getEntitySet){let e=a.getEntitySet(i,S.metadata);return t===e.entityType}else return t===i},onChange(e,n){if(n!==true){p.removeAttr("displayTemplate searchTemplate");t.refresh().rebuildProps(r)}}};case"optionsSourceProp":return{id:"optionSource",type:"picklist",label:"Option Source",defaultValue:"",picklistEntries:[{label:"Automatic",value:""},{label:"Model",value:"model"}],onChange(){p.removeAttr("displayTemplate searchTemplate");if(typeof p.attr("optionModel")!=="undefined"){p.removeAttr("optionModel")}t.refresh().rebuildProps(r)}};case"maxSelectedProp":return{id:"maxSelected",type:"string",label:"Max selectable items",placeholder:"(No maximum)",helptext:"The maximum number of picklist items that a user can select. "+"By default, the user can select as many items as they want."};case"noneOptionLabelProp":return{id:"noneLabel",type:"template",location:"attribute",displayAs:"input",label:"None Option Label",placeholder:e.$L("Select_Option_None")};case"radioLayoutProp":return{id:"radioLayout",type:"picklist",label:"Radio Button Layout",defaultValue:"column",picklistEntries:[{label:"Vertical",value:"column"},{label:"Horizontal",value:"row"}]};case"pageSizeProp":return{id:"pageSize",type:"picklist",label:"Visible Rows",defaultValue:"5",picklistEntries:[{label:"5",value:"5"},{label:"10",value:"10"},{label:"25",value:"25"},{label:"50",value:"50"},{label:"Show All",value:"all"}]};case"placeholderProp":return{id:"placeholder",displayAs:"input",label:"Placeholder",location:"attribute",placeholder:C?C.placeholder:null,type:"template",onChange(){t.refresh()}};case"readonlyProp":return{id:"readOnly",type:"boolean",label:"Read-only",readonly:x,defaultValue:x};case"redirectProp":s=[{label:"No link",value:"none"},{label:"Custom URL",value:"customurl"}];if(S&&S.dataSourceType&&w.getLinkInfoForReferenceField&&w.getLinkInfoForReferenceField!==e.dataSource.DataSourceType.prototype.getLinkInfoForReferenceField&&v!==d.COMBO){s.splice(0,0,{label:"Data source default",value:"datasourcedefault"})}if(a.inPlatform(e.constants.NATIVE)){s.splice(2,0,{value:"page",label:"Skuid Page"});s.splice(3,0,{value:"route",label:"Route"})}return{id:"redirectType",type:"picklist",label:"Navigation Type",options:s,onChange(){p.removeAttr("page route");t.rebuildProps()}};case"requiredProp":return{id:"required",type:"boolean",label:"Required",defaultValue:C?C.required:false,readonly:(C?C.required:false)||(C?C.calculated:false),onChange(){t.refresh()}};case"searchTemplateProp":return{id:"searchTemplate",type:"template",label:"Search Template",modelprop:"optionModel",fieldContext:C?C:null,fieldId:y,location:"attribute",helptext:'The fields from related records to display on search, specified using Merge syntax, e.g. "{{Name}} - {{Industry}}" would show the Name and Industry of related Accounts, if this is the AccountId field. Fields can be easily added using the Merge-Field Picker to the right.'};case"hideable":return{id:"hideable",type:"picklist",label:"Allow user to hide/show?",defaultValue:"trueShowByDefault",options:[{label:"Yes, and show the field by default",value:"trueShowByDefault"},{label:"Yes, and hide the field by default",value:"trueHideByDefault"},{label:"No",value:"false"}]};case"showHelpProp":return{id:"showHelp",type:"picklist",label:"Show Inline Help",helptext:"If the model field has Inline Help Text, it will be displayed according to this selection.",options:[{label:"In tooltip",value:"true"},{label:"Below label",value:"belowlabel"},{label:"Hidden",value:"false"}],onChange(){t.refresh().rebuildProps(r)}};case"showLengthCounterProp":return{id:"showLengthCounter",type:"boolean",label:"Show Length Counter",defaultValue:false};case"showMonthYearPickerProp":return{id:"showMonthYearPicker",type:"boolean",defaultValue:false,label:"Show Month & Year Pickers",helptext:"If true, a month picker and year picker will be displayed, allowing for quickly jumping to a specific month and year.",onChange(){t.rebuildProps()}};case"showTodayButtonProp":return{id:"showTodayButton",type:"boolean",defaultValue:false,label:"Show Today Button"};case"snippetProp":return{id:"snippet",type:"snippet",label:"Render Snippet Name",helptext:'The name of a Skuid Snippet to run that will serve as a "Custom Renderer". Snippets are named JavaScript functions, and can be created by going to the Resources tab and creating a new JavaScript Resource of type "Inline (Snippet)". If your Resource Name is "CustomDatepicker", then you should enter "CustomDatepicker" here.'};case"sortingProp":return{id:"allowOrdering",type:"boolean",label:"Allow Sorting"};case"stepProp":return{id:"step",type:"number",label:"Step",defaultValue:1};case"tokenizeSearchProp":return{id:"tokenizeSearch",type:"boolean",label:"Tokenize autocomplete search",defaultValue:false,helptext:"Search separately on each term, rather than requiring a field to contain a match on the whole search string entered."}}return{}}i.getFieldProperties=y;i.getErrorBehaviorProperties=v})(e)},645:function(t,n){let i=e.$,a=e.builder,o=a.core,r=a.ink,l=e.utils,s=l.makeXMLDoc,d=o.getFieldInfoFromCache,c=e.constants,u=c.SALESFORCE,p=c.DISPLAY_TYPES;function f(t={}){let n=t.fieldsNodeId||"searchFields",a=t.fieldNodeId||"searchField",r=t.useSOSLProp||"useSOSL",c=t.soslFieldsProp||"soslFields",f=t.searchMethodProp||"searchMethod",m=t.isReference,h=t.sobject,g=t.modelName,b=t.propViewer,y=t.hideOrderingOptions===true,v="<".concat(a,' query="true" return="true" show="true"/>');return{label:"Search Fields",linkedComponent:t.linkedComponent,state:t.state,id:n,deleteable:false,propsFunction(e){let t=e.get("xmlState"),n=t.attr(f),i=[{type:"helptext",html:"Use Search Fields to specify which fields to search on. If you do not specify any fields, all searchable fields will be searched."}],a=o.getModelFromModelName(g),s=o.getDataSourceTypeFromModel(a),d=s.name,p=a&&(d===u||!d),v="defaultOrdering",C;if(p&&(n==="server"||m)){C=t.attr(r)==="true";i.push({type:"boolean",label:"Use SOSL to improve search performance",id:r,onChange(){t.attr(c,"Name Fields").empty();e.save().refresh().rebuildProps(b)}});if(C){i.push({id:c,type:"picklist",label:"Fields to Search",defaultValue:"Name Fields",picklistEntries:[{label:"Name Fields",value:"Name Fields"},{label:"All Text Fields",value:"All Fields"},{label:"Email Fields",value:"Email Fields"},{label:"Phone Fields",value:"Phone Fields"},{label:"SideBar Fields (Name, Phone, Email, External Ids)",value:"Sidebar Fields"}],onChange(){e.refresh().rebuildProps(b)}});if(!y){i.push({id:v,type:"boolean",label:"Use Default Ordering",helptext:"If checked, no additional sorting will be applied to the results of this search",defaultValue:false,onChange(){e.rebuildProps()}})}}if(!y&&(C&&t.attr(v)!=="true"||!C)){i.push({id:"orderBy",type:"string",placeholder:l.getNameField(h||a&&a.objectName),label:"Fields to order records by",helptext:'How to order the data records returned for this Field, e.g. "LastName DESC, FirstName" would order by LastName going from Z to A, then by FirstName going from A to Z.'})}}return i},noItemsFunction(e){if(e.attr(r)){return i("<div>").text("(Searching on "+e.attr(c)+".)")}else{return i("<div>").text(m?"(Searching on name field.)":"(Searching on all searchable fields.)")}},childrenFunction(c){if(c.get("xmlState").attr(r)==="true")return[];let u=c.get("xmlState").parent(),f=u.attr("optionSource")==="model"?u.attr("optionModel"):t.modelName;return[{id:a,indent:1,linkedComponent:t.linkedComponent,addtooltip:"Add New Search Field",invisibleParent:n,labelFunction(e){let n=e.attr("operator")||"contains",i,a,o,r=e.attr("field");if(r&&(!m||e.attr("query")==="true")){o=d(t.modelName,r,h);if(o&&o.displaytype){i=l.getSearchOperatorForDisplayType(n,o.displaytype,r);a=" "+i+" [Search]"}}return(e.attr("field")||"[No Field Selected]")+(a||"")},defaultStateFunction(){return s(m?v:"<".concat(a,"/>"))},propsFunction(n){let r=n.get("xmlState"),c=r.attr("return"),u=r.attr("show"),g=r.attr("query"),y=r.attr("field"),v=y?d(t.modelName,y,h):false,C=v?v.displaytype:false,k=e.ui.searchableDisplayTypes,S=v?C in k:false;if(typeof c==="undefined"){c=u==="true"?"true":"false";r.attr("return",c);n.save()}let w=[{id:"field",type:"field",label:"Field",displayTypeFilter(e){if(e.uiOnly)return false;if(m)return true;return e.filterable===true||e.displaytype in k&&e.filterable!==false},modelname:f,sobject:h,allowModelFieldAdds:true,onChange(e){if(m){let n=d(t.modelName,e,h);if(n&&n.displaytype===p.REFERENCE){let e=n.rel+"."+l.getNameField(h),t=r.siblings('[field="'.concat(l.escapeSelector(e),'"]')),i=r.parent(),d;if(!t.length){i.append(s("<".concat(a,' query="true" return="true" show="false" field="').concat(e,'"/>')));d=o.getComponentFromState(i.parent());if(d){d.save();if(d.rebuildProps)d.rebuildProps();if(d.renderProperties)d.renderProperties(b)}}}}n.refresh().rebuildProps()}}];if(m){if(S){w.push({id:"query",type:"boolean",label:"Search this Field",onChange(){n.save().refresh().rebuildProps(b)}})}}if(y&&(!m||g==="true")){if(v&&S){let e=false,t=i.map(o.getValidOperators("searchfield",C),function(t,n){if(n==="contains")e=true;return{label:t.name,value:n}}),a;if(C===p.MULTIPICKLIST){a="includes"}else if(e){a="contains"}else{a=t[0].value}if(t.length){w.push({id:"operator",type:"picklist",label:"Search Operator",defaultValue:a,picklistEntries:t,onChange(){n.refresh()}})}}}if(m){w.push({id:"return",type:"boolean",readonly:u==="true",label:"Return Field in query results",onChange(){n.save().rebuildProps(b)}});if(c==="true"){w.push({id:"show",type:"boolean",label:"Show Field in Search Popup",onChange(){n.save().rebuildProps(b)}})}if(u==="true"){w.push({id:"label",type:"template",displayAs:"input",location:"attribute",label:"Custom Label"})}}return w}}]}}}function m(e={}){let t=e.component,n=t.get("xmlState").children("filtering").first(),i=e.modelName,a=e.propViewer,r=e.showTokenizeSearch!==false,l=e.hideOrderingOptions===true,d=e.updateSearchBox||(t.updateSearchBox?t.updateSearchBox:false),c=o.getModelFromModelName(i),u=o.getDataSourceTypeFromModel(c),p=e.enableSearchProp||"enableSearch",m=e.instantSearchProp||"instantSearch",h=e.instantFiltersProp||"instantFilters",g=e.searchMethodProp||"searchMethod",b=e.tokenizeSearchProp||"tokenizeSearch",y=e.searchPlaceholderProp||"searchPlaceholder",v=e.emptySearchBehaviorProp||"emptySearchBehavior",C=e.filtersPositionProp||"filtersPosition",k=e.hideInstantFiltersOption===true,S=e.useSOSLProp||"useSOSL",w=n.attr(g),x=true,I=!u||u.prop("canFieldsBeIndividuallySearched")!==false&&u.prop("showSearchFields")!==false,T=e=>{const o=n.attr(g),l=o!=="client";let s=[{id:p,type:"boolean",label:"Show Search Box",helptext:"By default, a search box is displayed, allowing for full-text search on all searchable fields. Uncheck this box to hide this search box.",onChange(){d&&d();e.rebuildProps(a)}}];if(u){if(u.prop("canServerSearch")===false){x=false}}if(n.attr(p)==="true"){s.push({id:g,type:"picklist",label:"Search Method",defaultValue:x?"server":"client",helptext:'By default, table search is performed server-side, meaning that all records in the database will be searched for the text in the search box. To search just the records initially retrieved in the model, select "Client" instead.',picklistEntries:x?[{label:"Server",value:"server"},{label:"Client",value:"client"}]:[{label:"Client",value:"client"}],onChange(i){if(i==="client"){n.removeAttr(S);t.save()}e.rebuildProps(a)}});if(!I&&l){s.push({id:"searchConditionName",type:"condition",modelName:i,label:"Search Condition / Merge Parameter"})}if(r&&I){s.push({id:b,type:"boolean",label:"Tokenize Search Terms",helptext:'If checked, this will split search terms on the "space" character and search for them separately.'})}s.push({id:y,type:"string",displayAs:"input",location:"attribute",label:"Search box placeholder text",helptext:'(Optional) Custom text to display as a placeholder in the search box until the user starts typing, e.g. "Search newly created Accounts...". Defaults to "Search " + the plural label of the Model\'s SObject, e.g. "Search Accounts"',onChange(){d&&d()}});if(l){s.push({id:v,type:"picklist",label:"Empty Search Behavior",defaultValue:"query",helptext:'By default, when the search box is emptied, the Model is requeried, but with no search Condition applied, so records will likely be returned. To remove all records from this Model when the search box is emptied, select "Remove all Model data".',picklistEntries:[{label:"Re-query for Model data",value:"query"},{label:"Remove all Model data",value:"remove"}]})}}return s},A=e=>{let i=[{id:C,type:"picklist",picklistEntries:[{value:"top",label:"Top"},{value:"right",label:"Right"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"}],label:"Position",defaultValue:"top",helptext:"The relative position of filters.",onChange(){t.refresh();e.rebuildProps(a)}}];if(n.attr(C)==="left"||n.attr(C)==="right"){i.push({id:"filtersWidth",type:"csssize",label:"Filters Container Width",defaultValue:"150px",onChange(){t.refresh()}})}return i},P=e.additionalBehaviorProps,_=[],F=[];if(!n.length){n=s("<filtering ".concat(p,'="false" />'));t.get("xmlState").append(n)}if(!k){F.push({id:h,type:"boolean",label:"Apply Filters Immediately",defaultValue:true,helptext:"By default, filters are applied immediately when set.  When this feature is disabled, an 'Apply' button is provided to trigger any filters that were set.",onChange(){n.attr(m,"false");t.save().refresh().rebuildProps(a)}})}if(n.attr(h)==="true"){F.push({id:m,type:"boolean",label:"Apply Search As You Type",defaultValue:false,helptext:"By default, the user must hit enter or click the search icon to trigger a search.  Enable this feature to trigger search queries as the user types."})}if(P){if(typeof P==="function")P=P();Array.prototype.push.apply(F,P)}if(F.length>0){_.push({label:"Filter & Search Behavior",linkedComponent:t,deleteable:false,props:F,state:n})}if(e.showFiltersPosition){_.push({label:"Filters Properties",linkedComponent:t,deleteable:false,propsFunction:A,state:n})}_.push({label:"Search Properties",linkedComponent:t,deleteable:false,propsFunction:T,state:n});if(I||w==="client"){_.push(f({fieldsNodeId:"searchFields",fieldNodeId:"searchField",modelName:i,linkedComponent:t,hideOrderingOptions:l,searchMethodProp:g,state:n}))}return{name:e.tabName||"Search",tree:_}}r.getFilteringPropsCategory=m;r.getSearchFieldsTreeItem=f},646:function(t,n){(function(e){let t=e.$,n=e.builder.ink=e.builder.ink||{};function i(t){const n=[{id:"text",type:"template",label:"Text",location:"attribute",helptext:"Additional information to provide when hovering over this element."},{id:"position",type:"picklist",label:"Position",defaultValue:"top",picklistEntries:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"},{value:"left",label:"Left"},{value:"right",label:"Right"}]},{id:"styleSettingsVariant",type:"picklist",label:"Tooltip Style",picklistEntries:e.builder.desktop.getVariantsForComponentType("skuid__tooltip")},{id:"compact",type:"boolean",label:"Compact size?"}];return{name:"Tooltip",tree:{id:"tooltip",label:"Tooltip",defaultState:"<tooltip/>",deleteable:false,isChild:true,props:t?n.filter(e=>t.indexOf(e.name)>-1):n}}}t.extend(n,{getTooltipProperties:i})})(e)},647:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.utils,i=e.builder,a=i.core,o=i.ink,r=i.desktop,l=n.makeXMLDoc,s="skuid__accordion",d="components",c="sections",u="section";a.registerBuilder(new a.Builder({id:s,name:"Accordion",icon:"sk-webicon-ink:summary",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/accordion/",n=r.getDescriptionTag(),i='The accordion is a layout component that can be used to group other components within expandable/collapsible sections, each of which can hold other Skuid components.\n\t\t\t\t <br><br>\n\t\t\t\t For more information, see the <a href="'.concat(t,'">Accordion component tutorial</a>.\n\t\t\t\t <br><br>\n\t\t\t\t ').concat(n);return i},componentRenderer(n){let i=n.get("xmlState");let o=this.registerChildBuilder(new a.Builder({id:u,icon:"sk-webicon-ink:row",name:"Section",componentRenderer(i){let a=i.get("xmlState"),o=t("<div>").addClass("nx-basicfieldeditor-section-wrapper"),r=t("<div>").addClass("nx-basicfieldeditor-section").css({margin:"0"}).appendTo(o),l=a.attr("showHeading")!=="false"?t("<div>").addClass("nx-basicfieldeditor-section-header").text(a.attr("title")).appendTo(r):false;i.sectionHeading=l;i.body.css({"min-height":"90px"}).append(o);i.addActionItem("Remove Section","sk-webicon-ink:delete",function(){i.remove()});const s=i.get("acceptor")||e.component.createFromDefinition({componentType:"skuidbuilder__componentAcceptor",componentsXML:a.find("components").first(),mode:n.mode,_forceRenderToElement:true});i.subscribe("beforeUnregister",()=>{this.acceptorComponent&&this.acceptorComponent.unregister()});i.set("acceptor",s);i.body.append(t(s.getElement()))},propertiesRenderer(e,t){e.setTitle("Section Properties");let n=t.get("xmlState"),i=t.getParentComponent().get("xmlState"),o=i.attr("onePanelAtATime")!=="true"&&i.attr("sectionsInitiallyOpen")==="determined",r=[{id:"title",type:"template",location:"attribute",label:"Section Heading",onChange(){t.save().refresh()}}];o&&r.push({id:"openState",type:"picklist",label:"Initial State",helptext:'If "Determined by Open Conditions" is selected, define the conditions in the Display Logic tab.',picklistEntries:[{label:"Closed",value:"closed"},{label:"Open",value:"open"},{label:"Determined by Open Conditions",value:"conditional"}],onChange(){t.save().refresh().rebuildProps()}});e.applyPropsWithCategories([{name:"Basic",props:r},a.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showOpenConditions:o&&n.attr("openState")==="conditional"})],n)},defaultStateGenerator(e){let t=e?e.showHeading:true,n=l("<"+u+' title="New Section"/>').append(l("<"+d+"/>"));if(!t)n.attr("showHeading","false");return n},hideWrapper:true}));i.children(c).first().children().each(function(){let e=t(this),i=a.getCanvasComponentFromState(e);if(!i){i=a.componentFactory(e,o,undefined,undefined,{parentComponent:n})}else{i.refresh()}i.element.appendTo(n.body)});n.body.sortableComponent({axis:"y",items:"> .nx-pagebuilder-component",handle:".nx-basicfieldeditor-section-wrapper",component:n,parentStateSelector:c});n.addActionItem("Add Section",null,function(){let e=o.defaultStateGenerator(),t=a.componentFactory(e,o,undefined,undefined,{parentComponent:n});t.element.appendTo(n.body);n.get("xmlState").children(c).first().append(e);n.save()})},propertiesRenderer(e,t){const n=t.get("xmlState"),i="Accordion Properties",r=["large","xlarge","xxlarge"],l=n.attr("styleSettingsVariant"),s=n.attr("onePanelAtATime")!=="true",d=r.indexOf(l)>-1?"sk-webicon-ink:chevron-right":"sk-webicon-ink:chevron-small-right",c={id:"onePanelAtATime",type:"boolean",label:"One panel open at a time",onChange(){t.rebuildProps()}},u={id:"sectionsInitiallyOpen",type:"picklist",label:"Sections initially open",helptext:'When "Determine by section" is selected, each section is initially closed by default.',picklistEntries:[{label:"First section",value:""},{label:"All sections",value:"all"},{label:"Determine by section",value:"determined"},{label:"None",value:"none"}],onChange(){t.rebuildProps()}},p={id:"maxHeight",type:"csssize",label:s?"Open panel max height":"Accordion max height",helptext:s?"Optional max height to apply to each open panel.":"Optional max height to apply to the accordion."},f={id:"iconOnRight",type:"boolean",label:"Icons on Right"},m={id:"iconStyle",label:"Icon style",type:"picklist",helptext:"The single icon approach will run a CSS transition to rotate the icon."+" The separate icons approach will simply replace the icon.",picklistEntries:[{label:"One icon",value:""},{label:"Separate icons for open/close",value:"separate"}],onChange(e){if(e==="separate"){n.attr("icon","sk-webicon-ink:checkbox-indeterminate");n.attr("iconClose","sk-webicon-ink:add")}else{n.attr("icon",d);n.removeAttr("iconClose")}t.save().rebuildProps()}},h={id:"icon",type:"icon",label:"Icon",defaultValue:d,onChange(){t.refresh()}},g={id:"iconClose",type:"icon",label:"Icon",onChange(){t.refresh()}},b=[];e.setTitle(i);b.push(c,s&&u,p,f,m);if(n.attr("iconStyle")==="separate"){h.label="Icon when opened";g.label="Icon when closed";b.push(h,g)}else{b.push(h)}e.applyPropsWithCategories([{name:"Basic",props:b},{name:"Advanced",props:[a.coreProps.uniqueIdProp({component:t})]},o.getInkStylesTab({component:t,propViewer:e,spacing:true}),a.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){return l("<"+s+"/>").append(l("<"+c+"/>").append(l("<"+u+' title="New Section"/>').append(l("<"+d+"/>"))))}}))})(e)},648:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc,s=e.$L,d=e.events.publish,c=e.visualizations,u=c.core,p=c.chart,f={line:{options:[p.types.line,p.types.spline,p.types.area,p.types.areaspline,p.types.column,p.types.bar],previewExtras:{xAxis:{categories:["Category A","Category B","Category C"]},yAxis:{},series:[{name:"Series 1",data:[7,6.9,9.5]},{name:"Series 2",data:[-.2,.8,5.7]}]}},pie:{options:[p.types.pie,p.types.donut,p.types.funnel,p.types.pyramid],previewExtras:{series:[{name:"Series 1",data:[["Segment A",7],["Segment B",6.9],["Segment C",9.5]]}]}},scatter:{options:[p.types.scatter,p.types.bubble]}},m={line:f.line.previewExtras,spline:f.line.previewExtras,area:f.line.previewExtras,areaspline:f.line.previewExtras,column:f.line.previewExtras,bar:f.line.previewExtras,pie:f.pie.previewExtras,donut:{series:[{name:"Series 1",innerSize:"70%",data:[["Segment A",7],["Segment B",6.9],["Segment C",9.5]]}]},funnel:{plotOptions:{series:{neckWidth:"30%",neckHeight:"25%"}},series:[{name:"Series 1",data:[["Segment A",7],["Segment B",6.9],["Segment C",9.5]]}]},pyramid:f.pie.previewExtras,bubble:{series:[{name:"Series 1",data:[[97,36,79],[94,74,60],[68,76,58],[64,87,56],[68,27,73],[74,99,42],[7,93,87],[51,69,40],[38,23,33],[57,86,31]]},{name:"Series 2",data:[[25,10,87],[2,75,59],[11,54,8],[86,55,93],[5,3,58],[90,63,44],[91,33,17],[97,3,56],[15,67,48],[54,25,81]]}]},scatter:{series:[{name:"Series 1",data:[[97,36],[94,74],[68,76],[64,87],[68,27],[74,99],[7,93],[51,69],[38,23],[57,86]]},{name:"Series 2",data:[[25,10],[2,75],[11,54],[86,55],[5,3],[90,63],[91,33],[97,3],[15,67],[54,25]]}]}},h=function e(t){let n={id:t.id,label:t.title||"Title",type:"template",location:"attribute",displayAs:"input"};if(t.onChange)n.onChange=t.onChange;if(t.helptext)n.helptext=t.helptext;if(t.modelName)n.modelName=t.modelName;return n},g=function e(t){let n=[{id:"model",type:"model",label:"Model",required:true},h({id:"maintitle",onChange(){t.refresh()}}),h({id:"subtitle",title:"Subtitle",onChange(){t.refresh()}})],i;if(r.isMultiCurrencyOrganization){i={id:"useorgcurrency",label:"Use default currency of Org rather than User.",type:"boolean",defaultValue:"false"};n.push(i)}return n},b=function e(t,n,a){let o=i.validators.uniqueAttribute(t,n,{description:"Axis",attributeDescription:"ID",nodeList:a.get("xmlState").find("axis")});if(o===true){return i.validators.alphaNumericUnder(t,{description:"Axis IDs"})}return o},y=function n(a){if(!a)a={};let o=a.component,r=[],s=o.get("xmlState"),d=p.types[s.attr("type")].metadata,c=function e(t){let n=t.attr("type"),i=t.attr("id"),a=t.attr("title"),o=t.attr("flip")==="true",r="";if(a){r+=a;if(i){r+=" ("+i+")"}}else if(i){r+=i}if(n||o){r+=" | ";if(n){r+=n+(o?", ":"")}if(o){r+="flipped"}}return r},f={id:"dataaxes",label:"Data Axes",deleteable:false,icon:"sk-webicon-ink:share",isChild:true,linkedComponent:o,propsFunction(){return[{type:"helptext",html:'Declare one or more "Data Axes" for the chart. Think of a data axis like a "Y Axis" on a chart.'}]},children:[{id:"axis",indent:0,labelFunction(e){return c(e)},defaultStateFunction(){let e=o.get("xmlState").children("dataaxes").children("axis").length+1||1;return l('<axis id="axis'+e+'"/>')},propsFunction(t){let n=[],a=o.get("xmlState"),r=function(){let e=[],t=p.types[a.attr("type")].metadata;if(t.hasXY===true){e.push({label:"X Axis",value:"xaxis"},{label:"Y Axis",value:"yaxis"})}return e}(),l={id:"type",type:"picklist",location:"attribute",label:"Type",required:true,helptext:'"Data" Axes correspond to the "Y" Axis of the chart. "Category" Axes correspond to the "X" Axis of the chart.',defaultValue:r.length&&r[0].value,picklistEntries:r,onChange(){t.refresh()}},s={id:"id",type:"string",location:"attribute",label:"ID",required:true,validator(e){return b(e,t,o)},onChange(e,n){t.refresh();i.publishStateEvent({type:"chart.dataAxes.idChange",component:o,oldId:n,newId:e})}},d={id:"title",type:"string",location:"attribute",label:"Title"};n=[s,d];if(r.length){n.push(l)}n.push({id:"flip",label:"Flipped",type:"boolean",helptext:'"Flip" this axis to the opposite side of the chart (e.g. if the chart default is on the left side, this axis will be displayed on the right side)'},{id:"integersonly",label:"Integers Only",type:"boolean",helptext:"If checked, this axis will only display Integer values"},{id:"minvalue",label:"Min Value",type:"string",validator:e.builder.core.validators.numericOnly},{id:"maxvalue",label:"Max Value",type:"string",validator:e.builder.core.validators.numericOnly});return n}}]},m={id:"categoryaxes",label:"Category Axes",deleteable:false,icon:"sk-webicon-ink:models",isChild:true,linkedComponent:o,propsFunction(){return[{type:"helptext",html:'Declare one or more "Category Axes" for the chart. Think of a category axis like an "X Axis" on a chart.'}]},children:[{id:"axis",indent:0,labelFunction(e){return c(e)},defaultStateFunction(){let e=o.get("xmlState").children("categoryaxes").children("axis").length+1||1;return l('<axis id="axis'+e+'"/>')},propsFunction(e){let n=[],a=o.get("xmlState"),r=a.attr("model"),l=u.getModelFieldsOptions(r),s=t.map(u.DATE_GRANULARITIES,function(e){return e}),d={id:"id",type:"string",location:"attribute",label:"ID",required:true,validator(t){return b(t,e,o)},onChange(t,n){e.refresh();i.publishStateEvent({type:"chart.categoryAxes.idChange",component:o,oldId:n,newId:t})}},c={id:"title",type:"string",location:"attribute",label:"Title",onChange(){e.refresh()}},p={id:"flip",type:"boolean",label:"Flipped",helptext:'"Flip" this axis to the opposite side of the chart (e.g. if the chart default is on the left side, this axis will be displayed on the right side)'},f={id:"categorytype",label:"Category Type",type:"picklist",defaultValue:"field",picklistEntries:[{label:"Field",value:"field"},{label:"Template",value:"template"}],onChange(){e.refresh().rebuildProps()}},m={id:"field",type:"picklist",label:"Category Field",defaultValue:l.length&&l[0].value,picklistEntries:l,onChange(){e.refresh().rebuildProps()}},g=h({id:"template",title:"Category Template",helptext:"Optional template, allows for custom category names and handling of blank values in category data",onChange(){e.refresh()}}),y={id:"dategranularity",type:"picklist",label:"Default Date Granularity",defaultValue:s.length&&s[0].value,picklistEntries:s},v={id:"allowedgranularities",location:"node",type:"multipicklist",storeAs:{type:"node",name:"type"},label:"Additional Granularities",helptext:"If additional date granularities are specified here, the user will be able to dynamically change the date granularity at runtime.",picklistEntries:s,noneSelectedText:"Select Granularities..."},C={id:"fillvals",type:"picklist",label:"Fill in values",picklistEntries:[{value:"",label:"Skip Missing Dates"},{value:"true",label:"Fill in Gaps"},{value:"week",label:"Fill in Entire Week"},{value:"month",label:"Fill in Entire Month"},{value:"year",label:"Fill in Entire Year"}],helptext:"Automatically fill in gaps in Category values (e.g. if a month is skipped in the model data, create a category entry anyway)"};n=[d,c,f];let k,S;switch(e.get("xmlState").attr("categorytype")){case"field":n.push(m);k=e.get("xmlState").attr("field")||l&&l[0]&&l[0].fieldId,S=k&&i.getFieldInfoFromCache(r,k);if(S&&(S.displaytype==="DATE"||S.displaytype==="DATETIME")){let t=e.get("xmlState").attr("fillvals");if(t===undefined){e.get("xmlState").attr("fillvals","true");e.save()}n.push(C,y,v)}break;case"template":n.push(g);break}n.push(p);return n}}]};r.push(f);if(d.hasCategories===true){r.push(m)}return r},v=function e(n){let i=p.types[n.get("xmlState").attr("type")].metadata,a=function e(t,i,a){a.refresh();n.refresh()},o=[{label:"-- Chart Default --",value:""},{label:"On",value:"true"},{label:"Off",value:"false"}],r={label:"Stacking",deleteable:false,linkedComponent:n,summaryFunction(e){let n=e.attr("stacking")||"";return t.map(o,function(e){if(e.value===n){return e.label}})},propsFunction(e){return[{id:"stacking",type:"picklist",label:"Stack Series",helptext:"If checked, stackable chart types will be stacked.",picklistEntries:o,onChange(t){a(t,"stacking",e)}}]}},l=[u.getHeightTree({component:n,defaultSummary:"-- Chart Default --",label:"Chart Height"})];if(i.isStackable===true){l.push(r)}if(i.hasLegend===true){l.push(u.getLegendTree({component:n,defaultSummary:"-- Chart Default --",metadata:i}))}let s=[{label:"-- Chart Default --",value:""},{label:"On",value:"true"},{label:"Off",value:"false"}],d={label:"Data Labels",deleteable:false,linkedComponent:n,state:n.get("xmlState").children("legend:first"),summaryFunction(e){let n=e.attr("showlabels")||"";return t.map(s,function(e){if(e.value===n){return e.label}})},propsFunction(e){return[{id:"showlabels",type:"picklist",label:"Display Data Labels",location:"attribute",picklistEntries:s,onChange(t){a(t,"showlabels",e)}}]}};l.push(d);return l},C=function e(n){let i=n.seriesComponent,a=n.component,o=i.get("xmlState"),r=a.get("xmlState"),l=r.attr("type"),s=o.attr("modelId")||r.attr("model"),d=u.getModelFieldsOptions(s),c=p.types[l].metadata,m=[{label:"-- Chart default --",value:""}],g=t.merge([{label:"-- Chart default --",value:""}],d),b=t.map(u.AGG_FUNCTIONS,function(e){return e}),y=t.merge([{label:"-- None --",value:""}],b),v=r.children("dataaxes"),C=r.children("categoryaxes"),k=function e(t){let n={id:t.id,type:"picklist",label:t.label,picklistEntries:t.entries,onChange(){i.refresh()}};if(t.helptext){n.helptext=t.helptext}return n},S=function e(t){let n={id:t.id,type:"picklist",label:t.label,picklistEntries:t.entries,onChange(){i.refresh()}};if(t.helptext){n.helptext=t.helptext}return n},w={id:"modelId",type:"model",label:"Model",noneOption:{label:"-- Chart default --",value:""},onChange(){i.refresh().rebuildProps()}},x={id:"splittype",label:"Split Type",type:"picklist",defaultValue:"none",picklistEntries:[{label:"None",value:"none"},{label:"Field",value:"field"},{label:"Template",value:"template"}],onChange(){i.refresh().rebuildProps()}},I={id:"splitfield",type:"picklist",label:"Split Field",helptext:"Optionally split this series into multiple series by a model field",picklistEntries:d,onChange(){i.refresh()}},T=h({id:"splittemplate",title:"Split Template",helptext:"Optional template, allows for custom names for chart Series and for splitting data into multiple series",onChange(){i.refresh()},modelName:s}),A=k({id:"aggfunction",label:"Aggregate Function",entries:y}),P=S({id:"valuefield",label:"Data Field",entries:d}),_={id:"categoryField",type:"picklist",label:"Category Field",picklistEntries:g,onChange(){i.refresh().rebuildProps()}},F=k({id:"xaggfunction",label:"X Aggregate Function",entries:y}),M=S({id:"xvaluefield",label:"X Data Field",entries:d}),E=k({id:"yaggfunction",label:"Y Aggregate Function",entries:y}),N=S({id:"yvaluefield",label:"Y Data Field",entries:d}),O=k({id:"sizeaggfunction",label:"Size Aggregate Function",entries:y}),R=S({id:"sizefield",label:"Size Field",entries:d});t.each(f[p.types[l].category].options,function(){m.push(this)});let D=[],L={id:"type",type:"picklist",label:"Type",picklistEntries:m,onChange(){i.refresh()}},B={line:[A,P,x],pie:[A,P,x],scatter:[x]},V=function e(n,i){let a=n.children("axis"),o=[];t.each(a,function(){let e=t(this),n=e.attr("id"),a=e.attr("title")||n;if(!i.type||i.type===e.attr("type")){o.push({value:n,label:a})}});if(o.length>1){return{id:i.id,type:"picklist",label:i.label,picklistEntries:o}}return false},j,G;if(c.hasMultiAxis===true){if(c.hasXY===true){j=V(v,{id:"xAxisId",label:"X Data Axis",type:"xaxis"});G=V(v,{id:"yAxisId",label:"Y Data Axis",type:"yaxis"})}else{let e=V(v,{id:"dataAxisId",label:"Data Axis"});if(e){D.push(e)}}}D.push(w);if(c.hasCategories===true){let e=V(C,{id:"categoryAxisId",label:"Category Axis"});if(e){D.push(e)}if(o.attr("modelId")){D.push(_)}}D=D.concat(B[l]||B[p.types[l].category]);let W=o.attr("splittype");if(W==="field")D.push(I);else if(W==="template")D.push(T);if(c.hasXY===true){if(j){D.push(j)}D.push(F);D.push(M);if(G){D.push(G)}D.push(E);D.push(N)}if(c.hasSize===true){D.push(O);D.push(R)}D.push(L);return D},k=function e(t){if(!t)t={};let n=t.component;return{id:"serieslist",label:"Series List",deleteable:false,icon:"sk-webicon-ink:filter-list",isChild:true,linkedComponent:n,props:[{type:"helptext",html:"Define one or more data series for this chart"}],children:[{id:"series",indent:0,linkedComponent:n,labelFunction(e){let t="",n=e.attr("modelId"),i=e.attr("aggfunction"),a=e.attr("valuefield"),o=e.attr("xvaluefield"),r=e.attr("yvaluefield"),l=e.attr("sizefield"),s=e.attr("splittype"),d=e.attr("splitfield"),c=e.attr("splittemplate");if(s==="template"&&c)return c;if(i){t+=u.AGG_FUNCTIONS[i].label+" "}if(a){t+=a}if(o){t+=o}if(r){t+=", "+r}if(l){t+=", "+l}if(n){t+=" ("+n+")"}if(s==="field"&&d){t+=" by "+d}return t||"Series"},defaultStateFunction(){return l("<series/>")},childrenFunction(e){return u.getSeriesOnClickActionsTree({seriesComponent:e,component:n,seriesObj:this})},propsFunction(e){return C({component:n,seriesComponent:e})}}]}},S=function e(n,i){let a=p.types[i.chart.type];if(n.highcharts())n.highcharts().destroy();i.chart.type=a.hcType||i.chart.type;if(i.legend&&i.legend.showLabels===true||i.legend.showLabels===false){if(!i.plotOptions){i.plotOptions={}}if(!i.plotOptions[i.chart.type]){i.plotOptions[i.chart.type]={}}i.plotOptions[i.chart.type].dataLabels={enabled:i.legend.showLabels}}if(a.additionalProps){a.additionalProps(i)}t.extend(i.chart,{reflow:false});r.delay().then(()=>n.highcharts(i))};const w=new i.Builder({id:"skuid__chart",name:"Chart",icon:"sk-webicon-ink:metrics",providesContext:true,indexSelectors:{ignored:"dataaxes, categoryaxes, serieslist, colors, legend, allowedtypes"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/visualizations/chart/",n=o.getDescriptionTag(),i='The Chart component displays data series from one or more models in various formats, helping users visualize relationships or trends in the data.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Chart component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},actionTypes:{series(e){return u.getSeriesActions(e)}},handleStateEvent(e,n,a){let o=false,r=n.type,l=r==="model.idChange",s=e.attr("model"),c=e.children("serieslist").children(),u=n.component,p=n.oldId,f=n.newId,m=false;if(l){m=i.handleModelIdChange(e,n)||m;if(n.oldId===s){if(c){t.each(c,function(e,i){i=t(i);if(n.oldId===i.attr("modelId")){i.attr("modelId",n.newId)}})}m=true}}if(a===u){let n=e.children("serieslist").first();if(r==="chart.dataAxes.idChange"){t.each(n.children("series"),function(){let e=t(this);if(e.attr("dataAxisId")===p){e.attr("dataAxisId",f);o=true}})}if(r==="chart.categoryAxes.idChange"){t.each(n.children("series"),function(){let e=t(this);if(e.attr("categoryAxisId")===p){e.attr("categoryAxisId",f);o=true}})}}if(m&&a){d("skuidBuilderComponentNeedsRefresh",[a])}if(o===true)a.save()},propertiesRenderer(e,n){e.setTitle(s("Chart")+" Properties");let o=[];t.each(f,function(e,n){o.push({label:"-- "+p.types[e].label+s("Chart")+" Types --",value:"",disabled:true});t.each(n.options,function(){o.push(this)});o.push({label:"",value:"",disabled:true})});let r=n.get("xmlState"),d=p.types[r.attr("type")].metadata,c={id:"type",type:"picklist",label:"Default "+s("Chart")+" Type",picklistEntries:o,onChange(i,a){let o=n.get("xmlState"),r=p.types[i].metadata;if(p.types[i].category!==p.types[a].category){let e=false;if(o.children("allowedtypes").length){o.children("allowedtypes").remove();e=true}if(r.hasCategories===true||r.hasXY===true){if(o.children("dataaxes").length===0){o.append(l("<dataaxes/>"))}let n={x:[],y:[],categories:[]},i=o.children("dataaxes"),a=o.children("categoryaxes");t.each(i.children("axis"),function(){let e=t(this),i=e.attr("type");if(i==="xaxis"){n.x.push(e)}else{n.y.push(e)}});t.each(a.children("axis"),function(){let e=t(this);n.categories.push(e)});if(r.hasXY===true){if(!r.hasCategories&&n.categories.length!==0){if(n.x.length===0){t.each(n.categories,function(){this.attr("type","xaxis");i.append(this);n.x.push(this)})}n.categories=[];a.children().remove();e=true}t.each(n.y,function(){if(!this.attr("type")){this.attr("type","yaxis");e=true}});if(n.x.length===0){i.append(l('<axis id="xAxis" type="xaxis"/>'));e=true}if(n.y.length===0){i.append(l('<axis id="yAxis" type="yaxis"/>'));e=true}}if(r.hasCategories===true){if(n.x.length!==0){t.each(i.children("axis"),function(){let n=t(this);if(n.attr("type")==="xaxis"){n.remove();e=true}});n.x=[]}if(n.categories.length===0){a.append(l('<axis id="categories"/>'));e=true}if(n.y.length===0){i.append(l('<axis id="axis1"/>'));e=true}}}if(e===true)n.save()}n.refresh().rebuildProps(e)}},m={id:"allowedtypes",location:"node",type:"multipicklist",storeAs:{type:"node",name:"type"},label:"Additional Chart Types",helptext:"If additional types are specified here, the user will be able to dynamically change the default chart type at runtime.",picklistEntries:f[p.types[r.attr("type")].category].options,noneSelectedText:"Select Types..."},h=t.merge([c,m],g(n));let b=[{name:"Basic",props:h,expanded:true}];if(d.hasMultiAxis===true||d.hasXY===true){b.push({name:"Axes",tree:y({component:n,propViewer:e})})}b.push({name:"Series",tree:k({component:n,propViewer:e})});b.push({name:"Display",tree:v(n)});b.push(a.getInkStylesTab({component:n,propViewer:e,spacing:true}));b.push(u.getAdvancedProps({component:n}),i.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,propViewer:e,showStyleVariantConditions:true}),i.getContextCategory({state:r,model:r.attr("model")}));e.applyPropsWithCategories(b,r)},componentRenderer(e){e.setTitle(e.builder.name);let n=function e(t,n){let a=t.get("xmlState"),o=a.clone(),r=i.getBuilder("skuid__chartSet").getDefaultState(),l=r.children("charts").first();l.append(o,i.getBuilder(n).getDefaultState(undefined,{setUniqueId:true}));a.replaceWith(r);return r};let a=function e(t){let a=function e(a,o,r){return{text:a,icon:o,action(){let e=n(t,r),a=i.componentFactoryWithCache(e,i.getBuilder("skuid__chartSet"),{makeDraggable:true,isGlobalComponent:true});t.element.replaceWith(a.element);a.select();t.remove()}}};t.addActionGroup([a("Chart","sk-webicon-ink:metrics","skuid__chart"),a("Geochart","sk-webicon-ink:world","skuid__geochart")],"Add Drilldown")};let o=e.get("xmlState"),r=e.chartSet,l=e.chartWrapper=t("<div>").addClass("sk-chart-wrapper"),d=o.attr("height");e.container=t("<div>").addClass("sk-chart-container").appendTo(l);e.chartObj=e.builderCPI.buildChartObj(o);if(d)l.css({height:d});if(r===undefined){a(e)}else{e.addActionItem({tooltip:s("Remove"),icon:"sk-webicon-ink:delete",additionalClass:"ui-button nx-button-destructive",action(){r.removeChart(e)},id:"removeButton"})}e.reflow=function(){let t=e.container,n=t.highcharts();if(n&&n.chartWidth!==t.width()&&t.is(":visible"))n.reflow()}},afterAttach(t){t.body.append(t.chartWrapper);S(t.container,t.chartObj);e.utils.addResizeHandler(t.reflow,100);r.delayEventCallback({eventType:"tabshow pageload dialogopen stepchange",delay:20,callback:t.reflow});e.events.subscribe(["ui.reflow","skuid.chart.reflow","tabshow"],function(e){if(!e||!e.length||e[0].component===t)t.reflow()})},defaultStateGenerator(e){let t=i.getLastSelectedModelComponent(),n=t?t.get("xmlState"):i.getFirstModel(),a=n?n.attr("id"):null,o=l('<skuid__chart model="'+a+'" maintitle="{{Model.labelPlural}}" type="line" />');o.append(l('<dataaxes><axis id="axis1"/></dataaxes>'),l('<categoryaxes><axis id="categories" categorytype="field"/></categoryaxes>'),l("<serieslist/>"),l("<colors/>"),l('<legend layout="horizontal" halign="center" valign="bottom"/>'));if(!e)e={};return o},cpi:{buildChartObj(e){let n={chart:{type:e.attr("type")||"line"},title:{text:e.attr("maintitle")},subtitle:{text:e.attr("subtitle")},credits:{enabled:false},plotOptions:{series:{animation:false}}},i=e.children("colors"),a={backgroundColor:e.attr("backgroundcolor")},o=n.chart.type,r=p.types[o].hcType||o,l=p.types[o].metadata;t.extend(n,m[o]||{});if(e.attr("export")==="off")n.exporting={enabled:false};else if(e.attr("export")==="offline")n.exporting={mode:"offline"};if(e.attr("stacking")=="true"){if(!n.plotOptions){n.plotOptions={}}if(!n.plotOptions.series){n.plotOptions.series={}}n.plotOptions.series.stacking="normal"}let s=e.children("legend");if(s){let e=s.attr("layout");if(e==="off"){n.legend={enabled:false}}else{n.legend={layout:s.attr("layout"),align:s.attr("halign"),verticalAlign:s.attr("valign")}}let i=s.attr("showlabels");if(i==="true")n.legend.showLabels=true;else if(i==="false")n.legend.showLabels=false;if(l.hasDataLabels===true&&(n.legend.layout==="horizontal"||n.legend.layout==="vertical")){if(!n.plotOptions)n.plotOptions={};if(!n.plotOptions[r])n.plotOptions[r]={};t.extend(true,n.plotOptions[r],{showInLegend:true})}}if(i){let e=i.children("value");if(e.length){n.colors=[];t.each(e,function(){n.colors.push(t(this).text())})}}if(!n.chart)n.chart={};n.chart.backgroundColor=a.backgroundColor;return n}}});i.registerBuilder(w);const x=new i.Builder({id:"series",providesContext:true,modelAttributeName:"modelId"});w.registerChildBuilder(x)})(e)},649:function(t,n){let i=e.$,a=e.builder,o=a.core,r=e.utils,l=r.makeXMLDoc,s=e.virtualDom.hyperScript;const d=new o.Builder({id:"skuid__chartSet",name:"Chart Set",icon:"sk-webicon-ink:metrics",hideFromComponentsList:true,description:"A collection of related Charts",propertiesRenderer(e,t){e.setTitle(this.name+" Properties");e.applyProps([],t.get("xmlState"))},init(e){let t=e.get("xmlState"),n=e.chartsNode=t.children("charts").first(),i=e.builderCPI;e.set("selectedChartIndex",0);i.syncCharts();const a=e.cpi.createObserver({node:n[0],observe:{childList:true},callback:()=>i.syncCharts()});const r=()=>a.disconnect();const l=()=>a.observe(n[0],{childList:true});let s=function t(a,s,d){return{text:a,icon:s,action(){let t=o.getBuilder(d).getDefaultState();r();n.append(t);const a=e.get("charts").length;i.showChartByIndex(a);i.syncCharts();l();e.save()}}};e.addActionGroup([s("Chart","sk-webicon-ink:metrics","skuid__chart"),s("Geochart","sk-webicon-ink:world","skuid__geochart")],"Add Drilldown","sk-webicon-ink:add")},handleStateEvent(e,t,n){let i=false,a=t.type,o=t.chartSet;if(a==="chartset.chart.remove"&&n===o){let n=t.chartID,a=e.find('action[type="drilldown"][chartid="'+n+'"]');if(a.length){i=true;a.remove()}}if(i===true)n.save()},renderVDom(e){let{charts:t,selectedChartIndex:n}=e.getState();n=r.clamp(n,0,t.length-1);return s("div",[t.length?t[n].renderVDom():s("div",{key:"nothing"})])},cpi:{removeChart(e){if(!e)return;const t=this;let n=e.get("xmlState"),i=n.attr("uniqueid");e.remove();o.publishStateEvent({type:"chartset.chart.remove",chartSet:t,chartID:i});t.cpi.save();t.cpi.select()},getChartByID(e){if(e===undefined)return;return this.chartsMap[e]},showChartByIndex(e){this.set("selectedChartIndex",e)},syncButtonGroups(){const e=this,t=e.get("xmlState"),n=e.chartsNode=t.children("charts").first();e.cpi.addNavigationGroup(Array.from(n.children()).map((t,n)=>({text:"Chart ".concat(n+1),action:()=>e.builderCPI.showChartByIndex(n)})))},syncCharts(){let e=this,t=e.get("xmlState"),n=e.chartsNode=t.children("charts").first(),{charts:a=[],selectedChartIndex:o}=this.getState();const l=e=>a.find(t=>t.get("xmlState")[0]===e);const s=Array.from(n.children()).map(t=>{return l(t)||e.createChildComponent({componentType:"skuidbuilder__builderComponent",_xmlNode:i(t)})});o=r.clamp(o,0,s.length-1);e.cpi.addNavigationGroup(Array.from(n.children()).map((t,n)=>({text:"Chart ".concat(n+1),action:()=>e.builderCPI.showChartByIndex(n)})),"Chart ".concat(o+1));this.set({charts:s})}},defaultStateGenerator(){return l("<skuid__chartSet><charts/></skuid__chartSet>")}});if(e.platform.hasFeature("PageComposerStaging")){o.registerBuilder(d)}},650:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=e.utils,o=a.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__chartSet",name:"Chart Set",icon:"sk-webicon-ink:metrics",hideFromComponentsList:true,description:"A collection of related Charts",propertiesRenderer(e,t){let n=this,i=t.get("xmlState"),a=[];e.setTitle(n.name+" Properties");e.applyPropsWithCategories(a,i)},componentRenderer(e){let n=this,a=e.get("xmlState"),o=e.chartsNode=a.children("charts").first();e.setTitle(n.name);t.extend(e,{charts:[],chartsMap:{},chartsNav:t("<ul>").addClass("sk-charts-nav"),chartPreview:t("<div>").addClass("sk-chart-preview")});e.builderCPI.buildChartSetNav();e.body.append(e.chartsNav,e.chartPreview);e.addChart=(t=>e.builderCPI.addChart(t));e.getChartByID=(t=>e.builderCPI.getChartByID(t));e.selectChartByIndex=(t=>e.builderCPI.selectChartByIndex(t));e.removeChart=(t=>e.builderCPI.removeChart(t));let r=function t(n,a,r){return{text:n,icon:a,action(){let t=i.getBuilder(r).getDefaultState(undefined,{setUniqueId:true}),n;o.append(t);e.save();n=e.builderCPI.addChart(t);e.builderCPI.selectChart(n)}}};e.addActionGroup([r("Chart","sk-webicon-ink:metrics","skuid__chart"),r("Geochart","sk-webicon-ink:world","skuid__geochart")],"Add Drilldown","sk-webicon-ink:add")},handleStateEvent(e,t,n){let i=false,a=t.type,o=t.chartSet;if(a==="chartset.chart.remove"&&n===o){let n=t.chartID,a=e.find('action[type="drilldown"][chartid="'+n+'"]');if(a.length){i=true;a.remove()}}if(i===true)n.save()},defaultStateGenerator(){return o("<skuid__chartSet><charts/></skuid__chartSet>")},cpi:{buildChartSetNav(){let e=this,n=e.get("xmlState"),i=n.children("charts").first();if(i.length){i.children().each(function(){e.builderCPI.addChart(t(this))});if(e.selectedChart===undefined)e.builderCPI.selectChart(e.charts[0])}},addChart(e){let n=this,a=n.charts,o=n.chartsMap,r=n.chartsNav,l=t("<li>").text("Chart "+(a.length+1)),s=e.attr("uniqueid"),d=i.componentFactoryWithCache(e,i.getBuilder(e[0].nodeName),{makeDraggable:false,isGlobalComponent:false});t.extend(d,{chartSet:n,button:l});a.push(d);if(s)o[s]=d;l.on("click.skuid",function(e){e.stopPropagation();n.builderCPI.selectChart(d)});r.append(l);return d},selectChart(t){let n=t.chartSet,i=n.selectedChart;if(typeof i!=="undefined"){let e=i.button;e&&e.removeClass("selected")}let a=t.button;a&&a.addClass("selected");t.refresh();if(n.isSelected()||!n.isSelected()&&n.selectedChart!==undefined)t.select();n.selectedChart=t;n.chartPreview.empty().append(t.element);e.events.publish("skuid.chart.reflow",[{component:t}]);return t},selectChartByIndex(e){return this.builderCPI.selectChart(this.charts[e])},getChartByID(e){if(e===undefined)return;return this.chartsMap[e]},removeChart(e){if(e===undefined)return;let t=e.get("xmlState"),n=t.attr("uniqueid");e.remove();if(e===this.selectedChart)delete this.selectedChart;i.publishStateEvent({type:"chartset.chart.remove",chartSet:this,chartID:n});this.save().refresh()}}}))})(e)},651:function(t,n){(e=>{if(e.platform.getName()===e.constants.NATIVE)return;let t=e.builder;let n=t.ink;let i=t.desktop;let a=t.core;a.registerBuilder(new a.Builder({id:"skuid__chatter",name:"Chatter Feed",icon:"sk-webicon-ink:snippet",platforms:[e.constants.VISUALFORCE],description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/chatter-feed/",n=i.getDescriptionTag(),a='Dispays a Salesforce Chatter Feed for the records in a model, and (optionally) an area for adding Topics to the feed. Note: The Chatter Feed component is only available with the Skuid on Salesforce managed package.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Chatter Feed component tutorial</a>.\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\t').concat(n);return a},handleStateEvent(e,t,n){a.handleModelRemove(e,t,{component:n});a.handleModelIdChange(e,t)},componentRenderer(e){e.setTitle(e.builder.name)},propertiesRenderer(e,t){e.setTitle("Chatter Feed Properties");let i=t.get("xmlState");let o=i.attr("feedtype");let r=[{id:"feedtype",label:"Feed Type",type:"picklist",defaultValue:"",picklistEntries:[{value:"",label:"Feed for Model's first row"},{value:"newsfeed",label:"News Feed for running user"}],onChange(){t.save().rebuildProps()}}];let l={linkedComponent:t,name:"After-Post Actions",label:"After-Post Actions",props:[{type:"helptext",html:"Actions to run whenever a user adds a Post or Comment to the Feed.<br/><br/>For instance, if a user uses the Feed to Log a Call, you may want to re-query a Skuid Model that is showing Completed Tasks.<br/><br/>After-Post Actions are not currently supported in Lightning."}]};let s;l.getModelName=(()=>o&&i.attr("model"));s=[{name:"Feed",props:r},a.getActionsCategory(l)];if(o!=="newsfeed"){r.push({id:"model",type:"model",label:"Model to show Feed for",helptext:"E.g. a Contact model with one row. Skuid will automatically pull in all Chatter data related to the record in this Model.",onChange(){t.updateAutoCreatedEditorCondition()}},{id:"showtopics",type:"boolean",label:"Show Topics for Object",helptext:"If true, and if this Model's object has Topics enabled, then an area will be added above the Chatter Feed allowing you to view and add Topics to the record in this Model. This feature is not currently supported in native Lightning apps."},{id:"showfollowers",type:"boolean",defaultValue:true,label:"Show Followers",helptext:"Defaults to true. If false, then the Followers panel of this Feed will not be shown. This feature is not currently supported in native Lightning apps."})}r.push(a.coreProps.uniqueIdProp({component:t}));s.push(n.getInkStylesTab({component:t,propViewer:e,spacing:true,styleVariants:false}));e.applyPropsWithCategories(s,i)},defaultStateGenerator(){let t=a.getLastSelectedModelComponent();let n=t&&t.get("xmlState")?t.get("xmlState").attr("id"):null;return e.utils.makeXMLDoc("<skuid__chatter/>").attr({model:n})}}))})(e)},652:function(t,n){const i=e.builder,a=i.ink,o=i.core,r=i.desktop,l=e.utils.makeXMLDoc,s=[{label:"Edit",value:"edit"},{label:"Read-Only",value:"readonly"}],d=[{label:"CSS",value:"css"},{label:"HTML",value:"html"},{label:"JavaScript",value:"javascript"},{label:"JSON",value:"json"},{label:"Less",value:"less"},{label:"Text",value:"text"},{label:"XML",value:"xml"}],c="skuid__code";const u=new o.Builder({id:c,name:"Code",icon:"sk-webicon-ink:code-block",hideFromComponentsList:!e.platform.hasFeature("PageComposerStaging"),componentType:c,isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/code/",n=r.getDescriptionTag(),i='The Code component provides a way to edit and display code with line numbers and syntax highlighting for a variety of formats.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Code component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){o.handleModelRemove(e,t,{component:n});o.handleModelIdChange(e,t)},init(e){e.cpi.setCanvasComponent();e.builderCPI.setContents()},refresh(e){e.cpi.updateCanvasComponent({},()=>{e.builderCPI.setContents()})},parseState(e,t){return Object.assign({},t,{format:"text",mode:"readonly",minHeight:"50px",contents:e.builderCPI.setContents()})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Code Properties");const n=()=>t.refresh(),i=t.get("xmlState"),r=!!i.attr("model"),l={id:"model",type:"model",label:"Model",required:false,onChange(n){if(!n){i.removeAttr("model")}t.save().rebuildProps(e).refresh()}},c={id:"format",label:"Format",type:"picklist",picklistEntries:d,onChange:n},u={id:"mode",label:"Mode",type:"picklist",picklistEntries:s,onChange:n},p={id:"contents",type:"template",label:"Contents",location:"attribute",required:false,onChange(e){t.body.find(".sk-codeblock-contents").text(e||"[Enter some code here]")}},f={id:"id",modelprop:"model",type:"field",label:"Field",required:true,displayTypeFilter(e){return["TEXT","STRING","TEXTAREA"].indexOf(e.displaytype)>-1},onChange:n},m={id:"minHeight",type:"csssize",label:"Minimum Height",required:false,helptext:"If left blank, the Minimum Height will default to 300px"},h=[o.coreProps.uniqueIdProp({component:t})];e.applyPropsWithCategories([{name:"Basic",props:[l,c,u,!r&&p,r&&f,m]},{name:"Advanced",id:"Advanced",props:h},a.getInkStylesTab({component:t,propViewer:e,spacing:true,styleVariants:false}),o.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",enableConditionsNodeId:"enableConditions",component:t,model:null,propViewer:e,showEnableDisableConditions:true,showStyleVariantConditions:false}),o.getContextCategory({propViewer:e,state:i,model:i.attr("model")})],i);t._propertiesObj=e},defaultStateGenerator(){return l('<skuid__code contents=""/>')},cpi:{setContents(){const e=this.get("xmlState"),{model:t,contents:n,id:i,mode:a,format:o}=e.attr();let r="";let l=(s.find(e=>{return e.value===a})||s[0]).label,c=(d.find(e=>{return e.value===o})||d[0]).label;if(!t&&!n){r="Enter the code Contents manually or specify the Model and \r\nField that contains the code you wish to display."}else if(t){if(i){r="Code from Field ".concat(i," on Model ").concat(t," will be displayed \r\nin ").concat(l," mode with ").concat(c," syntax highlighting.")}else{r="Specify the Field from Model ".concat(t," that contains the \r\ncode you wish to display.")}}return r}}});o.registerBuilder(u)},653:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__filterSet",name:"Filter Set",icon:"sk-webicon-ink:filter-list",indexSelectors:{unsurfaced:"filters",ignored:"filtering"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/filter-set/",n=o.getDescriptionTag(),i='The Filter Set component serves as a container for one or more filters. The set is connected to a specific model;\n\t\t\t\t\tthe filters can affect the data within any components connected to that model. Additionally, there are several layout options for filters,\n\t\t\t\t\tas well as standard filter functionality and conditional rendering options.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Filter Set component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){i.handleModelRemove(e,t,{component:n});i.handleModelIdChange(e,t)},componentRenderer(n){n.setTitle(n.builder.name);let a=n.get("xmlState"),r=n.body,s=a.children("filters"),d=a.attr("model"),c=a.attr("layout"),u=i.getBuilder("skuid__filter"),p=n.get("acceptor")||new o.ComponentAcceptor(s,{customBuilder:u,acceptsBuilderIds:["skuid__filter"],requiresGlobalComponent:false,requiresModels:[d],mode:n.mode,layout:"flex"});n.set("acceptor",p);p.setStyle({display:s.children().length?"flex":"none",border:"none"});p.element.children().first().css({flexDirection:!c?"row":"column"});n.filterWrapper=t("<div>").addClass("sk-filterset").addClass(c?"sk-filterset-vertical":"").addClass("clearfix nx-editor-header nx-table-header nx-conditioncontainer").css({display:"flex",float:"none"});n.filterWrapper.append("<div style='flex: 1'/>");n.searchBox=t("<input/>").prop("disabled",true).addClass("searchbox").css({color:"#DDD",margin:"4px"});if(!n.updateSearchBox){n.updateSearchBox=function(){let t=a.children("filtering"),o=t.attr("enableSearch")==="true",r=t.attr("searchPlaceholder");if(!r){const t=i.getModelFromModelName(d),n=i.getDataSourceFromModel(t),a=t?t.attr("sobject"):null,o=a?n.getCachedEntityMetadata(a):null,l=o?o.getLabelPlural():null;r=e.$L("Search")+" "+(l?l:"")}n.searchBox.attr("placeholder",r);n.searchBox.toggle(o)}}n.filterWrapper.append(p.element,n.searchBox);n.updateSearchBox();n.addActionItem("Add Filter",null,()=>{if(a.children("filters").length===0){a.append(l("<filters/>"));n.save()}let e=u.getDefaultState();a.children("filters").append(e);n.save().refresh()});n.handleOptionChange=function(){return};r.append(n.filterWrapper);const f=e=>{p.acceptorComponent.set("requiresModels",[e]);p.acceptorComponent.get("components").filter(e=>e.type()==="skuidbuilder__builderComponent").forEach(e=>e.updateDragManifest())};n.cpi.createObserver({node:a[0],observe:{attributes:true,attributeFilter:["model"]},callback:()=>f(a.attr("model"))})},propertiesRenderer(e,t){e.setTitle("Filter Set Properties");let n=t.get("xmlState"),o=!n.attr("layout"),r=n.attr("model"),l=[];l.push({id:"model",type:"model",label:"Model",required:true,onChange(){t.save().rebuildProps()}},{id:"layout",type:"picklist",label:"Layout",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:"vertical"},{label:"Vertical with Accordions",value:"verticalAccordions"}],onChange(){t.rebuildProps().refresh()}},{id:"resetButtonBehavior",type:"picklist",label:"Reset Button",picklistEntries:[{label:"Enable when filters activate",value:""},{label:"Render when filters activate",value:"render"},{label:"Always hide",value:"hide"}]});e.applyPropsWithCategories([{name:"Basic",props:l},a.getFilteringPropsCategory({tabName:"Filters & Search",component:t,modelName:r,hideOrderingOptions:true}),{name:"Advanced",props:[i.coreProps.uniqueIdProp({component:t})]},a.getInkStylesTab({component:t,propViewer:e,spacing:true,positioning:{isRow:!!o,container:{justifyContent:{defaultValue:o?"space-between":""},alignItems:{defaultValue:o?"flex-end":""}}}}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),i.getContextCategory({propViewer:e,state:n,model:r})],n)},defaultStateGenerator(){let e=i.getLastSelectedModelComponent(),t=e?e.get("xmlState"):i.getFirstModel(),n=t?t.attr("id"):null;return l("<skuid__filterSet/>").attr({model:n}).append(l("<filters/>")).append(l('<filtering enableSearch="false" instantSearch="false" instantFilters="true"/>'))}}))})(e)},654:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc,s=e.$L,d=e.visualizations,c=d.core,u=d.map,p=u.defaultSettings;function f(e){let t=e.container;if(t.highcharts())t.highcharts().destroy();t.highcharts("Map",e.mapObj)}function m(e){let n=[{value:"",label:"-- Map Default --"},{value:"sk-data-value",label:"Data Value"},{value:"sk-off",label:"Off"}];let i=[c.getHeightTree({component:e,defaultSummary:"-- Geochart Default --",label:"Height"}),c.getLegendTree({component:e,defaultSummary:"-- Geochart Default --",defaultState:"<legend/>"}),{id:"labels",label:"Labels",deleteable:false,linkedComponent:e,summaryFunction(i){let a=u.types[e.get("xmlState").attr("maptype")],o=t("<div>").text("Map Default"),r="",l=i.attr("dlformat");if(l){let e=n.concat(a.labelFormats||[]),i=t.grep(e,function(e){return e.value===l});r+=i.length&&i[0].label||l}if(r!=="")o.text(r);return o},propsFunction(t){let i=[],a=u.types[e.get("xmlState").attr("maptype")],o=function n(){e.refresh();t.refresh()},r={id:"dlformat",label:"Format",type:"picklist",defaultValue:"",picklistEntries:n,onChange(e){o(e,"dlformat")}};if(a.labelFormats&&a.labelFormats.length){r.picklistEntries=n.concat([{label:"",value:"",disabled:true},{label:"Additional Formats",value:"",disabled:true}],a.labelFormats)}i.push(r);return i}}];return i}function h(e){if(!e)e={};let n=e.propViewer,a=e.component;return[{id:"serieslist",label:"Series List",deleteable:false,icon:"sk-webicon-ink:filter-list",isChild:true,linkedComponent:a,props:[{type:"helptext",html:"Define one or more data series for this map"}],children:[{id:"series",indent:1,labelFunction(e){let t="",n=e.attr("modelId"),i=e.attr("valueField"),a=e.attr("splitField"),o=e.attr("aggFunction");if(o){t+=c.AGG_FUNCTIONS[o].label+" "}if(i){t+=i}if(n){t+=" ("+n+")"}if(a){t+=" by "+a}return t||"Series"},defaultStateFunction(){return l('<series joinBy="hc-key"/>')},childrenFunction(e){return c.getSeriesOnClickActionsTree({seriesComponent:e,component:a,seriesObj:this})},propsFunction(e){let i=e.get("xmlState"),o=u.types[a.get("xmlState").attr("maptype")],r=i.attr("modelId")||a.get("xmlState").attr("model"),l=c.getModelFieldsOptions(r),s=t.merge([{label:"-- None --",value:""}],l),d=t.merge([{label:"-- None --",value:""}],t.map(c.AGG_FUNCTIONS,function(e){return e})),p=function t(n){let i={id:n.id,type:"picklist",label:n.label,picklistEntries:n.entries,onChange(){e.refresh()}};if(n.helptext){i.helptext=n.helptext}return i},f=function t(n){let i={id:n.id,type:"picklist",label:n.label,picklistEntries:n.entries,onChange(){e.refresh()}};if(n.helptext){i.helptext=n.helptext}return i},m={id:"modelId",type:"model",label:"Model",noneOption:{label:"-- Default --",value:""},onChange(){e.refresh();e.rebuildProps&&e.rebuildProps();e.renderProperties&&e.renderProperties(n)}},h=p({id:"aggFunction",label:"Aggregate Function",entries:d}),g=f({id:"valueField",label:"Data Field",entries:l}),b=[];b.push(m,h,g);if(o.features&&o.features.length){let e={country:"The default maps in Geocharts require 2-digit ISO-3166 codes to connect your data to the maps. Country Field data that does not match this format will not be displayed.",state:"The default maps in Geocharts require 2-digit ISO-3166 codes to connect your data to the maps. State Field data that does not match this format will not be displayed."};t.each(o.features,function(){let t=f({id:this.id+"field",label:this.label+" Field"+(this.defaultValue?" ("+this.defaultValue+")":""),entries:this.required===true?l:s});if(this.helptext){t.helptext=this.helptext}else if(e[this.id]!==undefined){t.helptext=e[this.id]}b.push(t)})}else{b.push({id:"mergeKey",type:"template",location:"attribute",displayAs:"input",label:"Merge Key"})}return b}}]},{id:"buckets",label:"Buckets",deleteable:false,icon:"sk-webicon-ink:bucket",isChild:true,linkedComponent:a,props:[{type:"helptext",html:'Options for sorting series data into buckets (e.g. "Low" is values  < 10, "Medium" is values 10 to 20...)'}],children:[{id:"bucket",indent:1,summaryFunction(e){let n=t("<span>").text("Bucket"),i=e.attr("label"),a=e.attr("from"),o=e.attr("to"),r=e.attr("color");if(i){n.html(i)}else if(o&&!a){n.html("< "+o)}else if(o&&a){n.html(a+" - "+o)}else if(!o&&a){n.html("> "+a)}if(r){n.prepend(c.getColorPreview(r))}return n},defaultStateFunction(){return l("<bucket/>")},propsFunction(e){let t=function t(n){let i={id:n.id,label:n.label,type:"string",location:"attribute",onChange(){e.refresh();a.refresh()}};if(n.validator){i.validator=n.validator}return i},n=[];n.push(t({id:"label",label:"Label"}),t({id:"from",label:"From",validator:i.validators.numericOnly}),t({id:"to",label:"To",validator:i.validators.numericOnly}),t({id:"color",label:"Color"}));return n}}]}]}i.registerBuilder(new i.Builder({id:"skuid__geochart",name:"Geochart",icon:"sk-webicon-ink:world",providesContext:true,indexSelectors:{ignored:"serieslist, colors, legend, allowedtypes, buckets"},actionTypes:{series(e){let t=c.getSeriesActions(e,{indent:3}),n=e.mapMetadata;if(n&&n.drillDownMap){t.push({value:"mapDrillIn",label:"Map Drill In",props:[{type:"helptext",html:'Also known as "Classic" Drilldown for Geocharts, this will load the next level down map for this Geochart'}]})}return t}},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/visualizations/geochart/",n=o.getDescriptionTag(),i='A choropleth map, the Geochart component displays data on map regions\n\t\t\t\t\t(such as country, state,  province, or county maps) that are shaded in proportion to an aggregate value for each region.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Geochart component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},propertiesRenderer(e,n){e.setTitle("Geochart Properties");let o=n.get("xmlState"),r=o.attr("maptype");if(o.attr("mapgroup")===undefined){let e=u.types[r]&&u.types[r].group;i.updateState(o,{key:"mapgroup",value:e||"global"})}let l={id:"maintitle",type:"string",location:"attribute",label:"Title",onChange(){n.refresh()}},s={id:"subtitle",type:"string",location:"attribute",label:"Subtitle",onChange(){n.refresh()}},d={id:"model",type:"model",label:"Model",required:true},p={id:"mapgroup",type:"picklist",label:"Map Group",defaultValue:"global",picklistEntries:[{value:"global",label:"Global"},{value:"af",label:"Africa"},{value:"as",label:"Asia"},{value:"eu",label:"Europe"},{value:"na",label:"North America"},{value:"oc",label:"Oceania"},{value:"sa",label:"South America"},{value:"canada",label:"Canadian Provinces"},{value:"usa",label:"USA States"}],onChange(){n.rebuildProps(e)}},f={id:"maptype",type:"picklist",label:"Map Type",picklistEntries:t.map(u.types,function(e,n){if(t.inArray(o.attr("mapgroup"),e.groups)!==-1)return{value:n,label:e.title}}).sort(function(e,t){if(e.label>t.label)return 1;if(e.label<t.label)return-1;else return 0}),onChange(){n.refresh()}},g=[{name:"Basic",props:[l,s,d,p,f],expanded:true},{name:"Series",tree:h({component:n,propViewer:e})},{name:"Display",tree:m(n)},a.getInkStylesTab({component:n,propViewer:e,spacing:true}),c.getAdvancedProps({component:n}),i.getRenderingCategory({component:n,propViewer:e,showStyleVariantConditions:true})];e.applyPropsWithCategories(g,o)},componentRenderer(n){n.setTitle(n.builder.name);let i=n.get("xmlState"),a=n.chartSet,o=t("<div>").addClass("sk-chart-wrapper"),l=t("<div>").addClass("sk-chart-container").appendTo(o),d=r.Deferred(),m=n.mapMetadata=u.types[i.attr("maptype")||Object.keys(u.types)[0]],h={backgroundColor:i.attr("backgroundcolor")||p.BACKGROUND_COLOR,nullColor:i.attr("nullcolor")||p.NULL_COLOR,hoverColor:i.attr("hovercolor"),colors:c.getColorsArray(i.children("colors").first()),legend:i.children("legend").first(),regions:{color:i.attr("rbcolor"),width:i.attr("rbwidth")||p.REGION_WIDTH,style:i.attr("rbstyle")},labels:{format:i.attr("dlformat"),color:i.attr("dlcolor")||p.LABEL_COLOR,bold:i.attr("dlbold")==="true",strokeColor:i.attr("dlstrokecolor"),strokeWidth:i.attr("dlstrokewidth")||p.STROKE_WIDTH}},g=i.find("buckets:first > bucket"),b={title:{text:i.attr("maintitle")||"My Map"},subtitle:{text:i.attr("subtitle")||"Subtitle"},credits:{enabled:false},colorAxis:{min:0},plotOptions:{map:{dataLabels:{enabled:true,formatter(){return this.point.name}},animation:false}}};o.css({height:i.attr("height")||"400px",position:"relative"});l.css({height:"100%",width:"100%",position:"absolute"});n.mapWrapper=o;n.container=l;n.mapObj=b;if(i.attr("export")==="off"){b.exporting={enabled:false}}if(h.backgroundColor){if(!b.chart)b.chart={};b.chart.backgroundColor=h.backgroundColor}if(h.nullColor){b.plotOptions.map.nullColor=h.nullColor}if(h.hoverColor){b.plotOptions.map.states={hover:{color:h.hoverColor}}}if(h.colors.length>1&&h.colors[0]&&h.colors[h.colors.length-1]){let e=h.colors;t.extend(b.colorAxis,{minColor:e[0],maxColor:e[e.length-1]})}u.methods.formatRegions(b,h.regions);if(h.labels.format||h.labels.color||h.labels.strokeColor||h.labels.strokeWidth){u.methods.formatDataLabels(b,h.labels)}if(g.length>0){let e=[];t.each(g,function(){let n=t(this),i={},a=n.attr("to"),o=n.attr("from"),r=n.attr("label"),l=n.attr("color");if(a){i.to=a}if(o){i.from=o}if(r){i.name=r}if(l){i.color=l}e.push(i)});t.extend(b.colorAxis,{dataClasses:e})}if(h.legend.length){let e=c.parseNodetoObj(h.legend);u.methods.formatLegend(b,e)}r.getJSONBodyOfZIPResourceFile("GeochartMaps","skuid",m.mapfile).then(function(e){d.resolve(e)}).catch(function(e){d.reject(e)});d.then(function(i){let a=[],o=-1;t.each(i.features,function(){if(o===-1){o++;return true}a.push({"hc-key":this.properties["hc-key"],value:o++});if(o===7)o=-1});b.series=[{data:a,mapData:i,joinBy:"hc-key"},{name:"Separators",type:"mapline",data:e.lib.Highcharts.geojson(i,"mapline"),color:"silver",showInLegend:false,enableMouseTracking:false}];f(n)});if(a===undefined){c.addDrilldownActionGroup(n)}else{n.addActionItem({text:s("Remove"),icon:"sk-webicon-ink:delete",action(){a.removeChart(n)},id:"removeButton"})}n.reflow=function(){let e=n.container,t=e.highcharts();if(t&&t.chartWidth!==e.width()&&e.is(":visible"))t.reflow()}},afterAttach(t){t.body.append(t.mapWrapper);e.utils.addResizeHandler(t.reflow,100);r.delayEventCallback({eventType:"tabshow pageload dialogopen stepchange",delay:20,callback:t.reflow});e.events.subscribe(["ui.reflow","skuid.chart.reflow","tabshow"],function(e){if(!e||!e.length||e[0].component===t)t.reflow()})},defaultStateGenerator(){let e=i.getLastSelectedModelComponent(),t=e?e.get("xmlState"):i.getFirstModel(),n=t?t.attr("id"):null,a;for(let e in u.types){a=e;break}return l("<"+this.id+' model="'+n+'" maintitle="{{Model.labelPlural}}" maptype="'+a+'" height="600px" />').append(l("<colors/>"),l("<legend/>"))}}))})(e)},655:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc,s=i.getBuilder("skuid__buttonSet"),d=i.getBuilder("skuid__buttonGroup"),c=e.events,u="skuid__header",p="Header",f="sk-webicon-ink:page-title";let m=new i.Builder({id:u,name:p,icon:f,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/header/",n=o.getDescriptionTag(),i='The Header component provides an easy way to display a title and subtitle for a data source object.\n\t\t\t\t\tTypically, this component is used to provide context within the page. (Buttons can also be added to this component.)\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Header component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){i.handleModelRemove(e,t,{component:n});i.handleModelIdChange(e,t)},propertiesRenderer(e,t){let n=t.get("xmlState"),o=n.children("buttons").first(),r=n.children("skuid__buttonSet").first(),l=p+" Properties";if(o.length&&!r.length){r=s.defaultStateGenerator();r.find("buttons").replaceWith(o);n.append(r);t.save().refresh()}e.setTitle(l);let d=[{id:"model",type:"model",label:"Model",required:false,onChange(){t.updateAutoCreatedEditorCondition()}},{id:"title",type:"template",label:"Title",required:true,location:"attribute",onChange(e){t.body.find(".nx-pagetitle-maintitle").text(e||"Title")}},{id:"subtitle",type:"template",label:"Subtitle",location:"attribute",onChange(e){t.body.find(".nx-pagetitle-subtitle").text(e||"Subtitle")}},{id:"separator",type:"boolean",label:"Add border separator",location:"attribute",defaultValue:false,onChange(e){t.body.find(".nx-pagetitle-separator").css("display",e?"block":"none")}},{id:"titleTag",type:"picklist",label:"Heading level",helptext:"This helps screen readers correctly navigate the page. It does not change the visual appearance of the component; to do that, use Styles tab > Style Variants.",picklistEntries:[{label:"1",value:""},{label:"2",value:"h2"},{label:"3",value:"h3"},{label:"4",value:"h4"},{label:"5",value:"h5"},{label:"6",value:"h6"}],required:true}];e.applyPropsWithCategories([{name:"Basic",props:d},{name:"Advanced",props:[i.coreProps.uniqueIdProp({component:t})]},a.getInkStylesTab({component:t,propViewer:e,spacing:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),i.getContextCategory({propViewer:e,state:n,model:n.attr("model")})],n)},componentRenderer(e){let n=e.body,a=e.get("xmlState"),o=a.children("buttons").first(),r=a.children("skuid__buttonSet").first(),l;if(o.length&&!r.length){l=s.defaultStateGenerator();l.find("buttons").replaceWith(o.clone(true))}e.setTitle(e.builder.name);let u=t("<div>").addClass("sk-pagetitle-wrapper"),p=e.get("xmlState").attr("subtitle")||"Subtitle",f=t("<div>").addClass("nx-pagetitle-subtitle").text(p),m=e.get("xmlState").attr("title")||"Title",h=t("<div>").addClass("nx-pagetitle-maintitle").text(m),g=t("<div>").addClass("nx-pagetitle-separator").css({borderBottom:"1px solid black",margin:"5px 0",display:e.get("xmlState").attr("separator")==="true"?"block":"none"}),b=i.componentFactory(l||r,s),y=t("<div>").addClass("sk-component-buttonset").css({float:"right"}).append(b.element);b&&b.set("_unselectable",true);if(e.get("buttonSetComponent"))e.get("buttonSetComponent").unregister();e.set("buttonSetComponent",b);if(!r.children("groups").children().length){b.set("show",false)}u.append(f,h);n.append(y,u,g);e.addActionItem("Add Button Group",null,function(){let t;if(!r.length){r=s.defaultStateGenerator();a.append(r)}else{t=d.defaultStateGenerator();r.children("groups").append(t)}b.set("show",true);e.save().refresh();c.publish("builder.colorcheck")});if(e.get("modelAttrObserver"))e.get("modelAttrObserver").disconnect();let v=e.cpi.createObserver({node:a[0],observe:{attributes:true,attributeFilter:["model"]},callback:()=>b.updateModel(a.attr("model"))});e.set("modelAttrObserver",v)},defaultStateGenerator(){let e=i.getLastSelectedModelComponent(),t=e&&e.get("xmlState")?e.get("xmlState").attr("id"):null;return l("<"+u+"/>").attr({model:t,title:"Title"})}});i.registerBuilder(m)})(e)},656:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.builder,n=t.core,i=t.ink,a=t.desktop,o=e.$,r=e.utils.makeXMLDoc,l=e.events,s={logo:{label:"Logo",icon:"sk-webicon-ink:image",builder:"skuid__image"},navigation:{label:"Navigation",icon:"sk-webicon-ink:navigation",builder:"skuid__navigation"},search:{label:"Search",icon:"sk-webicon-ink:search",builder:"skuid__search"},separator:{label:"Spacing",icon:"sk-webicon-ink:border-none"}},d={id:"division",hideWrapper:true,isTransparent:true,icon:"sk-webicon-ink:column",getName(e){const t=s[e.attr("type")]||{};return"".concat(t.label," Division")},componentRenderer(e){const t=e.get("xmlState"),n=t.attr("type"),i=n==="navigation"?1:0,r=t.attr("flex")||i,d=t.attr("minWidth")||"auto",c=s[n]||{},u=[c.builder&&c.builder],p=e.get("acceptor")||new a.ComponentAcceptor(t.children("components"),{subtleTitle:c.label,acceptBuilderIds:u,parentComponent:e}),f=e.body;e.set("acceptor",p);e.getCPI().addClass("sk-grid-division");e.getCPI().setStyle("flex","".concat(r," ").concat(r," ").concat(d));if(n!=="separator"){f.append(p.element.css("min-width","200px"))}else{f.append(o("<div>").css({minWidth:parseInt(d)>40?d:"40px",height:"100px",border:"1px dashed rgba(0,0,0,0.1)"}))}let m;switch(n){case"logo":m=e.body.find('[data-builder-id="skuid__image"]');m.find("img").css({height:"36px",width:"auto"});break;default:break}e.addActionItem("Delete component","sk-webicon-ink:delete",()=>{e.remove();l.publish("builder.colorcheck")})},defaultStateGenerator(e){const n=s[e],i=r('<division type="'.concat(e,'" />'));if(n.builder){const a=t.getBuilder(n.builder).defaultStateGenerator();if(e==="logo"){a.attr({height:"custom",heightCustom:"100%"})}i.append(r("<components />").append(a))}return i}};n.registerBuilder(new n.Builder({id:"skuid__masthead",name:"Masthead",icon:"sk-webicon-ink:masthead",isGlobalComponent:true,makeDraggable:true,hideWrapper:false,hideFromComponentsList:false,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/masthead/",n=a.getDescriptionTag(),i='The Masthead is a container component that lets builders group Navigation and Search components with a company logo.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Masthead component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},isTransparent:true,componentRenderer(e){let t=e.get("xmlState"),a=e.body,o=[],r=e.getCPI();r.addClass("sk-component-masthead");r.setTitle(e.builder.name);a.addClass("sk-grid");const c=new n.Builder(Object.assign({},d,{propertiesRenderer(t,a){const o=a.get("xmlState"),r=o.attr("type"),l=r==="navigation"?"1":"0",d=s[r]||{},c=[],u=[];t.setTitle("".concat(d.label," Properties"));u.push({type:"reorder",label:"Change Order",onChange:()=>{e.save().refresh();a.rebuildProps()}},n.coreProps.uniqueIdProp({component:e}),{id:"flex",type:"number",label:"Flex ratio",defaultValue:l,helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by minimum width.",onChange:()=>e.refresh()},{id:"minWidth",type:"csssize",label:"Min width",onChange:()=>e.refresh()});c.push({name:"Basic",props:u},i.getInkStylesTab({component:a,propViewer:t,spacing:true,styleVariants:false}));t.applyPropsWithCategories(c,o)}}));this.registerChildBuilder(c);n.appendComponents(a,t.children("divisions").first().children("division"),{customBuilder:c,makeDraggable:false});function u(t){let i=c.defaultStateGenerator(t),a=n.componentFactory(i,c);a.element.appendTo(e.body);e.get("xmlState").children("divisions").first().append(i);e.save();l.publish("builder.colorcheck")}Object.keys(s).forEach(e=>{const t=s[e];o.push({text:"Add ".concat(t.label),icon:t.icon,action:()=>u(e)})});e.addActionGroup(o,"Add Component")},propertiesRenderer(e,t){e.setTitle("Masthead Properties");e.element.addClass("sk-capitalize-selects");let a=t.get("xmlState"),o=[];o.push({name:"Basic",props:[{id:"position",type:"picklist",label:"Positioning",helptext:"Default is to scroll with page. Fixed will have the masthead always fixed to the top of the page. Fixed when at top allows for content above the masthead but the masthead will remain fixed once it reaches the top.",picklistEntries:[{value:"",label:"Scrolls with page"},{value:"fixed",label:"Fixed"},{value:"relativeFixed",label:"Fixed when at top"}]},n.coreProps.uniqueIdProp({component:t})]},i.getInkStylesTab({component:t,propViewer:e,spacing:true}),n.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showStyleVariantConditions:true}));e.applyPropsWithCategories(o,a)},defaultStateGenerator(){return r("<skuid__masthead><divisions /></skuid__masthead>")}}))})(e)},657:function(t,n){const i=e.builder,a=i.core,o=i.ink,r=e.utils,l=r.makeXMLDoc,s="skuid__messageBlock";a.registerBuilder(new a.Builder({id:s,name:"Message Block",icon:"sk-webicon-ink:feedback-block",componentType:s,hideWrapper:true,hideFromComponentsList:true,isTransparent:true,handleStateEvent(e,t,n){a.handleModelRemove(e,t,{component:n});a.handleModelIdChange(e,t)},propertiesRenderer(e,t){const n=t.get("xmlState"),i="Message Block Properties",r=()=>t.save().refresh();e.setTitle(i);let l=[{id:"title",type:"string",label:"Title",onChange:r},{id:"description",type:"template",label:"Description",location:"attribute",onChange:r},{id:"icon",type:"icon",label:"Icon",onChange:r},{id:"showClose",type:"boolean",label:"Show Close Icon",defaultValue:false,onChange:r}];e.applyPropsWithCategories([{name:"Basic",props:l},{name:"Advanced",props:[a.coreProps.uniqueIdProp({component:t})]},o.getInkStylesTab({component:t,propViewer:e,spacing:false}),a.getContextCategory({propViewer:e,state:n,model:n.closest("skuid__messageArea").attr("model")}),a.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e})],n)},defaultStateGenerator(){let e=a.getLastSelectedModelComponent(),t=e&&e.get("xmlState")?e.get("xmlState").attr("id"):null;return l("<skuid__messageBlock/>").attr("model",t).attr("title","Title").attr("description","Description text")},refresh(e){e.cpi.updateCanvasComponent()},init(e){e.cpi.setCanvasComponent();e.addActionItem("Remove","sk-webicon-ink:delete",function(){const t=e.getParentComponent().get("parentBuilderComponent");e.remove();t.cpi.save();t.cpi.refresh()})},parseState(t,n){let i=t.get("model");const o=t.get("xmlState"),r=o.attr("model"),l=r&&a.getModelFromModelName(r);if(l&&!i){n.model=i=new e.model.Model(l);n.model.initialize().register()}t.set("model",i,false);return n},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()}}))},658:function(t,n){const i=e.builder,a=i.core,o=i.desktop,r=e.utils,l=r.makeXMLDoc,s="skuid__messageArea",d="skuid__messageBlock";a.registerBuilder(new a.Builder({id:s,name:"Message Area",icon:"sk-webicon-ink:message-area",isGlobalComponent:true,componentType:s,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/message-area/",n=o.getDescriptionTag(),i='The Message Area component is a container that displays message blocks. \n\t\t\t\tThese blocks are useful for providing end users information about tasks to be completed, \n\t\t\t\talerting them about actions to be taken, or displaying other pertinent information about the page. \n\t\t\t\t\t <br><br>\n\t\t\t\t\t Message blocks can be created through the Add Message Block button or through a \n\t\t\t\t\t Run Component Action targeting this component.\n\t\t\t\t\t <br><br>\n\t\t\t\t\t For more information, see the <a href="'.concat(t,'">Message Area topic</a>.\n\t\t\t\t\t <br><br>\n\t\t\t\t\t ').concat(n);return i},actions:[{value:"show",label:"Show Message Block",props:[{id:"title",type:"string",label:"Title"},{id:"description",type:"template",label:"Description",location:"attribute"},{id:"icon",type:"icon",label:"Icon"},{id:"showClose",type:"boolean",label:"Show Close Icon",defaultValue:false},{id:"styleSettingsVariant",label:"Style Variant",type:"picklist",defaultValue:"",options:()=>{const t=e.builder.desktop.getVariantsForComponentType(d);t.forEach(e=>{if(e.value==="default")e.value=""});return t}}]},{value:"clear",label:"Clear Message Blocks",props:[]}],init(e){e.cpi.setCanvasComponent();e.addActionItem("Add Message Block",null,function(){let t=a.getBuilder(d),n=t.defaultStateGenerator();e.get("xmlState").children("group").first().append(n);e.cpi.save();e.cpi.refresh()})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},handleStateEvent(e,t,n){a.handleModelRemove(e,t,{component:n});a.handleModelIdChange(e,t)},defaultStateGenerator(){let e=a.getLastSelectedModelComponent(),t=e&&e.get("xmlState")?e.get("xmlState").attr("id"):null;return l("<skuid__messageArea/>").attr("model",t).append("<group/>")},componentSpoofMap:{skuid__messageBlock:{builderId:"skuid__messageBlock",makeDraggable:false,cache:true,filter:()=>true,cpiSpoofers:{}}}}))},659:function(t,n){const i=e.virtualDom.hyperScript,a=e.builder,o=a.core,r=a.desktop,l=()=>e.utils.inPlatform(e.constants.NATIVE),s=()=>({id:"showLoadingIndicator",type:"boolean",defaultValue:true,label:"Show Loading Indicator",helptext:"If selected, then a loading indicator will be displayed while the desired page is being loaded."}),d=()=>[{id:"loadInBackground",type:"boolean",label:"Load in background?",defaultValue:false,helptext:"By default, this action sequence will not progress to any subsequent actions until the page has finished loading. If this property is checked, then the page load will be initiated, but subsequent actions will be run without waiting for the page to finish loading."},s()],c=(t,n)=>{const i=e.dataSource.get(e.platform.getDefaultDataSourceName()),a=n.attr("includeType")||"skuid",o={id:"includeType",type:"picklist",label:"Type",defaultValue:"skuid",picklistEntries:[{label:"Skuid Page",value:"skuid"},{label:"Page Assignment",value:"assignment"}],onChange(){n.removeAttr("pageName objectType actionType moduleName module");t.refresh().rebuildProps()}},r={id:"actionType",type:"picklist",picklistEntries:[{label:"Tab",value:"Tab"},{label:"List",value:"List"},{label:"View",value:"View"},{label:"Edit",value:"Edit"},{label:"New",value:"New"},{label:"Clone",value:"Clone"}],label:"Action Type",helptext:"The Action Type on the selected Salesforce Object that you have defined Page Assignments for.",onChange:()=>t.refresh()},s={id:"objectType",type:"sobject",label:"Object Type",onChange:()=>t.refresh(),helptext:"(Autocomplete) API Name of a Salesforce Object that you have defined Page Assignments for."},d={id:"queryString",type:"text",label:"Query String",helptext:"The content of the query string (parameters that come after the main body of a URL) to send along with the Page Include request, e.g. 'mode=analytics&id={{$Param.id}}'",required:false,onChange:()=>t.refresh()},c=e.platform.builder.getPageSelectProperty({id:"pageName",label:"Skuid Page",sameVersionOnly:true,helptext:"The Skuid Page whose content you would like to load in to this part of the page.",valueTemplates:l()?{pageName:"{{name}}"}:{pageName:"{{Name}}",moduleName:"{{skuid__Module__c}}"},dataSource:i,onChange:()=>t.refresh()});let u,p,f,m,h;m={skuid:[o,c,d,u,p,f],assignment:[o,s,r,d,u,p,f]};h=m[a].slice(0);if(l()){h.shift()}return h},u="skuid__pageInclude";const p=new o.Builder({id:u,name:"Page Include",icon:"sk-webicon-ink:import-page",hideFromComponentsList:false,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/page-include/",n=r.getDescriptionTag(),i='The Page Include component loads content onto the page from another, separate Skuid Page. Page Includes can streamline the loading of complex pages by loading included components only as they are needed.\n\t\t\t\t<br/><br/>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Page Include component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},actions:[{value:"load",label:"Load current page",propsFunction:d},{value:"loadNewPage",label:"Load new page",propsFunction:(...e)=>c(...e).concat(d(...e))},{value:"unload",label:"Unload",props:[]}],init(e){e.cpi.addClass("sk-pageinclude-builder");e.builderCPI.setContents()},refresh(e){e.builderCPI.setContents()},renderVDom(e){return i("div",{innerHTML:e.get("_contents"),styles:{padding:"8px","word-wrap":"break-word"}})},propertiesRenderer(e,t){const n=t.get("xmlState");e.setTitle("Page Include Properties");e.applyPropsWithCategories([{name:"Basic",props:c(t,n)},{name:"Advanced",props:[o.coreProps.uniqueIdProp({component:this,helptext:"Optional parameter that allows this Page Include Component to be referenced by other Components, Actions, or manipulated via JavaScript."}),s(),{id:"lazyLoad",type:"boolean",defaultValue:true,label:"Lazy Load",helptext:"If selected, this Page Include will not load immediately. This is useful when you have a Component that will load content into this Page Include later, or when you have a Page Include in a Tab, in which case the Tab, when activated, can be configured to load the Page Include's contents. You can also load Page Includes via JavaScript, e.g. with skuid.component.getById('MyPageInclude').getCPI().load();"}]},o.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],n)},defaultStateGenerator(){return e.utils.makeXMLDoc('<skuid__pageInclude includeType="skuid"/>')},cpi:{setContents(){const t=this.get("xmlState"),{includeType:n="skuid",pageName:i,moduleName:a,actionType:o,objectType:r}=t.attr();let l="",s=false;if(!n){s=true}if(s){t.attr("includeType",n);this.cpi.save()}if(n==="skuid"&&i){l="&lt;Content of Skuid Page <strong>".concat(i,'</strong>&gt;&nbsp;&nbsp;<small><a href="').concat(e.platform.getPageComposeUrlByName(i,a),'" target="_blank">(Edit Page)</a></small>')}else if(n==="assignment"&&o&&r){l="&lt;Content of Skuid Page determined by running Page Assignments for the <strong>".concat(o,"</strong> Action on the <strong>").concat(r,"</strong> Object&gt;")}this.set("_contents",l)}}});if(e.platform.hasFeature("PageComposerStaging")){o.registerBuilder(p)}},660:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.builder,n=t.core,i=t.desktop,a=()=>e.utils.inPlatform(e.constants.NATIVE),o=()=>{return{id:"showLoadingIndicator",type:"boolean",defaultValue:true,label:"Show Loading Indicator",helptext:"If selected, then a loading indicator will be displayed while the desired page is being loaded."}};function r(t,n){let i=e.dataSource.get(e.platform.getDefaultDataSourceName()),o=n.attr("includeType")||"skuid",r,l,s,d,c,u,p,f,m,h;function g(){return t.refresh()}p={id:"includeType",type:"picklist",label:"Type",defaultValue:"skuid",picklistEntries:[{label:"Skuid Page",value:"skuid"},{label:"Page Assignment",value:"assignment"}],onChange(){n.removeAttr("pageName objectType actionType moduleName module");t.refresh().rebuildProps()}};u=e.platform.builder.getPageSelectProperty({id:"pageName",label:"Skuid Page",sameVersionOnly:true,helptext:"The Skuid Page whose content you would like to load in to this part of the page.",valueTemplates:a()?{pageName:"{{name}}"}:{pageName:"{{Name}}",moduleName:"{{skuid__Module__c}}"},dataSource:i,onChange:g});c={id:"queryString",type:"text",label:"Query String",helptext:"The content of the query string (parameters that come after the main body of a URL) to send along with the Page Include request, e.g. 'mode=analytics&id={{$Param.id}}'",required:false,onChange:g};d={id:"objectType",type:"sobject",label:"Object Type",onChange:g,helptext:"(Autocomplete) API Name of a Salesforce Object that you have defined Page Assignments for."};r={id:"actionType",type:"picklist",picklistEntries:[{label:"Tab",value:"Tab"},{label:"List",value:"List"},{label:"View",value:"View"},{label:"Edit",value:"Edit"},{label:"New",value:"New"},{label:"Clone",value:"Clone"}],label:"Action Type",helptext:"The Action Type on the selected Salesforce Object that you have defined Page Assignments for.",onChange:g};m={skuid:[p,u,c,l,s,f],assignment:[p,d,r,c,l,s,f]};h=m[o].slice(0);if(a()){h.shift()}return h}function l(){return[{id:"loadInBackground",type:"boolean",label:"Load in background?",defaultValue:false,helptext:"By default, this action sequence will not progress to any subsequent actions until the page has finished loading. If this property is checked, then the page load will be initiated, but subsequent actions will be run without waiting for the page to finish loading."},o()]}n.registerBuilder(new n.Builder({id:"skuid__pageInclude",name:"Page Include",icon:"sk-webicon-ink:import-page",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/page-include/",n=i.getDescriptionTag(),a='The Page Include component loads content onto the page from another, separate Skuid Page. Page Includes can streamline the loading of complex pages by loading included components only as they are needed.\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Page Include component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return a},hideFromComponentsList:false,actions:[{value:"load",label:"Load current page",propsFunction:l},{value:"loadNewPage",label:"Load new page",propsFunction:(...e)=>{return r(...e).concat(l(...e))}},{value:"unload",label:"Unload",props:[]}],componentRenderer(t){t.GUID=e.utils.generateGUID();t.setTitle(t.builder.name);t.getCPI().addClass("sk-pageinclude-builder");let n=t.get("xmlState"),i=n.attr("includeType"),a=n.attr("pageName"),o=n.attr("moduleName"),r=n.attr("actionType"),l=n.attr("objectType"),s='\n\t\t\t\t\t\t<div class="nx-pagebuilder-acceptor nx-pagebuilder-acceptor-whitebg">\n\t\t\t\t\t\t\t<div class="nx-dropzone ui-droppable"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t',d=false;if(!i){i="skuid";d=true}if(d){n.attr("includeType",i);t.save()}if(i==="skuid"&&a){s="&lt;Content of Skuid Page <strong>".concat(a,'</strong>&gt;&nbsp;&nbsp;<small><a href="').concat(e.platform.getPageComposeUrlByName(a,o),'" target="_blank">(Edit Page)</a></small>')}else if(i==="assignment"&&r&&l){s="&lt;Content of Skuid Page determined by running Page Assignments for the <strong>".concat(r,"</strong> Action on the <strong>").concat(l,"</strong> Object&gt;")}t.body.css({padding:"8px","word-wrap":"break-word"}).html(s)},propertiesRenderer(e,t){e.setTitle("Page Include Properties");const i=n.coreProps.uniqueIdProp({component:this,helptext:"Optional parameter that allows this Page Include Component to be referenced by other Components, Actions, or manipulated via JavaScript."});const a={id:"lazyLoad",type:"boolean",defaultValue:true,label:"Lazy Load",helptext:"If selected, this Page Include will not load immediately. This is useful when you have a Component that will load content into this Page Include later, or when you have a Page Include in a Tab, in which case the Tab, when activated, can be configured to load the Page Include's contents. You can also load Page Includes via JavaScript, e.g. with skuid.component.getById('MyPageInclude').getCPI().load();"};e.applyPropsWithCategories([{name:"Basic",props:r(t,t.get("xmlState"))},{name:"Advanced",props:[i,o(),a]},n.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],t.get("xmlState"))},defaultStateGenerator(){return e.utils.makeXMLDoc('<skuid__pageInclude includeType="skuid"/>')}}))})(e)},661:function(t,n){const i=e.virtualDom.hyperScript,a=e.builder,o=a.core,r=e.utils.makeXMLDoc,l="skuid__pageRegion";const s=new o.Builder({id:l,componentType:l,name:"Page Region",icon:"sk-webicon-ink:layout",isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/pages/master-child-pages.html#you-will-now-have-access-to-child-pages-and-page-regions",n='The Page Region is used exclusively in a Master page to specify editable areas in Child pages.\n\t\t\t\tAdd a Page Region to a Master page; in the associated Child page, that Page Region will visible, and you can add components to it.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Page Region section</a> in the Pages topic.\n\t\t\t\t<br><br>\n\t\t\t\tTo add this component to a page, drag it into the Master page.');return n},init(t){const n=a.getBuilder("pageregioncontent"),i=t.get("xmlState"),l=i.attr("uniqueid"),s=e.platform.getEntityFieldName("page","is_master_page"),d=o.pageModel.getFieldValue(o.pageRow,s)===true,c=o.masterPage!==null,u=o.pageModel.getFieldValue(o.pageRow,"skuid__Pages__r.totalSize")>0;let p;t.cpi.addClass("nx-pagebuilder-region");if(d&&u){const e=t.actionItems&&t.actionItems.removeButton;e&&e.remove()}if(c&&o.isInMasterPage(i)){const e=o.getPageXML();let i=e.children("pageregioncontents");if(!i.length){i=r("<pageregioncontents/>").appendTo(e)}let a=i.children('pageregioncontent[regionid="'+l+'"]');if(!a.length){a=n.getDefaultState({regionId:l},{setUniqueId:true}).appendTo(i)}p=t.createChildComponent({componentType:"skuidbuilder__builderComponent",_xmlNode:a,_customBuilder:n,_makeDraggable:true,_isGlobalComponent:!n,_builderComponent:{}})}t.set({isMasterPage:d,isChildPage:c,hasChildren:u,regionContentComponent:p})},renderVDom(e){const{isMasterPage:t,regionContentComponent:n}=e.getState();if(!t)return n.renderVDom();else{return i("div",{styles:{textAlign:"center",background:"rgba(255, 255, 255, 0.50)",padding:"8px",margin:"4px",color:"rgba(0, 0, 0, 0.5)"}},["Edit Content on Child Page(s)"])}},propertiesRenderer(e,t){e.setTitle("Page Region Properties");const n=t.get("xmlState"),i=o.coreProps,a={id:"label",type:"text",label:"Label",helptext:"(Optional) This property gives this Page Region an easy to recognize name. If blank, the Unique Id will be used instead.",onChange(e){t.getCPI().setTitle(t.builder.name+(e?" - "+e:""))}},r=i.uniqueIdProp({component:t});if(t.get("isMasterPage")&&t.get("hasChildren")&&n.attr("uniqueid")){r.mode="readonly"}e.applyPropsWithCategories([{name:"Basic",props:[a,r]},o.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],n)},defaultStateGenerator(){return r("<skuid__pageRegion/>")}});if(e.platform.hasFeature("PageComposerStaging")){o.registerBuilder(s)}},662:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=e.builder.desktop,o=e.utils.makeXMLDoc,r=false,l=false,s=false;const d=new i.Builder({id:"skuid__pageRegion",name:"Page Region",icon:"sk-webicon-ink:layout",isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/pages/master-child-pages.html#you-will-now-have-access-to-child-pages-and-page-regions",n='The Page Region is used exclusively in a Master page to specify editable areas in Child pages.\n\t\t\t\t\tAdd a Page Region to a Master page; in the associated Child page, that Page Region will visible, and you can add components to it.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Page Region section</a> in the Pages topic.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tTo add this component to a page, drag it into the Master page.');return n},componentRenderer(n){let a=n.get("xmlState"),d=a.attr("label"),u=a.attr("uniqueid");n.getCPI().addClass("nx-pagebuilder-region");r=i.pageModel.getFieldValue(i.pageRow,"skuid__IsMaster__c")===true;l=i.masterPage!==null;s=i.pageModel.getFieldValue(i.pageRow,"skuid__Pages__r.totalSize")>0;if(r&&s){let e=n.actionItems&&n.actionItems.removeButton;e&&e.remove()}n.setTitle(n.builder.name+(d?" - "+d:""));e.component.createFromDefinition(a,{element:n.body,context:{inBuilder:true}});let p=n.get("xmlState").children("styles");e.utils.processAndApplyStylesNode(p,n.body,{whitelist:i.builderSafeBackgroundProperties});if(l===true&&i.isInMasterPage(a)){let t=i.getPageXML(),a=t.children("pageregioncontents");if(!a.length){a=o("<pageregioncontents/>").appendTo(t)}let r=a.children('pageregioncontent[regionid="'+u+'"]');if(!r.length){r=c.getDefaultState({regionId:u},{setUniqueId:true}).appendTo(a)}let l=i.componentFactory(r,c,false);e.utils.processAndApplyStylesNode(p,l.body,{whitelist:i.builderSafePositionProperties.concat(i.builderSafeFormatProperties)});n.body.append(l.element)}else if(r===true){let a=t("<div>").html("Edit Content on Child Page(s)").addClass("").css({"text-align":"center",background:"rgba(255, 255, 255, 0.50)",padding:"8px",margin:"4px",color:"rgb(0,0,0,0.5)"});e.utils.processAndApplyStylesNode(p,a,{whitelist:i.builderSafePositionProperties.concat(i.builderSafeFormatProperties)});n.body.append(a)}},propertiesRenderer(e,t){e.setTitle("Page Region Properties");let n=t.get("xmlState"),a=i.coreProps,o={id:"label",type:"text",label:"Label",helptext:"(Optional) This property gives this Page Region an easy to recognize name. If blank, the Unique Id will be used instead.",onChange(e){t.getCPI().setTitle(t.builder.name+(e?" - "+e:""))}},l=a.uniqueIdProp({component:t});if(r&&s&&n.attr("uniqueid")){l.mode="readonly"}e.applyPropsWithCategories([{name:"Basic",props:[o,l]},i.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],t.get("xmlState"))},defaultStateGenerator(){return o("<skuid__pageRegion/>")}});let c=new i.Builder({id:"pageregioncontent",icon:"sk-webicon-ink:wrapper",name:"Region Content",hideWrapper:true,isTransparent:true,addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(e){let t=e.acceptor=new a.ComponentAcceptor(e.get("xmlState").children("components"),{parentComponent:e});e.body.append(t.element)},propertiesRenderer(e,n){e.setTitle("Region Content Properties");let o=[i.coreProps.uniqueIdProp({component:n}),a.cssClassProp];o.push({id:"regionid",type:"picklist",label:"Default Page Region",helptext:"Identifies which Page Region this content should be loaded into by default",picklistEntries:i.getPageRegions().map(function(e){let n=t(e),i=n.attr("uniqueid");return{label:n.attr("label")||i,value:i}})});e.applyPropsWithCategories([{name:"Basic",props:o},i.getRenderingCategory({component:n,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],n.get("xmlState"))},defaultStateGenerator(e){let t=o("<pageregioncontent/>");let n=e.regionId;if(n)t.attr("regionid",n);return t.append(o("<components/>"))}});i.registerBuilder(d);i.registerBuilder(c)})(e)},663:function(t,n){const i=e.$,a=e.builder,o=a.core,r=e.builder.desktop,l=e.utils.makeXMLDoc;const s=new o.Builder({id:"pageregioncontent",componentType:"skuidbuilder__componentAcceptor",icon:"sk-webicon-ink:wrapper",name:"Region Content",hideWrapper:true,isTransparent:true,init(e){e.cpi.setCanvasComponent()},parseState(e,t){return Object.assign({},t,{componentsXML:e.get("xmlState").children("components")})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Region Content Properties");let n=[o.coreProps.uniqueIdProp({component:t}),r.cssClassProp];n.push({id:"regionid",type:"picklist",label:"Default Page Region",helptext:"Identifies which Page Region this content should be loaded into by default",picklistEntries:o.getPageRegions().map(function(e){let t=i(e),n=t.attr("uniqueid");return{label:t.attr("label")||n,value:n}})});e.applyPropsWithCategories([{name:"Basic",props:n},o.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition"})],t.get("xmlState"))},defaultStateGenerator(e){let t=l("<pageregioncontent/>");e.regionId&&t.attr("regionid",e.regionId);return t.append(l("<components/>"))}});if(e.platform.hasFeature("PageComposerStaging")){o.registerBuilder(s)}},664:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc,s=e.constants.DISPLAY_TYPES,d,c="REST";const u=e=>({id:"resultActions",label:"Global Actions",deleteable:false,indent:e.indent,linkedComponent:e.linkedComponent,isChild:true,props:[{type:"helptext",html:"Global Actions will add each action below to every return object."}],children:[p({linkedComponent:e.linkedComponent})]});const p=e=>({id:"action",icon:"sk-webicon-ink:actions",deletetooltip:"Remove Row Action",indent:e.indent,labelFunction:e=>"Action: ".concat(e.attr("label")||"[No Label]"),invisibleParent:e.invisibleParent,defaultStateFunction:()=>l("<action />"),propsFunction:e=>i.getIconLabelProps({component:e,refreshComponent:true}),childrenFunction:t=>[i.getActionTreeNode({addtooltip:"Add Action Step",addlabel:"Add Action Step",linkedComponent:e.linkedComponent,refreshLinkedComponent:false,component:t,treeNode:{indent:e.childIndent||1,invisibleParent:"actions"}})]});d=new i.Builder({id:"skuid__search",name:"Search",icon:"sk-webicon-ink:search",isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/search/",n=o.getDescriptionTag(),i='The Search Component creates a search box that allows the user to search through data objects.\n\t\t\t\t\t Additionally, the user can perform any number of actions using the individual search results.\n\t\t\t\t\t <br><br>\n\t\t\t\t\t For more information, see the <a href="'.concat(t,'">Search component tutorial</a>.\n\t\t\t\t\t <br><br>\n\t\t\t\t\t ').concat(n);return i},indexSelectors:{unsurfaced:"resultActions",ignored:"objects"},componentRenderer(e){e.setTitle(e.builder.name);e.body.addClass("sk-search").append(t('<input type="text" disabled="true">').addClass("ui-autocomplete-input").css("min-width",e.get("xmlState").attr("minWidth")||"200px"))},propertiesRenderer(n,o){n.setTitle("Search Properties");const d=o.get("xmlState"),f=[];f.push({name:"Basic",props:[{id:"soslFields",type:"picklist",label:"Fields to Search",picklistEntries:[{label:"Name Fields",value:""},{label:"All Text Fields",value:"All Fields"},{label:"Email Fields",value:"Email Fields"},{label:"Phone Fields",value:"Phone Fields"}]},{id:"placeholder",label:"Placeholder Text",type:"string",helptext:'(Optional) Custom text to display as a placeholder in the search box until the user starts typing. Defaults to "Search."'},{id:"minWidth",type:"csssize",label:"Searchbox Min Width",helptext:"(Optional) Set the minimum width of the Search Box (defaults to 200px)",onChange(e){o.body.find(".ui-autocomplete-input").css("min-width",e)}},{id:"preserveSearchTerm",type:"boolean",label:"Preserve search term",helptext:"When a user hovers over an item in the dropdown, the input value changes to the display template of that item. If this property is checked, the value will NOT be changed.",defaultValue:false},{id:"limit",type:"integer",label:"Result Limit",helptext:"(Optional) Limit the number of results returned. If Return Objects are specified, the limit will be applied to each Object (e.g. LIMIT 5 means 5 Contacts, 5 Accounts...)"},{id:"icon",type:"icon",label:"Search Icon",defaultValue:"sk-webicon-ink:search"},{id:"processingIcon",type:"icon",label:"Processing Icon",defaultValue:"sk-webicon-ink:sync",helptext:"This icon will spin while the search is being performed."}]},{name:"Advanced",props:[i.coreProps.uniqueIdProp({component:o})]},{name:"Global Actions",tree:u({linkedComponent:o})},{name:"Return Objects",tree:{id:"objects",label:"Return Objects",deleteable:false,linkedComponent:o,isChild:true,addtooltip:"Add Return Object",children:[{id:"object",labelFunction(e){return e.attr("id")?"".concat(e.attr("datasource"),": ").concat(e.attr("id")):"[No Object Selected]"},linkedComponent:o,addtooltip:"Add Return Object",propsFunction(n){let i=n.get("xmlState"),a=i.children("fields").first(),d=e.dataSource.get(i.attr("datasource")),u=d.getDataSourceType(),p=e.dataSource.map(),f,m=i.attr("id"),h={id:"id",type:"sobject",label:"Entity",readonly:false,dataSourceName:i.attr("datasource"),filter(){const t=e.dataSource.get(i.attr("datasource")),n=t.getDataSourceType(),a={dataSource:t};return t.getEntityList(a).then(e=>{if(n.searchableEntities){return n.searchableEntities({ignoreHidden:true,dataSource:t})}return e})},onChange(){n.refresh().rebuildProps()}},g={id:"id",type:"text",label:"URL Endpoint",onChange(){n.refresh()}},b={id:"pathToContent",type:"field",ignorePathToContent:true,displayTypeFilter:[s.OBJECT,s.ARRAY],modelname:m,isSearchObject:true,dataSourceName:i.attr("datasource"),label:"Path to Contents",helptext:"The path through the result of this GET request to the desired contents of this Model.",onChange(e,n,a,l){i.children("fields").children().each(function(){let n=t(this),i=n.attr("id"),a;if(e&&r.startsWith(i,e)){a=i.substring(e.length+1)}else if(!e&&l){a=l+"."+i}n.attr("id",a)});o.save().refresh()}};t.each(p,function(e,t){if(!t.dataSourceType.prop("hasGlobalSearchEntities")){delete p[e]}});if(!i.attr("datasource")){i.attr("datasource",e.platform.getDefaultDataSourceName())}f=[{id:"datasource",type:"picklist",picklistEntries:Object.keys(p).map(e=>({label:e,value:e})),label:"Data Source",onChange(){n.refresh().rebuildProps()}},{id:"headerIcon",type:"icon",label:"Header Display Icon",onChange(){o.refresh()}},{id:"headerName",label:"Header Display Name",type:"text",helptext:"(Optional) This gives you the ability to have the header named something other than the name of the Data Source."},{id:"displayTemplate",label:"Display Template",type:"text",helptext:'(Optional) The fields from related records to display, specified using Merge syntax, e.g. "{{Name}} - {{Industry}}" would show the Name and Industry of related Accounts, if this is the AccountId field.'},{id:"fields",label:"Fields",type:"field",location:"node",labelFunction(){return t.map(a.children(),e=>{return t(e).attr("id")}).join(", ")||"[No Fields Selected]"},isMultiselect:true,modelname:m,sobject:m,isSearchObject:true,dataSourceName:i.attr("datasource"),selectedFunction:e=>a.children('[id="'.concat(r.escapeSelector(e),'"]')).length,onChange(e,t){if(t===true){if(!a.length){a=l("<fields/>");i.append(a)}a.append(l('<field id="'.concat(e,'"/>')))}else{a.children('[id="'.concat(e,'"]')).first().remove()}o.save()}},{id:"orderBy",type:"string",label:"Fields to order records by",helptext:"How to order the data records returned for this Return Object, e.g. 'LastName DESC, FirstName' would order by LastName going from Z to A, then by FirstName going from A to Z."}];if(u.searchProperties){Array.prototype.push.apply(f,u.searchProperties(i).properties)}const y=f.some(e=>e.id==="id");if(!y){if(u.name===c){f.splice(1,0,g);f.splice(5,0,b)}else{f.splice(1,0,h)}}return f},children:[p({linkedComponent:o,invisibleParent:"resultActions",indent:1,childIndent:2})]}]}},i.getHotkeysCategory({id:"hotkeys",label:"Focus Hotkeys",linkedComponent:o}),a.getInkStylesTab({component:o,propViewer:n,spacing:true}));n.applyPropsWithCategories(f,d)},defaultStateGenerator(){return l("<skuid__search/>")}});i.registerBuilder(d)})(e)},665:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=e.builder.desktop,r=e.utils.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__tabContainer",name:"Tab Container",icon:"sk-webicon-ink:tabbed-container",indexSelectors:{unsurfaced:"onShowActions, onInitialShowActions"},description(){const e=o.getDescriptionTag(),t="The Tab Container component creates tabs on a page. You can add other components to the tabs inside the Tab Container.\n\t\t\t\t\tWhen there is not enough horizontal space to display all the tabs, they are stacked vertically.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t".concat(e);return t},componentRenderer(n){n.setTitle(n.builder.name);n.tabsWrapper=t("<div>");let a=t("<ul>").appendTo(n.tabsWrapper);let l=new i.Builder({id:"skuid__tabPanel",name:"Tab",icon:"sk-webicon-ink:tab",hideWrapper:true,addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(e){let t=e.acceptor=e.acceptor||new o.ComponentAcceptor(e.get("xmlState").children("components"),{mode:e.mode,parentComponent:e});e.body.append(t.element).css("min-height","30px");e.addActionItem("Remove Tab",null,function(){let t=e.element.parent(),i=a.children().eq(t.index()-1);e.remove();t.remove();i.remove();n.tabsWrapper.tabs("refresh")},null,null,"ui-button nx-button-destructive sk-delete-icon")},propertiesRenderer(a,o){a.setTitle("Tab Properties");let r=[{id:"name",type:"string",label:"Tab Label",onChange(e){n.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]').children(".nx-tab-label").text(e)}},{id:"icon",type:"icon",label:"Icon",onChange(i){let a=n.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]');let r=a.children(".nx-tab-icon");if(r.length){r.remove()}if(i){r=t(e.ui.createIcon(i,{additionalClass:"nx-tab-icon inline"}));a.prepend(r)}}}];let l=[{id:"uniqueid",type:"string",label:"Tab panel Unique Id",helptext:"Optional parameter that allows this Tab's content panel to be reliably referenced via JavaScript, or set via a window.location.hash (e.g. apex/skuid__UI?page=AccountDetail#CasesTab)"}];let s=[{name:"Basic",props:r},{name:"Advanced",props:l},{name:"Actions",tree:[i.getActionsTree({customNodeId:"onInitialShowActions",label:"When First Shown",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"When First Shown" Actions will be run only when a User selects this Tab for the first time.'}],additionalActionOptions:[...this.actionTypes||[]]}),i.getActionsTree({customNodeId:"onShowActions",label:"Whenever Rendered",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"Whenever Rendered" Actions will be run every time a User selects this Tab.'}],additionalActionOptions:this.actionTypes||[]})]},i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:a})];a.applyPropsWithCategories(s,o.get("xmlState"))},defaultStateGenerator(){return r('<skuid__tabPanel name="New Tab" />').append(r("<components/>"))}});this.registerChildBuilder(l);const s={};n.set("tabComponentMap",s);let d=function o(r,d){let c=n._GUID+"-tab-"+d,u=t('<li><a href="#'+c+'"><div class="nx-tab-icon"></div><span class="nx-tab-label">'+r.attr("name")+"</span></a></li>"),p=t("<div>").prop("id",c),f=r.attr("icon"),m=u.find(".nx-tab-icon");if(f){m.replaceWith(e.ui.createIcon(f,{additionalClass:"inline nx-tab-icon"}))}else{m.hide()}let h=i.componentFactory(r,l,false);s[c]=h;u.on("click.skuid",function(){s[c].cpi.select();e.events.publish("tabshow")});h.element.appendTo(p);a.append(u);n.tabsWrapper.append(p)};n.body.append(n.tabsWrapper);n.addActionItem("Add Tab",null,function(){let t=l.defaultStateGenerator(),i=n.get("xmlState").children("tabs"),a=e.utils.generateGUID();i.append(t);d(t,a);n.tabsWrapper.tabs("refresh");n.save()});n.tabsWrapper.tabs({event:"mouseup",beforeActivate(e,t){if(n.get("doNotSelectOnActivate"))return;setTimeout(function(){if(t.oldTab.index()!==-1){const e=s[t.newTab.attr("aria-controls")];e&&e.select()}e.stopPropagation()},0)}});let c="x";if(n.get("xmlState").attr("renderas")=="lefttabs"||n.get("xmlState").attr("renderas")=="righttabs"){c="y"}n.tabsWrapper.find(".ui-tabs-nav").sortableComponent({axis:c,component:n,parentStateSelector:"tabs"});n.get("xmlState").children("tabs").children().each(function(e){d(t(this),e)});n.tabsWrapper.tabs("refresh");n.tabsWrapper.tabs("option","active",0)},propertiesRenderer(e,t){e.setTitle("Tab Container Properties");const n=t.get("xmlState"),o=i.coreProps.uniqueIdProp({component:t}),r={id:"rememberActiveTab",label:"Remember Active Tab",helptext:"Return to most recently focused tab on page reload.",type:"boolean",onChange(){t.save()}};e.applyPropsWithCategories([{name:"Basic",props:[o,r]},a.getInkStylesTab({component:t,propViewer:e,spacing:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){let e=r("<skuid__tabContainer/>"),t=r("<tabs/>").appendTo(e);t.append(r('<skuid__tabPanel name="New Tab"/>').append(r("<components/>")));return e},cpi:{showTabByIndex(e){this.set("doNotSelectOnActivate",true);this.tabsWrapper.tabs("option","active",e);this.set("doNotSelectOnActivate",false)}}}))})(e)},666:function(t,n){const i=e.builder.core,a=e.utils,o=a.makeXMLDoc,r="skuid__tabPanel";const l=new i.Builder({id:r,componentType:r,name:"Tab",icon:"sk-webicon-ink:tab",hideWrapper:true,indexSelectors:{unsurfaced:"onShowActions, onInitialShowActions"},init(e){e.cpi.setCanvasComponent();e.addActionItem("Delete Tab","sk-webicon-ink:delete",()=>{e.cpi.remove();e.cpi.save();e.builderCPI.updateParent()})},parseState(e,t){const n=e.get("xmlState");return Object.assign({},t,{components:[{componentType:"skuidbuilder__componentAcceptor",componentsXML:n.children("components"),mode:e.cpi.getMode()}]})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Tab Properties");const n=t.builderCPI.updateParent;let a=[{id:"name",type:"string",label:"Tab Label",onChange:n},{id:"icon",type:"icon",label:"Icon",onChange:n},{type:"reorder",label:"Change Order",onChange(e){n();t.getParentComponent().get("parentBuilderComponent").builderCPI.showTabByIndex(e.index())}}];let o=[{id:"uniqueid",type:"string",label:"Tab panel Unique Id",helptext:"Optional parameter that allows this Tab's content panel to be reliably referenced via JavaScript, or set via a window.location.hash (e.g. apex/skuid__UI?page=AccountDetail#CasesTab)"}];let r=[{name:"Basic",props:a},{name:"Advanced",props:o},{name:"Actions",tree:[i.getActionsTree({customNodeId:"onInitialShowActions",label:"When First Shown",linkedComponent:t,actionsIndent:1,props:[{type:"helptext",html:'"When First Shown" Actions will be run only when a User selects this Tab for the first time.'}],additionalActionOptions:[...this.actionTypes||[]]}),i.getActionsTree({customNodeId:"onShowActions",label:"Whenever Rendered",linkedComponent:t,actionsIndent:1,props:[{type:"helptext",html:'"Whenever Rendered" Actions will be run every time a User selects this Tab.'}],additionalActionOptions:this.actionTypes||[]})]},i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e})];e.applyPropsWithCategories(r,t.get("xmlState"))},defaultStateGenerator(){return o('<skuid__tabPanel name="New Tab" />').append(o("<components/>"))},cpi:{updateParent(){this.getParentComponent().get("parentBuilderComponent").cpi.refresh()}}});if(e.platform.hasFeature("PageComposerStaging")){i.registerBuilder(l)}},667:function(t,n){(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__tabSet",name:"Tab Set",icon:"sk-webicon-ink:tabset",indexSelectors:{unsurfaced:"onShowActions, onInitialShowActions"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/tab-set/",n=o.getDescriptionTag(),i='The Tab Set component creates tabs on a page. You can add other components to the tabs inside the Tab Set.\n\t\t\t\t\tWhen there is not enough horizontal space to display all the tabs, they are grouped in a dropdown menu.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Tab Set component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},componentRenderer(n){n.setTitle(n.builder.name);n.tabsWrapper=t("<div>");let a=t("<ul>").appendTo(n.tabsWrapper);let l=this.registerChildBuilder(new i.Builder({id:"skuid__tabPanel",name:"Tab",icon:"sk-webicon-ink:tab",hideWrapper:true,addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(e){let t=e.acceptor=e.acceptor||new o.ComponentAcceptor(e.get("xmlState").children("components"),{mode:e.mode,parentComponent:e});e.body.append(t.element).css("min-height","30px");e.addActionItem({text:"Remove Tab",icon:"sk-webicon-ink:delete",additionalClass:"sk-delete-icon",action(){let t=e.element.parent(),i=a.children().eq(t.index()-1);e.remove();t.remove();i.remove();n.tabsWrapper.tabs("refresh")}})},propertiesRenderer(a,o){a.setTitle("Tab Properties");let r=[{id:"name",type:"string",label:"Tab Label",onChange(e){n.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]').children(".nx-tab-label").text(e)}},{id:"icon",type:"icon",label:"Icon",onChange(i){let a=n.tabsWrapper.children("ul").find('[href="#'+o.element.parent().prop("id")+'"]');let r=a.children(".nx-tab-icon");if(r.length){r.remove()}if(i){r=t(e.ui.createIcon(i,{additionalClass:"nx-tab-icon inline"}));a.prepend(r)}}}];let l=[{id:"uniqueid",type:"string",label:"Tab panel Unique Id",helptext:"Optional parameter that allows this Tab's content panel to be reliably referenced via JavaScript, or set via a window.location.hash (e.g. apex/skuid__UI?page=AccountDetail#CasesTab)"}];let s=[{name:"Basic",props:r},{name:"Advanced",props:l},{name:"Actions",tree:[i.getActionsTree({customNodeId:"onInitialShowActions",label:"When First Shown",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"When First Shown" Actions will be run only when a User selects this Tab for the first time.'}],additionalActionOptions:[...this.actionTypes||[]]}),i.getActionsTree({customNodeId:"onShowActions",label:"Whenever Rendered",linkedComponent:o,actionsIndent:1,props:[{type:"helptext",html:'"Whenever Rendered" Actions will be run every time a User selects this Tab.'}],additionalActionOptions:this.actionTypes||[]})]},i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:a})];a.applyPropsWithCategories(s,o.get("xmlState"))},defaultStateGenerator(){return r('<skuid__tabPanel name="New Tab" />').append(r("<components/>"))}}));const s={};n.set("tabComponentMap",s);let d=function o(r,d){let c=n._GUID+"-tab-"+d,u=t('<li><a href="#'+c+'"><div class="nx-tab-icon"></div><span class="nx-tab-label">'+r.attr("name")+"</span></a></li>"),p=t("<div>").prop("id",c),f=r.attr("icon"),m=u.find(".nx-tab-icon");if(f){m.replaceWith(e.ui.createIcon(f,{additionalClass:"inline nx-tab-icon"}))}else{m.hide()}let h=i.componentFactory(r,l,false);s[c]=h;u.on("click.skuid",function(){s[c].cpi.select();e.events.publish("tabshow")});h.element.appendTo(p);a.append(u);n.tabsWrapper.append(p)};n.body.append(n.tabsWrapper);n.addActionItem("Add Tab",null,function(){let t=l.defaultStateGenerator(),i=n.get("xmlState").children("tabs"),a=e.utils.generateGUID();i.append(t);d(t,a);n.tabsWrapper.tabs("refresh");n.save()});n.tabsWrapper.tabs({event:"mouseup",beforeActivate(e,t){if(n.get("doNotSelectOnActivate"))return;setTimeout(function(){if(t.oldTab.index()!==-1){const e=s[t.newTab.attr("aria-controls")];e&&e.select()}e.stopPropagation()},0)}});let c="x";if(n.get("xmlState").attr("renderas")=="lefttabs"||n.get("xmlState").attr("renderas")=="righttabs"){c="y"}n.tabsWrapper.find(".ui-tabs-nav").sortableComponent({axis:c,component:n,parentStateSelector:"tabs"});n.get("xmlState").children("tabs").children().each(function(e){d(t(this),e)});n.tabsWrapper.tabs("refresh");n.tabsWrapper.tabs("option","active",0)},propertiesRenderer(e,t){e.setTitle("Tab Set Properties");const n=t.get("xmlState"),o=i.coreProps.uniqueIdProp({component:t}),r={id:"rememberActiveTab",label:"Remember Active Tab",helptext:"Return to most recently focused tab on page reload.",type:"boolean",onChange(){t.save()}};e.applyPropsWithCategories([{name:"Basic",props:[o,r]},a.getInkStylesTab({component:t,propViewer:e,spacing:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){let e=r("<skuid__tabSet/>"),t=r("<tabs/>").appendTo(e);t.append(r('<skuid__tabPanel name="New Tab"/>').append(r("<components/>")));return e},cpi:{showTabByIndex(e){this.set("doNotSelectOnActivate",true);this.tabsWrapper.tabs("option","active",e);this.set("doNotSelectOnActivate",false)}}}))})(e)},668:function(t,n){(function(e){const t=e.builder,n=e.$,i=t.core,a=t.ink,o=e.builder.desktop,r=e.utils.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__layoutRegion",isGlobalComponent:false,makeDraggable:false,hideFromComponentsList:true,hideWrapper:true,componentRenderer(t){const a=t.get("xmlState"),r=a.attr("isFooter")==="true",l=r?"Footer":"Header",s=a.children("components").first();t.getCPI().addClass("nx-pagebuilder-".concat(l.toLowerCase(),"-component"));const d=t.get("acceptor")||new o.ComponentAcceptor(s,{subtleTitle:l,mode:t.mode,parentComponent:t}),c=t.get("xmlState").children("background"),u=n("<div>").appendTo(t.body).append(d.element);t.set("acceptor",d);const p=i.builderSafeBackgroundProperties,f="background-image",m=[],h={};if(c.attr("type")==="image"){if(!p||p&&p.indexOf(f)!==-1){const t=c.attr("source"),n=c.attr("datasource"),i=e.dataSource.get(n),a=i&&i.getImageSource(t);if(a&&a.getSrc){m.push(a.getSrc({context:{},mergeSettings:{},dataSource:a.dataSource,xmlDef:c,prefix:""}).then(function(e){if(e){h[f]="url("+e+")"}else{h[f]=""}},function(){h[f]=""}))}}}Promise.all(m).then(function(){u.css(Object.assign({},h,{},{"background-position":c.attr("position")||"center center","background-size":c.attr("size")||"auto","background-repeat":c.attr("repeat")||"no-repeat","background-attachment":c.attr("attachment")||"scroll"}))});if(c.attr("type")){t.body.css({"background-color":c.attr("color")})}else{t.body.removeAttr("style")}},propertiesRenderer(e,t){const n=t.get("xmlState"),o=n.attr("isFooter")==="true",r=o?"Footer":"Header",l=o?"bottom":"top";e.setTitle("Skuid ".concat(r," Properties"));e.applyPropsWithCategories([{name:"Basic",props:[i.coreProps.uniqueIdProp({component:t,onChange(){t.refresh()}}),{id:"sticky",label:"Sticky",type:"boolean",helptext:"If checked, this ".concat(r.toLowerCase(),' will "stick" to the ').concat(l," of the page"),onChange(e){if(!e){n.removeAttr("sticky");t.save()}}}]},a.getInkStylesTab({component:t,propViewer:e,styleVariants:false,spacing:true,background:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,propViewer:e})],n)},defaultStateGenerator(e={}){const t=r('<skuid__layoutRegion sticky="true"/>');if(e&&e.isFooter)t.attr("isFooter","true");t.append(r("<components/>"));return t}}))})(e)},68:function(e,t,n){"use strict";var i=n(0);const a=i["c"].utils.hasObjectProperty;class o{constructor(e,t){const n=e.context,a=n&&n.model,r=n&&n.row,l=e.datasource||e.dataSource||i["c"].platform.getDefaultDataSourceName(),s=i["c"].dataSource.get(l),d=s&&s.getImageSource(e.source),c=d&&(d.needsRecordContext||d.optionalRecordContext);let u=e.field,p,f;if(c){p=o.determineModel(e);f=t&&t.createConditionsFromXml(i["c"].$(t.xmlDefinition),n);if(d.needsFieldContext){u=e.field}}this.model=p;this.context=n;this.contextModel=a;this.contextRow=r;this.contextConditions=f;this.row=this.getRow();this.field=u;this.imageSource=d;this.state=e}static determineModel(e){let t=e.context;if(e.model){return typeof e.model==="object"?e.model:i["c"].$M(e.model)}if(t&&t.model){return t.model}return null}getRow(){const{model:e,context:t,contextModel:n,contextRow:i,contextConditions:a}=this;if(n){if(n===e){return i}return e&&e.getRows&&e.getRows(a,t)[0]}return e&&e.getFirstRow()}getImage(){const e=this.imageSource,t=this.state,n=this.field,a={model:this.model,row:this.getRow()};if(e&&e.getSrc){return e.getSrc({context:a,mergeSettings:{createFields:false},dataSource:e.dataSource,fileField:n,definition:t})}else{return i["c"].utils.reject()}}createModelSubscriptions(e,t){const{model:n,contextModel:o}=this,r=e.shortcut("get"),l=[];if(n){l.push(n)}if(o&&o!==n){l.push(o)}l.forEach(n=>{e.storeSubscription(n.subscribe("row.updated",e=>{const n=r("field"),o=this.getRow();let l,s,d;if(o&&e.row===o){if(n){d=e.modelId&&i["c"].$M(e.modelId);s=d&&d.getField(n);if(d&&d.isRelationshipField(n)){l=d.getReferenceFieldNameFromRelationshipField(n)}if(a(e.updates,n)||s.rel&&a(e.updates,s.rel)||l&&a(e.updates,l)){t()}}else{t()}}}));["row.created","loaded","saved","cancelled"].forEach(i=>e.storeSubscription(n.subscribe(i,()=>{const e=r("row"),n=this.getRow();if(e!==n){t()}})))})}}t["a"]=o},69:function(e,t,n){"use strict";n.d(t,"a",function(){return i});const i={xsmall:{label:"X-Small",size:2},small:{label:"Small",size:3},medium:{label:"Medium",size:4},large:{label:"Large",size:6},xlarge:{label:"X-Large",size:8}};var a={SIZES:i}},7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(35);var a=o(i);function o(e){return e&&e.__esModule?e:{default:e}}var r="";var l="";if(a["default"]){var s={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"};var d=document.createElement("p"),c=d.style;var u="Transform";for(var p in s){if(p+u in c){r=p;l=s[p];break}}if(r==="Webkit"&&"msHyphens"in c){r="ms";l=s.ms}}t["default"]={js:r,css:l}},70:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const i={right:"Right",left:"Left"};const a={auto:"Automatically",manual:"Manually"};const o={top:"Top",center:"Center",bottom:"Bottom",spaced:"Space Between"};const r={top:"flex-start",center:"center",bottom:"flex-end",spaced:"space-between"};t["b"]={ALIGNMENTS:r,BUTTON_POSITION:i,SET_MAX_WIDTH:a,VERTICAL_ALIGN:o}},71:function(t,n,i){"use strict";i.d(n,"a",function(){return a});class a{constructor(e){this.model=this.createModel(e.fields||[]);this.layout=e.getLayout(this);this.buttons=!e.overrideButtons&&this.createButtons(e);this.modal=this.createModal(e.modalOptions)}createModel(t){const n=new e.model.Model({id:"quick-config-model-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,updateable:true,fields:t.map(e=>o({id:e.id,displaytype:e.displaytype,picklistEntries:e.picklistEntries,defaultValue:e.defaultValue,controllingField:e.controllingField})),doClone:false,dataSourceName:"Ui-Only"}).initialize().register();n.createRow();return n}createButtons(e){return[{label:"Done",styleSettingsVariant:"primary",onClick:()=>{e.onSubmit&&e.onSubmit(this);this.modal.getCPI().close()}},{label:"Cancel",onClick:()=>{e.onCancel&&e.onCancel();this.modal.getCPI().close()}}]}createModal(t){return e.utils._floatingComponentFactory.createModal(Object.assign({uniqueId:a.makeQuickConfigUniqueId("modal")},t,{buttons:this.buttons||undefined,enforceActionables:true,hideCloseIcon:true,components:this.layout,onClose:()=>{this.model.unregister()}}))}getModel(){return this.model}getModal(){return this.modal}updateModal(e){const t=this.getModal();t.set(e)}static getModelPicklistEntries(){const t=[];e.builder.core.getAllModelsInPage().children().each(function(){const n=e.$(this).attr("id");t.push({value:n})});return t}static makeQuickConfigUniqueId(e){return"quick-config__".concat(e)}}const o=e=>{return Object.assign({createable:true,accessible:true,editable:true},e)}},735:function(t,n,i){"use strict";i.r(n);var a=i(284);var o=i(0);var r=i(151);o["c"].builder.ink.migrateComponent=(e=>r["a"].convert(e));var l=i(644);var s=i(645);var d=i(48);var c=i(646);const u=e.utils,p=e.builder,f=p.core,m=u.makeXMLDoc,h="skuidbuilder__componentAcceptor";const g=new f.Builder({id:"skuid__section",icon:"sk-webicon-ink:row",name:"Section",xmlTag:"section",hideWrapper:true,componentType:h,init(e){e.cpi.setCanvasComponent();e.addActionItem("Remove Section","sk-webicon-ink:delete",()=>{const t=e.builderCPI.getAccordionBuilderComponent();e.remove();t.cpi.save();t.cpi.refresh()})},parseState(e,t){return Object.assign({},t,{componentsXML:e.get("xmlState").children("components")})},refresh(e){e.cpi.updateCanvasComponent({},()=>{const t=e.builderCPI.getAccordionBuilderComponent();t.cpi.save();t.cpi.refresh()})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Section Properties");let n=t.get("xmlState"),i=t.builderCPI.getAccordionBuilderComponent(),a=i.get("xmlState"),o=a.attr("onePanelAtATime")!=="true"&&a.attr("sectionsInitiallyOpen")==="determined",r=[{id:"title",type:"template",location:"attribute",label:"Section Heading",onChange(){t.cpi.save();t.cpi.refresh()}},{type:"reorder",label:"Change Order",onChange(){i.cpi.save();i.cpi.refresh();t.cpi.rebuildProps()}}];o&&r.push({id:"openState",type:"picklist",label:"Initial State",helptext:'If "Determined by Open Conditions" is selected, define the conditions in the Display Logic tab.',picklistEntries:[{label:"Closed",value:"closed"},{label:"Open",value:"open"},{label:"Determined by Open Conditions",value:"conditional"}],onChange(){t.cpi.save();t.cpi.refresh();t.cpi.rebuildProps()}});e.applyPropsWithCategories([{name:"Basic",props:r},f.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showOpenConditions:o&&n.attr("openState")==="conditional"})],n)},defaultStateGenerator(e={}){return m('<section title="New Section" showHeading="'.concat(e.showHeading===false?"false":"true",'">\n\t\t\t\t<components/>\n\t\t\t</section>'))},cpi:{getAccordionBuilderComponent(){return this.getParentComponent().getParentComponent()}}});var b=g;const y=e.utils,v=e.builder,C=v.core,k=v.ink,S=v.desktop,w=y.makeXMLDoc,x=C.escapeMergeSyntax,I="skuid__accordion";const T=new C.Builder({id:I,name:"Accordion",icon:"sk-webicon-ink:summary",componentType:I,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/accordion/",n=S.getDescriptionTag(),i='The accordion is a layout component that can be used to group other components within expandable/collapsible sections, each of which can hold other Skuid components.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Accordion component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(e){const t=e.get("xmlState");e.cpi.setCanvasComponent();e.addActionItem("Add Section",null,()=>{const n=b.defaultStateGenerator();t.children("sections").first().append(n);e.refresh().save()});e.builderCPI.setSections()},parseState(e,t){t.sections.forEach(e=>{if(e.title)e.title=x(e.title);delete e.renderConditions;delete e.openConditions});return Object.assign({},t,{onePanelAtATime:false,sectionsInitiallyOpen:"all"})},refresh(e){e.cpi.updateCanvasComponent({},()=>{e.builderCPI.setSections()})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){const n=t.get("xmlState"),i="Accordion Properties",a=["large","xlarge","xxlarge"],o=n.attr("styleSettingsVariant"),r=n.attr("onePanelAtATime")!=="true",l=a.indexOf(o)>-1?"sk-webicon-ink:chevron-right":"sk-webicon-ink:chevron-small-right",s={id:"onePanelAtATime",type:"boolean",label:"One panel open at a time",onChange(){t.rebuildProps()}},d={id:"sectionsInitiallyOpen",type:"picklist",label:"Sections initially open",helptext:'When "Determine by section" is selected, each section is initially closed by default.',picklistEntries:[{label:"First section",value:""},{label:"All sections",value:"all"},{label:"Determine by section",value:"determined"},{label:"None",value:"none"}],onChange(){t.rebuildProps()}},c={id:"maxHeight",type:"csssize",label:r?"Open panel max height":"Accordion max height",helptext:r?"Optional max height to apply to each open panel.":"Optional max height to apply to the accordion."},u={id:"iconOnRight",type:"boolean",label:"Icons on Right",onChange(){t.refresh()}},p={id:"iconStyle",label:"Icon style",type:"picklist",helptext:"The single icon approach will run a CSS transition to rotate the icon."+" The separate icons approach will simply replace the icon.",picklistEntries:[{label:"One icon",value:""},{label:"Separate icons for open/close",value:"separate"}],onChange(e){if(e==="separate"){n.attr("icon","sk-webicon-ink:checkbox-indeterminate");n.attr("iconClose","sk-webicon-ink:add")}else{n.attr("icon",l);n.removeAttr("iconClose")}t.save().refresh().rebuildProps()}},f={id:"icon",type:"icon",label:"Icon",defaultValue:l,onChange(){t.refresh()}},m={id:"iconClose",type:"icon",label:"Icon",onChange(){t.refresh()}},h=[];e.setTitle(i);h.push(s,r&&d,c,u,p);if(n.attr("iconStyle")==="separate"){f.label="Icon when opened";m.label="Icon when closed";h.push(f,m)}else{h.push(f)}e.applyPropsWithCategories([{name:"Basic",props:h},{name:"Advanced",props:[C.coreProps.uniqueIdProp({component:t})]},k.getInkStylesTab({component:t,propViewer:e,spacing:true}),C.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){return w('<skuid__accordion>\n\t\t\t\t<sections>\n\t\t\t\t\t<section title="New Section">\n\t\t\t\t\t\t<components/>\n\t\t\t\t\t</section>\n\t\t\t\t</sections>\n\t\t\t</skuid__accordion>')},cpi:{getSectionBuilder(){return b},setSections(){const t=this.get("xmlState"),n=this.cpi.getCanvasComponent(),i=n.get("sections"),a=this.builderCPI.getSectionBuilder(),o=Array.from(t.children("sections")[0].children).map((t,o)=>Object.assign({},i[o],{show:true,openState:"open",onClick(e){e&&e.stopPropagation();this.components[0].cpi.select()},components:[{componentType:"skuidbuilder__builderComponent",_xmlNode:e.$(t),_customBuilder:a,_builderComponent:{},projector:n.get("projector")}]}));n.set("sections",o)}}});if(e.platform.hasFeature("PageComposerStaging")){T.registerChildBuilder(b);C.registerBuilder(T)}var A=i(647);var P=i(40);const _=P["a"].createStyleSheet({"subtle-title":{position:"absolute",fontSize:"6pt",textTransform:"uppercase",top:"-3px",background:"white",left:"13px",color:"#777",padding:"0 3px",zIndex:"1"},"surrounder-actions":{"&:before":{content:'""',position:"absolute",top:"-4px",right:"-4px",left:"-4px",bottom:"-4px",border:"1px dashed #DDD"}},"surrounder-actions--selected":{"&:before":{border:"1px solid #005CB9"}}});const F=_.attach().classes;function M(t){this.set({selectorExceptions:"*",__stashedBuilderList:[]});t.storeSubscription(e.events.subscribe("skuid.pageComposer.canvasComponent.selected",e=>{const n=e.get("xmlState")[0];const i=t.getState().optionGroups.reduce((e,t)=>e||t.options.reduce((e,t)=>e||t._&&t._.node===n,false),false);!i&&t.getCPI().toggle(false)}));const n=n=>{let i=t.get("__stashedBuilderList");const a=e.builder.core;n.forEach(n=>{n.options.forEach(n=>{const o="__stashedBuilder--"+n.optionId;let r=t.get(o);if(r||!n._)return;r=t.createChildComponent({componentType:"skuidbuilder__builderComponent",_makeDraggable:true,_xmlNode:e.$(n._.node),_customBuilder:new a.Builder({id:"skuid__button",icon:"sk-webicon-ink:button",name:"Button",hideWrapper:true,init(e){e.addActionItem("Remove","sk-webicon-ink:delete",()=>{e.remove();e._getCPI().save();e.getCPI().refresh()})},refresh(){},renderVDom(e){const t=e.get("createVNode");if(t)return t();return[]},propertiesRenderer(e,t){a.getBuilder("skuid__button").propertiesRenderer(e,t);e.setTitle("Menu Item Properties")}})});i.push(r);t.publish("builderStashed");t.set(o,r,{renderOnChange:false})})})};n(t.get("optionGroups"));t.subscribeChange("optionGroups",n);t.set("wrapWithBuilder",(e,n)=>{if(!t.get("enableBuilderCanvasMode"))return n();const i="__stashedBuilder--"+e;let a=t.get(i);if(a){a.set("createVNode",n,{renderOnChange:false});return a.renderVDom()}return n()})}const E=e.virtualDom.hyperScript;let N=e.builder,O=N.core,R=e.utils,D=R.makeXMLDoc,L="skuid__buttonGroup",B=e=>e.getAttribute("uniqueid")||e.getAttribute("uniqueId");e.componentType.get("skuid__menu").initBuilder=M;const V="action";const j=new O.Builder({id:"actions",name:"Actions",componentType:L,icon:"sk-webicon-ink:button-group",hideWrapper:true,hideFromComponentsList:true,isTransparent:true,alternateFramelessButtons:true,componentSpoofMap:{skuid__button:{builderId:"skuid__button",rootElementTag:"span",makeDraggable:true,filter:e=>!e.comboIcon,cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false}}},refresh(e){e.cpi.updateCanvasComponent()},init(t){const n=t.get("xmlState");let i;switch(n[0].tagName.toLowerCase()){case"massactions":i="Mass";break;case"rowactions":t.set("buttonsInMenus",true);i="Row";break;default:i="Global"}t.set("typeName",i);const a=t.cpi.setCanvasComponent();a.subscribe("builderRefresh",t.getCPI().refresh);const o=e=>{const n=a.get("menuInstance");if(!n)return;t.get("projector").renderNow();n.getCPI().toggle(true);const i=n.get("__stashedBuilderList");const o=i.find(t=>t.get("xmlState")[0]===e);if(!o)return;o.getCPI().select();t.get("projector").renderNow()};t.addActionItem("Add Action","sk-webicon-ink:add",function(){const i=D('<action uniqueId="'.concat(e.utils.generateUniqueId(),'" type="multi" label="Run actions"/>'));n.append(i);t.save().refresh();o(i[0])});t.cpi.createObserver({node:n[0],observe:{attributes:true,childList:true,subtree:true},callback:()=>{if(n.children(V).length<3)return;t.getCPI().refresh();const e=N.componentRegistry.getSelectedComponent().get("xmlState");if(!e.length||!n[0].contains(e[0]))return;if(e.index()===0){const e=n.find("action").eq(0),t=B(e[0]);const i=N.componentRegistry.getById(t);i&&i.getCPI().select()}else if(e.index()===1){const e=n.find("action").eq(1);o(e[0])}}});t.cpi.createObserver({node:n[0],observe:{childList:true},callback:()=>{if(n.children(V).length>=3)return;t.cpi.refresh();const e=N.componentRegistry.getSelectedComponent().get("xmlState"),i=N.componentRegistry.getById(B(e[0]));i&&i.select()}});const r=t.createChildComponent({componentType:"skuidbuilder__componentAcceptor",componentsXML:n,layout:"flex",acceptsBuilderIds:["skuid__button"],requiresGlobalComponent:false,xmlTransformer:t=>{if(t[0].tagName==="skuid__button"){return e.$(R.replaceElementTag(t[0],"action"))}return t}});a.set("componentAcceptor",r)},parseState(e,t){const{_componentDefinitionProcessor:n,canvasSchema:i}=e.getState();const a=e.get("xmlState");const o=D(e.get("xmlState")[0].outerHTML);const r=D("<skuid__buttonGroup/>");const l=D("<buttons/>").appendTo(r);o.children(V).each(function(){l.append(D("<skuid__button/>").attr({styleSettingsVariant:this.getAttribute("styleSettingsVariant")||undefined,label:this.getAttribute("label")||undefined,icon:this.getAttribute("icon")||undefined}))});const s=a[0].tagName.toLowerCase()==="rowactions"?"attached":"detached";t=Object.assign(n.parseXML(r[0],i),{displayType:o.children(V).length<3?s:"combo",closeMenuOnOptionSelect:false},t);t.buttons.forEach((e,t)=>{delete e.actions;delete e.renderConditions;e._=e._||{};e._.node=a.children(V)[t]});return t},renderVDom(e){const{canvasComponent:t,typeName:n}=e.getState();const i=e.getCPI().isSelected(),a=n==="Row";return E("div",{styles:!a&&{padding:"4px",border:"1px dashed ".concat(e.getCPI().isSelected()?"transparent":"#DDD")},classes:{[F["surrounder-actions"]]:a,[F["surrounder-actions--selected"]]:a&&i}},[E("div",{class:F["subtle-title"]},["".concat(n," Actions")]),t.renderVDom()])},defaultStateGenerator(){return D("<actions/>")}});if(e.platform.hasFeature("PageComposerStaging")){O.registerBuilder(j)}var G=i(41);const{AcceptanceCriteria:W}=e.builder.dragDrop,U=t=>e.builder.componentRegistry.getByState(t);const z=e.virtualDom.hyperScript;let q=e.builder,H=q.core,X=e.utils,Y=X.makeXMLDoc,$="skuid__buttonGroup",K=e.builder.dragDrop.DragManifest,J=e=>e==="menu"||e==="combo",Q=e=>e.getAttribute("uniqueid")||e.getAttribute("uniqueId");const Z=new H.Builder({id:$,name:"Button Group",icon:"sk-webicon-ink:button-group",componentType:$,hideWrapper:true,hideFromComponentsList:true,isTransparent:true,alternateFramelessButtons:true,copyable:false,componentSpoofMap:{skuid__button:{builderId:"skuid__button",rootElementTag:"span",makeDraggable:true,cache:true,filter:e=>!e.comboIcon,styles:{flex:"1"},cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false}}},refresh(e){e.cpi.updateCanvasComponent()},init(e){const t=e.get("xmlState"),n=t.attr("displayType"),i=e.cpi.setCanvasComponent(),a=e.builderCPI;i.subscribe("builderRefresh",e.cpi.refresh);e.addActionItem("Remove Group","sk-webicon-ink:delete",function(){e.get("xmlState").remove();e.save().refresh()});a.updateModel(e.get("lastModelName")||null);e.addActionItem("Add Button","sk-webicon-ink:add",function(){const i=q.getBuilder("skuid__button").getDefaultState();t.children("buttons").append(i);e.save().refresh();if(!J(n)||t.children("buttons").children().length===1)return;a.updateModel(e.get("lastModelName")||null);a.selectMenuItemByState(i[0])});e.cpi.createObserver({node:t.children("buttons")[0],observe:{attributes:true,attributeFilter:["displayType"]},callback:()=>{a.setupChildObservers()}});a.setupChildObservers()},parseState(t,n){n.closeMenuOnOptionSelect=false;if(!e.platform.hasFeature("PageComposerStaging")){n.displayType="detached"}n.buttons.forEach(e=>{delete e.actions;delete e.renderConditions;delete e.enableConditions});const i=t.cpi.getSpoofedDefinition();if(i){n.expandToFill=i.expandToFill}return n},renderVDom(e){const t=e.cpi.getCanvasComponent(),n=e.get("xmlState").attr("displayType")||"detached";return z("div",{key:e,styles:{padding:"4px",border:"1px dashed ".concat(e.getCPI().isSelected()?"transparent":"#DDD")}},[z("div",{key:"subtle title",class:F["subtle-title"]},["".concat(n," group")]),t.renderVDom()])},defaultStateGenerator(){return Y("<skuid__buttonGroup/>").append(Y("<buttons/>").append(q.getBuilder("skuid__button").getDefaultState()))},cpi:{updateModel(e){this.getCPI().setDragManifest(new K({builderId:$,model:e}));this.cpi.getCanvasComponent().getChildComponentsOfType("skuidbuilder__spoofer").forEach(t=>{t.get("builderComponent").builderCPI.updateDragManifest(e||null)});this.set("lastModelName",e);this.builderCPI.updateAcceptorFragment()},updateAcceptorFragment(){const t=this,n=t.get("xmlState"),i=n.parents("skuid__buttonSet").attr("model")||null,a=t.cpi.getCanvasComponent();a.set("acceptorFragment",q.dragDrop.createAcceptorFragment({parentComponent:a,inline:true,mode:t.cpi.getMode(),emptyStateEnabled:false,acceptanceCriteria:new W({acceptsBuilderIds:["skuid__button"],requiresModels:[i],requiresGlobalComponent:false}),xmlTransformer:t=>{if(t[0].tagName==="action"){return e.$(X.replaceElementTag(t[0],"skuid__button"))}return t},onDrop(e,n){const i=n.component;if(!i)return;const a=i.get("xmlState");const o=t.get("xmlState").children("buttons");const r=U(a.closest("skuid__buttonGroup")[0]);e=X.clamp(e,0,o.children().length);H.moveXmlToIndex(a,o,e);if(r&&r!==t)r.cpi.refresh();t.cpi.refresh();t.cpi.save();let l=t.getParentComponent();if(l&&l.type()==="skuidbuilder__spoofer"){l.clearVNodeCache()}}}))},setupChildObservers(){let t=this.get("childObserver");if(t){this.cpi.unstoreObserver(t);t.detach()}let n=this,i=this.get("xmlState"),a=i.attr("displayType"),o=(a==="combo"||a==="menu")&&e.platform.hasFeature("PageComposerStaging")?n.cpi.createObserver({node:i.children("buttons")[0],observe:{attributes:true,childList:true,subtree:true},callback:()=>{const e=q.componentRegistry.getSelectedComponent().get("xmlState");if(!e.length||!i.children("buttons")[0].contains(e[0]))return;if(e.index()===0){const e=i.find("buttons > skuid__button").eq(0),t=Q(e[0]);const n=q.componentRegistry.getById(t);n.getCPI().select()}else if(e.index()===1){const e=i.find("buttons > skuid__button").eq(1);n.builderCPI.selectMenuItemByState(e[0])}n.cpi.refresh()}}):n.cpi.createObserver({node:i.children("buttons")[0],observe:{childList:true},callback:()=>{n.cpi.refresh();n.builderCPI.updateModel(n.get("lastModelName")||null)}});n.set("childObserver",o)},selectMenuItemByState(e){const t=this.cpi.getCanvasComponent().get("menuInstance");t.getCPI().toggle(true);const n=t.get("__stashedBuilderList");const i=n.find(t=>t.get("xmlState")[0]===e);i.getCPI().select();this.get("projector").renderNow()}}});H.registerBuilder(Z);function ee(t){t.storeSubscription(e.events.subscribe("drag.started",e=>{const n=t.get("componentAcceptor");if(!n||!n.getCPI().canAccept(e))return;t.set("dropzoneReady",true)}));t.storeSubscription(e.events.subscribe("drag.ended",()=>{t.set("dropzoneReady",false)}))}const{AcceptanceCriteria:te}=e.builder.dragDrop,ne=t=>e.builder.componentRegistry.getByState(t);const ie=e.virtualDom.hyperScript;(function(e){let t=e.builder,n=t.core,i=t.ink,a=n.getBuilder("skuid__buttonGroup"),o=t.desktop,r=e.utils,l=r.makeXMLDoc,s=e.events,d="skuid__buttonSet",c=e.componentType.get(d);c.initBuilder=ee;n.registerBuilder(new n.Builder({id:d,name:"Button Set",icon:"sk-webicon-ink:button-set",componentType:d,parseState:true,hideWrapper(e){if(e.get("xmlState").parent("skuid__header").length){return true}return false},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/button-set/",n=o.getDescriptionTag(),i="The Button component can hold one or more buttons, each of which can be used to invoke Skuid's Action Framework.\n\t\t\t\t\tThis component can also be attached to a specific model, allowing for save, cancel, clone, and other interactions to occur on model data.\n\t\t\t\t\tUse this component to create and position buttons for your user processes.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href=\"".concat(t,'">Button Set component topic</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},handleStateEvent(e,t,i){n.handleModelRemove(e,t,{component:i});n.handleModelIdChange(e,t)},refresh(e){e.cpi.updateCanvasComponent()},propertiesRenderer(e,t){let a=t.get("xmlState"),o="Button Set Properties",r=()=>t.refresh();e.setTitle(o);let l=[{id:"model",type:"model",label:"Model",required:false,onChange(){t.updateAutoCreatedEditorCondition()}},{id:"position",type:"picklist",label:"Position",helptext:"The alignment of the buttons. Defaults to Right.",picklistEntries:[{label:"Right",value:""},{label:"Left",value:"left"},{label:"Center",value:"center"}],required:true,onChange:r},{id:"expandToFill",type:"boolean",label:"Expand to fill",onChange:r}];e.applyPropsWithCategories([{name:"Basic",props:l},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:t})]},i.getInkStylesTab({component:t,propViewer:e,spacing:true}),n.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),n.getContextCategory({propViewer:e,state:a,model:a.attr("model")})],a)},init(e){const t=e.get("xmlState");e.addActionItem("Add Button Group",null,function(){let n=a.defaultStateGenerator();t.children("groups").first().append(n);e.save();s.publish("builder.colorcheck");e.scheduleVirtualRender();e.builderCPI.updateModel(e.get("lastModelName")||null)});e.cpi.setCanvasComponent();e.builderCPI.updateAcceptorFragment();e.cpi.createObserver({node:t.children("groups")[0],observe:{childList:true},callback:()=>{e.builderCPI.updateModel(e.get("lastModelName")||null);e.cpi.refresh()}});e.cpi.createObserver({node:t[0],observe:{attributes:true,attributeFilter:["model"]},callback:()=>{e.builderCPI.updateModel(t.attr("model")||null);e.cpi.refresh()}});let n;const i=t.parents("skuid__header").last();if(i.length)n=i.attr("model")||null;else n=t.attr("model")||null;e.builderCPI.updateModel(n)},renderVDom(e){const{canvasComponent:t}=e.getState();return ie("div",[t.renderVDom()])},defaultStateGenerator(){let e=n.getLastSelectedModelComponent(),t=e&&e.get("xmlState")?e.get("xmlState").attr("id"):null;return l("<skuid__buttonSet/>").attr("model",t).append(l("<groups/>").append(a.defaultStateGenerator()))},componentSpoofMap:{skuid__buttonGroup:{builderId:"skuid__buttonGroup",makeDraggable:true,cache:true,filter:()=>true,cpiSpoofers:{isRenderable:()=>true}}},cpi:{updateModel(e){this.cpi.getCanvasComponent().getChildComponentsOfType("skuidbuilder__spoofer").forEach(t=>{t.get("builderComponent").builderCPI.updateModel(e||null)});this.set("lastModelName",e);this.builderCPI.updateAcceptorFragment()},updateAcceptorFragment(){const e=this,i=e.get("xmlState"),a=i.attr("model")||null,o=e.cpi.getCanvasComponent();o.set("acceptorFragment",t.dragDrop.createAcceptorFragment({parentComponent:o,inline:true,mode:e.cpi.getMode(),emptyStateEnabled:false,acceptanceCriteria:new te({acceptsBuilderIds:["skuid__buttonGroup"],requiresModels:[a],requiresGlobalComponent:false}),onDrop(t,i){const a=i.component;if(!a)return;const o=a.get("xmlState");const l=e.get("xmlState").children("groups");const s=ne(o.closest("skuid__buttonSet")[0]);t=r.clamp(t,0,l.children().length);n.moveXmlToIndex(o,l,t);if(s&&s!==e)s.cpi.refresh();e.cpi.refresh();e.cpi.save()}}))}}}))})(e);var ae=i(38);let oe=e.builder,re=oe.core,le=e.$,se=e.utils,de=se.makeXMLDoc,ce=e.visualizations=e.visualizations?e.visualizations:{},ue=ce.core=ce.core?ce.core:{};ue.getModelFieldsOptions=function(e,t){let n=re.getModelFromModelName(e),i=n.children("fields,groupby").children(),a=[],o=t||{};if(o.includeNone===true){a.push({label:"-- None --",value:""})}if(i){le.each(i,function(){let e=le(this),t=e.attr("id"),n=e.attr("name");a.push({label:n||t,value:n||t,fieldId:t})})}return a};ue.getHeightTree=function(e){let t=e.component;return{label:"Height",deleteable:false,linkedComponent:t,summaryFunction(t){return t.attr("height")||e.defaultSummary||"-- Default --"},propsFunction(n){return[{id:"height",type:"csssize",label:e.label||"Height",onChange(){n.refresh();t.refresh()}}]}}};ue.getLegendTree=function(t){let n=t.component,i=t.metadata||{};return{label:"Legend",deleteable:false,linkedComponent:n,state:n.get("xmlState").children("legend:first"),defaultStateFunction(){return de(t.defaultState||'<legend layout="horizontal" halign="center" valign="bottom"/>')},summaryFunction(n){let i=t.defaultSummary||"-- Default --",a=n.attr("layout")||"(default)",o=n.attr("halign")||"(default)",r=n.attr("valign")||"(default)",l="",s=e.utils.capitalizeFirst;if(a){l=s(a);if((o||r)&&a!=="off"){l+=" | "}}if(a!=="off"){if(o){l+=s(o);if(r){l+=" | "}}if(r){l+=s(r)}}return l!==""&&l||i},propsFunction(e){let a=function t(){e.refresh();n.refresh()},o=[{id:"layout",type:"picklist",label:"Layout",helptext:"The layout of the legend items.",picklistEntries:[{label:t.defaultSummary||"-- Default --",value:""},{label:"Horizontal",value:"horizontal"},{label:"Vertical",value:"vertical"},{label:"Off",value:"off"}],onChange(t){let n=e.get("xmlState"),i=n.attr("halign"),o=n.attr("valign");if(t==="horizontal"){if(i!=="center"){re.updateState(n,{key:"halign",value:"center"})}if(o!=="top"&&o!=="bottom"){re.updateState(n,{key:"valign",value:"bottom"})}}else if(t==="vertical"&&i!=="left"&&i!=="right"){re.updateState(n,{key:"halign",value:"left"})}e.rebuildProps();a()}}];if(e.get("xmlState").attr("layout")!=="off"){o.push({id:"halign",type:"picklist",label:"Horizontal Alignment",helptext:"The horizontal alignment of the legend box",picklistEntries:[{label:t.defaultSummary||"-- Default --",value:""},{label:"Center",value:"center"},{label:"Left",value:"left"},{label:"Right",value:"right"}],onChange(t){let n=e.get("xmlState"),i=n.attr("layout"),o=n.attr("valign");if((t==="left"||t==="right")&&i!=="vertical"){re.updateState(n,{key:"layout",value:"vertical"})}else if(t==="center"){if(i!=="horizontal"){re.updateState(n,{key:"layout",value:"horizontal"})}if(o!=="top"&&o!=="bottom"){re.updateState(n,{key:"valign",value:"bottom"})}}e.rebuildProps();a()}},{id:"valign",type:"picklist",label:"Vertical Alignment",helptext:"The vertical alignment of the legend box.",picklistEntries:[{label:t.defaultSummary||"-- Default --",value:""},{label:"Bottom",value:"bottom"},{label:"Middle",value:"middle"},{label:"Top",value:"top"}],onChange(t){let n=e.get("xmlState"),i=n.attr("layout"),o=n.attr("halign");if(t==="middle"){let e=false;if(o==="center"){re.updateState(n,{key:"halign",value:"left"});e=true}if(i==="horizontal"||e===true){re.updateState(n,{key:"layout",value:"vertical"})}}e.rebuildProps();a()}})}if(i.hasDataLabels){o.push({id:"showlabels",type:"picklist",label:"Display Data Labels",location:"attribute",picklistEntries:[{label:t.defaultSummary||"-- Default --",value:""},{label:"On",value:"true"},{label:"Off",value:"false"}],onChange:a})}return o}}};ue.getBordersTree=function(t){let n=t.component;return{id:"borders",label:"Borders",deleteable:false,linkedComponent:n,summaryFunction(e){let n=le("<span>").text(t.defaultSummary||"-- Default --"),i="",a=e.attr("bordercolor"),o=e.attr("borderwidth"),r=e.attr("borderstyle");if(o){i=o}if(r){if(i!==""){i+=" | "}i+=r}if(i!==""){n.html(i)}if(a){n.prepend(ue.getColorPreview(a))}return n},propsFunction(t){let i=()=>{n.refresh();t.refresh()};return[{type:"helptext",html:"Options for styling the border around the Chart"},{id:"bordercolor",label:"Color",type:"string",onChange(e){i(e,"bordercolor")}},{id:"borderwidth",label:"Width",type:"string",validator:e.builder.core.validators.numericOnly,onChange(e){i(e,"borderwidth")}},{id:"borderradius",label:"Radius",type:"string",validator:e.builder.core.validators.numericOnly,onChange(e){i(e,"borderradius")}}]}}};ue.getColorPreview=function(e){return le("<div>").css({display:"inline-block",height:"12px",width:"12px",border:"1px solid black",background:e,"vertical-align":"middle","margin-right":"8px"})};ue.buildColorGenerator=function(t,n){let i=t.get("xmlState"),a=i.children("colors"),o,r=le("<div>").addClass("sk-icon sk-bi-color-picker").css({position:"absolute",top:"1px",right:"4px"}).skootip("Generate Colors");n=le.extend({colorCount:14},n);r.click(function(){if(!o){o=le("<div>");let i=["red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange"];let r={red:{label:"Red",50:"#fde0dc",100:"#f9bdbb",200:"#f69988",300:"#f36c60",400:"#e84e40",500:"#e51c23",600:"#dd191d",700:"#d01716",800:"#c41411",900:"#b0120a",a100:"#ff7997",a200:"#ff5177",a400:"#ff2d6f",a700:"#e00032"},pink:{label:"Pink",50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{label:"Purple",50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},deepPurple:{label:"Deep Purple",50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{label:"Indigo",50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{label:"Blue",50:"#e7e9fd",100:"#d0d9ff",200:"#afbfff",300:"#91a7ff",400:"#738ffe",500:"#5677fc",600:"#4e6cef",700:"#455ede",800:"#3b50ce",900:"#2a36b1",a100:"#a6baff",a200:"#6889ff",a400:"#4d73ff",a700:"#4d69ff"},lightBlue:{label:"Light Blue",50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{label:"Cyan",50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{label:"Teal",50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{label:"Green",50:"#d0f8ce",100:"#a3e9a4",200:"#72d572",300:"#42bd41",400:"#2baf2b",500:"#259b24",600:"#0a8f08",700:"#0a7e07",800:"#056f00",900:"#0d5302",a100:"#a2f78d",a200:"#5af158",a400:"#14e715",a700:"#12c700"},lightGreen:{label:"Light Green",50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{label:"Lime",50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{label:"Yellow",50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{label:"Amber",50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{label:"Orange",50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},deepOrange:{label:"Deep Orange",50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown:{label:"Brown",50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{label:"Grey",50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",1000:"#ffffff"},blueGrey:{label:"Blue Grey",50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"}};let l="indigo";let s=n.variance||"3";let d=Object(ae["a"])("PICKLIST").edit({required:true,value:l,entries:i.map(function(e){return{value:e,label:r[e].label}}),onChange(e){l=e;m()}});let c=Object(ae["a"])("PICKLIST").edit({required:true,value:s,entries:[{value:"0",label:"Monochromatic"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"Full Spectrum"}],onChange(e){s=e;m()}});let u=le("<div>");let p=function e(t,a,o,l){let s=le.inArray(t,i);if(s===-1)return false;a=a||0;o=o||0;l=l||2;let d=[];let c;for(let e=0;e<n.colorCount;e++){c=e*o;let t=(c%7+l)*100;if(t>900)t=900;let n=(s+(e%(a+1)-Math.floor(a/2))+i.length)%i.length;let u=i[n];d.push(r[u][t])}return d};let f=function e(){return p(l,parseInt(s,10),1)};let m=function e(){u.empty().append(h(f()))};let h=function e(t){let n=le("<div>");le.each(t,function(){let e=le("<div>").css({display:"inline-block",width:"18px",height:"18px",margin:"2px"}).prop("title",this).css("background-color",this);n.append(e)});return n};m();o.append(d);if(!n.variance){o.append(c)}o.append(u);o.dialog({appendTo:e.builder.pagebuilderui,width:400,height:200,title:"Generate a color swatch",resizable:true,modal:true,closeText:"",buttons:[{text:"Apply",click(){a.empty();le.each(f(),function(){let t=e.utils.makeXMLDoc("<value>"+this+"</value>");a.append(t)});t.save().refresh().rebuildProps();o.dialog("close")}},{text:"Cancel",click(){o.dialog("close")}}]})}else{o.dialog("open")}});return r};ue.getAdvancedProps=function(e){let t=e.component,n=t.builder&&t.builder.name||"Chart";return{name:"Advanced",props:[re.coreProps.uniqueIdProp({component:t}),{id:"rendersnippet",label:"Before Render Snippet",type:"snippet",helptext:"This snippet is run immediately before the "+n+" is drawn. Use this to set advanced options not available in the Page Composer. The Snippet gets handed the "+n+" config object as its only argument."},{id:"export",label:"Exporting",type:"picklist",picklistEntries:[{label:"-- "+n+" default --",value:""},{label:"Server-side",value:"server"},{label:"Client-side",value:"client"},{label:"Disabled",value:"off"}],onChange(){t.refresh()}}]}};ue.getSeriesOnClickActionsTree=function(e){let t=e.seriesComponent,n=e.component,i=n.builder&&n.builder.id,a=e.seriesObj,o=re.getBuilder(i).actionTypes.series(n);return[re.getActionTreeNode({linkedComponent:n,getModelName:()=>t.get("xmlState").attr("modelId")||n.get("xmlState").attr("model"),additionalActionOptions:o,treeNode:{invisibleParent:"actions",invisibleParentLabel:"On Click Actions",indent:(a.indent||0)+1,addtooltip:"Add On Click Action",deletetooltip:"Remove On Click Action",defaultStateFunction(){let e="drilldown",n="mapDrillIn",i=le.grep(o,function(t){return t.value===e}).length>0,a=le.grep(o,function(e){return e.value===n}).length>0,r=o&&o.length>0&&t.get("xmlState").children("actions").children('action[type="'+e+'"],action[type="'+n+'"]').length>0,l="showModal",s=de('<action type="closeAllPopups"/>');if(r===true)s.attr("type",l);else if(i===true)s.attr("type",e);else if(a===true)s.attr("type",n);if(r===false)re.getDefaultConditions({state:s,isMultiRow:true});return s}}})]};ue.getSeriesActions=function(e,t){t=t||{};let n=t.indent||2,i=[],a=e.chartSet,o=a&&a.charts;if(o&&o.length){i.push({value:"drilldown",label:"Drilldown",propsFunction(){let t=le.map(o,function(t,n){let i=le(t.get("xmlState")).attr("uniqueid");if(i!==e.get("xmlState").attr("uniqueid")){return{label:"Chart "+(n+1),value:i}}});return[{id:"chartid",type:"picklist",label:"Drilldown Chart",picklistEntries:t}]},childrenFunction(){return[{invisibleParent:"conditions",invisibleParentLabel:"Context Conditions",indent:n,icon:"sk-bi-condition",addicon:"sk-bi-condition",addtooltip:"Add Context Condition",deletetooltip:"Remove Context Condition",propsFunction(t){let n=[],i=t.get("xmlState").closest("series"),o=i.attr("modelId")||e.get("xmlState").attr("model"),r=t.get("xmlState").closest("action"),l=a.builderCPI.getChartByID(r.attr("chartid")),s=l&&l.get("xmlState").attr("model");n.push({id:"field",type:"field",label:"Field",helptext:"The field on the drilldown Chart's Model that will be checked against a field on the row in context.",modelname:s},{id:"mergefield",type:"field",label:"Merge Field",helptext:"The field on the row in context that will be checked against a field on this Series's Model.",modelname:o},re.getConditionOperatorPropObj(t,{fieldMetadata:re.getMetadataForField(t,{modelName:s})}));return n},labelFunction(e){let t=e.attr("field")||"Id",n=re.operatormap[e.attr("operator")||""].name,i=e.attr("mergefield")||"Id";return t+" of record(s)"+" "+n+" "+i+" of rows in context."},defaultStateFunction(){return de('<condition type="contextrows" field="Id" mergefield="Id" operator="in" autocreated="true"/>')}}]}})}return i};ue.makeChartSet=function(e,t){let n=e.get("xmlState"),i=n.clone(),a=re.getBuilder("skuid__chartSet").getDefaultState(),o=a.children("charts").first();o.append(i,re.getBuilder(t).getDefaultState(undefined,{setUniqueId:true}));n.replaceWith(a);return a};ue.addDrilldownActionGroup=function(t){let n=function n(i,a,o){return{text:i,icon:a,action(){let n=ue.makeChartSet(t,o),i=re.componentFactoryWithCache(n,re.getBuilder("skuid__chartSet"),{makeDraggable:true,isGlobalComponent:true});t.element&&t.element.replaceWith(i.element);i.select();e.events.publish("ui.reflow");t.remove()}}};t.addActionGroup([n("Chart","sk-bi-fields-agg","skuid__chart"),n("Geochart","sk-icon-world","skuid__geochart")],"Add Drilldown","sk-icon-add")};let pe=e.$,fe=e.builder,me=fe.core,he=e.utils,ge=he.makeXMLDoc,be=e.visualizations,ye=be.core,ve=be.chart;const Ce=function e(t){let n={id:t.id,label:t.title||"Title",type:"template",location:"attribute",displayAs:"input"};if(t.onChange)n.onChange=t.onChange;if(t.helptext)n.helptext=t.helptext;if(t.modelName)n.modelName=t.modelName;return n};const ke={line:{options:[ve.types.line,ve.types.spline,ve.types.area,ve.types.areaspline,ve.types.column,ve.types.bar]},pie:{options:[ve.types.pie,ve.types.donut,ve.types.funnel,ve.types.pyramid]},scatter:{options:[ve.types.scatter,ve.types.bubble]}};const Se=function e(t){let n=[{id:"model",type:"model",label:"Model",required:true},Ce({id:"maintitle",onChange(){t.cpi.refresh()}}),Ce({id:"subtitle",title:"Subtitle",onChange(){t.cpi.refresh()}})],i;if(he.isMultiCurrencyOrganization){i={id:"useorgcurrency",label:"Use default currency of Org rather than User.",type:"boolean",defaultValue:"false"};n.push(i)}return n};const we=function e(t,n,i){let a=me.validators.uniqueAttribute(t,n,{description:"Axis",attributeDescription:"ID",nodeList:i.get("xmlState").find("axis")});if(a===true){return me.validators.alphaNumericUnder(t,{description:"Axis IDs"})}return a};const xe=function t(n){if(!n)n={};const i=function e(){a.cpi.refresh()};let a=n.component,o=[],r=a.get("xmlState"),l=ve.types[r.attr("type")].metadata,s=function e(t){let n=t.attr("type"),i=t.attr("id"),a=t.attr("title"),o=t.attr("flip")==="true",r="";if(a){r+=a;if(i){r+=" ("+i+")"}}else if(i){r+=i}if(n||o){r+=" | ";if(n){r+=n+(o?", ":"")}if(o){r+="flipped"}}return r},d={id:"dataaxes",label:"Data Axes",deleteable:false,icon:"sk-webicon-ink:share",isChild:true,linkedComponent:a,propsFunction(){return[{type:"helptext",html:'Declare one or more "Data Axes" for the chart. Think of a data axis like a "Y Axis" on a chart.'}]},children:[{id:"axis",indent:0,labelFunction(e){return s(e)},defaultStateFunction(){let e=a.get("xmlState").children("dataaxes").children("axis").length+1||1;return ge('<axis id="axis'+e+'"/>')},propsFunction(t){let n=[],o=a.get("xmlState"),r=function(){let e=[],t=ve.types[o.attr("type")].metadata;if(t.hasXY===true){e.push({label:"X Axis",value:"xaxis"},{label:"Y Axis",value:"yaxis"})}return e}(),l={id:"type",type:"picklist",location:"attribute",label:"Type",required:true,helptext:'"Data" Axes correspond to the "Y" Axis of the chart. "Category" Axes correspond to the "X" Axis of the chart.',defaultValue:r.length&&r[0].value,picklistEntries:r,onChange(){i();t.cpi.refresh()}},s={id:"id",type:"string",location:"attribute",label:"ID",required:true,validator(e){return we(e,t,a)},onChange(e,n){i();t.cpi.refresh();me.publishStateEvent({type:"chart.dataAxes.idChange",component:a,oldId:n,newId:e})}},d={id:"title",type:"string",location:"attribute",label:"Title",onChange:i};n=[s,d];if(r.length){n.push(l)}n.push({id:"flip",label:"Flipped",type:"boolean",helptext:'"Flip" this axis to the opposite side of the chart (e.g. if the chart default is on the left side, this axis will be displayed on the right side)',onChange:i},{id:"integersonly",label:"Integers Only",type:"boolean",helptext:"If checked, this axis will only display Integer values",onChange:i},{id:"minvalue",label:"Min Value",type:"string",validator:e.builder.core.validators.numericOnly,onChange:i},{id:"maxvalue",label:"Max Value",type:"string",validator:e.builder.core.validators.numericOnly,onChange:i});return n}}]},c={id:"categoryaxes",label:"Category Axes",deleteable:false,icon:"sk-webicon-ink:models",isChild:true,linkedComponent:a,propsFunction(){return[{type:"helptext",html:'Declare one or more "Category Axes" for the chart. Think of a category axis like an "X Axis" on a chart.'}]},children:[{id:"axis",indent:0,labelFunction(e){return s(e)},defaultStateFunction(){let e=a.get("xmlState").children("categoryaxes").children("axis").length+1||1;return ge('<axis id="axis'+e+'"/>')},propsFunction(e){let t=[],n=a.get("xmlState"),o=n.attr("model"),r=ye.getModelFieldsOptions(o),l=pe.map(ye.DATE_GRANULARITIES,function(e){return e}),s={id:"id",type:"string",location:"attribute",label:"ID",required:true,validator(t){return we(t,e,a)},onChange(t,n){e.cpi.refresh();i();me.publishStateEvent({type:"chart.categoryAxes.idChange",component:a,oldId:n,newId:t})}},d={id:"title",type:"string",location:"attribute",label:"Title",onChange(){i();e.cpi.refresh()}},c={id:"flip",type:"boolean",label:"Flipped",helptext:'"Flip" this axis to the opposite side of the chart (e.g. if the chart default is on the left side, this axis will be displayed on the right side)',onChange:i},u={id:"categorytype",label:"Category Type",type:"picklist",defaultValue:"field",picklistEntries:[{label:"Field",value:"field"},{label:"Template",value:"template"}],onChange(){i();e.cpi.refresh().rebuildProps()}},p={id:"field",type:"picklist",label:"Category Field",defaultValue:r.length&&r[0].value,picklistEntries:r,onChange(){i();e.cpi.refresh().rebuildProps()}},f=Ce({id:"template",title:"Category Template",helptext:"Optional template, allows for custom category names and handling of blank values in category data",onChange(){i(),e.cpi.refresh()}}),m={id:"dategranularity",type:"picklist",label:"Default Date Granularity",defaultValue:l.length&&l[0].value,picklistEntries:l,onChange:i},h={id:"allowedgranularities",location:"node",type:"multipicklist",storeAs:{type:"node",name:"type"},label:"Additional Granularities",helptext:"If additional date granularities are specified here, the user will be able to dynamically change the date granularity at runtime.",picklistEntries:l,noneSelectedText:"Select Granularities...",onChange:i},g={id:"fillvals",type:"picklist",label:"Fill in values",picklistEntries:[{value:"",label:"Skip Missing Dates"},{value:"true",label:"Fill in Gaps"},{value:"week",label:"Fill in Entire Week"},{value:"month",label:"Fill in Entire Month"},{value:"year",label:"Fill in Entire Year"}],helptext:"Automatically fill in gaps in Category values (e.g. if a month is skipped in the model data, create a category entry anyway)",onChange:i};t=[s,d,u];let b,y;switch(e.get("xmlState").attr("categorytype")){case"field":t.push(p);b=e.get("xmlState").attr("field")||r&&r[0]&&r[0].fieldId,y=b&&me.getFieldInfoFromCache(o,b);if(y&&(y.displaytype==="DATE"||y.displaytype==="DATETIME")){let n=e.get("xmlState").attr("fillvals");if(n===undefined){e.get("xmlState").attr("fillvals","true");e.save()}t.push(g,m,h)}break;case"template":t.push(f);break}t.push(c);return t}}]};o.push(d);if(l.hasCategories===true){o.push(c)}return o};const Ie=function e(t){let n=ve.types[t.get("xmlState").attr("type")].metadata,i=function e(n,i,a){a.cpi.refresh();t.cpi.refresh()},a=[{label:"-- Chart Default --",value:""},{label:"On",value:"true"},{label:"Off",value:"false"}],o={label:"Stacking",deleteable:false,linkedComponent:t,summaryFunction(e){let t=e.attr("stacking")||"";return pe.map(a,function(e){if(e.value===t){return e.label}})},propsFunction(e){return[{id:"stacking",type:"picklist",label:"Stack Series",helptext:"If checked, stackable chart types will be stacked.",picklistEntries:a,onChange(){i(e)}}]}},r=[ye.getHeightTree({component:t,defaultSummary:"-- Chart Default --",label:"Chart Height"})];if(n.isStackable===true){r.push(o)}if(n.hasLegend===true){r.push(ye.getLegendTree({component:t,defaultSummary:"-- Chart Default --",metadata:n}))}let l=[{label:"-- Chart Default --",value:""},{label:"On",value:"true"},{label:"Off",value:"false"}],s={label:"Data Labels",deleteable:false,linkedComponent:t,state:t.get("xmlState").children("legend:first"),summaryFunction(e){let t=e.attr("showlabels")||"";return pe.map(l,function(e){if(e.value===t){return e.label}})},propsFunction(e){return[{id:"showlabels",type:"picklist",label:"Display Data Labels",location:"attribute",picklistEntries:l,onChange(){i(e)}}]}};r.push(s);return r};const Te=function e(t){let n=t.seriesComponent,i=t.component,a=n.get("xmlState"),o=i.get("xmlState"),r=o.attr("type"),l=a.attr("modelId")||o.attr("model"),s=ye.getModelFieldsOptions(l),d=ve.types[r].metadata,c=function e(){i.cpi.refresh();n.cpi.refresh()},u=[{label:"-- Chart default --",value:""}],p=pe.merge([{label:"-- Chart default --",value:""}],s),f=pe.map(ye.AGG_FUNCTIONS,function(e){return e}),m=pe.merge([{label:"-- None --",value:""}],f),h=o.children("dataaxes"),g=o.children("categoryaxes"),b=function e(t){let n={id:t.id,type:"picklist",label:t.label,picklistEntries:t.entries,onChange:c};if(t.helptext){n.helptext=t.helptext}return n},y=function e(t){let n={id:t.id,type:"picklist",label:t.label,picklistEntries:t.entries,onChange:c};if(t.helptext){n.helptext=t.helptext}return n},v={id:"modelId",type:"model",label:"Model",noneOption:{label:"-- Chart default --",value:""},onChange(){c();n.rebuildProps()}},C={id:"splittype",label:"Split Type",type:"picklist",defaultValue:"none",picklistEntries:[{label:"None",value:"none"},{label:"Field",value:"field"},{label:"Template",value:"template"}],onChange(){c();n.rebuildProps()}},k={id:"splitfield",type:"picklist",label:"Split Field",helptext:"Optionally split this series into multiple series by a model field",picklistEntries:s,onChange:c},S=Ce({id:"splittemplate",title:"Split Template",helptext:"Optional template, allows for custom names for chart Series and for splitting data into multiple series",onChange:c,modelName:l}),w=b({id:"aggfunction",label:"Aggregate Function",entries:m}),x=y({id:"valuefield",label:"Data Field",entries:s}),I={id:"categoryField",type:"picklist",label:"Category Field",picklistEntries:p,onChange(){n.cpi.refresh().rebuildProps()}},T=b({id:"xaggfunction",label:"X Aggregate Function",entries:m}),A=y({id:"xvaluefield",label:"X Data Field",entries:s}),P=b({id:"yaggfunction",label:"Y Aggregate Function",entries:m}),_=y({id:"yvaluefield",label:"Y Data Field",entries:s}),F=b({id:"sizeaggfunction",label:"Size Aggregate Function",entries:m}),M=y({id:"sizefield",label:"Size Field",entries:s});pe.each(ke[ve.types[r].category].options,function(){u.push(this)});let E=[],N={id:"type",type:"picklist",label:"Type",picklistEntries:u,onChange(){n.cpi.refresh()}},O={line:[w,x,C],pie:[w,x,C],scatter:[C]},R=function e(t,n){let i=t.children("axis"),a=[];pe.each(i,function(){let e=pe(this),t=e.attr("id"),i=e.attr("title")||t;if(!n.type||n.type===e.attr("type")){a.push({value:t,label:i})}});if(a.length>1){return{id:n.id,type:"picklist",label:n.label,picklistEntries:a}}return false},D,L;if(d.hasMultiAxis===true){if(d.hasXY===true){D=R(h,{id:"xAxisId",label:"X Data Axis",type:"xaxis"});L=R(h,{id:"yAxisId",label:"Y Data Axis",type:"yaxis"})}else{let e=R(h,{id:"dataAxisId",label:"Data Axis"});if(e){E.push(e)}}}E.push(v);if(d.hasCategories===true){let e=R(g,{id:"categoryAxisId",label:"Category Axis"});if(e){E.push(e)}if(a.attr("modelId")){E.push(I)}}E=E.concat(O[r]||O[ve.types[r].category]);let B=a.attr("splittype");if(B==="field")E.push(k);else if(B==="template")E.push(S);if(d.hasXY===true){if(D){E.push(D)}E.push(T);E.push(A);if(L){E.push(L)}E.push(P);E.push(_)}if(d.hasSize===true){E.push(F);E.push(M)}E.push(N);return E};const Ae=function e(t){if(!t)t={};let n=t.component;return{id:"serieslist",label:"Series List",deleteable:false,icon:"sk-webicon-ink:filter-list",isChild:true,linkedComponent:n,props:[{type:"helptext",html:"Define one or more data series for this chart"}],children:[{id:"series",indent:0,linkedComponent:n,labelFunction(e){let t="",n=e.attr("modelId"),i=e.attr("aggfunction"),a=e.attr("valuefield"),o=e.attr("xvaluefield"),r=e.attr("yvaluefield"),l=e.attr("sizefield"),s=e.attr("splittype"),d=e.attr("splitfield"),c=e.attr("splittemplate");if(s==="template"&&c)return c;if(i){t+=ye.AGG_FUNCTIONS[i].label+" "}if(a){t+=a}if(o){t+=o}if(r){t+=", "+r}if(l){t+=", "+l}if(n){t+=" ("+n+")"}if(s==="field"&&d){t+=" by "+d}return t||"Series"},defaultStateFunction(){return ge("<series/>")},childrenFunction(e){he.delay().then(()=>n.cpi.refresh());return ye.getSeriesOnClickActionsTree({seriesComponent:e,component:n,seriesObj:this})},propsFunction(e){return Te({component:n,seriesComponent:e})}}]}};var Pe=i(5);let _e=e.$,Fe=e.builder,Me=Fe.core,Ee=Fe.ink,Ne=Fe.desktop,Oe=e.utils,Re=Oe.makeXMLDoc,De=e.$L,Le=e.virtualDom.hyperScript,Be="Entity",Ve="Entities",je=e.visualizations,Ge=je.core,We=je.chart;const Ue={splittype:"field",valuefield:"A",splitfield:"Category"};const ze={splittype:"none",valuefield:"A",categoryField:"C"};const qe={splittype:"none",xvaluefield:"A",yvaluefield:"B",sizefield:"C"};const He={line:ze,spline:ze,area:ze,areaspline:ze,bubble:qe,scatter:qe,column:ze,bar:ze,pie:Ue,donut:Ue,funnel:Ue,pyramid:Ue};let Xe=e=>()=>(2**31-1&(e=Math.imul(48271,e)))/2**31;const Ye=(e,t,n)=>Math.floor(e()*(n-t)+t+1);const $e=5;const Ke=new Me.Builder({id:"skuid__chart",componentType:"skuid__chart",name:"Chart",icon:"sk-webicon-ink:metrics",providesContext:true,indexSelectors:{ignored:"dataaxes, categoryaxes, serieslist, colors, legend, allowedtypes"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/visualizations/chart/",n=Ne.getDescriptionTag(),i='The Chart component displays data series from one or more models in various formats, helping users visualize relationships or trends in the data.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Chart component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},actionTypes:{series(e){return Ge.getSeriesActions(e)}},handleStateEvent(e,t,n){let i=t.type,a=t.component,o=t.oldId,r=t.newId,l=false;if(i==="model.idChange"){l=Me.handleModelIdChange(e,t)||l;let n=e.find("> serieslist > series[modelId=".concat(o,"]"));n.attr("modelId",t.newId);l=l||n.length}if(n===a){let t=e.children("serieslist").first();if(i==="chart.dataAxes.idChange"){t.children("series[yAxisId=".concat(o,"]")).attr("yAxisId",r);t.children("series[dataAxisId=".concat(o,"]")).attr("dataAxisId",r);t.children("series[xAxisId=".concat(o,"]")).attr("xAxisId",r);n.cpi.save()}else if(i==="chart.categoryAxes.idChange"){t.children("series[categoryAxisId=".concat(o,"]")).attr("categoryAxisId",r);n.cpi.save()}}if(l&&n){n.cpi.save();n.cpi.refresh()}},propertiesRenderer(e,t){e.setTitle("Chart"+" Properties");let n=[];_e.each(ke,function(e,t){n.push({label:"-- "+We.types[e].label+"Chart"+" Types --",value:"",disabled:true});_e.each(t.options,function(){n.push(this)});n.push({label:"",value:"",disabled:true})});let i=t.get("xmlState"),a=We.types[i.attr("type")].metadata,o={id:"type",type:"picklist",label:"Default Chart Type",picklistEntries:n,onChange(n,i){let a=t.get("xmlState"),o=We.types[n].metadata;if(We.types[n].category!==We.types[i].category){let e=false;if(a.children("allowedtypes").length){a.children("allowedtypes").remove();e=true}if(o.hasCategories===true||o.hasXY===true){if(a.children("dataaxes").length===0){a.append(Re("<dataaxes/>"))}let t={x:[],y:[],categories:[]},n=a.children("dataaxes"),i=a.children("categoryaxes");_e.each(n.children("axis"),function(){let e=_e(this),n=e.attr("type");if(n==="xaxis"){t.x.push(e)}else{t.y.push(e)}});_e.each(i.children("axis"),function(){let e=_e(this);t.categories.push(e)});if(o.hasXY===true){if(!o.hasCategories&&t.categories.length!==0){if(t.x.length===0){_e.each(t.categories,function(){this.attr("type","xaxis");n.append(this);t.x.push(this)})}t.categories=[];i.children().remove();e=true}_e.each(t.y,function(){if(!this.attr("type")){this.attr("type","yaxis");e=true}});if(t.x.length===0){n.append(Re('<axis id="xAxis" type="xaxis"/>'));e=true}if(t.y.length===0){n.append(Re('<axis id="yAxis" type="yaxis"/>'));e=true}}if(o.hasCategories===true){if(t.x.length!==0){_e.each(n.children("axis"),function(){let t=_e(this);if(t.attr("type")==="xaxis"){t.remove();e=true}});t.x=[]}if(t.categories.length===0){i.append(Re('<axis id="categories"/>'));e=true}if(t.y.length===0){n.append(Re('<axis id="axis1"/>'));e=true}}}if(e===true)t.cpi.save()}t.cpi.refresh();t.cpi.rebuildProps(e)}},r={id:"allowedtypes",location:"node",type:"multipicklist",storeAs:{type:"node",name:"type"},label:"Additional Chart Types",helptext:"If additional types are specified here, the user will be able to dynamically change the default chart type at runtime.",picklistEntries:ke[We.types[i.attr("type")].category].options,noneSelectedText:"Select Types..."},l=_e.merge([o,r],Se(t));let s=[{name:"Basic",props:l,expanded:true}];if(a.hasMultiAxis===true||a.hasXY===true){s.push({name:"Axes",tree:xe({component:t,propViewer:e})})}s.push({name:"Series",tree:Ae({component:t,propViewer:e})});s.push({name:"Display",tree:Ie(t)});s.push(Ee.getInkStylesTab({component:t,propViewer:e,spacing:true}));s.push(Ge.getAdvancedProps({component:t}),Me.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showStyleVariantConditions:true}),Me.getContextCategory({state:i,model:i.attr("model")}));e.applyPropsWithCategories(s,i)},parseState(e,t){const n=e.get("xmlState");const i=e.builderCPI.getModel(n.attr("model"),0).id;const a=Re(n[0].outerHTML);const o=n.attr("type");a.attr("model",i);const r=Array.from(n.find("serieslist").children()).map((t,i)=>{return Re("<series/>").attr(Object.assign({modelId:e.builderCPI.getModel(t.getAttribute("modelId")||n.attr("model"),i).id,type:t.getAttribute("type")},He[t.getAttribute("type")||o]))});a.attr("animationDuration",0);a.find("axis").removeAttr("categorytype");a.find("serieslist").remove();a.append(Re("<serieslist/>").append(r));t._.node=a[0];if(e.cpi.getCanvasComponent())e.cpi.getCanvasComponent().getState()._.node=a[0];return t},refresh(e){const t=e.cpi.parseState();const n=e.cpi.getCanvasComponent();const i=e.get("lastStyleSettingsVariant"),a=t._.node.getAttribute("styleSettingsVariant");if(i!==a){n.set("styleSettingsVariant",a);n._cpi.updateStyles()}else{n.cpi.initChart()}n._cpi.updateSpacing();e.set("lastStyleSettingsVariant",a)},init(e){const t=e.get("xmlState");e.set("lastStyleSettingsVariant",t.attr("styleSettingsVariant"));e.cpi.setCanvasComponent();let n=function e(t,n){let i=t.get("xmlState"),a=i.clone(),o=Me.getBuilder("skuid__chartSet").getDefaultState(),r=o.children("charts").first();r.append(a,Me.getBuilder(n).getDefaultState(undefined,{setUniqueId:true}));i.replaceWith(o);return o};let i=t.parent("charts").length;if(!i){let t=function t(i,a,o){return{text:i,icon:a,action(){let t=n(e,o),i=Me.componentFactoryWithCache(t,Me.getBuilder("skuid__chartSet"),{makeDraggable:true,isGlobalComponent:true});i.select();e.remove()}}};e.addActionGroup([t("Chart","sk-webicon-ink:metrics","skuid__chart"),t("Geochart","sk-webicon-ink:world","skuid__geochart")],"Add Drilldown")}else if(t.index()!==0){e.addActionItem({tooltip:De("Remove","Remove"),icon:"sk-webicon-ink:delete",action(){Fe.componentRegistry.getByState(t.parents("skuid__chartSet")[0]).builderCPI.removeChart(e)},id:"removeButton"})}e.subscribe("beforeUnregister",()=>{const t=e.get("models");for(let e in t){t[e].forEach(e=>e.unregister())}})},renderVDom(e){return Le("div",{},[e.getCPI().getCanvasComponent().renderVDom()])},defaultStateGenerator(e){let t=Me.getLastSelectedModelComponent(),n=t?t.get("xmlState"):Me.getFirstModel(),i=n?n.attr("id"):null,a=Re('<skuid__chart model="'+i+'" maintitle="{{Model.labelPlural}}" type="line" />');a.append(Re('<dataaxes><axis id="axis1"/></dataaxes>'),Re('<categoryaxes><axis id="categories" categorytype="field"/></categoryaxes>'),Re("<serieslist><series/></serieslist>"),Re("<colors/>"),Re('<legend layout="horizontal" halign="center" valign="bottom"/>'));if(!e)e={};return a},cpi:{getModel(t,n){if(!this.get("models"))this.set("models",{});const i=this.get("models");if(!i[t])i[t]=[];if(i[t][n])return i[t][n];const a=Object(Pe["k"])(t);const o=new e.model.Model({id:"chart-builder-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,label:a?a.getLabel():Be,labelPlural:a?a.getLabelPlural():Ve,fields:[{id:"A",label:"Performance",accessible:true,createable:true,displaytype:"INTEGER"},{id:"B",label:"Month",accessible:true,createable:true,displaytype:"INTEGER"},{id:"C",label:"Value",accessible:true,createable:true,displaytype:"INTEGER"},{id:"Category",label:"Category",accessible:true,createable:true,displaytype:"STRING"},{id:"Id",label:"Id",accessible:true,createable:true,displaytype:"STRING"}],doClone:false,dataSourceName:"Ui-Only"});o.initialize().register();let r=Xe($e+n);const l=20;const s=[];for(let e=0;e<l;e++){s.push({A:Math.floor(Math.pow(e*20,Ye(r,.75,1.15))+Math.pow(e*20,2.1)),B:Ye(r,0,4),C:e+1,Category:"Category ".concat(Ye(r,0,4))})}o.adoptRows(s);i[t][n]=o;return o}}});if(e.platform.hasFeature("PageComposerStaging")){Me.registerBuilder(Ke);const e=new Me.Builder({id:"series",providesContext:true,modelAttributeName:"modelId"});Ke.registerChildBuilder(e)}var Je=i(648);var Qe=i(649);var Ze=i(650);var et=i(651);var tt=i(652);var nt=i(13);function it(e,t,n){e.subscribeChange("showListHeader",n.initListHeader);e.subscribeChange("showListFooter",n.initListFooter);const i=e=>{["title","showSaveCancel","filters","filtering","saveIcon","cancelIcon"].forEach(t=>this.bind(t,e))};const a=e=>this.bind("showPageSizeSelect",e);t.listHeaderInstance&&i(t.listHeaderInstance);t.listFooterInstance&&a(t.listFooterInstance);e.subscribeChange("listHeaderInstance",i);e.subscribeChange("listFooterInstance",a)}var at=i(70);var ot=i(71);const rt=e.builder.listHelper,lt="skuid__deck";function st(t){const n=e.builder.desktop.getVariantsForComponentType(lt);const i=e.utils.Deferred(),a=ot["a"].getModelPicklistEntries();new ot["a"]({modalOptions:{title:"Configure Deck"},fields:[{id:"model",displaytype:"PICKLIST",picklistEntries:[{value:"",label:"No data model selected"},...a]},{id:"title",displaytype:"TEXT"},{id:"styleSettingsVariant",displaytype:"PICKLIST",picklistEntries:n,defaultValue:""},{id:"minWidth",displaytype:"CSS_SIZE"},{id:"maxWidth",displaytype:"CSS_SIZE"},{id:"pageSize",displaytype:"PICKLIST",picklistEntries:rt.propertiesFactory.pageSize().picklistEntries,defaultValue:"10"},{id:"include",displaytype:"MULTIPICKLIST",picklistEntries:[{value:"showSaveCancel",label:"Save and Cancel Buttons"},{value:"enableSearch",label:"Search"},{value:"showListFooter",label:"List Footer"}],defaultValue:"showListFooter"}],onSubmit:e=>{const n=e.getModel(),a=n.getFirstRow();["title","model","styleSettingsVariant","minWidth","maxWidth","pageSize"].forEach(e=>a[e]&&t.attr(e,a[e]));if(a.maxWidth)t.attr("setMaxWidth","true");const o=a.include||"";if(o.includes("showSaveCancel"))t.attr("showSaveCancel",true);if(!o.includes("showListFooter"))t.attr("showListFooter",false);if(o.includes("enableSearch"))t.children("filtering").attr("enableSearch",true);i.resolve(t)},onCancel:()=>{i.reject()},getLayout(e){const t=e.getModel(),i=ot["a"].makeQuickConfigUniqueId;return[{componentType:"skuid__form",showSaveCancel:false,mode:"edit",model:t,sections:[{rows:[{fields:[{uniqueId:i("field-model"),id:"model",label:"Data Model"}]},{fields:[{uniqueId:i("field-title"),id:"title",label:"Title"}]},n.length>1?{fields:[{uniqueId:i("field-styleSettingsVariant"),id:"styleSettingsVariant",label:"Style Variant"}]}:{},{fields:[{uniqueId:i("field-minWidth"),id:"minWidth",label:"Minimum Card Width"},{uniqueId:i("field-maxWidth"),id:"maxWidth",label:"Maximum Card Width"}]},{fields:[{uniqueId:i("field-pageSize"),id:"pageSize",label:"Maximum Number of Records to Display"}]},{fields:[{uniqueId:i("field-include"),id:"include",label:"Include:",displayAs:"CHECKBOX_LIST"}]}]}],styles:{spacing:{marginBottom:3}}}]}});return i.promise()}const dt=e.virtualDom.hyperScript;const ct=e.builder,ut=ct.ink,pt=ct.core,ft=ct.desktop,mt=e.utils,ht=mt.makeXMLDoc,gt=ct.listHelper,bt=gt.updateNumRowsInModel,yt="skuid__deck",vt=e.componentType.get(yt),Ct="Entity",kt="Entities",St=e=>Object.keys(e).map(t=>({value:t,label:e[t]})),wt=pt.escapeMergeSyntax;vt.initBuilder=it;const xt=new pt.Builder({id:yt,name:"Deck",icon:"sk-webicon-ink:tile-card-list",componentType:yt,providesContext:true,quicklyConfigure:st,neededNotices:[nt["c"].noModel],indexSelectors:{unsurfaced:"filters",ignored:"filtering"},getNotices(e){const t=[];if(!e.attr("model"))t.push(nt["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/deck/",n=ft.getDescriptionTag(),i='The Deck component displays selected model data in a card format to visually highlight\n\t\t\t\tthat information. Decks can be filtered or searched, and actions can be added that are\n\t\t\t\ttriggered when individual cards are selected.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Deck component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){pt.handleModelRemove(e,t,{component:n});pt.handleModelIdChange(e,t)},addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},refresh(e){const t=e.get("xmlState").attr("model"),n=Object(Pe["k"])(t),i=e.get("model");i.label=n?n.getLabel():Ct;i.labelPlural=n?n.getLabelPlural():kt;bt(i,t);e.cpi.updateCanvasComponent({scheduleRender:false})},init(t){const n=t.get("xmlState");let i=[{text:"Add Filter",icon:"sk-webicon-ink:filter",action:()=>{if(n.children("filters").length===0){n.append(e.utils.makeXMLDoc("<filters/>"));t.save();f()}let i=pt.getBuilder("skuid__filter").defaultStateGenerator();n.children("filters").append(i);pt.componentFactory(i,ct.getBuilder("skuid__filter"));t.save().refresh()}}];t.addActionGroup(i,"Add Features");t.updateSearchBox=(()=>t.refresh());const a=t.get("xmlState").attr("model"),o=Object(Pe["k"])(a);const r=new e.model.Model({id:"deck-builder-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,label:o?o.getLabel():Ct,labelPlural:o?o.getLabelPlural():kt,fields:[{id:"index",accessible:true,createable:true,displaytype:"INTEGER"}],doClone:false,dataSourceName:"Ui-Only"});r.initialize().register();bt(r,a);t.set("model",r);t.storeSubscription(e.events.subscribe("skuid.builder.modelPropChanged",e=>{if(e===n.attr("model"))t.refresh()}));const l=mt.generateUniqueId();const s=mt.generateUniqueId();t.set({opacitySubscriptionId:s,components:[{componentType:"skuidbuilder__deckComponentAcceptor",subscriptionId:l,opacitySubscriptionId:s,componentsXML:t.get("xmlState").children("components")}],model:r});t.getCPI().setComponentDefinitionProcessor(new e.component._ComponentDefinitionProcessor({logErrors:false,getModel:n=>{if(n===t.get("xmlState").attr("model"))return r;return e.$M(n)}}));t.getCPI().setCanvasComponent();const d=e.$("<div>");let c;t.subscribe("beforeUnregister",()=>c&&c.unregister());const u=mt.debounce(()=>{c&&c.unregister();d.empty();const n=t.getCPI().getCanvasComponent(),i=n.getChildComponentsOfType("skuidbuilder__deckComponentAcceptor")[0],a=i.get("componentAcceptor");c=e.component.createFromDefinition({componentType:"skuidbuilder__componentAcceptor",componentsXML:mt.makeXMLDoc(a.getCPI().getComponentsXML()[0].outerHTML),rejectsBuilderIds:["skuid__pageInclude"]},{element:d});e.events.publish(l,[c.getElement().outerHTML]);t.scheduleVirtualRender()},100);t.cpi.createObserver({node:n.children("components")[0],observe:{attributes:true,childList:true,subtree:true},callback:u});u();let p;function f(){if(p)return;p=t.cpi.createObserver({node:n.children("filters")[0],observe:{childList:true}})}if(n.children("filters").length)f();e.events.subscribe("skuid.builder.imageLoaded",e=>{if(t.get("xmlState")[0].contains(e[0]))u()});let m=false;e.events.subscribe("skuid.pageComposer.component.selected",e=>{if(e===t||e.builder&&!e.builder.isInToolbar&&e.get("xmlState")&&t.get("xmlState")[0].contains(e.get("xmlState")[0])){t.block()}else{t.unblock()}});t.block=(()=>{if(m)return;m=true;e.events.publish(t.get("opacitySubscriptionId"),[false])});t.unblock=(()=>{if(!m)return;m=false;e.events.publish(t.get("opacitySubscriptionId"),[true])})},parseState(e,t){const{model:n,components:i}=e.getState();t.model=n;t.components=i;if(t.title)t.title=wt(t.title);if(t.filters){t.filters=t.filters.map(e=>{e.conditionName=e.conditionName||"_builderPlaceholder";return e})}else{t.filters=[]}return t},renderVDom(e){return dt("div",{ondragenter(){e.set("enterCounter",(e.get("enterCounter")||0)+1,{renderOnChange:false});e.block()},ondragleave(){e.set("enterCounter",(e.get("enterCounter")||0)-1,{renderOnChange:false});if(e.get("enterCounter")!==0)return;e.unblock()},ondrop(){e.set("enterCounter",0,{renderOnChange:false});e.unblock()}},[e.getCPI().getCanvasComponent().renderVDom()])},propertiesRenderer(e,t){e.setTitle("Deck Properties");const n=()=>t.refresh();let i=t.get("xmlState"),a=t.get("xmlState").attr("model"),o={id:"model",type:"model",label:"Model",required:false,onChange(){t.save().rebuildProps().refresh();t.updateAutoCreatedEditorCondition()}},r={id:"title",type:"template",location:"attribute",label:"Title",onChange:n},l={id:"columnGutter",type:"csssize",label:"Column Gutter Size",onChange:n},s={id:"rowGutter",type:"csssize",label:"Row Gutter Size",onChange:n},d={id:"showSaveCancel",type:"boolean",label:"Show Save/Cancel",helptext:"If true, then Save/Cancel buttons will be rendered above the deck to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",onChange:n},c=[o],u;if(i.attr("hideHeader")!=="true"){c.push(r);c.push(d)}u=[{id:"minWidth",type:"csssize",label:"Minimum Width",onChange:n},{id:"verticalAlign",type:"picklist",label:"Vertical Align",picklistEntries:St(at["b"].VERTICAL_ALIGN),onChange:n},{id:"setMaxWidth",type:"picklist",label:"Set Maximum Width",picklistEntries:St(at["b"].SET_MAX_WIDTH),onChange(){t.refresh();t.rebuildProps()}}];if(i.attr("setMaxWidth")==="manual"){u.push({id:"maxWidth",type:"csssize",label:"Maximum Width",defaultValue:"300px",onChange:n})}e.applyPropsWithCategories([{name:"Basic",props:c},{name:"Display",tree:[{label:"Pagination",linkedComponent:t,deleteable:false,props:[gt.propertiesFactory.pageSize({onChange(){n();t.rebuildProps()}}),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true,onChange:n},gt.propertiesFactory.resetPaginationOnQuery()]},{label:"Advanced",linkedComponent:t,deleteable:false,propsFunction:()=>[pt.coreProps.uniqueIdProp({component:t}),...i.attr("showSaveCancel")!=="false"?[{id:"saveIcon",type:"icon",label:"Save Icon",onChange:n},{id:"cancelIcon",type:"icon",label:"Cancel Icon",onChange:n}]:[]]},{label:"Layout",linkedComponent:t,deleteable:false,props:[l,s]},{label:"Other",linkedComponent:t,deleteable:false,props:[{id:"showLoadMore",label:'Show "Load more" button',type:"boolean",defaultValue:true},gt.propertiesFactory.showListHeader({onChange:n}),gt.propertiesFactory.showListFooter({onChange:n})]}]},{name:"Card",props:u},ut.getFilteringPropsCategory({component:t,modelName:a,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true}),pt.getInteractionsCategory({getModelName:()=>t.get("xmlState").attr("model"),linkedComponent:t}),ut.getInkStylesTab({component:t,propViewer:e,spacing:true}),pt.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:a,propViewer:e,showStyleVariantConditions:true}),pt.getContextCategory({propViewer:e,state:i,model:i.attr("model")})],i)},defaultStateGenerator(){return ht("<skuid__deck />").attr({columnGutter:".75em",rowGutter:".75em",showSaveCancel:"false",verticalAlign:"top",minWidth:"350px"}).append(ht("<components />"),ht('<filtering enableSearch="false" />'))},propHintMap:{listHeader__heading:{prop:"title"},"listHeader__save-cancel":{prop:"showSaveCancel"},listFooter__pagination:{category:"Display",prop:"pageSize"},"listFooter__page-size":{category:"Display",prop:"pageSize"},"filter--search":{category:"Search",prop:"enableSearch"}},componentSpoofMap:{skuid__filter:{builderId:"skuid__filter",filter:e=>e.type!=="search",cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false}}}});if(e.platform.hasFeature("PageComposerStaging")){pt.registerBuilder(xt)}e.componentType.register("skuidbuilder__deckComponentAcceptor",{getStyleSettings(){return{}},getStyles(){return{acceptor:{backgroundColor:"white",transition:"100ms ease-in opacity"},editable:{zIndex:5},"non-editable":{["& .".concat(nt["a"].acceptorEmptyState)]:{opacity:"0 !important"}},translucent:{opacity:.5},solid:{opacity:1}}},schema:{attributes:{componentsXML:{type:"object",required:true},subscriptionId:{type:"string"},opacitySubscriptionId:{}}},init(t,n){if(n.context.row.index===0){const e=t.createChildComponent({componentType:"skuidbuilder__componentAcceptor",componentsXML:n.componentsXML,rejectsBuilderIds:["skuid__pageInclude"]});t.set({showAsSolid:true,componentAcceptor:e})}else{t.set({showAsSolid:true,componentAcceptorToCopy:t.getParentComponent().getChildComponentsOfType("skuidbuilder__deckComponentAcceptor")[0]});t.storeSubscription(e.events.subscribe(n.subscriptionId,e=>{if(t.get("el")){setTimeout(()=>{const{el:n}=t.getState();n.innerHTML=e;t.set("elContents",e,{renderOnChange:false})})}}));t.storeSubscription(e.events.subscribe(n.opacitySubscriptionId,e=>{this.set("showAsSolid",e)}))}},renderVDom(e){const{componentAcceptor:t,elContents:n,componentAcceptorToCopy:i,showAsSolid:a}=e.getState();return dt("div",{key:e,classes:e.getStyledClasses({acceptor:true,editable:t,"non-editable":!t,solid:a,translucent:!a}),afterCreate:a=>{e.set("el",a,{renderOnChange:false});if(!t){if(n)a.innerHTML=n;else if(i)a.innerHTML=i.get("el").outerHTML}}},[t&&t.renderVDom()])}});(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.builder,n=t.ink,i=t.core,a=t.desktop,o=e.utils,r=o.makeXMLDoc,l=e.$,s=t.listHelper,d=e=>Object.keys(e).map(t=>({value:t,label:e[t]}));i.registerBuilder(new i.Builder({id:"skuid__deck",name:"Deck",icon:"sk-webicon-ink:tile-card-list",providesContext:true,indexSelectors:{unsurfaced:"filters",ignored:"filtering"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/deck/",n=a.getDescriptionTag(),i='The Deck component displays selected model data in a card format to visually highlight\n\t\t\t\t\tthat information. Decks can be filtered or searched, and actions can be added that are\n\t\t\t\t\ttriggered when individual cards are selected.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Deck component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},neededNotices:[nt["c"].noModel],getNotices(e){const t=[];if(!e.attr("model"))t.push(nt["c"].noModel);return t},handleStateEvent(e,t,n){i.handleModelRemove(e,t,{component:n});i.handleModelIdChange(e,t)},addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(n){let d=n.get("xmlState"),c=n.body,u,p=n.get("xmlState").attr("model"),f=d.attr("hideHeader")==="true",m=t.getBuilder("skuid__filter"),h=n.get("filterAcceptor")||new a.ComponentAcceptor(d.children("filters"),{customBuilder:m,acceptsBuilderIds:["skuid__filter"],requiresGlobalComponent:false,requiresModels:[p],mode:n.mode,parentComponent:n});n.set("filterAcceptor",h);h.addClass("nx-pagebuilder-acceptor-inline-small");h.setStyle({display:d.children("filters").children().length?"flex":"none",border:"none"});const g=()=>{if(d.children("filters").length===0){d.append(r("<filters/>"));n.save()}let e=m.getDefaultState();d.children("filters").append(e);n.save().refresh()};let b=l("<div>").addClass("clearfix nx-editor-header nx-table-header"),y=d.attr("buttonPosition")||"right";n.handleOptionChange=(()=>{let e=d.children("filtering").attr("enableSearch")==="true",t=d.attr("showSaveCancel")!=="false",i=n.buttonsWrapper,a=d.attr("hideHeader")==="true";n.searchBox.toggle(e);i.toggle(t||e);t?i.children(".ui-button").css("display",""):i.children(".ui-button").hide();if(a){b.hide()}else{b.show()}});n.buttonsWrapper=l("<div>").addClass("nx-pagebuilder-buttonwrapper").css({float:y,"text-align":"right"}).append(l("<div>").text(e.$L("Save")).css({marginLeft:"4px"}).skooButton({icon:d.attr("saveIcon")}).addClass("nx-pagebuilder-savebtn").button("disable"),l("<div>").text(e.$L("Cancel")).css({marginLeft:"4px"}).skooButton({icon:d.attr("cancelIcon")}).addClass("nx-pagebuilder-cancelbtn nx-button-secondary").button("disable"));d.attr("showSaveCancel")!=="false"?n.buttonsWrapper.children(".ui-button").css("display",""):n.buttonsWrapper.children(".ui-button").hide();n.searchBox=l("<input>").prop("disabled",true).addClass("searchbox").css({color:"#DDD","margin-top":"1px","margin-left":"4px"});if(!n.updateSearchBox){n.updateSearchBox=(()=>{const t=n.get("xmlState").children("filtering");let a=t.attr("searchPlaceholder");if(!a){let t=i.getModelFromModelName(n.get("xmlState").attr("model")),o=i.getDataSourceFromModel(t),r=t?t.attr("sobject"):null,l=r?o.getCachedEntityMetadata(r):null,s=l?l.getLabelPlural():null;a=e.$L("Search")+" "+(s?s:"")}n.searchBox.attr("placeholder",a);n.searchBox.toggle(t.attr("enableSearch")==="true")})}n.updateSearchBox();u=n.filterWrapper=l("<div>").addClass("nx-conditioncontainer");u.css("display","flex");n.globalAndMassWrapper=l("<div>").css("float","left");n.setTitle(n.builder.name);n.getContextModelName=(()=>n.get("xmlState").attr("model"));if(!n.get("xmlState").children("components").length){n.get("xmlState").append(r("<components/>"))}let v=n.acceptor=n.get("acceptor")||new a.ComponentAcceptor(n.get("xmlState").children("components"),{rejectsBuilderIds:["skuid__pageInclude"],emptyStateOptions:{modelName:p,dataSourceName:i.getDataSourceFromModelName(p).name},mode:n.mode,parentComponent:n});n.set("acceptor",v);n.heading=l("<h2>").addClass("nx-editor-header-heading");n.heading.text(d.attr("title")||"");u.append(h.element,n.searchBox);let C=n.get("xmlState").children("styles");o.processStylesNode(C,v.element);let k=[n.globalAndMassWrapper,n.buttonsWrapper,u];let S,w=l("<div>");if(d.attr("showListHeader")==="false"){b.append(s.renderHeaderFooterVisibilityHelper("header"))}else{b.append(n.heading);b.append(k)}c.append(b,v.element,w).addClass("sk-pagebuilder-deck");if(f)b.hide();if(S!==undefined){S.find(".nx-panel-fluid .nx-panel").append(c.children());S.find(".nx-panel-left-inner, .nx-panel-right-inner").append(u);c.append(S)}if(d.attr("showListFooter")==="false"){n.body.append(s.renderHeaderFooterVisibilityHelper("footer"))}let x=[{text:"Add Filter",icon:"sk-webicon-ink:filter",action:g}];n.addActionGroup(x,"Add Features")},propertiesRenderer(e,t){e.setTitle("Deck Properties");let a=t.get("xmlState"),o=t.get("xmlState").attr("model"),r={id:"model",type:"model",label:"Model",required:false,onChange(){t.save().rebuildProps().refresh();t.updateAutoCreatedEditorCondition()}},l={id:"title",type:"template",location:"attribute",label:"Title",onChange(){t.save().refresh().rebuildProps()}},c={id:"columnGutter",type:"csssize",label:"Column Gutter Size"},u={id:"rowGutter",type:"csssize",label:"Row Gutter Size"},p={id:"showSaveCancel",type:"boolean",label:"Show Save/Cancel",helptext:"If true, then Save/Cancel buttons will be rendered above the deck to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",onChange(){t.handleOptionChange()}},f=[r],m;if(a.attr("hideHeader")!=="true"){f.push(l);f.push(p)}m=[{id:"minWidth",type:"csssize",label:"Minimum Width"},{id:"verticalAlign",type:"picklist",label:"Vertical Align",picklistEntries:d(at["b"].VERTICAL_ALIGN)},{id:"setMaxWidth",type:"picklist",label:"Set Maximum Width",picklistEntries:d(at["b"].SET_MAX_WIDTH),onChange(){t.rebuildProps()}}];if(a.attr("setMaxWidth")==="manual"){m.push({id:"maxWidth",type:"csssize",label:"Maximum Width",defaultValue:"300px"})}e.applyPropsWithCategories([{name:"Basic",props:f},{name:"Display",tree:[{label:"Pagination",linkedComponent:t,deleteable:false,props:[s.propertiesFactory.pageSize(),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true},s.propertiesFactory.resetPaginationOnQuery()]},{label:"Advanced",linkedComponent:t,deleteable:false,propsFunction:()=>[i.coreProps.uniqueIdProp({component:t}),...a.attr("showSaveCancel")!=="false"?[{id:"saveIcon",type:"icon",label:"Save Icon",onChange:()=>t.refresh()},{id:"cancelIcon",type:"icon",label:"Cancel Icon",onChange:()=>t.refresh()}]:[]]},{label:"Layout",linkedComponent:t,deleteable:false,props:[c,u]},{label:"Other",linkedComponent:t,deleteable:false,props:[{id:"rowActionsOnLeft",label:"Row Actions on Left",type:"boolean",defaultValue:false,onChange:()=>t.refresh()},{id:"showLoadMore",label:'Show "Load more" button',type:"boolean",defaultValue:true},s.propertiesFactory.showListHeader({onChange:()=>t.refresh()}),s.propertiesFactory.showListFooter({onChange:()=>t.refresh()})]}]},{name:"Card",props:m},n.getFilteringPropsCategory({component:t,modelName:o,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true}),i.getInteractionsCategory({linkedComponent:t}),n.getInkStylesTab({component:t,propViewer:e,spacing:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),i.getContextCategory({propViewer:e,state:a,model:a.attr("model")})],a)},defaultStateGenerator(){let e=i.getLastSelectedModelComponent(),t=e?e.get("xmlState"):i.getFirstModel(),n=t?t.attr("id"):null;return r("<skuid__deck />").attr({columnGutter:".75em",rowGutter:".75em",model:n,showSaveCancel:"false",verticalAlign:"top",minWidth:"350px"}).append(r("<components />"),r('<filtering enableSearch="false" />'))}}))})(e);var It=i(161);var Tt=i(159);var At=i(162);var Pt=i(30);var _t=i(50);let Ft=e.$,Mt=e.builder,Et=Mt.core,Nt=Mt.ink,Ot=e.utils,Rt=Ot.makeXMLDoc,Dt=e.events.publish,Lt=Et.getConditionByName,Bt=Et.getFieldInfoFromCache,Vt="skuidBuilderNeedSave",jt="<div>",Gt=e.constants.DISPLAY_TYPES,Wt=Gt.REFERENCE;function Ut(e){return e==="select"||e==="multiselect"}function zt(e){const t="skuid__filterSet, skuid__table, skuid__deck, skuid__list",n=e.closest(t);let i;if(n.is(t)){i=n.attr("model")}else if(n.is("eventview")){i=n.attr("groupingmodel")}return i}function qt(e){return"__autofilter__"+e}function Ht(e,t,n){const i=e.attr("type"),a=e.attr("conditionfield")||e.attr("conditionField"),o=Et.getModelFromModelName(t),r=o.children("conditions"),l=r.children();const s=[];if(l.length){if(i==="daterange"){s.push(Et.getDateRangeAutoFilterStartConditionName(a),Et.getDateRangeAutoFilterEndConditionName(a))}else if(i==="numericrange"){s.push(Et.getNumericRangeAutoFilterStartConditionName(a),Et.getNumericRangeAutoFilterEndConditionName(a))}else if(Ot.contains(i,"select")){s.push(Et.getSelectAutoFilterConditionName(a))}}for(let i of s){const a=r.find('condition[name="'.concat(i,'"]'));if(!a.length){return Et.addModelConditionsForAutoFilter(e,t)}a.attr("clientorserver",n)}}function Xt(e){let t=e.attr("labelMode")==="manual"&&e.attr("label");switch(e.attr("type")){case"multiselect":return t||"Multiselect Filter";case"select":return t||"Select Filter";case"toggle":return t||"Toggle Filter";case"daterange":return t||"Date-Range Filter";case"numericrange":return t||"Numeric Filter"}}function Yt(e){const t=zt(e.get("xmlState")),n=Et.actionSequences;let i=Et.getAllModelsInPage().children('[id="'+t+'"]'),a;if(!i.length){let a=n.getActionSequenceFromChildAction(e.get("xmlState"));if(a){i=n.getModelXMLForPickerOfInputModel(a,t)}}a=i.children("conditions, havings").find("[name]");return a.map(function(){let e=Ft(this),t=e.attr("name"),i=n.removeInputMerge(t);if(!Ot.startsWith(t,"__autofilter__")){return{value:t,label:i}}})}function $t(e){return function(t){if(t.calculated&&t.uiOnly){return false}return e.includes(t.displaytype)}}function Kt(e){const t=e.get("xmlState");const n=()=>{const e=t.attr("conditionField");let n,a;if(e&&i){n=Bt(i,e);a=n?n.displaytype:false}return{metadata:n,displayType:a}};let i=zt(e.get("xmlState")),a={id:"conditionField",type:"field",label:"Numeric Field",displayTypeFilter:$t([Gt.INTEGER,Gt.NUMBER,Gt.DOUBLE,Gt.PERCENT,Gt.CURRENCY]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){Et.adjustFieldForAutoFilterConditions(t,i,r)}else{Et.addModelConditionsForAutoFilter(t,i)}t.attr("startConditionName",Et.getNumericRangeAutoFilterStartConditionName(n));t.attr("endConditionName",Et.getNumericRangeAutoFilterEndConditionName(n));e.save();e.refresh()}},o={id:"conditionField",type:"field",label:"Filter Field",displayTypeFilter:$t([Gt.PICKLIST,Gt.MULTIPICKLIST,Gt.REFERENCE]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){Et.adjustFieldForAutoFilterConditions(t,i,r)}else{Et.addModelConditionsForAutoFilter(t,i)}t.attr("conditionName",Et.getSelectAutoFilterConditionName(n));if(r!==n){t.children("conditions").remove()}e.save().refresh().rebuildProps()}},r={id:"conditionField",type:"field",label:"Date/Datetime Field",displayTypeFilter:$t([Gt.DATE,Gt.DATETIME]),addFieldToModel:false,modelname:i,onChange(n,a,o,r){if(r&&r!=="[No Field Selected]"){Et.adjustFieldForAutoFilterConditions(t,i,r)}else{Et.addModelConditionsForAutoFilter(t,i)}t.attr("startConditionName",Et.getDateRangeAutoFilterStartConditionName(n));t.attr("endConditionName",Et.getDateRangeAutoFilterEndConditionName(n));e.save();e.refresh()}},l={id:"type",type:"picklist",label:"Filter Type",defaultValue:"select",picklistEntries:[{label:"Date Range",value:"daterange"},{label:"Numeric Range",value:"numericrange"},{label:"Multi-select Option",value:"multiselect"},{label:"Select Option",value:"select"},{label:"Toggle",value:"toggle"}],onChange(n,a){if(a==="toggle"){t.children("effects").remove()}else if(Ut(a)&&!Ut(n)){t.children("conditions, sources").remove()}let o=t.attr("conditionSource");if(n==="toggle"&&o==="auto"){o="manual";t.attr("conditionSource",o)}const r=t.attr("conditionField");if(r){Et.removeModelConditionsForAutoFilter(t,i,a)}t.removeAttr("conditionName startConditionName endConditionName conditionField");e.save().refresh().rebuildProps()}},s={id:"filterMethod",type:"picklist",label:"Filter Method",defaultValue:"server",helptext:'By default, filters are performed server-side; all records in the database that fit the criteria of the filter will be returned. To filter only the records present within the Skuid model, select "Client" instead.',picklistEntries:[{label:"Server",value:"server"},{label:"Client",value:"client"}],onChange(n){let a=t.attr("conditionfield")||t.attr("conditionField");let o=t.attr("conditionsource")==="auto"||t.attr("conditionSource")==="auto";if(a&&o){Ht(t,i,n);e.save()}else{}if(e){e.rebuildProps&&e.rebuildProps();e.renderProperties&&e.renderProperties()}}},d={id:"conditionName",label:"Default Condition to Affect",helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options.",modelName:i,type:"condition",onChange(){e.refresh();e.rebuildProps()}},c=Ft.extend({},d,{helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options. Only conditions with multiple values are valid for a multi-select filter type.",filter(e){return e.attr("type")==="multiple"}}),u={id:"createFilterOffOption",label:'Create "None Selected" Option',helptext:"If checked, an option which turns off this filter will be added to the options list.",type:"boolean",defaultValue:false,onChange(){e.refresh().rebuildProps()}},p={id:"filterOffOptionLabel",label:'"None Selected" Option Text',type:"string",helptext:'If desired, you can change the text of the "Filter Off" option, to be something like "Any Status", "Any Record Type", etc.',defaultValue:"",onChange(){e.refresh()}},f={id:"labelMode",label:"Show Label above Filter",type:"picklist",helptext:"If desired, an always-visible label will be shown above this filter.",defaultValue:"no",picklistEntries:[{label:"Yes, use Field's label",value:"auto"},{label:"Yes, use custom label",value:"manual"},{label:"No",value:"no"}],onChange(){e.save().refresh().rebuildProps()}},m={id:"label",label:"Filter Label",type:"string",onChange(){e.refresh()}},h={id:"conditionSource",label:"Pick Options and Condition(s)",type:"picklist",defaultValue:"auto",picklistEntries:[{label:"Automatically",value:"auto",disabled:t.attr("type")==="toggle"},{label:"Manually",value:"manual"}],onChange(t){if(t==="manual"){const e=I.attr("conditionField");if(e){Et.removeModelConditionsForAutoFilter(I,i)}}I.removeAttr("conditionField conditionName startConditionName endConditionName");e.save().refresh().rebuildProps()}},g,b=e.get("xmlState").attr("type"),y=e.get("xmlState").attr("conditionSource")==="auto",v=[l],C={id:"conditionsToToggle",location:"node",type:"multipicklist",label:"Conditions to Toggle",helptext:"(Deprecated) Use effects instead",entries:Yt(e),noneSelectedText:"Select Conditions..."},k={id:"autocompleteThreshold",label:"Switch Filter to Autocomplete at X Items",type:"number",helptext:"By default, Select Option filters will become Autocompletes when the count of items in their list reaches 25. Change this amount if you'd like that to happen at a higher or lower number."};const{metadata:S,displayType:w}=n(),x=S&&S.displaytype===Gt.REFERENCE;const I=e.get("xmlState");if(Et.filterSupportsServer(I,i)&&I.attr("conditionSource")!=="manual"&&I.attr("type")!=="toggle"){v.push(s)}if(I.attr("type")!=="toggle"){v.push(h)}if(!y){v.push(m);if(b!=="toggle"){v.push(b==="multiselect"?c:d);if(b==="select"||b==="multiselect"){v.push(k)}if(b==="numericrange"||b==="daterange"){d.id="startConditionName";d.label="(Start of Range) Model Condition to Affect",g={id:"endConditionName",label:"(End of Range) Model Condition to Affect",helptext:"The Condition on this Model whose values this Filter will affect by default -- unless specified otherwise in the Effects of this Filter's options.",modelName:i,type:"condition",onChange(){e.refresh();e.rebuildProps()}};v.push(g)}}else{if(I.attr("conditionsToToggle")!==undefined){v.push(C)}}}if(y){switch(b){case"date":v.push(r);break;case"daterange":v.push(r);break;case"numericrange":v.push(a);break;case"multiselect":v.push(o);if(!x){v.push(k)}if(S&&w){v.push(Et.getConditionOperatorPropObj(e,{id:"conditionOperator",label:"Filter Condition Operator",conditionType:"multiple",fieldMetadata:S,handleChange(n){const a=qt(t.attr("conditionField")),o=Lt(a,i);if(o&&o.length){o.attr("operator",n);e.save()}},defaultValue:w===Gt.MULTIPICKLIST?"includes":"in"}))}break;case"select":v.push(o);if(!x){v.push(k)}break}v.push(f);if(e.get("xmlState").attr("labelMode")==="manual"){v.push(m)}else{e.get("xmlState").removeAttr("label")}}else{e.get("xmlState").attr("labelMode","manual")}if(b==="select"||b==="multiselect"){if(!y){v.push(u);if(e.get("xmlState").attr("createFilterOffOption")=="true"){v.push(p)}}else{v.push(p)}}if(!x&&Ut(b)){v.push({id:"displayAs",label:"Display As",type:"picklist",options:[{value:"",label:"Dropdown"},{value:"radioOrCheckboxes",label:b==="select"?"Radio":"Checkboxes"}],onChange(){e.save().rebuildProps()}},...t.attr("displayAs")==="radioOrCheckboxes"?[{id:"limitOptions",label:"Option Limit",helptext:"Set this to preview long lists of select options.  e.g. Set it to 4 to see 4 options initially with a button to reveal the rest.",type:"string"}]:[])}v.push({id:"rememberInPersonalization",label:"Remember last-selected filter value",helptext:"Skuid will remember each user's last filter value selection.",type:"boolean",defaultValue:true});return v}const Jt=new Et.Builder({id:"skuid__filter",name:"Filter",hideWrapper:true,hideFromComponentsList:true,icon:"sk-webicon-ink:filter",getSubtitle(e,t){return e.getAttribute("label")||Object(Pt["b"])(e.getAttribute("conditionField"),t.modelFieldsMetadata)||e.getAttribute("id")||e.getAttribute("conditionField")},handleStateEvent(e,t,n){if(e.parent().parent().prop("tagName").toLowerCase()==="field"){return false}let i=t.type==="model.condition.nameChange",a=t.type==="model.remove",o=t.type==="model.idChange",r=false;if(i){if(t.modelId===e.closest("[model]").attr("model")){if(e.attr("conditionName")===t.oldName){e.attr("conditionName",t.newName);r=true}Ft.each(e.find('effect[condition="'+t.oldName+'"]'),function(){Ft(this).attr("conditionName",t.newName);r=true})}}else if(a||o){Ft.each(e.find('source[model="'+(o?t.oldId:t.modelId)+'"]'),function(){if(o){Ft(this).attr("model",t.newId);r=true}else if(a){Ft(this).remove();r=true}})}if(r){Dt(Vt);n&&Dt("skuidBuilderComponentNeedsRefresh",[n])}return false},componentRenderer(t){const n=t.get("xmlState"),i=t.getCPI();i.addClass("sk-filterset-item nx-pagebuilder-filter");t.updateDragManifest=(()=>t.getCPI().setDragManifest(new e.builder.dragDrop.DragManifest({model:n.closest("[model]").attr("model"),builderId:t.getCPI().getBuilder().id})));t.updateDragManifest();t.body.css("padding","4px");let a=Ft(jt).css("margin","0px").addClass("nx-conditiontoken nx-actionselect unavailable").append(Ft(jt).addClass("nx-actionselect-text").text(Xt(n)));t.addActionItem("Remove","sk-webicon-ink:delete",()=>{const e=zt(n);Et.removeModelConditionsForAutoFilter(n,e);t.remove()});t.body.append(a)},propertiesRenderer(t,n){let i=[],a=n.get("xmlState"),o=a.attr("type"),r=a.attr("conditionSource");i.push({name:"Basic",props:Kt(n)});if(!r){if(o){r="manual"}else{r="auto"}a.attr("conditionSource",r)}if(!o){o="select";a.attr("type",o)}if(Ut(o)&&r!=="auto"){i.push({name:"Sources",tree:{id:"sources",label:"Option Sources",addtooltip:"Add Option Source",deleteable:false,icon:"sk-bi-source",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"source",labelFunction(e){let t="Source: ",n=e.attr("type");if(n==="metadata")t+="Picklist Options";else if(n==="model")t+="Rows in a Model";else if(n==="manual")t+="Manual";else if(n==="custom")t+="Result of Snippet";return t},icon:"sk-bi-source",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Option Source",deletetooltip:"Remove Option Source",childrenFunction(n){let i=[],o=n.get("xmlState");if(o.attr("type")==="manual"){i.push({id:"option",labelFunction(e){return e.attr("label")},invisibleParent:"options",indent:1,icon:"sk-webicon-ink:success",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Option",deletetooltip:"Remove Option",childrenFunction(e){let t=[];if(e.get("xmlState").attr("type")==="complex"){t.push({id:"effect",labelFunction:Et.getEffectItemLabel,invisibleParent:"effects",indent:3,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:Et.getEffectItemProperties,defaultStateFunction(){return Rt('<effect action="set" value=""/>')}})}return t},propsFunction(n){let i={id:"type",type:"picklist",label:"What Condition(s) will this Option affect?",defaultValue:"simple",picklistEntries:[{label:"Affect the Default Condition",value:"simple"},{label:"Affect Other Condition(s)",value:"complex"}],onChange(){n.get("xmlState").empty();n.element.children(".nx-childwrapper").empty();n.save().refresh().rebuildProps()}};let o={id:"label",label:"Label",type:"string",onChange(){n.refresh()}};let r={id:"value",label:"Value",type:"string",onChange(){n.refresh()}};const l=n.get("xmlState").attr("type");if(l==="simple"){const n=a.closest("[model]");const l=n.length&&n.attr("model");const s=a.attr("conditionName");const d=e.builder.core;const c=d.getModelFromModelName(l);const u=c&&c.find('condition[name="'.concat(s,'"]'));const p=u&&u.length&&u.attr("field");const f=t.metadata||p&&d.getFieldInfoFromCache(l,p);if(f.displaytype==="BOOLEAN"){r.type="boolean"}else{r=Object(_t["b"])(r,l,s)}return[i,o,r]}else if(l==="complex"){return[i,o]}},defaultStateFunction(){return Rt('<option label="New Option" type="simple"/>')}})}else if(["justothers","defaultandothers"].includes(o.attr("effectsbehavior"))){i.push({id:"effect",labelFunction:Et.getEffectItemLabel,invisibleParent:"effects",indent:1,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:Et.getEffectItemProperties,defaultStateFunction(){return Rt('<effect action="set" value=""/>')}})}return i},propsFunction(e){let t=e.get("xmlState");let n={id:"type",type:"picklist",label:"Source Type",defaultValue:"manual",picklistEntries:[{label:"Manual",value:"manual"},{label:"Rows in a Model",value:"model"},{label:"Picklist Options for Default Condition's Field",value:"metadata"},{label:"Custom Source (Snippet)",value:"custom"}],onChange(n){e.get("xmlState").empty();e.element.children(".nx-childwrapper").empty();const i=()=>{e.save().refresh().rebuildProps()};if(n!=="metadata")return i();const a=t.closest("skuid__filter");if(!a.length)return i();const o=a.attr("conditionName");if(!o)return i();const r=a.closest("[model]");const l=r.length&&r.attr("model");const s=l&&Et.getModelFromModelName(l);if(!s)return i();const d=s.find('condition[name="'.concat(o,'"]'));const c=d.length&&d.attr("field");if(!c)i();Et.addFieldToModel({fieldId:c,model:s});i()}};let i={id:"effectsbehavior",type:"picklist",label:"Which Conditions will this Source's Options affect?",defaultValue:"justdefault",picklistEntries:[{label:"Just the Default Condition",value:"justdefault"},{label:"Default Condition and others",value:"defaultandothers"}],onChange(n){if(n==="justdefault"){t.remove("effects");e.element.children(".nx-childwrapper").empty()}e.save().refresh().rebuildProps()}};let a,o=t.attr("model"),r=o&&Et.getModelFromModelName(o);if(r){a=Ot.getNameField(r.attr("sobject"))}if(!a)a="Name";let l={id:"labeltemplate",type:"string",defaultValue:"{{{"+a+"}}}",label:"Option Label Template",helptext:'Defines the visible label for each auto-created Filter Option. Example: "Account: {{Name}}". Defaults to {{{Name}}}.'};let s={id:"valuetemplate",type:"string",defaultValue:"{{Id}}",label:"Value to inject into Default Condition",helptext:'Defines the value for each auto-created Filter Option, which will be injected into the Default Condition when the Option is chosen. Defaults to "{{Id}}", but can be any field included in the Model.'};let d={id:"prefix",type:"string",label:"Label Prefix (optional)",helptext:'Text to insert BEFORE each auto-generated Filter Option\'s label. For example, if your Filter is on a Status field with options like "New", "Closed", you might want Label Prefix to be "Status: ", so that your Option Labels will look like "Status: New", "Status: Closed", etc.'};let c={id:"suffix",type:"string",label:"Label Suffix (optional)",helptext:"Text to be added after each auto-generated Filter Option's label."};let u={id:"snippet",type:"string",label:"Snippet Name",helptext:"The name of a Snippet which will dynamically return a list of Options to use to build this Filter."};let p={id:"model",type:"model",label:"Merge Source",helptext:"The Model whose first row's specified Merge Field's value will be used as the merge value for this Condition.",onChange(n,i,a){t.children("labeltemplate, valuetemplate").empty();t.children("effects").children("effect[value]").attr("value","{{Id}}");if(a&&n)e.refresh().rebuildProps()}};let f={manual:[n],model:[n,p,l,i],metadata:[n,d,c,i],custom:[n,u,i]};let m=t.attr("type"),h=t.attr("effectsbehavior"),g=f[m];if(m==="model"&&h!=="justothers"){g.push(s)}return g},defaultStateFunction(){return Rt('<source type="manual" effectsbehavior="justdefault"/>')}}]}})}else if(Ut(o)&&r==="auto"){let e=Et.getFilterDefaultModelName(a.parent().closest("[model], [groupingmodel]")),o=a.attr("conditionField"),r=Et.getModelFromModelName(e),l=Et.getFieldInfoFromCache(e,o,r.attr("sobject"));if(l&&l.displaytype===Wt){i.push({name:"Lookup Filters",tree:{id:"conditions",label:"Lookup Filters",addtooltip:"Add Lookup Filter",deleteable:false,icon:"sk-webicon-ink:fallback",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"condition",icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Lookup Filter",deletetooltip:"Remove Lookup Filter",labelFunction(e){return Et.getConditionDisplayString(e)},defaultStateFunction(){return Rt('<condition type="fieldvalue" operator="=" enclosevalueinquotes="true"/>')},propsFunction(n){let i=n.get("xmlState");if(!i.attr("operator")){i.attr("operator","=")}n.isReferenceFilterCondition=true;let a=Et.getMetadataForField(n,{modelName:e});let o=[Et.getConditionFieldPropObj(n,{sobject:Et.getSObjectForField(n),modelName:e,showObjectPickerIfPolymorphic:true,handleChange(){n.rebuildProps(t)}}),Et.getConditionOperatorPropObj(n,{fieldMetadata:a})];return o.concat(Et.getConditionValueProperties(n,{handleRefresh(){n.rebuildProps(t)},modelName:e,validTypes:["fieldvalue","multiple","blank","userinfo","param","modelmerge","dependent"]}))}}]}})}}else if(o==="toggle"){i.push({name:"Effects",tree:{id:"effects",label:"Effects",addtooltip:"Add Effect",deleteable:false,icon:"sk-webicon-ink:fallback",isChild:true,linkedComponent:n,refreshLinkedComponent:true,childrenFunction:()=>[{id:"effect",labelFunction:Et.getEffectItemLabel,icon:"sk-webicon-ink:fallback",addicon:"sk-webicon-ink:add",deleteicon:"sk-webicon-ink:delete",addtooltip:"Add Effect",deletetooltip:"Remove Effect",propsFunction:Et.getEffectItemProperties,defaultStateFunction(){return Rt('<effect action="set" value=""/>')}}]}})}const l=a.parents("skuid__filterSet").first(),s=l.length?!l.attr("layout"):true;i.push(Nt.getInkStylesTab({component:n,propViewer:t,positioning:{isRow:s,item:{alignSelf:true,minWidth:true,maxWidth:true,ratio:true}}}),Et.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:t,showStyleVariantConditions:true}));t.setTitle("Filter Properties");t.applyPropsWithCategories(i,n.get("xmlState"))},defaultStateGenerator(){return Rt('<skuid__filter uniqueId="'.concat(Ot.generateUniqueId(),'" type="select" conditionSource="auto"/>'))}});if(!e.platform.hasFeature("PageComposerStaging")){Et.registerBuilder(Jt)}var Qt=Jt;function Zt(e,t,n){e.subscribeChange("filters",n.initFilters);e.subscribeChange("filtering",n.initFilters)}const en=e.builder,tn=en.core,nn=en.ink,an=en.desktop,on=e.utils,rn=on.makeXMLDoc,ln="skuid__filterSet",sn=e.componentType.get(ln);sn.initBuilder=Zt;const dn=new tn.Builder({id:ln,componentType:ln,name:"Filter Set",icon:"sk-webicon-ink:filter-list",indexSelectors:{unsurfaced:"filters",ignored:"filtering"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/filter-set/",n=an.getDescriptionTag(),i='The Filter Set component serves as a container for one or more filters. The set is connected to a specific model;\n\t\t\t\tthe filters can affect the data within any components connected to that model. Additionally, there are several layout options for filters,\n\t\t\t\tas well as standard filter functionality and conditional rendering options.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Filter Set component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){tn.handleModelRemove(e,t,{component:n});tn.handleModelIdChange(e,t)},init(t){const{model:n,uniqueid:i}=t.get("xmlState").attr(),a="filter-builder-".concat(i),o=Object(Pe["k"])(n),r=e.$M(a)||new e.model.Model({id:a,accessible:true,createable:true,label:o&&o.getLabel(),labelPlural:o&&o.getLabelPlural(),fields:o&&o.getFieldsList(),doClone:false,dataSourceName:"Ui-Only"}).initialize().register();t.set({model:r});t.storeSubscription(e.events.subscribe("skuid.builder.modelPropChanged",e=>{if(e===t.get("xmlState").attr("model"))t.refresh()}));t.cpi.setCanvasComponent();t.addActionItem("Add Filter",null,()=>{const e=t.get("xmlState");if(e.children("filters").length===0){e.append(rn("<filters/>"));t.cpi.save()}let n=en.getBuilder("skuid__filter").getDefaultState();e.children("filters").append(n);t.cpi.save();t.cpi.refresh()})},refresh(e){e.cpi.updateCanvasComponent()},parseState(e,t){return Object.assign({},t,{model:e.get("model"),_ignoreHasFilterConditions:true})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Filter Set Properties");let n=t.get("xmlState"),i=!n.attr("layout"),a=n.attr("model"),o=[];o.push({id:"model",type:"model",label:"Model",required:true,onChange(){t.save().rebuildProps()}},{id:"layout",type:"picklist",label:"Layout",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:"vertical"},{label:"Vertical with Accordions",value:"verticalAccordions"}],onChange(){t.rebuildProps().refresh()}},{id:"resetButtonBehavior",type:"picklist",label:"Reset Button",picklistEntries:[{label:"Enable when filters activate",value:""},{label:"Render when filters activate",value:"render"},{label:"Always hide",value:"hide"}],onChange(){t.cpi.save();t.cpi.refresh()}});e.applyPropsWithCategories([{name:"Basic",props:o},nn.getFilteringPropsCategory({tabName:"Filters & Search",component:t,modelName:a,hideOrderingOptions:true}),{name:"Advanced",props:[tn.coreProps.uniqueIdProp({component:t})]},nn.getInkStylesTab({component:t,propViewer:e,spacing:true,positioning:{isRow:!!i,container:{justifyContent:{defaultValue:i?"space-between":""},alignItems:{defaultValue:i?"flex-end":""}}}}),tn.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),tn.getContextCategory({propViewer:e,state:n,model:a})],n)},defaultStateGenerator(){let e=tn.getLastSelectedModelComponent(),t=e?e.get("xmlState"):tn.getFirstModel(),n=t?t.attr("id"):null;return rn('<skuid__filterSet model="'.concat(n,'">\n\t\t\t\t<filters />\n\t\t\t\t<filtering enableSearch="false" instantSearch="false" instantFilters="true" />\n\t\t\t</skuid__filterSet>'))},propHintMap:{"filterSet__reset-button":{prop:"resetButtonBehavior"}},componentSpoofMap:{skuid__filter:{builderId:"skuid__filter",filter:e=>e.type!=="search",cpiSpoofers:{applyPendingConditionValues:()=>false,shouldUpdateDataClientSide:()=>false,hasValue:()=>false}}}});if(e.platform.hasFeature("PageComposerStaging")){tn.registerBuilder(dn)}var cn=i(653);var un=i(158);let pn=e.$,fn=e.builder,mn=fn.core,hn=fn.ink,gn=fn.desktop,bn=e.utils,yn=bn.makeXMLDoc,vn=e.$L,Cn=e.visualizations,kn=Cn.core,Sn=Cn.map,wn=e.virtualDom.hyperScript,xn="Entity",In="Entities";function Tn(e){let t=[{value:"",label:"-- Map Default --"},{value:"sk-data-value",label:"Data Value"},{value:"sk-off",label:"Off"}];let n=[kn.getHeightTree({component:e,defaultSummary:"-- Geochart Default --",label:"Height"}),kn.getLegendTree({component:e,defaultSummary:"-- Geochart Default --",defaultState:"<legend/>"}),{id:"labels",label:"Labels",deleteable:false,linkedComponent:e,summaryFunction(n){let i=Sn.types[e.get("xmlState").attr("maptype")],a=pn("<div>").text("Map Default"),o="",r=n.attr("dlformat");if(r){let e=t.concat(i.labelFormats||[]),n=pn.grep(e,function(e){return e.value===r});o+=n.length&&n[0].label||r}if(o!=="")a.text(o);return a},propsFunction(n){let i=[],a=Sn.types[e.get("xmlState").attr("maptype")],o=function t(){e.refresh();n.refresh()},r={id:"dlformat",label:"Format",type:"picklist",defaultValue:"",picklistEntries:t,onChange(e){o(e,"dlformat")}};if(a.labelFormats&&a.labelFormats.length){r.picklistEntries=t.concat([{label:"",value:"",disabled:true},{label:"Additional Formats",value:"",disabled:true}],a.labelFormats)}i.push(r);return i}}];return n}function An(e){if(!e)e={};let t=e.propViewer,n=e.component;return[{id:"serieslist",label:"Series List",deleteable:false,icon:"sk-webicon-ink:filter-list",isChild:true,linkedComponent:n,props:[{type:"helptext",html:"Define one or more data series for this map"}],children:[{id:"series",indent:1,labelFunction(e){let t="",n=e.attr("modelId"),i=e.attr("valueField"),a=e.attr("splitField"),o=e.attr("aggFunction");if(o){t+=kn.AGG_FUNCTIONS[o].label+" "}if(i){t+=i}if(n){t+=" ("+n+")"}if(a){t+=" by "+a}return t||"Series"},defaultStateFunction(){return yn('<series joinBy="hc-key"/>')},childrenFunction(e){return kn.getSeriesOnClickActionsTree({seriesComponent:e,component:n,seriesObj:this})},propsFunction(e){let i=e.get("xmlState"),a=Sn.types[n.get("xmlState").attr("maptype")],o=i.attr("modelId")||n.get("xmlState").attr("model"),r=kn.getModelFieldsOptions(o),l=pn.merge([{label:"-- None --",value:""}],r),s=pn.merge([{label:"-- None --",value:""}],pn.map(kn.AGG_FUNCTIONS,function(e){return e})),d=function t(n){let i={id:n.id,type:"picklist",label:n.label,picklistEntries:n.entries,onChange(){e.refresh()}};if(n.helptext){i.helptext=n.helptext}return i},c=function t(i){let a={id:i.id,type:"picklist",label:i.label,picklistEntries:i.entries,onChange(){e.refresh();n.refresh()}};if(i.helptext){a.helptext=i.helptext}return a},u={id:"modelId",type:"model",label:"Model",noneOption:{label:"-- Default --",value:""},onChange(){e.refresh();e.rebuildProps&&e.rebuildProps();e.renderProperties&&e.renderProperties(t)}},p=d({id:"aggFunction",label:"Aggregate Function",entries:s}),f=c({id:"valueField",label:"Data Field",entries:r}),m=[];m.push(u,p,f);if(a.features&&a.features.length){let e={country:"The default maps in Geocharts require 2-digit ISO-3166 codes to connect your data to the maps. Country Field data that does not match this format will not be displayed.",state:"The default maps in Geocharts require 2-digit ISO-3166 codes to connect your data to the maps. State Field data that does not match this format will not be displayed."};pn.each(a.features,function(){let t=c({id:this.id+"field",label:this.label+" Field"+(this.defaultValue?" ("+this.defaultValue+")":""),entries:this.required===true?r:l});if(this.helptext){t.helptext=this.helptext}else if(e[this.id]!==undefined){t.helptext=e[this.id]}m.push(t)})}else{m.push({id:"mergeKey",type:"template",location:"attribute",displayAs:"input",label:"Merge Key"})}return m}}]},{id:"buckets",label:"Buckets",deleteable:false,icon:"sk-webicon-ink:bucket",isChild:true,linkedComponent:n,props:[{type:"helptext",html:'Options for sorting series data into buckets (e.g. "Low" is values  < 10, "Medium" is values 10 to 20...)'}],children:[{id:"bucket",indent:1,summaryFunction(e){let t=pn("<span>").text("Bucket"),n=e.attr("label"),i=e.attr("from"),a=e.attr("to"),o=e.attr("color");if(n){t.html(n)}else if(a&&!i){t.html("< "+a)}else if(a&&i){t.html(i+" - "+a)}else if(!a&&i){t.html("> "+i)}if(o){t.prepend(kn.getColorPreview(o))}return t},defaultStateFunction(){return yn("<bucket/>")},propsFunction(e){let t=function t(i){let a={id:i.id,label:i.label,type:"string",location:"attribute",onChange(){e.refresh();n.refresh()}};if(i.validator){a.validator=i.validator}return a},i=[];i.push(t({id:"label",label:"Label"}),t({id:"from",label:"From",validator:mn.validators.numericOnly}),t({id:"to",label:"To",validator:mn.validators.numericOnly}),t({id:"color",label:"Color"}));return i}}]}]}const Pn=new mn.Builder({id:"skuid__geochart",componentType:"skuid__geochart",name:"Geochart",icon:"sk-webicon-ink:world",providesContext:true,indexSelectors:{ignored:"serieslist, colors, legend, allowedtypes, buckets"},actionTypes:{series(e){let t=kn.getSeriesActions(e,{indent:3}),n=e.mapMetadata;if(n&&n.drillDownMap){t.push({value:"mapDrillIn",label:"Map Drill In",props:[{type:"helptext",html:'Also known as "Classic" Drilldown for Geocharts, this will load the next level down map for this Geochart'}]})}return t}},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/visualizations/geochart/",n=gn.getDescriptionTag(),i='A choropleth map, the Geochart component displays data on map regions\n\t\t\t\t(such as country, state,  province, or county maps) that are shaded in proportion to an aggregate value for each region.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Geochart component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},propertiesRenderer(e,t){let n=t.get("xmlState"),i=n.attr("maptype"),a=t.cpi,o=function e(){a.refresh()};if(n.attr("mapgroup")===undefined){let e=Sn.types[i]&&Sn.types[i].group;mn.updateState(n,{key:"mapgroup",value:e||"global"})}let r={id:"maintitle",type:"string",location:"attribute",label:"Title",onChange:o},l={id:"subtitle",type:"string",location:"attribute",label:"Subtitle",onChange:o},s={id:"model",type:"model",label:"Model",required:true},d={id:"mapgroup",type:"picklist",label:"Map Group",defaultValue:"global",picklistEntries:[{value:"global",label:"Global"},{value:"af",label:"Africa"},{value:"as",label:"Asia"},{value:"eu",label:"Europe"},{value:"na",label:"North America"},{value:"oc",label:"Oceania"},{value:"sa",label:"South America"},{value:"canada",label:"Canadian Provinces"},{value:"usa",label:"USA States"}],onChange(){a.refresh();a.rebuildProps(e)}},c={id:"maptype",type:"picklist",label:"Map Type",picklistEntries:pn.map(Sn.types,function(e,t){if(pn.inArray(n.attr("mapgroup"),e.groups)!==-1)return{value:t,label:e.title}}).sort(function(e,t){if(e.label>t.label)return 1;if(e.label<t.label)return-1;else return 0}),onChange:o},u=[{name:"Basic",props:[r,l,s,d,c],expanded:true},{name:"Series",tree:An({component:t,propViewer:e})},{name:"Display",tree:Tn(t)},hn.getInkStylesTab({component:t,propViewer:e,spacing:true}),kn.getAdvancedProps({component:t}),mn.getRenderingCategory({component:t,propViewer:e,showStyleVariantConditions:true})];e.applyPropsWithCategories(u,n)},parseState(e,t){const n=e.get("xmlState");const i=e.builderCPI.getModel(n.attr("model"),0).id;t.model=i;const a=yn('<series joinBy="hc-key" modelId="'.concat(i,'" valueField="',"Amount",'"/>'));if(n.find("> serieslist > series[statefield]").length){a.attr("statefield","StateProvince")}if(n.find("> serieslist > series[countyfield]").length){a.attr("countyfield","County")}if(n.find("> serieslist > series[countryfield]").length){a.attr("countryfield","Country")}t.serieslist=yn("<serieslist/>").append(a);return t},refresh(e){e.cpi.updateCanvasComponent();const t=e.cpi.getCanvasComponent();t._cpi.initChart()},init(e){let t=e.get("xmlState");e.set("lastStyleSettingsVariant",t.attr("styleSettingsVariant"));e.cpi.setCanvasComponent();let n=t.parent("charts").length;if(!n){kn.addDrilldownActionGroup(e)}else if(t.index()!==0){e.addActionItem({tooltip:vn("Remove","Remove"),icon:"sk-webicon-ink:delete",action(){fn.componentRegistry.getByState(t.parents("skuid__chartSet")[0]).builderCPI.removeChart(e)},id:"removeButton"})}},renderVDom(e){return wn("div",{},[e.getCPI().getCanvasComponent().renderVDom()])},defaultStateGenerator(){let e=mn.getLastSelectedModelComponent(),t=e?e.get("xmlState"):mn.getFirstModel(),n=t?t.attr("id"):null,i;for(let e in Sn.types){i=e;break}return yn("<"+this.id+' model="'+n+'" maintitle="{{Model.labelPlural}}" maptype="'+i+'" height="600px" />').append(yn("<colors/>"),yn("<legend/>"))},cpi:{getModel(t,n){if(!this.get("models"))this.set("models",{});const i=this.get("models");const a=this.get("xmlState").attr("maptype");const o=t+"--"+a;if(!i[o])i[o]=[];if(i[o][n])return i[o][n];const r=Sn.types[a||Object.keys(Sn.types)[0]];const l=Object(Pe["k"])(t);const s=new e.model.Model({id:"geochart-builder-".concat(e.utils.rfc4122v4GUID()),accessible:true,createable:true,label:l?l.getLabel():xn,labelPlural:l?l.getLabelPlural():In,fields:[{id:"StateProvince",label:"State/Province",accessible:true,createable:true,displaytype:"STRING"},{id:"County",label:"County",accessible:true,createable:true,displaytype:"STRING"},{id:"Amount",label:"Amount",accessible:true,createable:true,displaytype:"INTEGER"},{id:"Country",label:"Country",accessible:true,createable:true,displaytype:"STRING"},{id:"Id",label:"Id",accessible:true,createable:true,displaytype:"STRING"}],doClone:false,dataSourceName:"Ui-Only"});s.initialize().register();const d=250;bn.getJSONBodyOfZIPResourceFile("GeochartMaps","skuid",r.mapfile).then(e=>{let t=-1;const a=e.features.slice(0,d).map(e=>{if(t===-1){t++;return true}const n={Amount:t++};n.StateProvince=e.properties["hc-a2"];n.Country=e.properties["hc-a2"];n.County=e.properties["hc-a2"];if(t===7)t=-1;return n});s.adoptRows(a);i[o][n]=s});return s}}});if(e.platform.hasFeature("PageComposerStaging")){mn.registerBuilder(Pn)}var _n=i(654);const Fn=()=>e.events.publish("builder.colorcheck"),Mn=e=>{e.refresh();Fn()};function En(e,t,n){n=Object.assign({addReorderProp:true},n);const i=[],a=t.get("xmlState").attr("flexDirection"),o=a!=="column",r={id:"minWidth",type:"csssize",label:"Minimum Width",onChange:()=>Mn(e)},l={id:"maxWidth",type:"csssize",label:"Maximum Width",onChange:()=>Mn(e)},s={id:"ratio",type:"string",label:"Flex Ratio",helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by maximum and minimum widths.",onChange:()=>Mn(e)},d={id:"alignSelf",type:"picklist",label:"Align Self",helptext:"Allows custom aligning of this division.",picklistEntries:[{value:"auto",label:"Auto"},{value:"flex-start",label:o?"Top":"Left"},{value:"center",label:o?"Middle":"Center"},{value:"flex-end",label:o?"Bottom":"Right"}],onChange:()=>Mn(e)},c={type:"reorder",label:"Change Order",onChange:()=>{t.save().refresh();e.rebuildProps();Fn()}};if(!n.hideFlexRatio){i.push(s)}i.push(r);i.push(l);i.push(d);if(n.addReorderProp){i.push(c)}return i}const Nn=e.builder,On=Nn.core,Rn=e.utils,Dn=Rn.makeXMLDoc,Ln="skuid__division";const Bn=new On.Builder({id:"division",name:"Division",icon:"sk-webicon-ink:column",componentType:Ln,hideWrapper:true,isTransparent:true,init(t){t.cpi.setCanvasComponent();t.addActionItem("Delete Division","sk-webicon-ink:delete",()=>{t.remove();t.builderCPI.getGridBuilderComponent().save().refresh();Rn.delay().then(()=>e.events.publish("ui.reflow"))})},parseState(e,t){const n=e.get("xmlState"),i=e.builderCPI.getGridBuilderComponent(),a=i.get("xmlState"),{rowGutter:o,columnGutter:r,fullHeight:l}=a.attr();return Object.assign({},t,{components:[{componentType:"skuidbuilder__componentAcceptor",subtleTitle:"Division",componentsXML:n.children("components"),mode:e.cpi.getMode()}],rowGutter:o,columnGutter:r,fullHeight:l})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){const n=t.builderCPI.getGridBuilderComponent(),i=t.get("xmlState");e.setTitle("Division Properties");e.applyPropsWithCategories([{name:"Basic",props:[...En(t,n,{}),On.coreProps.uniqueIdProp({component:n})]},On.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,propViewer:e})],i)},defaultStateGenerator(){return Dn('<division alignSelf="auto" minWidth="100px" ratio="1"/>').append(Dn("<components/>"))},cpi:{getGridBuilderComponent(){return this.getParentComponent().get("parentBuilderComponent")}}});var Vn=Bn;function jn(e,t,n){e.subscribeChange("divisions",n.createDivisions);["rowGutter","columnGutter","fullWidth"].forEach(n=>e.subscribeChange(n,e=>t._divisionInstances.forEach(t=>{t.get("builderComponent").cpi.getCanvasComponent().set(n,e)})))}const Gn=()=>e.events.publish("builder.colorcheck"),Wn=e=>{e.refresh();Gn()},Un=e=>{e.refresh().rebuildProps();Gn()};function zn(e){const t=e.get("xmlState"),n=t.attr("flexDirection")!=="column";return[{id:"flexDirection",type:"picklist",label:"Main Axis",helptext:"Determines how to align the grid divisions.",picklistEntries:[{value:"row",label:"Row"},{value:"column",label:"Column"}],onChange:()=>Un(e)},{id:"justifyContent",type:"picklist",label:"Justify Division",helptext:n?"Determines how the row of grid divisions will justify along a left-right axis.":"Determines how the stacked grid divisions will justify along a top-to-bottom axis.",picklistEntries:[{value:"flex-start",label:n?"Left":"Top"},{value:"center",label:n?"Center":"Middle"},{value:"flex-end",label:n?"Right":"Bottom"},{value:"space-between",label:"Space between"},{value:"space-around",label:"Space around"},{value:"stretch",label:"Stretch"}],onChange:()=>Wn(e)},{id:"alignItems",type:"picklist",label:"Align Divisions",helptext:n?"Determines where divisions sit within the grid, positioning them along a top-to-bottom axis.":"Determines where divisions sit within the grid, positioning them along a left-right axis",picklistEntries:[{value:"flex-start",label:n?"Top":"Left"},{value:"center",label:n?"Middle":"Center"},{value:"flex-end",label:n?"Bottom":"Right"},{value:"stretch",label:"Stretch"}],onChange:()=>Wn(e)}]}function qn(t){const n=e.builder.desktop.getSpacingTokensAsPicklist(),i=zn(t);i.push({id:"columnGutter",type:"picklist",picklistEntries:n,label:"Column Gutter Size",onChange:Wn.bind(this,t)},{id:"rowGutter",type:"picklist",picklistEntries:n,label:"Row Gutter Size",onChange:Wn.bind(this,t)});return i}const Hn=e.builder,Xn=Hn.core,Yn=Hn.ink,$n=e.builder.desktop,Kn=e.utils.makeXMLDoc,Jn="skuid__grid",Qn=e.componentType.get(Jn);Qn.initBuilder=jn;const Zn=new Xn.Builder({id:Jn,name:"Responsive Grid",icon:"sk-webicon-ink:responsive-grid",componentType:Jn,isGlobalComponent:true,makeDraggable:true,hideWrapper:false,hideFromComponentsList:false,isTransparent:true,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/responsive-grid/",n=$n.getDescriptionTag(),i='The Responsive Grid component allows for organizing and displaying page content in a manner that will adapt intelligently to the size of its container.\n\t\t\t\tYou can add more components inside a Responsive Grid.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Responsive Grid component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(t){t.cpi.setCanvasComponent();t.addActionItem("Add Division",null,()=>{const n=Vn.defaultStateGenerator();t.get("xmlState").children("divisions").first().append(n);t.refresh().save();e.utils.delay().then(()=>e.events.publish("ui.reflow"))})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){const n=t.get("xmlState");e.setTitle("Responsive Grid Properties");e.applyPropsWithCategories([{name:"Layout",props:qn(t)},{name:"Advanced",props:[Xn.coreProps.uniqueIdProp({component:t,onChange:()=>t.refresh()})]},Xn.getInteractionsCategory({linkedComponent:t}),Yn.getInkStylesTab({component:t,propViewer:e,spacing:true}),Xn.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){return Kn('<skuid__grid><divisions><division minWidth="100px" ratio="1"><components/></division></divisions></skuid__grid>')},componentSpoofMap:{skuid__division:{builder:Vn,makeDraggable:false,cache:true,filter:()=>true,styles:{flex:"1"}}}});if(e.platform.hasFeature("PageComposerStaging")){Xn.registerBuilder(Zn);Zn.registerChildBuilder(Vn)}(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.builder,n=t.core,i=t.ink,a=e.builder.desktop,o=e.utils.makeXMLDoc,r=e.events;n.registerBuilder(new n.Builder({id:"skuid__grid",name:"Responsive Grid",icon:"sk-webicon-ink:responsive-grid",isGlobalComponent:true,makeDraggable:true,hideWrapper:false,hideFromComponentsList:false,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/responsive-grid/",n=a.getDescriptionTag(),i='The Responsive Grid component allows for organizing and displaying page content in a manner that will adapt intelligently to the size of its container.\n\t\t\t\t\tYou can add more components inside a Responsive Grid.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Responsive Grid component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},isTransparent:true,componentRenderer(t){let i=t.get("xmlState"),l=t.body,s=this.registerChildBuilder(new n.Builder({id:"division",name:"Division",icon:"sk-webicon-ink:column",hideWrapper:true,isTransparent:true,componentRenderer(n){let i=n.get("xmlState"),o=i.parent().parent(),l=o.attr("columnGutter"),s=o.attr("rowGutter"),d=n.get("acceptor")||new a.ComponentAcceptor(n.get("xmlState").children("components"),{subtleTitle:"Division",mode:n.mode,parentComponent:n}),c=n.getCPI();n.set("acceptor",d);c.addClass("sk-grid-division nx-pagebuilder-grid-component");c.setStyle(e.responsive.getFlexDivisionStyles({width:i.attr("width"),minWidth:i.attr("minWidth"),maxWidth:i.attr("maxWidth"),relativeSize:i.attr("ratio"),alignSelf:i.attr("alignSelf"),columnGutter:l,rowGutter:s}));n.body.append(d.element);n.addActionItem("Delete Division","sk-webicon-ink:delete",function(){n.remove();t.save().refresh();r.publish("builder.colorcheck")});n.acceptor=d},propertiesRenderer(e,i){e.setTitle("Division Properties");const a=i.get("xmlState"),o=[{name:"Basic",props:[...En(i,t,{}),n.coreProps.uniqueIdProp({component:t})]},n.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e})];e.applyPropsWithCategories(o,a)},defaultStateGenerator(){return o('<division alignSelf="auto" minWidth="100px" ratio="1"/>').append(o("<components/>"))},addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}}}));this.registerChildBuilder(s);t.setTitle(t.builder.name);Array.from(i.children("divisions")[0].children).forEach(i=>{let a=e.$(i),o=n.getCanvasComponentFromState(a);if(!o){o=n.componentFactory(a,s)}else{o.refresh()}o.element.appendTo(t.body)});l.addClass("sk-grid");e.responsive.prepareFlexGrid(t.body,{flexDirection:i.attr("flexDirection"),justifyContent:i.attr("justifyContent"),alignItems:i.attr("alignItems")});t.addActionItem("Add Division",null,function(){let e=s.defaultStateGenerator(),i=n.componentFactory(e,s);i.element.appendTo(t.body);t.get("xmlState").children("divisions").first().append(e);t.refresh().save();r.publish("builder.colorcheck")})},propertiesRenderer(e,t){e.setTitle("Responsive Grid Properties");e.element.addClass("sk-capitalize-selects");const a=qn(t);let o=t.get("xmlState"),r=[];r.push({name:"Layout",props:a},{name:"Advanced",props:[n.coreProps.uniqueIdProp({component:t,onChange(){t.refresh()}})]},n.getInteractionsCategory({linkedComponent:t}),i.getInkStylesTab({component:t,propViewer:e,spacing:true}),n.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showStyleVariantConditions:true}));e.applyPropsWithCategories(r,o)},defaultStateGenerator(){return o('<skuid__grid><divisions><division minWidth="100px" ratio="1"><components/></division></divisions></skuid__grid>')}}))})(e);function ei(e){const t=e.getState(),n=e.shortcut("set"),{model:i}=t,a=t.context||(!i?undefined:{model:i});e.subscribeChange("skuid__buttonSet",t=>{const o=e.get("buttonSetInstance");o&&o.unregister();t&&n("buttonSetInstance",e.createChildComponent(Object.assign({},t,{componentType:"skuid__buttonSet",styleSettingsVariant:"@parent/buttonSet",position:"left",model:i,context:a})))})}let ti=e.builder,ni=ti.core,ii=ti.ink,ai=ti.desktop,oi=e.utils,ri=oi.makeXMLDoc,li="skuid__buttonSet",si="skuid__buttonGroup",di=ni.getBuilder(li),ci=ni.getBuilder(si),ui=e.events,pi="skuid__header",fi="Header",mi="sk-webicon-ink:page-title",hi=e.componentType.get(pi);hi.initBuilder=ei;const gi=new ni.Builder({id:pi,name:fi,icon:mi,componentType:pi,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/header/",n=ai.getDescriptionTag(),i='The Header component provides an easy way to display a title and subtitle for a data source object.\n\t\t\t\tTypically, this component is used to provide context within the page. (Buttons can also be added to this component.)\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Header component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(e){const t=e.get("xmlState");e.cpi.setCanvasComponent();let n=t.children(li).first();e.addActionItem("Add Button Group",null,function(){let i;if(!n.length){n=di.defaultStateGenerator();t.append(n)}else{i=ci.defaultStateGenerator();n.children("groups").append(i)}e.save().refresh();ui.publish("builder.colorcheck")});ui.subscribe("skuid.pageComposer.component.afterRemove",function({component:t}){if(t.builderId!==si)return;e.save().refresh()});const i=e.updateModel=(t=>{e.set("lastModelName",t);const n=e.cpi.getCanvasComponent().getChildComponentsOfType("skuidbuilder__spoofer")[0];n&&n.get("builderComponent").builderCPI.updateModel(t||null)});e.cpi.createObserver({node:t[0],observe:{attributes:true,attributeFilter:["model"]},callback:()=>i(t.attr("model"))});i(t.attr("model"))},refresh(e){e.cpi.updateCanvasComponent({},()=>{const t=e.cpi.parseState(),n=e.getCPI().getCanvasComponent().getChildComponentsOfType(li)[0];if(n&&t.skuid__buttonSet){n.set("groups",t.skuid__buttonSet.groups)}})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},handleStateEvent(e,t,n){ni.handleModelRemove(e,t,{component:n});ni.handleModelIdChange(e,t)},propertiesRenderer(e,t){let n=t.get("xmlState"),i=n.children("buttons").first(),a=n.children("skuid__buttonSet").first(),o=fi+" Properties";if(i.length&&!a.length){a=di.defaultStateGenerator();a.find("buttons").replaceWith(i);n.append(a);t.save().refresh()}e.setTitle(o);let r=[{id:"model",type:"model",label:"Model",required:false,onChange(){t.updateAutoCreatedEditorCondition();t.rebuildProps()}},{id:"title",type:"template",label:"Title",required:true,location:"attribute",onChange(e){t.body.find(".nx-pagetitle-maintitle").text(e||"Title");t.save().refresh()}},{id:"subtitle",type:"template",label:"Subtitle",location:"attribute",onChange(e){t.body.find(".nx-pagetitle-subtitle").text(e||"Subtitle");t.save().refresh()}},{id:"separator",type:"boolean",label:"Add border separator",location:"attribute",defaultValue:false,onChange(e){t.body.find(".nx-pagetitle-separator").css("display",e?"block":"none");t.save().refresh()}},{id:"titleTag",type:"picklist",label:"Heading level",helptext:"This helps screen readers correctly navigate the page. It does not change the visual appearance of the component; to do that, use Styles tab > Style Variants.",picklistEntries:[{label:"1",value:""},{label:"2",value:"h2"},{label:"3",value:"h3"},{label:"4",value:"h4"},{label:"5",value:"h5"},{label:"6",value:"h6"}],required:true}];e.applyPropsWithCategories([{name:"Basic",props:r},{name:"Advanced",props:[ni.coreProps.uniqueIdProp({component:t})]},ii.getInkStylesTab({component:t,propViewer:e,spacing:true}),ni.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),ni.getContextCategory({propViewer:e,state:n,model:n.attr("model")})],n)},defaultStateGenerator(){let e=ni.getLastSelectedModelComponent(),t=e&&e.get("xmlState")?e.get("xmlState").attr("id"):null;return ri("<"+pi+"/>").attr({model:t,title:"Title"})},componentSpoofMap:{skuid__buttonSet:{builderId:"skuid__buttonSet",makeDraggable:true,cache:true,unselectable:true,filter:()=>true}}});if(e.platform.hasFeature("PageComposerStaging")){ni.registerBuilder(gi)}var bi=i(655);function yi(e,t,n){e.subscribeChange("resource",n.fetchImage);e.subscribeChange("styles",n.updateStyles)}const vi=e.builder,Ci=vi.core,ki=vi.ink,Si=vi.desktop,wi=e.utils.makeXMLDoc,xi="skuid__image",Ii=e.componentType.get(xi);Ii.initBuilder=yi;const Ti=new Ci.Builder({id:xi,name:"Image",icon:"sk-webicon-ink:image",isTransparent:true,componentType:xi,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/image/",n=Si.getDescriptionTag(),i='The Image component displays an image on a Skuid page, which you can then use as a link or a button.\n\t\t\t\tWithin the Properties pane, set the Interactions tab to set custom actions that are taken when the Image\n\t\t\t\tis clicked or swiped.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Image component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(e){e.cpi.setCanvasComponent()},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Image Properties");let n=t.get("xmlState"),i=Ci.getImageProperties({component:t,propertiesObj:e}),a=t.currentImageSource;i.push({id:"alt",label:"Alternative Text",type:"template",location:"attribute"});const o=[];o.push({name:"Basic",props:i},{name:"Advanced",props:[Ci.coreProps.uniqueIdProp({component:t,onChange(){t.refresh()}})]});if(n.attr("behavior")!=="none"){o.push(Ci.getInteractionsCategory({linkedComponent:t,getModelName:()=>n.attr("model")}))}o.push(ki.getInkStylesTab({component:t,propViewer:e,spacing:true,size:true}),Ci.getRenderingCategory({component:t,propertiesObj:e,model:n.attr("model"),conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",enableConditionsNodeId:"enableConditions",showStyleVariantConditions:true}));if(a&&(a.needsRecordContext||a.optionalRecordContext)){o.push(Ci.getContextCategory({propertiesObj:e,state:n,modelprop:"model",onChange(){t.refresh().rebuildProps()}}))}e.applyPropsWithCategories(o,n)},defaultStateGenerator(){return wi('<skuid__image source="staticresource"/>')}});if(e.platform.hasFeature("PageComposerStaging")){Ci.registerBuilder(Ti)}var Ai=i(68);(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}const t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils.makeXMLDoc;i.registerBuilder(new i.Builder({id:"skuid__image",name:"Image",icon:"sk-webicon-ink:image",isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/image/",n=o.getDescriptionTag(),i='The Image component displays an image on a Skuid page, which you can then use as a link or a button.\n\t\t\t\t\tWithin the Properties pane, set the Interactions tab to set custom actions that are taken when the Image\n\t\t\t\t\tis clicked or swiped.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Image component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},componentRenderer(n){n.setTitle(n.builder.name);const i=n.get("xmlState"),a=t("<div />").appendTo(n.body),o=t("<img />").css("width","100%").appendTo(a),r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAAAPUlEQVR42u3OMQEAAAgDINe/ol00xh5IQPamKgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLtwAO3ZHcBY0haQAAAAABJRU5ErkJggg==",l=new Ai["a"](i.attr());let s=i.attr("imageWidth"),d=i.attr("imageHeight");if(!d){const e=i.attr("heightStrategy"),t=i.attr("heightCustom");if(e==="fixed"&&d){d=d==="custom"?t:"".concat(8*d,"px")}}const c=!d&&!s;d=c?undefined:d||"auto",s=c?undefined:s||"auto";o.css({height:d,width:s});l.getImage().then(function(t){o.attr("src",t);e.events.publish("skuid.builder.imageLoaded",[n.get("xmlState")])}).catch(function(){o.attr("src",r)})},propertiesRenderer(e,t){e.setTitle("Image Properties");let n=t.get("xmlState"),o=i.getImageProperties({component:t,propertiesObj:e}),r=t.currentImageSource;o.push({id:"alt",label:"Alternative Text",type:"template",location:"attribute"});const l=[];l.push({name:"Basic",props:o},{name:"Advanced",props:[i.coreProps.uniqueIdProp({component:t,onChange(){t.refresh()}})]});if(n.attr("behavior")!=="none"){l.push(i.getInteractionsCategory({linkedComponent:t,getModelName:()=>n.attr("model")}))}l.push(a.getInkStylesTab({component:t,propViewer:e,spacing:true,size:true,componentTypeName:"skuid__image"}),i.getRenderingCategory({component:t,propertiesObj:e,model:n.attr("model"),conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",enableConditionsNodeId:"enableConditions",showStyleVariantConditions:true}));if(r&&(r.needsRecordContext||r.optionalRecordContext)){l.push(i.getContextCategory({propertiesObj:e,state:n,modelprop:"model",onChange(){t.refresh().rebuildProps()}}))}e.applyPropsWithCategories(l,n)},defaultStateGenerator(){return r('<skuid__image source="staticresource"/>')}}))})(e);var Pi=i(160);const _i=P["a"].createStyleSheet({columns:{margin:0,padding:0,display:"flex",flex:"1",border:"none !important",fontFamily:'Roboto, "Open Sans", sans-serif',"& .nx-dropzone--active":{margin:0},"& > div > span":{flex:1}},columns__acceptor:{border:"none !important"},columns__column:{margin:"0 2px","& .nx-dropzone":{height:"8px !important",float:"none !important",width:"100% !important"}},column__body:{padding:"0 !important",border:"none !important"},"item--primary":{fontWeight:"500",fontSize:"13px !important",color:"#4B4E54 !important"},"item--secondary":{fontSize:"13px !important"},item:{color:"#686B71",fontSize:"11px",padding:"8px 0",borderBottom:"1px dashed #ddd"},row:{display:"flex"},"row-actions":{flex:"none !important",display:"flex",alignItems:"center",border:"none !important",padding:"0 !important"},"row-action":{border:"1px solid #005CB9 !important",borderRadius:"3px",height:"32px",color:"#005CB9",padding:"0 8px !important",display:"flex",alignItems:"center",marginRight:"8px"},"row-action__icon":{marginRight:"8px !important"}});const Fi=_i.attach().classes;var Mi=i(69);let Ei=e.$,Ni=e.builder,Oi=Ni.core,Ri=Ni.ink,Di=Ni.desktop,Li=Ni.listHelper,Bi=e.utils,Vi=Bi.makeXMLDoc,ji=e.events.publish,Gi=e.builder.dragDrop.DragManifest;const Wi="Template";const Ui=e=>{const t=Li.fieldStateGenerator(Object.assign({},e,{fieldNodeName:"item"}));const n=t.attr("id");if(n){t.attr("fieldId",n)}t.removeAttr("id");t.removeAttr("label");return t};const zi=new Oi.Builder({id:"skuid__list",name:"List",icon:"sk-webicon-ink:list",providesContext:true,neededNotices:[nt["c"].noModel],indexSelectors:{unsurfaced:"items, columns, rowActions, massActions, filters",ignored:"filtering"},resolveChildBuilder(e){if(e.tagName.toLowerCase()!=="action")return;if(e.parentElement.tagName.toLowerCase()==="massactions")return Yi;return Xi},getNotices(e){const t=[];if(!e.attr("model"))t.push(nt["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/list/",n=Di.getDescriptionTag(),i='The List components displays a roster of items (pulled from models) in a vertical layout.\n\t\t\t\tTo configure the actions taken when a List item is selected, use the Interactions tab.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">List component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){let i=e.attr("model"),a=t.type==="model.idChange",o=t.type==="model.remove",r=t.type==="model.field.remove",l=t.type==="model.field.metadataChange",s=false,d=false,c=t.parentChildRelationship!==undefined;if(c&&t.parentChildRelationship!==e.attr("model")){return}o&&Oi.handleModelRemove(e,t,{component:n});a&&Oi.handleModelIdChange(e,t);if(a&&t.oldId===i){d=true}if((r||l)&&!c){if(e.attr("model")===t.modelId){let n=e.find('columns > column > items > item[fieldId="'.concat(t.fieldId,'"]'));if(n.length&&r){n.each(function(){Ei(this).remove()});s=true;d=true}}}if(s){ji("skuidBuilderNeedSave")}if(d&&n){ji("skuidBuilderComponentNeedsRefresh",[n])}},propertiesRenderer(e,t){e.setTitle("List Properties");let n=t.get("xmlState"),i=n.attr("model");let a,o;const r={id:"model",type:"model",label:"Model",required:false,onChange(e){let i=false,a=true,o=false,r=Oi.getModelFromModelName(e),l;if(r){l=r.children("fields,groupby").children()}const s=t.get("fieldAcceptor").acceptorComponent;s.set("requiresModels",[e]);s.getChildComponentsOfType("skuidbuilder__builderComponent").forEach(t=>{t.get("itemAcceptor").set("requiresModels",[e])});t.updateAutoCreatedEditorCondition();n.children("fields").children().each(function(){let e=Ei(this),t=e.attr("id"),n=e.attr("name");if(!l.filter('[id="'.concat(t,'"],[name="').concat(n,'"]')).length){e.remove();i=true;a=true}});if(i)t.save();t.rebuildProps();if(a)t.refresh();if(o)t.renderProperties&&t.renderProperties()}};const l={id:"title",label:"Title",type:"template",location:"attribute",onChange(){t.refresh()}};o=[r,l];a=[{name:"Basic",props:o},{name:"Display",tree:[{label:"Pagination",linkedComponent:t,deleteable:false,props:[Li.propertiesFactory.pageSize(),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true},Li.propertiesFactory.resetPaginationOnQuery()]},{label:"Advanced",linkedComponent:t,deleteable:false,propsFunction:()=>[Oi.coreProps.uniqueIdProp({component:t})]},{label:"Other",linkedComponent:t,deleteable:false,props:[{id:"rowActionsOnLeft",label:"Row Actions on Left",type:"boolean",defaultValue:false,onChange:()=>t.refresh()},{id:"showLoadMore",label:'Show "Load more" button',type:"boolean",defaultValue:true},Li.propertiesFactory.showListHeader({onChange:()=>t.refresh()}),Li.propertiesFactory.showListFooter({onChange:()=>t.refresh()})]}]},Ri.getFilteringPropsCategory({component:t,modelName:i,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true}),Oi.getInteractionsCategory({getModelName:()=>n.attr("model"),linkedComponent:t}),Ri.getInkStylesTab({component:t,propViewer:e,spacing:true}),Oi.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),Oi.getContextCategory({propViewer:e,state:n,model:i})];e.applyPropsWithCategories(a,t.get("xmlState"))},defaultStateGenerator(){let e=Oi.getLastSelectedModelComponent(),t=e?e.get("xmlState"):Oi.getFirstModel(),n=t?t.attr("id"):null;return Vi("<skuid__list/>").attr({model:n}).append(Vi("<columns/>"),Vi("<rowActions/>"),Vi("<massActions/>"),Vi('<filtering enableSearch="false" />'))},componentRenderer(t){let n=t.get("xmlState"),i=n.attr("model"),a=Hi(t,this),o=qi(t,this),r=Ei("<div>").addClass("clearfix nx-editor-header nx-table-header").css({display:"flex","justify-content":"space-between"}),l=Ei("<div>").addClass("clearfix nx-editor-header nx-table-header"),s=Ni.getBuilder("skuid__filter"),d=new Di.ComponentAcceptor(n.children("filters"),{customBuilder:s,requiresGlobalComponent:false,acceptsBuilderIds:["skuid__filter"],requiresModels:[i],mode:t.mode,parentComponent:t}),c=()=>{if(n.children("filters").length===0){n.append(Vi("<filters/>"));t.save()}let e=s.getDefaultState();n.children("filters").append(e);t.save().refresh()};d.addClass("nx-pagebuilder-acceptor-inline-small");d.setStyle({display:n.children("filters").children().length?"flex":"none",border:"none"});t.setTitle(t.builder.name);t.body.css("padding","8px").addClass("nx-pagebuilder-list");t.heading=Ei("<h2>").css({float:"left","margin-top":"0","margin-left":"3px",flex:"auto"});t.heading.html(n.attr("title")||"&nbsp;");r.append(t.heading);t.filterWrapper=Ei("<div>").addClass("nx-conditioncontainer");t.filterWrapper.css("display","flex");let u=n.children("massActions");let p=new Di.ComponentAcceptor(u,{customBuilder:Yi,requiresGlobalComponent:false,acceptsBuilderIds:["action"],requiresModels:[i],mode:t.mode,parentComponent:t,layout:"flex"});p.addClass("nx-pagebuilder-acceptor-inline");p.addClass(Fi["row-actions"]);if(n.attr("showListHeader")==="false"){r.append(Li.renderHeaderFooterVisibilityHelper("header"))}else{r.append(t.filterWrapper);l.append(p.element)}t.searchBox=Ei("<input/>").prop("disabled",true).addClass("searchbox").css({color:"#DDD",margin:"4px"});if(!t.updateSearchBox){t.updateSearchBox=function(){let i=n.children("filtering"),a=i.attr("enableSearch")==="true",o=i.attr("searchPlaceholder");if(!o){const n=Oi.getModelFromModelName(t.get("xmlState").attr("model")),i=Oi.getDataSourceFromModel(n),a=n?n.attr("sobject"):null,r=a?i.getCachedEntityMetadata(a):null,l=r?r.getLabelPlural():null;o=e.$L("Search")+" "+(l?l:"")}t.searchBox.attr("placeholder",o);t.searchBox.toggle(a)}}t.updateSearchBox();let f=n.children("columns");let m=n.children("rowActions");let h=Ei("<div>").addClass("nx-list-body");let g=Ei("<div>").addClass(Fi["row"]);let b=new Di.ComponentAcceptor(f,{customBuilder:o,requiresGlobalComponent:false,acceptsBuilderIds:["model__field","list__column"],requiresModels:[i],mode:t.mode,layout:"flex",parentComponent:t});b.addClass(Fi["columns"]);g.append(b.element);let y=t.get("rowActionAcceptor")||new Di.ComponentAcceptor(m,{customBuilder:Xi,requiresGlobalComponent:false,acceptsBuilderIds:["action"],requiresModels:[i],mode:t.mode,parentComponent:t,layout:"flex"});y.addClass("nx-pagebuilder-acceptor-inline");y.addClass(Fi["row-actions"]);if(n.attr("rowActionsOnLeft")==="true"){g.prepend(y.element)}else{g.append(y.element)}const v=(e,t={})=>n.find("columns").append(Vi("<column />").append(Vi("<items />").append(Vi('<item displayType="'.concat(e,'"/>')).attr(t))));t.addActionGroup(Ni.makeAddFieldActionButton({component:t,showAvatar:true,showIcon:true,showImage:true,showTemplate:true,fieldBuilder:a,insertFieldStateHandler(e){n.find("columns").append("\n\t\t\t\t\t<column>\n\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t".concat(e[0].outerHTML,"\n\t\t\t\t\t\t</items>\n\t\t\t\t\t</column>\n\t\t\t\t"))},addTemplateHandler(){v("template",{template:Wi});t.save().refresh()},addImageHandler(){v("image");t.save().refresh()},addAvatarHandler(){v("avatar");t.save().refresh()},addIconHandler(){v("icon");t.save().refresh()}}),"Add Field(s)","sk-webicon-ink:edit-form");t.addActionGroup([{text:"Add Row Action",icon:"sk-webicon-ink:actions",action(){if(!n.children("rowActions").length){!n.append("<rowActions/>")}n.find("rowActions").append(Xi.defaultStateGenerator());t.save().refresh()}},{text:"Add Mass Action",icon:"sk-webicon-ink:actions",action(){if(!n.children("massActions").length){!n.append("<massActions/>")}n.find("massActions").append(Xi.defaultStateGenerator());t.save().refresh()}},{text:"Add List Filter",icon:"sk-webicon-ink:filter",action:c}],"Add Feature");t.filterWrapper.append(d.element,t.searchBox);t.body.append(r,l,g,h,t.footerWrapper);if(n.attr("showListFooter")==="false"){t.body.append(Li.renderHeaderFooterVisibilityHelper("footer"))}}});let qi=function t(n,i){return i.registerChildBuilder(new Oi.Builder({id:"list__column",name:"Column",xmlTag:"column",icon:"sk-webicon-ink:column",setUniqueId:false,componentRenderer(t){let a=Hi(n,i),o=t.get("xmlState"),r="",l=n.get("xmlState").attr("model"),s=o.attr("widthBehavior")==="fixed";if(s){if(o.attr("width")==="-1"){r=o.attr("customWidthAmount")||"64px"}else{r=e.themeSettings.getThemeSettings().spacing(o.attr("width")||12)}}const d=t.getCPI();d.addClass(Fi["columns__column"]);d.setStyle({width:r,flex:s?"":o.attr("fillRatio")||"1"});d.setDragManifest(new Gi({model:l,builderId:"list__column",isGlobalComponent:false}));let c=o.children("items"),u=new Di.ComponentAcceptor(c,{customBuilder:a,requiresGlobalComponent:false,acceptsBuilderIds:["model__field","list__item"],requiresModels:[l],mode:n.mode,parentComponent:n});u.addClass("nx-pagebuilder-acceptor-inline");u.addClass(Fi["columns__acceptor"]);t.body.append(n.drawerIconsWrapper,u.element);t.body.addClass(Fi["column__body"]);t.addActionItem("","sk-webicon-ink:delete",()=>{t.remove()},"Remove");t.addActionGroup(Ni.makeAddFieldActionButton({component:n,showAvatar:true,showIcon:true,showImage:true,showTemplate:true,fieldBuilder:a,insertFieldStateHandler(e){o.find("items").append(e)},addTemplateHandler(){o.find("items").append('<item displayType="template" template="'.concat(Wi,'"/>'));n.save().refresh()},addImageHandler(){o.find("items").append('<item displayType="image" />');n.save().refresh()},addAvatarHandler(){o.find("items").append('<item displayType="avatar" />');n.save().refresh()},addIconHandler(){o.find("items").append('<item displayType="icon" />');n.save().refresh()}}),"Add Field(s)","sk-webicon-ink:edit-form")},propertiesRenderer(e,t){const n=t.get("xmlState").attr("widthBehavior")==="fixed";e.setTitle("Column Properties");e.applyPropsWithCategories([{name:"Basic",props:[{id:"widthBehavior",type:"picklist",label:"Width behavior",defaultValue:"",picklistEntries:[{label:"Fill",value:""},{label:"Fixed",value:"fixed"}],onChange:()=>{t.save().refresh().rebuildProps()}},...!n?[{id:"fillRatio",type:"number",label:"Fill ratio",defaultValue:1,onChange:()=>{t.save().refresh()}}]:[],...n?[{id:"width",type:"picklist",label:"Width",defaultValue:"",picklistEntries:[{label:"Extra small",value:6},{label:"Small",value:""},{label:"Medium",value:24},{label:"Large",value:48},{label:"Extra Large",value:72},{label:"Custom",value:-1}],onChange:()=>{t.save().refresh().rebuildProps()}}]:[],...n&&t.get("xmlState").attr("width")==="-1"?[{id:"customWidthAmount",type:"csssize",label:"Custom width amount",onChange:()=>{t.save().refresh()}}]:[]]}],t.get("xmlState"))},defaultStateGenerator(e){if(e.fieldId){return Vi("\n\t\t\t\t\t\t<column>\n\t\t\t\t\t\t\t<items>\n\t\t\t\t\t\t\t\t".concat(Ui(e)[0].outerHTML,"\n\t\t\t\t\t\t\t</items>\n\t\t\t\t\t\t</column>\n\t\t\t\t\t"))}return Vi("<column/>")}}))};let Hi=(t,n)=>{return n.registerChildBuilder(new Oi.Builder({id:"list__item",name:"Item",xmlTag:"item",icon:"sk-webicon-ink:edit-form",hideWrapper:true,setUniqueId:false,getSubtitle(e,t){switch(e.getAttribute("displayType")){case"field":let n=e.getAttribute("fieldId");return n?Object(Pt["b"])(n,t.modelFieldsMetadata)||n:null;case"template":return e.getAttribute("template");case"avatar":return"AVATAR";case"icon":return"ICON";case"image":return"IMAGE"}},componentRenderer(n){let i=n.get("xmlState"),a=t.get("xmlState").attr("model"),o=Ei("<div>"),r=i.attr("displayType"),l=i.attr("name")||i.attr("fieldId");n.getCPI().addClass(Fi["item"]);if(!r||r==="field"){o.text("{{".concat(l||"No field selected","}}"))}else if(r==="template"){o.text(i.attr("template"))}else if(r==="image"){o.text("IMAGE")}else if(r==="avatar"){o.text("AVATAR")}else if(r==="icon"){let t=e.ui.createIcon(i.attr("fallback")||"");o.css({"min-width":"64px","text-align":"center"}).append(t)}else{let e=Oi.getFieldInfoFromCache(a,i.attr("fieldId")).label;o.text(e||"No field selected")}n.body.attr("class","").append(o).css("padding",0);n.getCPI().setDragManifest(new Gi({model:a,builderId:"list__item",isGlobalComponent:false}));let s=i.attr("displayStyle");if(s){n.body.addClass(Fi["item--".concat(s)])}else{i.index()===0&&n.body.addClass(Fi["item--primary"]);i.index()===1&&n.body.addClass(Fi["item--secondary"])}n.addActionItem("Remove","sk-webicon-ink:delete",()=>{n.remove()})},propertiesRenderer(e,n){e.setTitle("Item Properties");const i=t.get("xmlState").attr("model"),a=Oi.getModelFromModelName(i),o=a&&a.attr("type")==="aggregate",r={id:"displayType",type:"picklist",label:"Type",defaultValue:"field",picklistEntries:[{label:"Field",value:"field"},{label:"Field Label",value:"fieldLabel"},{label:"Template",value:"template"}],onChange:e=>{if(e==="template"){n.get("xmlState").removeAttr("fieldId")}n.rebuildProps().refresh()}},l={id:"displayStyle",type:"picklist",label:"Display Style Override",defaultValue:"",picklistEntries:[{label:"None",value:""},{label:"Primary",value:"primary"},{label:"Secondary",value:"secondary"},{label:"Tertiary",value:"tertiary"}],onChange:()=>{n.refresh()}},s={id:"fieldId",type:"field",label:"Field",useAliasNamesIfAggregate:true,modelname:t.get("xmlState").attr("model"),onChange:e=>{if(o){const t=a.find('> fields > field[name="'.concat(e,'"], > groupby > field[name="').concat(e,'"]'));n.get("xmlState").attr({fieldId:t.attr("id"),name:t.attr("name")})}n.save().rebuildProps().refresh()}},d={id:"url",type:"template",label:"Image URL",location:"attribute"},c={id:"alt",type:"template",label:"Alternate Text",location:"attribute"},u=[d,c],p=n.get("xmlState").attr("fallbackType"),f={id:"styleSettingsVariant",label:"Style Variant",type:"picklist",picklistEntries:[{value:"",label:"Default"},{value:"circular",label:"Circular"},{value:"square",label:"Square - Crop Image"},{value:"nocrop",label:"Square - Full Image"}]},m={id:"size",label:"Size",type:"picklist",defaultValue:"large",picklistEntries:Object.keys(Mi["a"]).map(e=>({value:e,label:Mi["a"][e].label}))},h=[f,d,c,m,{id:"fallbackType",label:"Fallback Type",type:"picklist",picklistEntries:[{value:"",label:"Text"},{value:"icon",label:"Icon"}],onChange:()=>n.rebuildProps()},{id:"fallback",label:p==="icon"?"Fallback Icon":"Fallback Text",type:p==="icon"?"icon":"template",location:"attribute",onChange:()=>n.refresh()}],g=[f,{id:"fallback",label:"Icon",type:"icon",location:"attribute",onChange:()=>n.refresh()},m,c],b={id:"template",type:"template",label:"Template",location:"attribute",onChange:()=>n.refresh()},y={id:"delimiter",type:"string",label:"Delimiter",location:"attribute"},v=[];switch(n.get("xmlState").attr("displayType")){case"avatar":v.push(...h);break;case"image":v.push(...u);break;case"icon":v.push(...g);break;case"template":v.push(r,l,b);break;default:if(n.get("xmlState").attr("type")!=="CHILDREL"){v.push(r,l,s)}else{v.push(r,l,b,y)}break}e.applyPropsWithCategories([{name:"Basic",props:v}],n.get("xmlState"))},defaultStateGenerator(e){return Ui(e)}}))};let Xi=zi.registerChildBuilder(new Oi.Builder({id:"action",name:"Row Action",icon:"sk-webicon-ink:button",hideWrapper:true,setUniqueId:false,componentRenderer(t){const n=t.get("xmlState"),i=e.builder.componentRegistry.getByState(n.parents("skuid__list").first()[0]),a=t.body;t.getCPI().addClass("nx-pagebuilder-row-action");a.addClass(Fi["row-action"]).text(t.get("xmlState").attr("label")).prepend(n.attr("icon")?Ei(e.ui.createIcon(n.attr("icon"))).addClass(Fi["row-action__icon"]):null);t.getCPI().setDragManifest(new Gi({model:i.get("xmlState").attr("model"),builderId:"action",isGlobalComponent:false}));t.addActionItem("Remove","sk-webicon-ink:delete",()=>{t.remove()})},propertiesRenderer(t,n){t.setTitle("Row Action Properties");let i=e.builder.componentRegistry.getByState(n.get("xmlState").parents("skuid__list").first()[0]);t.applyPropsWithCategories([{name:"Basic",props:[{id:"label",type:"string",label:"Action Label",onChange(){n.refresh()}},{id:"icon",type:"icon",label:"Action Icon",defaultValue:"",onChange(){n.refresh()}}]},Oi.getActionsCategory({getModelName:()=>i.get("xmlState").attr("model"),linkedComponent:n}),Ri.getTooltipProperties(),Oi.getRenderingCategory({component:n,model:n.get("xmlState").attr("model"),propViewer:t,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition"})],n.get("xmlState"))},defaultStateGenerator(){return Vi('<action type="multi" label="Run actions"/>')}}));let Yi=zi.registerChildBuilder(new Oi.Builder({id:"action",name:"Mass Action",icon:"sk-webicon-ink:button",hideWrapper:true,setUniqueId:false,componentRenderer(t){const n=t.get("xmlState"),i=e.builder.componentRegistry.getByState(n.parents("skuid__list").first()[0]),a=t.body;t.getCPI().addClass("nx-pagebuilder-row-action");a.addClass(Fi["row-action"]).text(t.get("xmlState").attr("label")).prepend(n.attr("icon")?Ei(e.ui.createIcon(n.attr("icon"))).addClass(Fi["row-action__icon"]):null);t.getCPI().setDragManifest(new Gi({model:i.get("xmlState").attr("model"),builderId:"action",isGlobalComponent:false}));t.addActionItem("Remove","sk-webicon-ink:delete",()=>{t.remove()})},propertiesRenderer(t,n){let i=e.builder.componentRegistry.getByState(n.get("xmlState").parents("skuid__list").first()[0]);t.setTitle("Mass Action Properties");t.applyPropsWithCategories([{name:"Basic",props:[{id:"label",type:"string",label:"Action Label",onChange(){n.refresh()}},{id:"icon",type:"icon",label:"Action Icon",defaultValue:"",onChange(){n.refresh()}}]},Oi.getActionsCategory({getModelName:()=>i.get("xmlState").attr("model"),linkedComponent:n}),Ri.getTooltipProperties(),Oi.getRenderingCategory({component:n,model:n.get("xmlState").attr("model"),propViewer:t,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition"})],n.get("xmlState"))},defaultStateGenerator(){return Vi('<action type="multi" label="Run actions"/>')}}));var $i=zi;if(!e.platform.hasFeature("PageComposerStaging")){Oi.registerBuilder(zi)}const Ki=e.builder,Ji=Ki.core,Qi=Ki.ink,Zi=e.utils.makeXMLDoc,ea="skuid__division";const ta=new Ji.Builder({id:"division",hideWrapper:true,isTransparent:true,componentType:ea,icon:"sk-webicon-ink:column",init(t){t.cpi.setCanvasComponent();t.addActionItem("Delete component","sk-webicon-ink:delete",()=>{const n=t.builderCPI.getParentBuilderComponent();t.remove();n.cpi.save();n.cpi.refresh();e.utils.delay().then(()=>e.events.publish("ui.reflow"))})},refresh(e){e.cpi.updateCanvasComponent({},()=>{e.builderCPI.setStyles()})},parseState(e,t){const n=e.get("xmlState"),i=n.attr("type"),a=ca[i]||{};return Object.assign({},t,{components:[{componentType:"skuidbuilder__componentAcceptor",subtleTitle:a.label,acceptsBuilderIds:[a.builder],componentsXML:n.children("components")}]})},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},getName(e){const t=ca[e.attr("type")]||{};return"".concat(t.label," Division")},propertiesRenderer(e,t){const n=t.get("xmlState"),i=t.builderCPI.getParentBuilderComponent(),a=n.attr("type"),o=a==="navigation"?"1":"0",r=ca[a]||{},l=[],s=[];e.setTitle("".concat(r.label," Divison Properties"));s.push({type:"reorder",label:"Change Order",onChange:()=>{i.cpi.save();i.cpi.refresh();t.cpi.rebuildProps()}},Ji.coreProps.uniqueIdProp({component:i}),{id:"flex",type:"number",label:"Flex ratio",helptext:"A unitless value that sets the amount of space an element can take up inside its container. Will be limited by maximum and minimum widths.",defaultValue:o,onChange:()=>t.cpi.refresh()},{id:"minWidth",type:"csssize",label:"Min width",onChange:()=>t.cpi.refresh()});l.push({name:"Basic",props:s},Qi.getInkStylesTab({component:t,propViewer:e,spacing:true,styleVariants:false}));e.applyPropsWithCategories(l,n)},defaultStateGenerator(e,t){const n=Zi('<division type="'.concat(e,'" />'));if(t.builder){const i=Ki.getBuilder(t.builder).defaultStateGenerator();if(e==="logo"){i.attr({height:"custom",heightCustom:"100%"})}n.append(Zi("<components />").append(i))}return n},cpi:{getParentBuilderComponent(){return this.getParentComponent().get("parentBuilderComponent")},setStyles(){const e=this.get("xmlState"),t=e.attr("type"),n=t==="navigation"?"1":"0",i=this.getParentComponent(),{flex:a=n,minWidth:o="auto"}=e.attr();i.set("customSpoofStyles",Object.assign({},i.get("customSpoofStyles"),{flex:"".concat(a," ").concat(a," ").concat(o)}))}}});var na=ta;function ia(e){e.set("_setHeight",false)}const aa=e.builder,oa=aa.core,ra=aa.desktop,la=e.utils.makeXMLDoc,sa="skuid__masthead",da=e.componentType.get(sa);da.initBuilder=ia;const ca={logo:{label:"Logo",icon:"sk-webicon-ink:image",builder:"skuid__image"},navigation:{label:"Navigation",icon:"sk-webicon-ink:navigation",builder:"skuid__navigation"},search:{label:"Search",icon:"sk-webicon-ink:search",builder:"skuid__search"},separator:{label:"Spacing",icon:"sk-webicon-ink:border-none"}};const ua=new oa.Builder({id:sa,name:"Masthead",icon:"sk-webicon-ink:masthead",componentType:sa,isGlobalComponent:true,makeDraggable:true,hideWrapper:false,hideFromComponentsList:false,isTransparent:true,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/masthead/",n=ra.getDescriptionTag(),i='The Masthead is a container component that lets builders group Navigation and Search components with a company logo.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Masthead component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(t){t.set({componentMap:ca});const n=t.cpi.setCanvasComponent();t.addActionGroup(Object.keys(ca).map(i=>{const a=ca[i];return{text:"Add ".concat(a.label),icon:a.icon,action(){const o=na.defaultStateGenerator(i,a);t.get("xmlState").children("divisions").first().append(o);t.cpi.refresh();t.cpi.save();e.utils.delay().then(()=>e.events.publish("ui.reflow"));n.get("_divisionInstances").forEach(e=>e.get("builderComponent").builderCPI.setStyles())}}}),"Add Component");n.get("_divisionInstances").forEach(e=>e.get("builderComponent").builderCPI.setStyles())},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},defaultStateGenerator(){return la("<skuid__masthead>\n\t\t\t\t<divisions />\n\t\t\t</skuid__masthead>")},componentSpoofMap:{skuid__division:{builder:na,makeDraggable:false,cache:true,filter:()=>true}}});if(e.platform.hasFeature("PageComposerStaging")){oa.registerBuilder(ua);ua.registerChildBuilder(na)}var pa=i(656);var fa=i(657);var ma=i(658);const ha=e.$,ga=e.builder,ba=ga.core,ya=e.utils,va=ya.makeXMLDoc;const Ca=new ba.Builder({id:"skuid__modal",name:"Modal",icon:"sk-webicon-ink:modal",hideWrapper:true,addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(t){let n=t.get("xmlState"),i="components",a=n.attr("showFooter")!=="false",o=n.children(i),r;const l=ga.pagebuilderui,s=t.modalEl=t.modalEl||ha("<div>");s.empty();const d=ha("<div>").appendTo(s);t.set("modalEl",s);t.modalEl.attr("id",t.id()).addClass("sk-modal-builder").attr("title",n.attr("title")).css({padding:"0px",margin:"0px"});d.next().remove();d.css({border:"0px solid white",flex:1});s.dialog({appendTo:l,autoOpen:false,position:{my:"center top",at:"center top",of:l,collision:"none"},closeText:"",draggable:true,resizable:true,open(){const e=ha("<div>").addClass("ui-widget-overlay").appendTo(l.layoutcontainer);e.on("click",()=>t.builderCPI.close());t.set("_modalOverlay",e)},close(){t.get("_modalOverlay").remove()},width:t.get("xmlState").attr("width"),height:530});s.data("uiDialog")._focusTabbable=function(){};t.dialogwrapper=s.parent();t.dialogwrapper.css({"z-index":"110","box-shadow":"4px 4px 10px rgba(0,0,0,.25)"}).addClass("nx-pagebuilder-workspace");s.parent().find(".ui-dialog-titlebar-close .ui-icon, .ui-dialog-titlebar-close .sk-icon, .ui-dialog-titlebar-close .sk-webicon").after(e.$(e.ui.createIcon(n.attr("closeicon")||"sk-webicon-ink:close")).css("left","0")).remove();t.dialogwrapper.on("mousedown",".ui-dialog-title",function(){t.select()});if(o.length===0){o=va("<"+i+"/>").appendTo(n)}r=t.acceptor=t.acceptor||new e.builder.desktop.ComponentAcceptor(o,{mode:t.mode,parentComponent:t});d.append(r.element);e.events.subscribe("skuid.pageBuilder.complete",()=>t.refresh());if(a){const i=ba.getBuilder("skuid__button"),a=ha("<div>"),o=ha("<div/>").css("text-align","right").append(a).insertAfter(d);const r=e.component.createFromDefinition({componentType:"skuid__button",icon:"sk-webicon-ink:add",tooltip:'<tooltip text="Add button to footer" compact="true" position="left"/>',onClick(){const e=i.getDefaultState({elementType:"skuid__button"});let a=n.children("buttons");if(a.length===0){a=va("<buttons/>").appendTo(n);e.attr("styleSettingsVariant","primary")}a.append(e);t.save().refresh()}},{element:a});t.adoptComponent(r);t.buttonSetWrapper=ha('<div class="nx-pagebuilder-buttonwrapper">').insertAfter(o);let l={left:"flex-start",center:"center",right:"flex-end"},s=l[n.attr("buttonsJustification")]||"flex-start",c=e.component.createFromDefinition({componentType:"skuidbuilder__componentAcceptor",componentsXML:t.get("xmlState").children("buttons"),customBuilder:i,acceptsBuilderIds:["skuid__button"],requiresGlobalComponent:false,mode:t.mode,layout:"flex",justifyContent:s});t.buttonSetWrapper.append(c.getElement());t.set("buttonsAcceptor",c)}},propertiesRenderer(e,t){e.setTitle("Modal Properties");let n=ba.getModalProperties(t,{propertiesObj:e,useAfterCloseActions:true});e.applyPropsWithCategories(n,t.get("xmlState"))},defaultStateGenerator(e){if(!e)e={};let t=e.id||"skuid__modal",n=e.title||"New Modal",i=e.width||"640px",a=va("<components/>");if(e.childComponents){a.append(e.childComponents)}return va("<"+t+' title="'+n+'" width="'+i+'" />').attr(e.additionalAttributes||{}).append(a)},cpi:{open(){ha("html, body").animate({scrollTop:ha(".nx-page").first().offset().top+56},100,"swing");this.get("modalEl").dialog("open");this.get("modalEl").data("uiDialog").opener={filter:()=>({trigger:()=>["foo"]})}},close(){this.get("modalEl").dialog("close")}}});ba.registerBuilder(Ca);var ka=Ca;let Sa=e.$,wa=e.builder,xa=wa.core,Ia=wa.ink,Ta=e.utils,Aa=Ta.makeXMLDoc,Pa;let _a=(e,t)=>{if(t.length){xa.appendComponents(e,t.children("item"),{customBuilder:Pa,makeDraggable:false,isGlobalComponent:false})}};Pa=new xa.Builder({id:"item",name:"Navigation Item",icon:"sk-webicon-ink:link",hideWrapper:true,isTransparent:true,hideFromComponentsList:true,description:"An individual navigation item",indexSelectors:{unsurfaced:"itemGroup, itemGroups"},componentRenderer(t){let n=t.body,i=t.get("xmlState"),a=i.attr("label"),o=i.attr("icon"),r=Sa("<div>").addClass("nx-pagebuilder-nav-wrapper"),l=i.find("items").first();t.getCPI().addClass("nx-pagebuilder-nav-component");if(o){n.append(Sa(e.ui.createIcon(o)).addClass("nx-pagebuilder-nav-component-icon"))}if(a){n.append(Sa('<div class="nx-pagebuilder-nav-component-label">').html(a))}n.addClass("sk-navigation-item");t.addActionItem("Remove","sk-webicon-ink:delete",()=>{t.remove()});r.appendTo(n);_a(r,l);r.sortableComponent({axis:"y",component:t,parentStateSelector:"item > itemGroups > itemGroup > items"});t.addActionItem("Add Sub Navigation Item","sk-webicon-ink:add",()=>{let n=Pa.defaultStateGenerator(),a=xa.componentFactory(n,Pa);r.append(a&&a.element);if(!l.length){i.append(Aa("<itemGroups><itemGroup><items/></itemGroup></itemGroups>"));l=i.find("items").first()}l.append(n);t.save();e.events.publish("builder.colorcheck")})},propertiesRenderer(e,t){e.setTitle("Navigation Item Properties");let n=t.get("xmlState");let i=[{name:"Basic",props:xa.getIconLabelProps({component:t,refreshComponent:true}).concat(xa.coreProps.uniqueIdProp({component:t}))},xa.getActionsCategory({linkedComponent:t}),Ia.getInkStylesTab({component:t,propViewer:e}),xa.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,propViewer:e,showSelectedConditions:true,selectedConditionsNodeId:"selectedConditions",showStyleVariantConditions:true})];e.applyPropsWithCategories(i,n)},defaultStateGenerator(){return Aa('<item label="New Navigation Item" uniqueid="'.concat(Ta.generateUniqueId(),'">\n\t\t\t\t<actions>\n\t\t\t\t\t<action type="redirect" window="self"/>\n\t\t\t\t</actions>\n\t\t\t</item>'))}});var Fa=Pa;let Ma=e.$,Ea=e.builder,Na=Ea.core,Oa=Ea.ink,Ra=Ea.desktop,Da=e.utils,La=Da.makeXMLDoc,Ba="horizontal",Va="dropdown",ja="alternateFormat",Ga="overflowToMenu",Wa="responsiveBreakpoint";let Ua=function e(t,n){if(n.length){Na.appendComponents(t,n.children("item"),{customBuilder:Fa,makeDraggable:false,isGlobalComponent:false})}};let za=()=>{let t=[{label:"Manual",value:""}];let n=e.platform.getNavigationItemSourceTypes;if(n&&typeof n==="function"){n=n()}if(n&&n.length){n.forEach(function(e){if(e.value&&e.label){t.push(e)}})}return t};let qa=new Na.Builder({id:"skuid__navigation",name:"Navigation",icon:"sk-webicon-ink:navigation",indexSelectors:{unsurfaced:"itemGroup, itemGroups, items"},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/navigation/",n=Ra.getDescriptionTag(),i='The Navigation component allows for the creation of an organized list of navigation items which, when clicked, can perform actions, including URL redirects.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Navigation component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},isTransparent:true,componentRenderer(t){t.setTitle(t.builder.name);let n=t.body,i=t.get("xmlState"),a=i.find("items").first(),o=i.attr("type")||Ba,r=Ma('<div class="nx-pagebuilder-navwrapper">'),l=i.attr("source"),s={};za().forEach(e=>s[e.value]=e);t.body.css("minWidth","256px");r.addClass("sk-navigation");if(o==="dropdown"){r.addClass("sk-navigation-vertical")}let d="Add navigation item";if(!l){Ua(r,a);t.addActionItem(d,"sk-webicon-ink:add",function(){let i=Fa.defaultStateGenerator(),o=Na.componentFactory(i,Fa,true);n.append(o.element);a.append(i);t.save().refresh();e.events.publish("builder.colorcheck")})}else{t.toggleActionItemByLabel(d,false);r.append(Ma("<div>").addClass("sk-navigation-item").text("Source: "+s[l].label))}r.sortableComponent({axis:o==="dropdown"?"y":"x",component:t,parentStateSelector:"skuid__navigation > itemGroups > itemGroup > items"});n.append(r)},propertiesRenderer(t,n){t.setTitle("Navigation Properties");let i=n.get("xmlState"),a=[],o=[],r=i.attr("type")||Ba,l={id:"type",label:"Type",type:"picklist",picklistEntries:[{label:"Horizontal",value:Ba},{label:"Dropdown",value:Va}],onChange(){n.rebuildProps().refresh();e.events.publish("builder.colorcheck")}},s={id:"label",label:"Label",type:"string"},d={id:Wa,label:r?"Screen Size to Collapse Item Text":"Screen Size to Change Format",type:"picklist",picklistEntries:[{label:"Never",value:""},{label:"Tablets and smaller",value:"medium"},{label:"Phones",value:"small"}],onChange(e){if(e===""){i.removeAttr(Wa);n.save()}n.rebuildProps()}},c={id:"source",label:"Item Source",type:"picklist",picklistEntries:za(),onChange(e){if(e===""){i.children("navigationitems").append(Fa.defaultStateGenerator())}else{i.children("navigationitems").empty()}n.save().rebuildProps().refresh()}},u={id:ja,label:"Alternate Format",type:"picklist",picklistEntries:[{label:"Collapse to Menu",value:"collapse"},{label:"Wrap Centered",value:"wrap"}],defaultValue:"collapse",onChange(){n.rebuildProps()}},p={id:Ga,label:"Overflow to Menu Navigation",type:"boolean",defaultValue:true,onChange(){n.rebuildProps()}},f={id:"icon",label:"Icon",type:"icon",defaultValue:"sk-webicon-ink:hamburger-menu",onChange(){if(i.attr("allowExpandCollapse")==="true"){n.refresh()}}};o.push(l,c);i.attr("type")==Va&&o.push(s);if(r===Ba){o.push(p);o.push(d);if(i.attr(Wa)){o.push(u)}if(i.attr(ja)==="collapse"||i.attr(Ga)!=="false"){f.label="Menu Icon";o.push(f)}}a.push({name:"Basic",props:o},{name:"Advanced",props:[Na.coreProps.uniqueIdProp({component:n,onChange(){n.refresh()}})]},Oa.getInkStylesTab({component:n,propViewer:t,spacing:true}),Na.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:n,model:null,propViewer:t,showStyleVariantConditions:true}));t.applyPropsWithCategories(a,i)},defaultStateGenerator(){let e=La("<skuid__navigation/>"),t=La("<itemGroups><itemGroup><items/></itemGroup></itemGroups>");Ma(t).find("items").append(Fa.defaultStateGenerator());return e.append(t)}});qa.registerChildBuilder(Fa);Na.registerBuilder(qa);var Ha=i(659);var Xa=i(660);var Ya=i(661);var $a=i(662);var Ka=i(663);function Ja(e){e.subscribeChange("placeholder",t=>{const n=e.get("autocompleteInstance");n.set({placeholder:t})});e.subscribeChange("icon",t=>{const n=e.get("autocompleteInstance");n.set("iconRight",t)});e.subscribeChange("processingIcon",t=>{const n=e.get("autocompleteInstance");n.set({processingIcon:t})})}let Qa=e.$,Za=e.builder,eo=Za.core,to=Za.ink,no=Za.desktop,io=e.utils,ao=io.makeXMLDoc,oo=e.constants.DISPLAY_TYPES,ro,lo="REST",so="skuid__search",co=e.componentType.get(so);co.initBuilder=Ja;const uo=e=>({id:"resultActions",label:"Global Actions",deleteable:false,indent:e.indent,linkedComponent:e.linkedComponent,isChild:true,props:[{type:"helptext",html:"Global Actions will add each action below to every return object."}],children:[po({linkedComponent:e.linkedComponent})]});const po=e=>({id:"action",icon:"sk-webicon-ink:actions",deletetooltip:"Remove Row Action",indent:e.indent,labelFunction:e=>"Action: ".concat(e.attr("label")||"[No Label]"),invisibleParent:e.invisibleParent,defaultStateFunction:()=>ao("<action />"),propsFunction:e=>eo.getIconLabelProps({component:e,refreshComponent:true}),childrenFunction:t=>[eo.getActionTreeNode({addtooltip:"Add Action Step",addlabel:"Add Action Step",linkedComponent:e.linkedComponent,refreshLinkedComponent:false,component:t,treeNode:{indent:e.childIndent||1,invisibleParent:"actions"}})]});ro=new eo.Builder({id:so,name:"Search",icon:"sk-webicon-ink:search",componentType:so,isTransparent:true,parseState:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/search/",n=no.getDescriptionTag(),i='The Search Component creates a search box that allows the user to search through data objects.\n\t\t\t\t\tAdditionally, the user can perform any number of actions using the individual search results.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Search component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},indexSelectors:{unsurfaced:"resultActions",ignored:"objects"},init(e){e.cpi.setCanvasComponent()},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(t,n){t.setTitle("Search Properties");const i=n.get("xmlState"),a=[];a.push({name:"Basic",props:[{id:"soslFields",type:"picklist",label:"Fields to Search",picklistEntries:[{label:"Name Fields",value:""},{label:"All Text Fields",value:"All Fields"},{label:"Email Fields",value:"Email Fields"},{label:"Phone Fields",value:"Phone Fields"}]},{id:"placeholder",label:"Placeholder Text",type:"string",onChange(){n.save().refresh()},helptext:'(Optional) Custom text to display as a placeholder in the search box until the user starts typing. Defaults to "Search."'},{id:"minWidth",type:"csssize",label:"Searchbox Min Width",helptext:"(Optional) Set the minimum width of the Search Box (defaults to 200px)",onChange(){n.save().refresh()}},{id:"preserveSearchTerm",type:"boolean",label:"Preserve search term",helptext:"When a user hovers over an item in the dropdown, the input value changes to the display template of that item. If this property is checked, the value will NOT be changed.",defaultValue:false},{id:"limit",type:"integer",label:"Result Limit",helptext:"(Optional) Limit the number of results returned. If Return Objects are specified, the limit will be applied to each Object (e.g. LIMIT 5 means 5 Contacts, 5 Accounts...)"},{id:"icon",type:"icon",label:"Search Icon",onChange(){n.save().refresh()},defaultValue:"sk-webicon-ink:search"},{id:"processingIcon",type:"icon",label:"Processing Icon",onChange(){n.save().refresh()},defaultValue:"sk-webicon-ink:sync",helptext:"This icon will spin while the search is being performed."}]},{name:"Advanced",props:[eo.coreProps.uniqueIdProp({component:n})]},{name:"Global Actions",tree:uo({linkedComponent:n})},{name:"Return Objects",tree:{id:"objects",label:"Return Objects",deleteable:false,linkedComponent:n,isChild:true,addtooltip:"Add Return Object",children:[{id:"object",labelFunction(e){return e.attr("id")?"".concat(e.attr("datasource"),": ").concat(e.attr("id")):"[No Object Selected]"},linkedComponent:n,addtooltip:"Add Return Object",propsFunction(t){let i=t.get("xmlState"),a=i.children("fields").first(),o=e.dataSource.get(i.attr("datasource")),r=o.getDataSourceType(),l=e.dataSource.map(),s,d=i.attr("id"),c={id:"id",type:"sobject",label:"Entity",readonly:false,dataSourceName:i.attr("datasource"),filter(){const t=e.dataSource.get(i.attr("datasource")),n=t.getDataSourceType(),a={dataSource:t};return t.getEntityList(a).then(e=>{if(n.searchableEntities){return n.searchableEntities({ignoreHidden:true,dataSource:t})}return e})},onChange(){t.refresh().rebuildProps()}},u={id:"id",type:"text",label:"URL Endpoint",onChange(){t.refresh()}},p={id:"pathToContent",type:"field",ignorePathToContent:true,displayTypeFilter:[oo.OBJECT,oo.ARRAY],modelname:d,isSearchObject:true,dataSourceName:i.attr("datasource"),label:"Path to Contents",helptext:"The path through the result of this GET request to the desired contents of this Model.",onChange(e,t,a,o){i.children("fields").children().each(function(){let t=Qa(this),n=t.attr("id"),i;if(e&&io.startsWith(n,e)){i=n.substring(e.length+1)}else if(!e&&o){i=o+"."+n}t.attr("id",i)});n.save().refresh()}};Qa.each(l,function(e,t){if(!t.dataSourceType.prop("hasGlobalSearchEntities")){delete l[e]}});if(!i.attr("datasource")){i.attr("datasource",e.platform.getDefaultDataSourceName())}s=[{id:"datasource",type:"picklist",picklistEntries:Object.keys(l).map(e=>({label:e,value:e})),label:"Data Source",onChange(){t.refresh().rebuildProps()}},{id:"headerIcon",type:"icon",label:"Header Display Icon",onChange(){n.refresh()}},{id:"headerName",label:"Header Display Name",type:"text",helptext:"(Optional) This gives you the ability to have the header named something other than the name of the Data Source."},{id:"displayTemplate",label:"Display Template",type:"text",helptext:'(Optional) The fields from related records to display, specified using Merge syntax, e.g. "{{Name}} - {{Industry}}" would show the Name and Industry of related Accounts, if this is the AccountId field.'},{id:"fields",label:"Fields",type:"field",location:"node",labelFunction(){return Qa.map(a.children(),e=>{return Qa(e).attr("id")}).join(", ")||"[No Fields Selected]"},isMultiselect:true,modelname:d,sobject:d,isSearchObject:true,dataSourceName:i.attr("datasource"),selectedFunction:e=>a.children('[id="'.concat(io.escapeSelector(e),'"]')).length,onChange(e,t){if(t===true){if(!a.length){a=ao("<fields/>");i.append(a)}a.append(ao('<field id="'.concat(e,'"/>')))}else{a.children('[id="'.concat(e,'"]')).first().remove()}n.save()}},{id:"orderBy",type:"string",label:"Fields to order records by",helptext:"How to order the data records returned for this Return Object, e.g. 'LastName DESC, FirstName' would order by LastName going from Z to A, then by FirstName going from A to Z."}];if(r.searchProperties){Array.prototype.push.apply(s,r.searchProperties(i).properties)}const f=s.some(e=>e.id==="id");if(!f){if(r.name===lo){s.splice(1,0,u);s.splice(5,0,p)}else{s.splice(1,0,c)}}return s},children:[po({linkedComponent:n,invisibleParent:"resultActions",indent:1,childIndent:2})]}]}},eo.getHotkeysCategory({id:"hotkeys",label:"Focus Hotkeys",linkedComponent:n}),to.getInkStylesTab({component:n,propViewer:t,spacing:true}));t.applyPropsWithCategories(a,i)},defaultStateGenerator(){return ao("<skuid__search/>")}});if(e.platform.hasFeature("PageComposerStaging")){eo.registerBuilder(ro)}var fo=i(664);let mo=e.builder,ho=mo.core;const go=mo.makePopupBuilder({id:"skuid__slidingPanel",title:"Sliding Panel Properties",name:"Sliding Panel",icon:"sk-webicon-ink:sliding-panel",width:"90%",getCustomProps(t,n){let i=n.get("xmlState"),a=i.attr("origin"),o=a==="top"||a==="bottom",r={id:"origin",label:"Origin",type:"picklist",picklistEntries:[{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"}],onChange(){n.rebuildProps()}},l={id:"closeOnPageClick",label:"Close When User Clicks Outside of Panel",type:"boolean",onChange(){n.rebuildProps()}},s={id:"size",label:o?"Height":"Width",type:"csssize"},d=[];d.push(r);d.push(l,s);return[{name:"Basic",props:d},e.builder.ink.getInkStylesTab({component:n,componentTypeName:"skuid__slidingPanel",propViewer:t,spacing:false}),ho.getInteractionsCategory({getModelName:()=>{return i.attr("model")||""},linkedComponent:n}),ho.getActionsCategory({customNodeId:"afterCloseActions",label:"After Close Actions",linkedComponent:n})]}});ho.registerBuilder(go);var bo=go;function yo(e,t,n){e.subscribeChange("tabs",()=>n.buildTabPanels())}const vo=e.builder,Co=vo.core,ko=vo.ink,So=e.builder.desktop,wo=e.utils.makeXMLDoc,xo="skuid__tabContainer",Io=e.componentType.get(xo);Io.initBuilder=yo;const To=new Co.Builder({id:xo,componentType:xo,name:"Tab Container",icon:"sk-webicon-ink:tabbed-container",parseState:true,description(){const e=So.getDescriptionTag(),t="The Tab Container component creates tabs on a page. You can add other components to the tabs inside the Tab Container.\n\t\t\t\tWhen there is not enough horizontal space to display all the tabs, they are stacked vertically.\n\t\t\t\t<br><br>\n\t\t\t\t".concat(e);return t},init(t){const n=t.cpi.setCanvasComponent();t.addActionItem("Add Tab",null,()=>{const e=vo.getBuilder("skuid__tabPanel").defaultStateGenerator(),n=t.get("xmlState").children("tabs");n.append(e);t.cpi.save();t.cpi.refresh()});n.set({onMouseDown:e=>{let t;e.stopPropagation();n._cpi.handleTabClick(e);t=n.get("tabPanels")[n.get("activeTabId")];t.component.get("builderComponent").cpi.select()}});n.subscribe("tabActivated",n=>{const i=t.get("xmlState").children("tabs")[0].children[n.index];if(i){const t=e.builder.componentRegistry.getByState(i);t&&t.select()}})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Tab Container Properties");const n=t.get("xmlState"),i=Co.coreProps.uniqueIdProp({component:t}),a={id:"rememberActiveTab",label:"Remember Active Tab",helptext:"Return to most recently focused tab on page reload.",type:"boolean",onChange(){t.save()}};e.applyPropsWithCategories([{name:"Basic",props:[i,a]},ko.getInkStylesTab({component:t,propViewer:e,spacing:true}),Co.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){let e=wo("<skuid__tabContainer/>"),t=wo("<tabs/>").appendTo(e);t.append(wo('<skuid__tabPanel name="New Tab"/>').append(wo("<components/>")));return e},componentSpoofMap:{skuid__tabPanel:{builderId:"skuid__tabPanel",makeDraggable:false,cache:true,filter:()=>true,cpiSpoofers:{}}},cpi:{showTabByIndex(e){this.cpi.getCanvasComponent().cpi.setActiveTabByIndex(e)}}});if(e.platform.hasFeature("PageComposerStaging")){Co.registerBuilder(To)}var Ao=i(665);function Po(t){const n=e.utils.rfc4122v4GUID();this.set("mergedContents",this.get("contents"));this.subscribeChange("contents",e=>this.set("mergedContents",e,false));this.set("renderCKEditor",i=>{const a=a=>{if(t.get("ck")&&i.getAttribute("id")===n){return}i.setAttribute("contenteditable",true);i.setAttribute("id",n);i.style["-webkit-user-select"]="text";i.style["user-select"]="text";i.innerHTML=t.get("contents")||"";let o=a.inline(i,{allowedContent:true,disallowedContent:"style script iframe",toolbar:"FieldEditor"});i.addEventListener("focus",()=>{t.getParentComponent().select({focus:false,resetPropCategory:false})});i.addEventListener("mousedown",e=>{e.stopPropagation()});t.set("ck",o);let r=true;t.subscribeChange("contents",e=>{if(r){o.setData(e)}});o.on("change",e.utils.debounce(()=>{r=false;t.set("contents",o.getData());r=true},500));t.publish("ckLoaded")};if(e.CKEDITOR)a(e.CKEDITOR);else e.utils.loadRichTextApi().then(a)})}const _o=e.builder,Fo=_o.core,Mo=_o.ink,Eo=_o.desktop,No=e.utils.makeXMLDoc,Oo="skuid__text",Ro=e.componentType.get(Oo);Ro.initBuilder=Po;const Do=new Fo.Builder({id:Oo,name:"Text",icon:"sk-webicon-ink:center-align-text",componentType:Oo,hideFromComponentsList:false,isTransparent:true,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/text/",n=Eo.getDescriptionTag(),i='The Text component provides two ways to add text to the page: a Rich Text editor and a merge field property.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Text component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},handleStateEvent(e,t,n){Fo.handleModelRemove(e,t,{component:n});Fo.handleModelIdChange(e,t)},init(e){const t=e.cpi.setCanvasComponent();e.builderCPI.addActionItem();t.subscribeChange("contents",t=>{const n=e.get("xmlState");n.attr("contents",t);e.set("xmlState",n);e.save()})},parseState(e,t){return Object.assign({},t,{_doNotMerge:true})},refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Text Properties");let n=t.get("xmlState"),i;i=[{id:"model",type:"model",label:"Model",required:false,onChange(i,a){t.updateAutoCreatedEditorCondition&&t.updateAutoCreatedEditorCondition();if(!i){n.removeAttr("model")}if(i&&!a){t.builderCPI.addActionItem()}t.save().rebuildProps(e).refresh()}}];const a=[Fo.coreProps.uniqueIdProp({component:t}),{id:"contents",type:"template",label:"HTML",location:"attribute",helptext:"The text or HTML to display in this area. Can contain global Merge-Fields, e.g. {{$Model.Contact.data.0.First_Name__c}}, as well as row/model merge fields (e.g. {{Name}}, {{CreatedDate}}) if you have selected a Model. Row merge fields can be easily added using the Merge-Field Picker to the right.",onChange(){t.save().refresh()}}];e.applyPropsWithCategories([{name:"Basic",props:i},{name:"Advanced",id:"Advanced",props:a},Mo.getInkStylesTab({component:t,propViewer:e,spacing:true}),Fo.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),Fo.getContextCategory({propViewer:e,state:n,model:n.attr("model")})],n);t._propertiesObj=e},defaultStateGenerator(){return No('<skuid__text contents=""/>')},cpi:{addActionItem(){const t=this;let n=this.get("xmlState"),i=n.attr("model"),a=Fo.getModelFromModelName(i),o="Insert Field(s)";if(a&&a.length>0){t.addActionItem({text:o,icon:"sk-webicon-ink:edit-form",action(){e.builder.showModelFieldPicker({allowModelFieldAdds:true,isMultiselect:true,model:a,addFieldsHandler:t.builderCPI.insertFields})}})}},insertFields(e){const{xmlState:t,canvasComponent:n}=this.getState();const i=n.get("ck");if(!e&&Array.isArray(e)){return}let a=t.attr("model"),o=a?Fo.getModelFromModelName(a):null;if(!o)return;let r=o?o.attr("type")==="aggregate":false,l=e.reduce((e,t)=>{return e+(r?"{{{"+t+"}}}":"{{"+t+"}}")},"");i.insertText(l)}}});if(e.platform.hasFeature("PageComposerStaging")){Fo.registerBuilder(Do)}(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}const t=e.builder,n=t.core,i=t.ink,a=t.desktop,o=e.$,r=e.utils.makeXMLDoc,l="Insert Field(s)";n.registerBuilder(new n.Builder({id:"skuid__text",name:"Text",icon:"sk-webicon-ink:center-align-text",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/text/",n=a.getDescriptionTag(),i='The Text component provides two ways to add text to the page: a Rich Text editor and a merge field property.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Text component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},hideFromComponentsList:false,isTransparent:true,handleStateEvent(e,t,i){n.handleModelRemove(e,t,{component:i});n.handleModelIdChange(e,t)},componentRenderer(t){let i=t.get("xmlState");let a=o("<div>").css({padding:"0.5em"}).on("mousedown",function(e){e.stopPropagation()}).appendTo(t.body),r,s;t.setTitle(t.builder.name);t.body.css({padding:"0"});let d=i.attr("model"),c=n.getModelFromModelName(d),u;if(c&&c.length>0){u={text:l,icon:"sk-webicon-ink:edit-form",action(){e.builder.showModelFieldPicker({allowModelFieldAdds:true,isMultiselect:true,model:c,addFieldsHandler:g})}};t.addActionItem(u)}let p=i.attr("contents")||"";let f=o("#sk-wrapper-toolbar-pocket"),m="sk-wrapper-toolbar-"+e.utils.generateGUID(),h;if(f.length===0){f=o('<div id="sk-wrapper-toolbar-pocket">').appendTo("body").hide()}t.toolbarWrapper=o('<div id="'+m+'" data-for-component="'+t._GUID+'">').appendTo(f);h={value:p,id:e.utils.rfc4122v4GUID(),config:{disallowedContent:"",allowedContent:true,toolbar:"Template",readOnly:t.mode==="readonly",enterMode:2,sharedSpaces:{top:m}},onCreated(e){s=e;r=s.focusManager;s.on("focus",function(){t.select({focus:false,resetPropCategory:false})})},onChange:e.utils.debounce(e=>{p=e;i.attr("contents",p);t.save();if(!t._dontRebuildProps&&t._propertiesObj.category==="Advanced"){o(".nx-pagebuilder-toolbarpanel-body .sk-refocus").removeClass("sk-refocus");t.save().rebuildProps(t._propertiesObj)}},500)};Object(ae["a"])("RICHTEXT").edit(h).appendTo(a.empty());t.refreshText=(()=>{let t=e.CKEDITOR.instances[h.id];if(t){t.setData(i.attr("contents"))}});e.events.subscribe("skuid.builder.themeChanged",function(){h.font_names=n.fonts.web.concat(n.fonts.standard).join(";");t.refresh()});const g=e=>{if(!(e&&o.isArray(e))){return}let t=i.attr("model"),a=t?n.getModelFromModelName(t):null;if(!a)return;let r=a?a.attr("type")==="aggregate":false,l=e.reduce(function(e,t){return e+(r?"{{{"+t+"}}}":"{{"+t+"}}")},"");s.insertText(l)};o(window).on("mousedown."+t._GUID,function(e){if(!s)return;if(o(e.target).closest(".cke_toolbox").length>0)return;if(!o.contains(document,t.getElement())){o(window).off("mousedown."+t._GUID);return}r.blur();a.find("div[contenteditable]").blur()});h.initialize()},propertiesRenderer(e,t){e.setTitle("Text Properties");let a=t.get("xmlState"),o;o=[{id:"model",type:"model",label:"Model",required:false,onChange(n){t.updateAutoCreatedEditorCondition&&t.updateAutoCreatedEditorCondition();if(!n){a.removeAttr("model");t._cpi.toggleActionItemByLabel(l,false)}else{t._cpi.toggleActionItemByLabel(l,true)}t.save().rebuildProps(e).refresh()}}];const r=[n.coreProps.uniqueIdProp({component:t}),{id:"contents",type:"template",label:"HTML",location:"attribute",helptext:"The text or HTML to display in this area. Can contain global Merge-Fields, e.g. {{$Model.Contact.data.0.First_Name__c}}, as well as row/model merge fields (e.g. {{Name}}, {{CreatedDate}}) if you have selected a Model. Row merge fields can be easily added using the Merge-Field Picker to the right.",onChange(){t._dontRebuildProps=true;t.refreshText();delete t._dontRebuildProps}}];e.applyPropsWithCategories([{name:"Basic",props:o},{name:"Advanced",id:"Advanced",props:r},i.getInkStylesTab({component:t,propViewer:e,spacing:true}),n.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true}),n.getContextCategory({propViewer:e,state:a,model:a.attr("model")})],a);t._propertiesObj=e},defaultStateGenerator(){return r('<skuid__text contents=""/>')}}))})(e);var Lo=i(152);var Bo=i(135);(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.$,n=e.builder,i=n.core,a=n.ink,o=n.desktop,r=e.utils,l=r.makeXMLDoc,s=e.events.publish,c=n.listHelper,u=c.exportPropertiesBuilder("skuid__table"),p=e.constants.FIELD_TYPES,f=e.builder.dragDrop.DragManifest,m=e.builder.dragDrop.DragDeploymentConfiguration;const h=new i.Builder({id:"skuid__table",name:"Table",icon:"sk-webicon-ink:table",providesContext:true,quicklyConfigure:Bo["a"],indexSelectors:{unsurfaced:"fields, rowActions, massActions, filters",ignored:"filtering"},resolveChildBuilder(e){if(e.tagName.toLowerCase()!=="action")return;if(e.parentElement.tagName.toLowerCase()==="massactions")return b;if(e.parentElement.tagName.toLowerCase()==="rowactions")return g;return y},neededNotices:[nt["c"].noModel],getNotices(e){const t=[];if(!e.attr("model"))t.push(nt["c"].noModel);return t},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/table/",n=o.getDescriptionTag(),i='Configured in a spreadsheet-like format of rows and columns, the Table component displays lists of records for viewing and inline-editing.\n\t\t\t\t\t<br/><br/>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Table component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},actions:[{value:"changeMode",label:"Change edit/read mode",props:[{id:"mode",label:"Mode",type:"picklist",entries:[{value:"toggle",label:"Toggle mode"},{value:"edit",label:"Edit mode"},{value:"read",label:"Read mode"}]}]},{value:"openConfigureModal",label:"Show table configuration modal"},{value:"toggleModeRow",label:"Toggle row mode",props:[{id:"targetMode",type:"picklist",label:"Target Mode",entries:[{label:"Toggle",value:""},{label:"Edit",value:"edit"},{label:"Read",value:"read"}]}]}],handleStateEvent(e,n,a){let o=e.attr("model"),l=n.type==="model.idChange",d=n.type==="model.remove",c=n.type==="model.field.remove",u=n.type==="model.field.metadataChange",p=false,f=false,m=n.parentChildRelationship!==undefined;if(m&&n.parentChildRelationship!==e.attr("model")){return}d&&i.handleModelRemove(e,n,{component:a});l&&i.handleModelIdChange(e,n);if(l||d||c){let i=e.find('fields > field > filters > filter[type="modelmerge"][model="'+(l?n.oldId:n.modelId)+'"]');if(i.length){i.each(function(){if(d){p=true;t(this).remove()}else if(l){p=true;t(this).attr("model",n.newId)}else if(c&&t(this).attr("mergefield")===n.fieldId){p=true;t(this).remove()}})}}if(l&&n.oldId===o){f=true}if((c||u)&&!m){if(e.attr("model")===n.modelId){let a="field[",o;if(n.fieldName){a+='name="'+r.escapeSelector(n.fieldName)}else{a+='id="'+r.escapeSelector(n.fieldId)}a+='"]';o=e.children("fields").first().children(a);if(o.length){if(c){o.each(function(){t(this).remove()});p=true;f=true}else{o.each(function(){let e=i.getCanvasComponentFromState(t(this));if(e){e.refresh()}})}}}}if(d||l){let i="optionmodel";e.children("fields").first().children("field["+i+'="'+r.escapeSelector(d?n.modelId:n.oldId)+'"]').each(function(){if(d){t(this).removeAttr(i)}else{t(this).attr(i,n.newId)}p=true})}if(p){s("skuidBuilderNeedSave")}if(f&&a){s("skuidBuilderComponentNeedsRefresh",[a])}},propertiesRenderer(n,o){n.setTitle("Skuid Table Properties");let l=o.get("xmlState"),s=l.attr("model"),p=i.getModelFromModelName(s),f;if(p){f=p&&p.attr("type")==="aggregate"}l.find("fields > field").each(function(e,n){let i=t(n);if(!i.attr("uniqueid")){i.attr("uniqueid",r.generateUniqueId({prefix:"fi"}))}});let m=function e(){l.attr({showSaveCancel:"false"})};let h,g;const b={id:"model",type:"model",label:"Model",required:false,onChange(n){let a=false,r=false,s=true,d=false,c=i.getModelFromModelName(n),u,p,h=true,g,b;if(c){u=c.attr("type")==="aggregate";p=c.children("fields,groupby").children();g=e.dataSource.getDataSource(c.attr("datasource"));b=g&&g.dataSourceType;h=b?b.prop("canServerSearch")!==false:true}o.get("fieldAcceptor").acceptorComponent.set("requiresModels",[n]);o.updateAutoCreatedEditorCondition();if(!h){let e=l.children("filtering").first();if(e.length&&e.attr("searchMethod")!=="client"){e.attr("searchMethod","client");r=true;s=true;a=true;d=true}}l.children("fields").children().each(function(){let e=t(this),n=e.attr("id"),i=e.attr("name");if(!p.filter('[id="'+n+'"],[name="'+i+'"]').length){e.remove();a=true;s=true}});if(u!==f){if(u){l.attr("mode","readonly");m()}else if(f){l.attr("mode","read")}a=true;r=true;s=true}if(a)o.save();if(r)o.rebuildProps();if(s)o.refresh();if(d)o.renderProperties&&o.renderProperties()}},y={id:"mode",type:"picklist",label:"Default Mode",defaultValue:"read",helptext:"When this page is first loaded, should all of the table's rows be in Read mode with Inline Edit capabilities, permanent Edit mode, or Read-Only mode?",picklistEntries:[...!f?[{label:"Read with Inline-Editing",value:"read"},{label:"Edit",value:"edit"}]:[],{label:"Read-Only",value:"readonly"}],onChange(e,t){if(e==="readonly"){m();o.save().refresh().rebuildProps()}else if(t&&t==="readonly"){o.save().refresh().rebuildProps()}}},v={id:"showSaveCancel",label:"Show Save/Cancel",helptext:"If checked, then Save/Cancel buttons will be rendered above the table to allow changes to be saved/canceled. These buttons can alternatively be added to a Page Title component.",type:"boolean",defaultValue:true,onChange(){o.handleOptionChange()}},C={id:"title",label:"Table Title",helptext:"Displays text as title above table.",type:"template",location:"attribute",onChange(){o.handleOptionChange();o.save().refresh()}},k={id:"allowSortingByColumn",type:"boolean",defaultValue:true,label:"Allow Users to Sort by Column"},S={id:"sortOnClient",type:"boolean",label:"Sort Columns Client-side"},w={id:"enableExport",type:"boolean",label:"Enable export",helptext:"If true, then users will see a button in this table's footer which will allow them to export its data to CSV (which can be opened in Excel, Numbers, etc.).",onChange(e){let t=o.get("xmlState").children("exportProperties").first();if(e){t=c.getExportDefaultState();o.get("xmlState").append(t);o.exportComponent=i.componentFactory(t,u);o.footerWrapper.append(o.exportComponent.element)}else{t.remove();o.exportComponent&&o.exportComponent.remove(true);delete o.exportComponent}o.save();o.handleOptionChange();o.rebuildProps()}};g=[b,y,k,S,w];if(l.attr("mode")!=="readonly"){g.push(v)}g.push(C);const x=()=>o.refresh();h=[{name:"Basic",props:g},a.getFilteringPropsCategory({component:o,modelName:s,hideInstantFiltersOption:true,hideOrderingOptions:true,showFiltersPosition:false,showTokenizeSearch:true}),{name:"Display",tree:[{label:"Pagination",linkedComponent:o,deleteable:false,props:[c.propertiesFactory.pageSize(),{id:"showPageSizeSelect",label:"Show Page Size Dropdown",type:"boolean",defaultValue:true},c.propertiesFactory.resetPaginationOnQuery()]},Object(d["c"])(o),{label:"Drawers",linkedComponent:o,deleteable:false,propsFunction:e=>[{id:"enableDrawers",type:"boolean",label:"Enable Drawers",defaultValue:false,onChange:()=>{e.rebuildProps().refresh();o.buildDrawerColumnPreview()}}]},{label:"Configuration",linkedComponent:o,deleteable:false,propsFunction:e=>{const t=l.attr("allowColumnHiding")==="true"||l.attr("enableExport")==="true"||l.attr("allowColumnFreezing")==="modal"||l.attr("allowColumnFreezing")==="dragDropAndModal";return[{id:"allowColumnOrdering",type:"boolean",defaultValue:false,label:"Allow users to reorder columns"},{id:"allowColumnHiding",type:"boolean",label:"Allow column hiding",helptext:"If enabled, a config button will display a modal to hide/show columns.",onChange:()=>{e.rebuildProps().refresh();x()}},...t?[{id:"moreActionsButtonIcon",type:"icon",defaultValue:"sk-webicon-ink:dots-vertical",label:"More Actions button icon",helptext:"The icon that opens the More Actions dialog, allowing end user to select Configure table or Export table data. Click the icon selector to choose the icon.",onChange:x}]:[],{id:"numFrozenColumns",type:"number",label:"Set number of frozen columns",helptext:"If you will have many columns in the Table, it can be useful to freeze 1 (or more) of the columns on the left side of the table. Users can scroll to the right to see additional columns that may not fit on screen, while still seeing the important data in the initial column(s).",onChange:()=>{x()}},{id:"allowColumnFreezing",type:"picklist",label:"Allow users to freeze columns",defaultValue:false,picklistEntries:[{value:"never",label:"Never"},{value:"dragDrop",label:"Using drag and drop"},{value:"modal",label:"Via Table Settings modal"},{value:"dragDropAndModal",label:"Either by drag and drop or via Table Settings"}],onChange:()=>{e.rebuildProps().refresh();x()}}]}},{label:"Errors",linkedComponent:o,deleteable:false,propsFunction:e=>a.getErrorBehaviorProperties(e)},{label:"Advanced",linkedComponent:o,deleteable:false,propsFunction:e=>[i.coreProps.uniqueIdProp({component:o}),{id:"adaptiveColumns",type:"boolean",defaultValue:false,label:"Enable Adaptive Columns",helptext:"Enables table columns to adjust their size to accommodate the content.",onChange:()=>e.rebuildProps()},l.attr("adaptiveColumns")==="true"?{type:"helptext",html:"Frozen column headers disabled. To reenable, uncheck Enable Adaptive Columns."}:null,...l.attr("showSaveCancel")!=="false"?[{id:"saveIcon",type:"icon",label:"Save Icon",onChange:()=>o.refresh()},{id:"cancelIcon",type:"icon",label:"Cancel Icon",onChange:()=>o.refresh()}]:[]]},{label:"Other",deleteable:false,props:[{id:"rowActionsOnLeft",label:"Row Actions on Left",type:"boolean",defaultValue:false,onChange:o.buildRowActionsPreview},{id:"showRowNumbers",label:"Show row numbers",type:"boolean",onChange:o.toggleRowNumberPreview},c.propertiesFactory.showListHeader({onChange:()=>o.refresh()}),c.propertiesFactory.showListFooter({onChange:()=>o.refresh()})]}]},a.getInkStylesTab({component:o,propViewer:n,spacing:true}),i.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:o,model:null,propViewer:n,showStyleVariantConditions:true}),i.getContextCategory({propViewer:n,state:l,model:s})];n.applyPropsWithCategories(h,o.get("xmlState"))},defaultStateGenerator(){let e=l("<rowActions/>"),t=l("<massActions/>"),n=i.getLastSelectedModelComponent(),a=n?n.get("xmlState"):i.getFirstModel(),o=a?a.attr("id"):null;return l("<skuid__table/>").attr({allowColumnFreezing:"dragDrop",model:o}).append(l("<fields/>"),l('<filtering enableSearch="false" />'),e,t)},componentRenderer(a){let r=a.get("xmlState"),s=g,d=k(a,this),p=r.attr("model"),f=n.getBuilder("skuid__filter"),m=new o.ComponentAcceptor(r.children("filters"),{customBuilder:f,acceptsBuilderIds:["skuid__filter"],requiresGlobalComponent:false,requiresModels:[p],mode:a.mode,parentComponent:a}),h=function e(){if(a.get("xmlState").children("rowActions").length===0){a.get("xmlState").append(l("<rowActions><actions/></rowActions>"));a.save()}let t=s.getDefaultState("multi");a.get("xmlState").find("> rowActions").first().append(t);let n=i.componentFactory(t,s);a.save();Y.append(n.element);n.select();a.buildRowActionsPreview()},C=function e(){if(r.children("massActions").length===0){let e=b.defaultStateGenerator();r.append(e);a.save()}let t=s.getDefaultState("multi"),n;r.children("massActions").append(t);n=i.componentFactory(t,s);a.save();$.append(n.element);n.select();a.handleOptionChange()},w=function e(){if(r.children("actions").length===0){let e=y.defaultStateGenerator();r.append(e);a.save()}let t=s.getDefaultState("multi"),n;r.children("actions").append(t);n=i.componentFactory(t,s);a.save();K.append(n.element);n.select();a.handleOptionChange()},x=()=>{if(r.children("filters").length===0){r.append(l("<filters/>"));a.save()}let e=f.getDefaultState();r.children("filters").append(e);a.save().refresh()};m.addClass("nx-pagebuilder-acceptor-inline-small");m.setStyle({display:r.children("filters").children().length?"flex":"none",border:"none"});if(!a.handleOptionChange){a.handleOptionChange=function(){let e=r.attr("createrecords")!=="false",t=r.find("> rowActions").children().length>0,n=r.find("> massActions").children().length>0,i=r.find("> actions").children().length>0,o=r.attr("showSaveCancel")!=="false",l=r.attr("enableExport")==="true",s=r.attr("allowColumnHiding")==="true",d=a.buttonsWrapper;a.actionsWrapper.toggle(e||t);d.toggle(o);o?d.children(".ui-button").css("display",""):d.children(".ui-button").hide();if(l){a.footerWrapper.show()}else{a.footerWrapper.hide()}if(s){a.moreActionsIcon.show()}else{a.moreActionsIcon.hide()}if(a.massActionsBtn){if(n)a.massActionsBtn.show();else a.massActionsBtn.hide()}if(a.globalActionsBtn){if(i)a.globalActionsBtn.show();else a.globalActionsBtn.hide()}}}a.setTitle(a.builder.name);a.body.addClass("nx-pagebuilder-table");let I=r.children("fields"),T=t("<div>").addClass("clearfix nx-editor-header nx-table-header"),A=t("<div>").addClass("clearfix nx-editor-header nx-table-header"),P=t("<div>").addClass("nx-table-body"),_=r.attr("buttonposition")||"right";a.buttonsWrapper=t("<div>").addClass("nx-pagebuilder-buttonwrapper").css("float",_).append(t("<div>").text(e.$L("Save")).css({marginLeft:"4px"}).skooButton({icon:r.attr("saveIcon")}).addClass("nx-pagebuilder-savebtn").button("disable"),t("<div>").text(e.$L("Cancel")).css({marginLeft:"4px"}).skooButton({icon:r.attr("cancelIcon")}).addClass("nx-pagebuilder-cancelbtn nx-button-secondary").button("disable"));a.searchBox=t("<input/>").prop("disabled",true).addClass("searchbox").css({color:"#DDD",margin:"4px"});if(!a.updateSearchBox){a.updateSearchBox=function(){let t=r.children("filtering"),n=t.attr("enableSearch")==="true",o=t.attr("searchPlaceholder");if(!o){const t=i.getModelFromModelName(a.get("xmlState").attr("model")),n=i.getDataSourceFromModel(t),r=t?t.attr("sobject"):null,l=r?n.getCachedEntityMetadata(r):null,s=l?l.getLabelPlural():null;o=e.$L("Search")+" "+(s?s:"")}a.searchBox.attr("placeholder",o);a.searchBox.toggle(n)}}a.updateSearchBox();a.filterWrapper=t("<div>").addClass("nx-conditioncontainer");a.filterWrapper.css("display","flex");if(_==="left"){a.filterWrapper.css({float:"left","margin-left":"4px"})}a.globalAndMassWrapper=t("<div>").css("float","left");a.actionsWrapper=t("<div>").addClass("nx-table-fieldwrapper").css({marginTop:"8px",padding:"5px"});a.actionsWrapper.toggleClass("sk-hidden",!r.children("rowActions").children().length);a.headerActions=t("<div>").addClass("nx-field-label nx-headeractions").text("(Row Actions)").appendTo(a.actionsWrapper);a.rowActionsWrapper=t("<div>").addClass("nx-rowActions-wrapper").appendTo(a.actionsWrapper);a.footerWrapper=t("<div>").addClass("nx-table-footer");let F=r.children("exportProperties").first();if(F.length){a.exportComponent=i.componentFactory(F,u);a.footerWrapper.append(a.exportComponent.element)}else if(a.get("xmlState").attr("enableExport")==="true"){F=c.getExportDefaultState();r.append(F);a.exportComponent=i.componentFactory(F,u);a.footerWrapper.append(a.exportComponent.element)}a.moreActionsIcon=t('<div style="float:'+_+'; padding:5px;">').append(t(e.ui.createIcon(r.attr("configButtonIcon")||"sk-webicon-ink:dots-vertical")));a.heading=t("<h2>").css({float:"left","margin-top":"0","margin-left":"3px"});a.heading.html(r.attr("title")||"&nbsp;");if(r.attr("showListHeader")==="false"){T.append(c.renderHeaderFooterVisibilityHelper("header"))}else{T.append(a.heading,a.buttonsWrapper,a.moreActionsIcon);A.append(a.globalAndMassWrapper,a.filterWrapper)}let M=t("<div>"),E=t('\n\t\t\t\t<div class ="nx-table-fieldwrapper">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="nx-field-label">&nbsp</div>\n\t\t\t\t\t\t<div class="nx-field-displaytype">#</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t');a.body.append(T,A,M,P,a.footerWrapper);M.append(E);if(r.attr("showListFooter")==="false"){a.body.append(c.renderHeaderFooterVisibilityHelper("footer"))}a.handleOptionChange();a.buildRowActionsPreview=function(){a.actionsWrapper.remove();if(r.attr("rowActionsOnLeft")==="true"){a.actionsWrapper.prependTo(M)}else{a.actionsWrapper.appendTo(M)}a.rowActionsWrapper.empty();a.actionsWrapper.toggleClass("sk-hidden",!r.children("rowActions").children().length);r.find("> rowActions").children().each(function(){let n=t(this),i=n.attr("type"),o=n.attr("icon");if(i=="delete"){o="sk-webicon-ink:delete"}else if(i=="edit"){o="sk-webicon-ink:edit"}a.rowActionsWrapper.append(t("<div class='nx-rowaction'>").append(o?t(e.ui.createIcon(o||"",{additionalClass:"inline"})):"",n.attr("label")).css({padding:"5px"}).data("state",n))});a.rowActionsWrapper.on("click dblclick",".nx-rowaction",function(e){c.actionOnClickHandler({action:t(this),event:e,getModelName(){return r.attr("model")}})})};a.toggleRowNumberPreview=(()=>{E.toggleClass("sk-hidden",r.attr("showRowNumbers")!=="true")});a.toggleRowNumberPreview();a.buildDrawerColumnPreview=(()=>{a.drawerIconsWrapper.toggleClass("sk-hidden",r.attr("enableDrawers")!=="true");if(r.attr("enableDrawers")==="true"){let e=a.drawerComponent,t=r.children("drawer");if(t.length===0){t=l("<drawer/>");r.append(t)}if(!a.drawerComponent){e=a.drawerComponent=i.componentFactory(t,S(a,this),true)}a.drawerIconsWrapper.append(e.element)}});a.drawerIconsWrapper=t('<div class="nx-pagebuilder-table nx-table-fieldwrapper">');const N=a.get("fieldAcceptor")||new o.ComponentAcceptor(I,{customBuilder:d,acceptsBuilderIds:["model__field","skuid__table__field","skuid__form__field"],requiresModels:[p],requiresGlobalComponent:false,mode:a.mode,layout:"flex",parentComponent:a});N.setStyle({border:"0px solid white",display:"inline-block",margin:"0px",float:"left"});a.set("fieldAcceptor",N);M.append(a.drawerIconsWrapper,N.element,a.actionsWrapper);let O=a.get("xmlState").children("actions").first(),R=O.children(),D=a.get("xmlState").children("massActions").first(),L=D.children(),B=a.get("xmlState").find("rowActions").first(),V=B.children(),j=t("<div>").addClass("nx-componentsection-wrapper").appendTo(P);let G="33.333%",W=c.getSection(a,{addItemFunction(){h()},label:"Row Actions",tip:"Add Row Action",parentStateSelector:"skuid__table > rowActions",width:G}),U=c.getSection(a,{addItemFunction(){w()},label:"Global Actions",tip:"Add Global Action",parentStateSelector:"skuid__table > actions",width:G}),z=c.getSection(a,{addItemFunction(){C()},label:"Mass Actions",tip:"Add Mass Action",parentStateSelector:"skuid__table > massActions",width:G}),q=W.section,H=z.section,X=U.section,Y=W.container,$=z.container,K=U.container;j.append(X,H,q);j.appendTo(P);a.globalActionsBtn=v("Global Actions");a.globalAndMassWrapper.append(a.globalActionsBtn);a.massActionsBtn=v("Mass Actions");a.globalAndMassWrapper.append(a.massActionsBtn);a.globalActionsBtn&&a.globalActionsBtn.hide();a.massActionsBtn&&a.massActionsBtn.hide();if(R&&R.length){a.globalActionsBtn&&a.globalActionsBtn.show()}if(L&&L.length){a.massActionsBtn&&a.massActionsBtn.show()}L.each(function(){let e=i.componentFactory(t(this),s);$.append(e.element)});R.each(function(){let e=i.componentFactory(t(this),s);K.append(e.element)});a.filterWrapper.append(m.element,a.searchBox);if(V&&V.length){t.each(V,function(){let e=i.componentFactory(t(this),s);Y.append(e.element)});a.buildRowActionsPreview()}a.buildDrawerColumnPreview();let J=[{text:"Add Mass Action",icon:"sk-webicon-ink:actions",action:C},{text:"Add Global Action",icon:"sk-webicon-ink:actions",action:w},{text:"Add Row Action",icon:"sk-webicon-ink:actions",action:h},{text:"Add Table Filter",icon:"sk-webicon-ink:filter-list",action:x}];a.addActionGroup(J,"Add Features");a.addActionGroup(n.makeAddFieldActionButton({component:a,fieldBuilder:d,showImage:false}),"Add Field(s)","sk-webicon-ink:edit-form")},createFromModel(n,a){const o=n.attr("type")==="aggregate",r=h.getDefaultState(a,{setUniqueId:true}),l=n.attr("id"),s=[];let d="read";if(o){d="readonly"}r.attr({model:l,mode:d});if(!e.platform.hasFeature("PageComposerStaging")){t.each(n.children("fields, groupby").children(),function(){const e=t(this),n=i.getMetadataForField(i.getComponentFromState(e)),a=c.fieldStateGenerator({fieldId:e.attr("id"),fieldName:e.attr("name"),isChildRelationship:e.attr("type")==="childRelationship",relationshipName:n&&n.relationshipName});if(c.isNumericType(e.attr("id"),l)){a.attr("horizontalAlignment","right")}s.push(a)});r.children("fields").append(s)}return r},cpi:{showDrawerBuilder(e){if(!e)e={};let t=e.parentState||this.get("xmlState"),n=e.getContextModelName,a=this.popupDrawerComponent,r,s;if(!a){s=t.children("drawer");if(!s.length){s=l("<drawer/>");t.append(s)}r=o.makePopupBuilder({id:"drawer",title:"Drawer",width:"90%",getContextModelName:n,customProps:w(this),linkedComponent:this}),a=this.popupDrawerComponent=i.componentFactory(s,r,true)}if(e.select===false){a.builderCPI.open()}else{a.builderCPI.open();a.select()}}}});i.registerBuilder(h);const g=h.registerChildBuilder(new i.Builder({id:"action",name:"Row Action",icon:"sk-webicon-ink:button",hideWrapper:true,componentRenderer(n){let a=n.get("xmlState"),o=a.attr("label"),r=e.builder.componentRegistry.getByState(a.parents("skuid__table").first()[0]),l=r.get("xmlState"),s=l.attr("model"),d={multi:"Run actions"},u=a.attr("icon"),p=a.attr("type"),f=n.body;if(!o){if(p=="createrow"){let t;if(s){let n=i.getModelFromModelName(s),a=e.dataSource.getDataSource(n.attr("datasource")||n.attr("service")||"salesforce"),o;if(n){o=n.attr("sobject");if(o){o=a.getCachedEntityMetadata(o);if(o)t=o.getLabel()}}}if(!t)t="(Object)";o=e.label.merge(e.$L("Add_New"),t)}else{o=e.$L(d[p]||"action")}}if(u)f.prepend(e.ui.createIcon(u,{additionalClass:"nx-componentsection-icon"}));f.append(t("<div>").addClass("nx-componentsection-body").text(o));n.addActionItem("Remove","sk-webicon-ink:delete",function(){n.remove();r.buildRowActionsPreview&&r.buildRowActionsPreview();r.handleOptionChange()});f.off("dblclick").on("dblclick",function(e){c.actionOnClickHandler({action:n,state:a,event:e,getModelName(){return l.attr("model")}})})},propertiesRenderer(t,n){let o=n.get("xmlState"),r=e.builder.componentRegistry.getByState(o.parents("skuid__table").first()[0]),l=r.get("xmlState"),s=l.attr("model"),d,c=o.parent(),u=c.is("rowActions"),p=c.is("massActions");t.setTitle(r.builder.name+" Action Properties");d=o.attr("type");let f={id:"label",type:"string",label:"Action Label",onChange(){n.refresh();r.buildRowActionsPreview()}},m={id:"icon",type:"icon",label:"Action Icon",defaultValue:"",onChange(){n.refresh();r.buildRowActionsPreview()}},h=[{name:"Basic",props:[f,m]}];if(d==="multi"){let e=[];if(l[0].tagName==="skuid__table"){e.push({value:"drawer",label:"Open/Close a Drawer",props:[{type:"customaction",label:"Configure Drawer",icon:"sk-webicon-ink:open",mode:"edit",customAction(){r.builderCPI.showDrawerBuilder({getContextModelName(){return l.attr("model")},parentState:l})}}]});if(p){e.push({value:"massUpdate",label:"Mass Update Rows",props:[{type:"helptext",html:"Gives the ability to set the same value to many rows at one time."}]})}}h.push(i.getActionsCategory({getModelName:()=>l.attr("model"),linkedComponent:n,additionalActionOptions:e}))}h.push(a.getTooltipProperties());h.push(i.getRenderingCategory({component:n,model:u?s:null,propViewer:t,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition"}));t.applyPropsWithCategories(h,o)},defaultStateGenerator(){return l('<action type="multi" label="Run actions"/>')}}));let b=C("mass");let y=C("global");let v=e=>{let n=t("<div>").css({display:"inline-block",margin:"1px 6px 8px 0px","pointer-events":"none",opacity:".25"});n.css("padding","0px");let i=t("<div>").css("margin","0px").addClass("nx-actionselect nx-actionbutton");t("<div>").addClass("nx-actionselect-text").text(e).appendTo(i);n.append(i);return n};function C(e){let t="Mass Action",n="massActions";if(e==="global"){t="Global Action";n="actions"}return h.registerChildBuilder(new i.Builder({id:"actions",name:t,hideWrapper:true,componentRenderer(){},propertiesRenderer(){},defaultStateGenerator(){return l("<"+n+"/>")}}))}let k=function n(o,r){return r.registerChildBuilder(new i.Builder({id:"skuid__table__field",name:"Field",icon:"sk-webicon-ink:edit-form",setUniqueId:false,xmlTag:"field",getSubtitle(e,t){return e.getAttribute("label")||Object(Pt["b"])(e.getAttribute("id"),t.modelFieldsMetadata)||e.getAttribute("id")||e.getAttribute("name")},componentRenderer(n){n.getCPI().addClass("nx-pagebuilder-field nx-table-fieldwrapper nx-pagebuilder-table-field");let a=o.get("xmlState").attr("model"),r,l=n.get("xmlState"),s=l.attr("id"),d=l.attr("type"),c=l.attr("name"),u,h,g,b,y,v,C;if(d===p.COMBO||d===p.IMAGE){h=l.attr("label");g=t("<div>").append(h).addClass("nx-field-label");n.body.append(g);b=t("<div>").append(d===p.COMBO?"TEMPLATE":p.IMAGE).addClass("nx-field-displaytype");n.body.append(b)}else{y=i.getFieldInfoFromCache(a,s);if(c){r=i.getModelFromModelName(a);if(r){C=r.children("fields").first().children('[name="'+e.utils.escapeSelector(c)+'"]').first();if(C)v=C.attr("function")}}u=n.get("xmlState").attr("label");h=u&&u.length?u:v?v.toUpperCase()+"("+s+")":y?y.label||y.id:"Unknown Field";g=t("<div>").append(h).addClass("nx-field-label");n.body.append(g);b=t("<div>").append(y&&y.displaytype?y.displaytype:s).addClass("nx-field-displaytype");n.body.append(b)}n.addActionItem("Remove","sk-webicon-ink:delete",function(){n.remove()});n.getCPI().setDragManifest(new f({model:a,builderId:"skuid__table__field"}));n.getCPI().setDragDeployment(new m({component:n,isChildRelationship:l.attr("type")==="childRelationship",fieldId:l.attr("id"),fieldName:l.attr("name"),recreate:true}))},propertiesRenderer(e,t){e.setTitle("Field Properties");let n=a.getFieldProperties(t,o.get("xmlState").attr("model"),o.builderId,null,o.get("xmlState"));e.applyPropsWithCategories(n,t.get("xmlState"))},defaultStateGenerator(e){const t=o.get("xmlState").attr("model"),n=c.fieldStateGenerator(e);if(c.isNumericType(e.fieldId,t)){n.attr("horizontalAlignment","right")}return n},hideWrapper:true}))};function S(t,n){let a=n.registerChildBuilder(new i.Builder({id:"drawer",icon:"sk-webicon-ink:drawer",title:"Drawer Properties",hideWrapper:true,componentRenderer(n){const i=n.get("xmlState").attr("showDrawerIcon")!=="false";n.body.append('\n\t\t\t\t\t\t\t<div class="nx-field-label">&nbsp</div>\n\t\t\t\t\t\t\t<div style="margin-top: 4px; '.concat(!i?"opacity: .5;":"",'">\n\t\t\t\t\t\t\t\t').concat(e.ui.createIcon("sk-webicon-ink:chevron-small-right"),"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t")).css("background","#f8f8f8");n.getContextModelName=(()=>t.get("xmlState").attr("model"));n.body.on("dblclick",()=>{t.builderCPI.showDrawerBuilder({getContextModelName(){return t.get("xmlState").attr("model")},state:t.get("xmlState")})})},propertiesRenderer(e,n){e.setTitle("Drawer Properties");e.applyPropsWithCategories(w(t),n.get("xmlState"))},defaultStateGenerator(){return l("<drawer/>")},cpi:{close(){},open(){}}}));return a}const w=e=>[{name:"Basic",props:[{id:"showDrawerIcon",type:"boolean",label:"Show Drawer Icon",helptext:"If unchecked, the drawer icon will be hidden and drawers must be opened/closed via actions",defaultValue:true,onChange(){e.drawerComponent.refresh()}},{type:"customaction",label:"Configure Drawer",icon:"sk-webicon-ink:open",mode:"edit",customAction(){e.builderCPI.showDrawerBuilder({parentComponent:e,parentState:e.get("xmlState"),getContextModelName(){return e.get("xmlState").attr("model")}})}}]},i.getActionsCategory({customNodeId:"beforeLoad",label:"Before Load Actions",getModelName:()=>e.get("xmlState").attr("model"),linkedComponent:e})]})(e);function Vo(e,t,n){e.subscribeChange("tabs",()=>n.buildTabPanels())}const{AcceptanceCriteria:jo,DragManifest:Go,DragData:Wo,DragDeploymentConfiguration:Uo}=e.builder.dragDrop;const zo=e.builder,qo=zo.core,Ho=zo.desktop,Xo=e.utils,Yo=Xo.makeXMLDoc,$o="skuid__tabSet",Ko=e.componentType.get($o),Jo=e=>zo.componentRegistry.getByState(e);Ko.initBuilder=Vo;const Qo=new qo.Builder({id:"skuid__tabSet",name:"Tab Set",icon:"sk-webicon-ink:tabset",componentType:$o,description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/tab-set/",n=Ho.getDescriptionTag(),i='The Tab Set component creates tabs on a page. You can add other components to the tabs inside the Tab Set.\n\t\t\t\t\tWhen there is not enough horizontal space to display all the tabs, they are grouped in a dropdown menu.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Tab Set component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},init(e){const t=e.cpi.setCanvasComponent(),n=e.get("xmlState");const i=zo.getBuilder("skuid__tabPanel");t.set("dragDropFragment",zo.dragDrop.createAcceptorFragment({parentComponent:t,dragIcon:i.icon,dragName:i.name,inline:true,mode:e.cpi.getMode(),emptyStateEnabled:false,acceptanceCriteria:new jo({acceptsBuilderIds:["skuid__tab"]}),makeChildrenDraggable:true,getDragData(t,n){const a=Jo(e.get("xmlState").children("tabs")[0].children[n.startIndex]);return new Wo(new Go({builderId:"skuid__tab",isGlobalComponent:false}),new Uo({builderToUse:i,component:a}))},onDrop(t,n){const i=n.component;if(!i)return;const a=i.get("xmlState");const o=e.get("xmlState").children("tabs");const r=Jo(a.closest("skuid__tabset")[0]);t=Xo.clamp(t,0,o.children().length);qo.moveXmlToIndex(a,o,t);if(r&&r!==e)r.cpi.refresh();e.cpi.refresh();e.cpi.save();e.builderCPI.showTabByIndex(t)}}));e.addActionItem("Add Tab",null,function(){let t=zo.getBuilder("skuid__tabPanel").defaultStateGenerator(),n=e.get("xmlState").children("tabs");n.append(t);e.cpi.refresh();e.cpi.save()});t.set({onMouseDown:(e,n)=>{n.component.get("builderComponent").cpi.select();t.cpi.setActiveTab(n.uniqueId);e.stopPropagation()}});t.subscribe("tabActivated",e=>{const t=n.children("tabs")[0].children[e.index];if(t){const e=Jo(t);e&&e.select()}})},parseState:true,refresh(e){e.cpi.updateCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Tab Set Properties");const n=t.get("xmlState"),i=qo.coreProps.uniqueIdProp({component:t}),a={id:"rememberActiveTab",label:"Remember Active Tab",helptext:"Return to most recently focused tab on page reload.",type:"boolean",onChange(){t.save()}};e.applyPropsWithCategories([{name:"Basic",props:[i,a]},Object(d["b"])({component:t,propViewer:e,spacing:true}),qo.getRenderingCategory({conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",component:t,model:null,propViewer:e,showStyleVariantConditions:true})],n)},defaultStateGenerator(){let e=Yo("<skuid__tabSet/>"),t=Yo("<tabs/>").appendTo(e);t.append(Yo('<skuid__tabPanel name="New Tab"/>').append(Yo("<components/>")));return e},componentSpoofMap:{skuid__tabPanel:{builderId:"skuid__tabPanel",makeDraggable:false,cache:true,filter:()=>true,cpiSpoofers:{}}},cpi:{showTabByIndex(e){this.cpi.getCanvasComponent().cpi.setActiveTabByIndex(e)}}});if(e.platform.hasFeature("PageComposerStaging")){qo.registerBuilder(Qo)}var Zo=i(666);var er=i(667);const tr=P["a"].createStyleSheet({label:{fontSize:"@tk.fontSize.body",fontFamily:"@tk.fontFamily.primary",color:"@palette.neutral.2",fontWeight:"@tk.fontWeight.regular",padding:"@tk.spacing.s2 @tk.spacing.s1 0 @tk.spacing.s1"},"label--top-level":{fontWeight:"@tk.fontWeight.bold"}});const nr=tr.attach().classes;let ir=e.$,ar=e.builder.core,or=nr,rr=e.builder.desktop,lr=e.utils,sr=lr.makeXMLDoc;const dr=(e,t)=>{if(t.length){ar.appendComponents(e,t.children("item"),{customBuilder:ur,makeDraggable:false,isGlobalComponent:false})}};const cr=()=>{let t=[{label:"Manual",value:""}];let n=e.platform.getNavigationItemSourceTypes;if(n&&typeof n==="function"){n=n()}if(n&&n.length){n.forEach(function(e){if(e.value&&e.label){t.push(e)}})}return t};const ur=new ar.Builder({id:"item",name:"Navigation Item",icon:"sk-webicon-ink:link",hideWrapper:true,isTransparent:true,description:"An individual navigation item",componentRenderer(t){let n=t.body,i=t.get("xmlState"),a=i.attr("label"),o=i.attr("icon"),r=ir("<div>").addClass("nx-pagebuilder-nav-wrapper"),l=ir("<div>"),s=i.children("items").first();n.addClass(or["label"]);if(i.parent().parent().prop("tagName")==="skuid__verticalNavigation"){n.addClass(or["label--top-level"])}if(o){l.append(ir(e.ui.createIcon(o)).addClass('nx-pagebuilder-nav-component-icon">'))}if(a){l.append(ir('<div class="nx-pagebuilder-nav-component-label">').html(a))}dr(r,s);r.sortableComponent({axis:"y",component:t,parentStateSelector:"item > items"});t.addActionItem("Add","sk-webicon-ink:add",function(){if(!s.length){s=sr("<items/>");i.append(s)}let e=ur.defaultStateGenerator(),n=ar.componentFactory(e,ur);r.append(n&&n.element);s.append(e);t.save()});t.addActionItem("Remove","sk-webicon-ink:delete",function(){t.remove()});n.append(l,r)},propertiesRenderer(e,t){e.setTitle("Vertical Navigation Item Properties");let n=t.get("xmlState");let i=[{name:"Basic",props:[{id:"label",label:"Label",type:"string",onChange:()=>t.refresh()},{id:"type",label:"Type",type:"picklist",options:[{label:"Action",value:"action"},{label:"Section",value:"section"}],onChange(i){if(i==="section"){n.children("actions").empty()}t.save().rebuildProps(e).refresh()}},{id:"uniqueid",type:"string",label:"Navigation Item Unique Id",helptext:"Optional parameter that allows this item to be reliably referenced via JavaScript, or set via a window.location.hash (e.g. apex/skuid__UI?page=AccountDetail#Cases)"}]},n.attr("type")!=="section"?ar.getActionsCategory({linkedComponent:t}):false,ar.getRenderingCategory({component:t,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",propViewer:e,showSelectedConditions:true,selectedConditionsNodeId:"selectedConditions"})];e.applyPropsWithCategories(i,n)},defaultStateGenerator(){return sr('<item label="New Navigation Item" uniqueid="'+lr.generateUniqueId()+'">'+"<actions>"+'<action type="redirect" window="self"/>'+"</actions>"+"</item>")}});let pr=new ar.Builder({id:"skuid__verticalNavigation",name:"Vertical Navigation",icon:"sk-webicon-ink:side-list",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/vertical-navigation/",n=e.platform.getDocsBaseUrl()+"skuid/action-framework/",i=rr.getDescriptionTag(),a='The Vertical Navigation component is used to create custom navigation itemsin a vertical formatthat allow users to navigate Skuid apps,\n\t\t\t\tgo to different web pages, or perform <a href="'.concat(n,'">Action Framework actions</a>.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="').concat(t,'">Vertical Navigation component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(i);return a},isTransparent:true,componentRenderer(t){t.setTitle(t.builder.name);let n=t.body,i=t.get("xmlState"),a=i.children("items").first(),o=i.attr("source"),r=ir('<div class="nx-pagebuilder-navwrapper">'),l,s={};cr().forEach(function(e){if(e.value&&e.label){s[e.value]=e}});r.addClass("sk-navigation");r.addClass("sk-navigation-vertical");let d="Add";if(!o||o==="manual"){dr(r,a);t.addActionItem(d,"sk-webicon-ink:add",function(){let i=ur.defaultStateGenerator(),o=ar.componentFactory(i,ur,true);n.append(o.element);a.append(i);t.save().refresh();e.events.publish("builder.colorcheck")},"Add navigation item")}else if(s[o]){t.toggleActionItemByLabel(d,false);r.append(ir("<div>").text("Source: "+s[o].label))}r.sortableComponent({axis:"y",component:t,parentStateSelector:"skuid__verticalNavigation > items"});let c=t.get("xmlState").children("styles");lr.processAndApplyStylesNode(c,t.body,{whitelist:ar.builderSafeBackgroundProperties});lr.processAndApplyStylesNode(c,r,{whitelist:ar.builderSafePositionProperties.concat(ar.builderSafeFormatProperties)});l&&n.append(l);n.append(r)},propertiesRenderer(t,n){t.setTitle("Vertical Navigation Properties");let i=n.get("xmlState"),a=[],o=[],r=i.attr("type"),l={id:"source",label:"Item Source",type:"picklist",picklistEntries:cr(),onChange(t){if(t===""){i.children("items").append(ur.defaultStateGenerator())}else{i.children("items").empty()}n.save().rebuildProps().refresh();e.events.publish("builder.colorcheck")}},s={id:"icon",label:"Icon",type:"icon",defaultValue:"sk-webicon-ink:hamburger-menu",onChange(){if(i.attr("allowexpandcollapse")==="true"){n.refresh()}}};if(r!=="dropdown"&&r){s.label="Toggle Expand/Collapse Icon"}o.push(l);if(i.attr("allowexpandcollapse")==="true")o.push(s);a.push({name:"Basic",props:o},{name:"Advanced",props:[ar.coreProps.uniqueIdProp({component:n,onChange(){n.refresh()}})]},e.builder.ink.getInkStylesTab({component:n,propViewer:t,spacing:true}),ar.getRenderingCategory({component:n,conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",propViewer:t,showStyleVariantConditions:true}));t.applyPropsWithCategories(a,i)},defaultStateGenerator(){let e=sr("<skuid__verticalNavigation/>"),t=sr("<items/>").append(ur.defaultStateGenerator());return e.append(t)}});pr.registerChildBuilder(ur);ar.registerBuilder(pr);var fr=i(42);var mr=i(128);const hr=e.$,gr=e.builder,br=gr.core,yr=gr.ink,vr=gr.desktop,Cr=e.utils.makeXMLDoc,kr=e=>hr.map(e.children(),e=>hr(e).attr("stepId"));const Sr=new br.Builder({id:"skuid__wizard",componentType:"skuid__wizard",name:"Wizard",icon:"sk-webicon-ink:magic-wand",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/wizard/",n=vr.getDescriptionTag(),i='Use the Wizard component to create a guided step-by-step process that moves users through screens in a specified order.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Wizard component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},init(e){const t=e.get("xmlState");const n=e.cpi.setCanvasComponent();e.addActionItem("Add New Step","sk-webicon-ink:add",()=>{const n=t.children("steps"),i=mr["a"].getDefaultState({wizardId:t.attr("uniqueid"),wizardSteps:n.children()});n.append(i);e.cpi.save()});e.cpi.createObserver({node:t.children("steps")[0],observe:{childList:true},callback:t=>{e.cpi.refresh();if(t[0].removedNodes.length){e.cpi.select()}}});e.builderCPI.syncNavigationGroup();n.subscribeChange("currentStep",e.builderCPI.syncNavigationGroup)},parseState(t,n){const i=t.cpi.getCanvasComponent()&&t.cpi.getCanvasComponent().get("currentStep");if(i!==undefined){n.currentStep=e.utils.clamp(i,0,n.steps.length-1)}return n},refresh(e){e.cpi.updateCanvasComponent();e.builderCPI.syncNavigationGroup()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){e.setTitle("Wizard Properties");const n=function e(){t.cpi.refresh()};const i={id:"direction",type:"picklist",label:"Wizard Layout Direction",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:fr["a"].VERTICAL}],onChange:()=>{n();t.rebuildProps()}},a={id:"isResponsive",type:"boolean",defaultValue:true,label:"Vertical layout on smaller screens",helptext:"When enabled, if a user's screen size is too small to display all of the steps, the layout will render vertically.",onChange:n},o={id:"hideStepLabels",type:"boolean",defaultValue:false,label:"Hide step labels",onChange:n},r={id:"disableStepButtons",type:"boolean",defaultValue:false,label:"Disable step buttons",onChange:n},l=[];l.push(i);if(t.get("xmlState").attr("direction")!==fr["a"].VERTICAL){l.push(a,o)}else{t.get("xmlState").removeAttr("isResponsive")}l.push(r);l.push(br.coreProps.uniqueIdProp({component:t}));e.applyPropsWithCategories([{name:"Basic",props:l},yr.getInkStylesTab({component:t,propViewer:e,spacing:true}),br.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",showStyleVariantConditions:true})],t.get("xmlState"))},defaultStateGenerator(){const t=e.utils.generateUniqueId(),n=Cr("<steps/>").append(mr["a"].getDefaultState({wizardId:t,stepId:"step1",stepLabel:"Step 1",addPreviousStepButton:false,nextStepId:"step2"}),mr["a"].getDefaultState({wizardId:t,stepId:"step2",stepLabel:"Step 2",previousStepId:"step1"}));return Cr('<skuid__wizard uniqueid="'.concat(t,'" />')).append(n)},cpi:{showStepByIndex(e){this.cpi.getCanvasComponent().cpi.navigateByIndex(e,false)},syncNavigationGroup(){const e=this.get("xmlState"),t=this.cpi.getCanvasComponent().get("currentStep");this.cpi.addNavigationGroup(Array.from(e.children("steps").children()).map((e,t)=>({text:e.getAttribute("stepLabel")||"<Step ".concat(t+1,">"),action:()=>this.cpi.getCanvasComponent().cpi.navigateByIndex(t)})),e.children("steps").children().eq(t-1).attr("stepLabel")||"<Step ".concat(t,">"))}},actions:[{value:"navigateToStep",label:"Navigate to Step",propsFunction:e=>[{id:"stepId",type:"combobox",label:"Step Id",entries:()=>{return kr(gr.core.getPageXML().find("[uniqueid=".concat(e.get("xmlState").attr("componentid"),"] steps")))}},{id:"scrollStepLabelIntoView",type:"boolean",label:"Scroll view to top of step",helptext:"When enabled, the user's view scrolls to ensure the top of the step is displayed upon navigation.",defaultValue:false}]}],componentSpoofMap:{skuid__wizardStep:{builder:mr["a"],cache:true,filter:()=>true}}});if(e.platform.hasFeature("PageComposerStaging")){br.registerBuilder(Sr);Sr.registerChildBuilder(G["b"],"button");Sr.registerChildBuilder(mr["a"])}const wr=e.$,xr=e.builder,Ir=xr.core,Tr=xr.ink,Ar=xr.desktop,Pr=e.utils.makeXMLDoc,_r=e=>wr.map(e.children(),e=>wr(e).attr("stepId"));const Fr=new Ir.Builder({id:"step",name:"Step",hideWrapper:true,icon:"sk-webicon-ink:stepper",indexSelectors:{unsurfaced:"components, buttons"},getSubtitle(e){return e.getAttribute("stepLabel")||e.getAttribute("stepId")},addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}return false},componentRenderer(e){const t=e.get("xmlState");const n=e.acceptor=e.acceptor||new Ar.ComponentAcceptor(t.children("components"),{mode:e.mode,parentComponent:e});e.body.append(n.element);const i=e.get("actionAcceptor")||e.createChildComponent({_forceRenderToElement:true,componentType:"skuidbuilder__componentAcceptor",componentsXML:t.children("buttons"),customBuilder:G["b"],acceptsBuilderIds:["skuid__button"],requiresGlobalComponent:false,mode:e.mode,layout:"flex"});e.set("actionAcceptor",i);e.cpi.createObserver({node:t.children("buttons")[0],observe:{childList:true},callback:()=>e.save()});const a=wr(i.getElement());let o="flex-start";switch(t.attr("alignButtons")){case"right":o="flex-end";break;case"center":o="center";break;case"separate":o="flex-end";break}i.set("justifyContent",o);a.appendTo(e.body);if(t.index()!==0){e.addActionItem("Remove Step","sk-webicon-ink:delete",()=>{const n=e.get("parentWizard");n.currentStep=t.index()-1;n.stepsContainer.children().eq(n.currentStep).show();e.remove();n.select();n.drawStepNav()})}e.addActionItem("Add Button","sk-webicon-ink:add",()=>{const n=Pr('<button label="Step Button"/>');t.children("buttons").append(n);const a=Ir.componentFactory(n,G["b"],true);i.getCPI().addComponent(a);e.save();e.get("parentWizard").save()})},propertiesRenderer(e,t){e.setTitle("Step Properties");const n=t.get("xmlState"),i={id:"stepId",type:"string",label:"Step Id"},a={id:"stepLabel",type:"string",label:"Step Label"},o={id:"alignButtons",type:"picklist",label:"Align Buttons",picklistEntries:[{value:"",label:"Left"},{value:"right",label:"Right"},{value:"center",label:"Center"},{value:"separate",label:"Separated"}],onChange(){t.rebuildProps();t.get("parentWizard").refresh()}},r={id:"showStepIndicators",type:"boolean",defaultValue:true,label:"Show step indicators",onChange(){t.get("parentWizard").refresh()}};e.applyPropsWithCategories([{name:"Basic",props:[i,a,o,n.attr("alignButtons")==="separate"&&r]},Tr.getTooltipProperties(),Ir.getRenderingCategory({enableConditionsNodeId:"enableConditions",component:t,model:n.attr("model"),propViewer:e,showEnableDisableConditions:true,hideRenderConditions:true})],n,{mode:e.mode})},defaultStateGenerator(e){let t,n,i,a,o,r,l,s,d,c=Pr("<buttons/>"),u=(e,t,n="")=>Pr('<button label="'.concat(e,'" ').concat(n," />")).append(Pr("<actions/>").append(Pr('<action type="runComponentAction" componentid="'.concat(a,'" action="navigateToStep" stepId="').concat(t||"",'"/>'))));if(e){a=e.wizardId,n=e.stepId;i=e.stepLabel;o=e.addPreviousStepButton;r=e.addNextStepButton;l=e.previousStepId;s=e.nextStepId;d=e.wizardSteps}if(o!==false)o=true;if(r!==false)r=true;if(!n&&d&&d.length){t=d.length+1}if(t){if(!n)n="step"+t;if(!i)i="Step "+t;if(o&&!l&&t>1&&d&&d.length){l=d.eq(t-2).attr("stepId")}}if(o){c.append(u("Back",l))}if(r){c.append(u("Next",s,'styleSettingsVariant="primary"'))}return Pr("<step/>").attr({stepId:n,stepLabel:i}).append(Pr("<components/>"),c)}});const Mr={type:"object",data:{label:{type:"string"},id:{type:"string"}}};const Er=new Ir.Builder({id:"skuid__wizard",name:"Wizard",icon:"sk-webicon-ink:magic-wand",actions:[{value:"navigateToStep",label:"Navigate to Step",propsFunction:e=>[{id:"stepId",type:"combobox",label:"Step Id",entries:()=>{return _r(xr.core.getPageXML().find("[uniqueid=".concat(e.get("xmlState").attr("componentid"),"] steps")))}},{id:"scrollStepLabelIntoView",type:"boolean",label:"Scroll view to top of step",helptext:"When enabled, the user's view scrolls to ensure the top of the step is displayed upon navigation.",defaultValue:false}]}],description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/wizard/",n=Ar.getDescriptionTag(),i='Use the Wizard component to create a guided step-by-step process that moves users through screens in a specified order.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Wizard component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(n);return i},events:[{type:"skuid.wizard.stepChange",label:"Wizard: Step Change",data:{currentStep:Mr,formerStep:Mr}},{type:"skuid.wizard.stepContentLoaded",label:"Wizard: Step Change",data:{step:Mr}}],componentRenderer(t){t.setTitle(t.builder.name);t.currentStep=t.currentStep||0;t.stepNav=wr("<div>").addClass("nx-pagebuilder-wizard-stepnav clearfix").appendTo(t.body);t.stepsContainer=wr("<div>").appendTo(t.body);t.actionsContainer=wr("<div>").addClass("clearfix").appendTo(t.body);const n=[];(t.get("stepComponents")||[]).forEach(e=>e.unregister());t.set("stepComponents",n);t.drawStepNav=function(){t.stepNav.empty();t.get("xmlState").children("steps").children().each(function(i){const a=wr("<div>").addClass("nx-pagebuilder-wizard-stepnavitem");if(i===t.currentStep){a.addClass("nx-stepnavitem-selected");t.actionsContainer.children().detach()}a.append(e.ui.createIcon("sk-webicon-ink:stepper",{additionalClass:"nx-pagebuilder-component-actionicon sk-builder-icon"}),wr("<div>").addClass("nx-pagebuilder-component-actiontext").text(i+1));a.on("mousedown",function(e){t.currentStep=wr(this).index();n[i].select();t.drawStepNav();e.stopPropagation()});t.stepNav.append(a)})};const i=e=>{e.set("show",true);n.forEach(t=>t!==e&&t.set("show",false))};const a=a=>{const o={componentType:"skuidbuilder__builderComponent",_xmlNode:a,_customBuilder:Fr,_builderComponent:{},_forceRenderToElement:true,projector:e.virtualDom.createProjector()};const r=e.component.createFromDefinition(o);r.subscribeChange("_selected",e=>e&&i(r));n.push(r);r.set("parentWizard",t);t.save();t.stepsContainer.append(r.element);t.subscribe("beforeUnregister",()=>r.unregister());return r};t.addActionItem("Add New Step","sk-webicon-ink:add",()=>{const e=t.get("xmlState").children("steps"),i=Fr.getDefaultState({wizardId:t.get("xmlState").attr("uniqueid"),wizardSteps:e.children()});const o=e.append(i);o.select();t.currentStep=n.length-1;a(i);t.drawStepNav();t.builderCPI.showStepByIndex(t.currentStep+1)});t.get("xmlState").children("steps").children().each((e,n)=>{const i=a(wr(n));if(e===t.currentStep){i.set("show",true)}else{i.set("show",false)}});t.drawStepNav()},propertiesRenderer(e,t){e.setTitle("Wizard Properties");const n={id:"direction",type:"picklist",label:"Wizard Layout Direction",picklistEntries:[{label:"Horizontal",value:""},{label:"Vertical",value:fr["a"].VERTICAL}],onChange:()=>t.rebuildProps()},i={id:"isResponsive",type:"boolean",defaultValue:true,label:"Vertical layout on smaller screens",helptext:"When enabled, if a user's screen size is too small to display all of the steps, the layout will render vertically."},a={id:"hideStepLabels",type:"boolean",defaultValue:false,label:"Hide step labels"},o={id:"disableStepButtons",type:"boolean",defaultValue:false,label:"Disable step buttons"},r=[];r.push(n);if(t.get("xmlState").attr("direction")!==fr["a"].VERTICAL){r.push(i,a)}else{t.get("xmlState").removeAttr("isResponsive")}r.push(o);r.push(Ir.coreProps.uniqueIdProp({component:t}));e.applyPropsWithCategories([{name:"Basic",props:r},Tr.getInkStylesTab({component:t,propViewer:e,spacing:true}),Ir.getRenderingCategory({component:t,model:null,propViewer:e,conditionsNodeId:"renderConditions",enableConditionsNodeId:"enableConditions",conditionNodeId:"renderCondition",showStyleVariantConditions:true})],t.get("xmlState"))},defaultStateGenerator(){const t=e.utils.generateUniqueId(),n=Pr("<steps/>").append(Fr.getDefaultState({wizardId:t,stepId:"step1",stepLabel:"Step 1",addPreviousStepButton:false,nextStepId:"step2"}),Fr.getDefaultState({wizardId:t,stepId:"step2",stepLabel:"Step 2",previousStepId:"step1"}));return Pr('<skuid__wizard uniqueid="'.concat(t,'" />')).append(n)},cpi:{showStepByIndex(e){this.stepsContainer.children().eq(e).show();this.get("stepComponents")[e].select();this.currentStep=e;this.drawStepNav()}}});if(!e.platform.hasFeature("PageComposerStaging")){Ir.registerBuilder(Er);Er.registerChildBuilder(Fr);Er.registerChildBuilder(G["b"],"button")}const Nr=e.builder.core,Or=e.builder.desktop,Rr=e.utils,Dr=Rr.makeXMLDoc,Lr="skuid__wrapper";const Br=new Nr.Builder({id:"skuid__wrapper",name:"Wrapper",icon:"sk-webicon-ink:wrapper",componentType:Lr,isTransparent:true,addChildComponent(e,t){const n=e.cpi.getCanvasComponent(),i=n.getChildComponentsOfType("skuidbuilder__componentAcceptor")[0];if(i&&i.cpi.canAcceptComponent(t)){i.cpi.addComponent(t);return true}else{return false}},description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/wrapper/",n=Or.getDescriptionTag(),i='The Wrapper serves as a container for other components. Using the Wrapper, you can wrap other components for easier control of styling and conditional rendering.\n\t\t\t\t<br><br>\n\t\t\t\tFor more information, see the <a href="'.concat(t,'">Wrapper component tutorial</a>.\n\t\t\t\t<br><br>\n\t\t\t\t').concat(n);return i},init(e){e.cpi.setCanvasComponent()},parseState(e,t){return Object.assign({},t,{components:[{componentType:"skuidbuilder__componentAcceptor",componentsXML:e.get("xmlState").children("components")}]})},refresh(e){e.cpi.setCanvasComponent()},renderVDom(e){return e.cpi.getCanvasComponent().renderVDom()},propertiesRenderer(e,t){const n=t.get("xmlState");e.setTitle("Wrapper Properties");e.applyPropsWithCategories([Object(d["b"])({component:t,propViewer:e,spacing:true,background:true,styleVariants:true,scrolling:true}),Nr.getInteractionsCategory({getModelName:()=>{const e=n.closest("[model]");return e&&e.attr("model")},linkedComponent:t}),Nr.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:t,model:n.closest("[model]").attr("model"),propViewer:e,showStyleVariantConditions:true}),{name:"Advanced",props:[Nr.coreProps.uniqueIdProp({component:t})]}],n)},defaultStateGenerator(){return Dr("<skuid__wrapper>"+"<components />"+"<styles><spacing/></styles>"+"<background/>"+"</skuid__wrapper>")}});if(e.platform.hasFeature("PageComposerStaging")){Nr.registerBuilder(Br)}(function(e){if(e.platform.hasFeature("PageComposerStaging")){return}let t=e.builder.core,n=e.builder.desktop,i=e.utils,a=i.makeXMLDoc,o;o=new t.Builder({id:"skuid__wrapper",name:"Wrapper",icon:"sk-webicon-ink:wrapper",description(){const t=e.platform.getDocsBaseUrl()+"skuid/components/ink/wrapper/",i=n.getDescriptionTag(),a='The Wrapper serves as a container for other components. Using the Wrapper, you can wrap other components for easier control of styling and conditional rendering.\n\t\t\t\t\t<br><br>\n\t\t\t\t\tFor more information, see the <a href="'.concat(t,'">Wrapper component tutorial</a>.\n\t\t\t\t\t<br><br>\n\t\t\t\t\t').concat(i);return a},isTransparent:true,addChildComponent(e,t){if(e.acceptor.canAcceptComponent(t)){e.acceptor.addComponent(t);return true}else{return false}},componentRenderer(e){e.setTitle(e.builder.name);let t=e.acceptor=e.acceptor||new n.ComponentAcceptor(e.get("xmlState").children("components"),{mode:e.mode,parentComponent:e});e.body.append(t.element);Object(d["a"])(e.get("xmlState"),e.body)},propertiesRenderer(e,n){e.setTitle("Wrapper Properties");let i=n.get("xmlState");e.applyPropsWithCategories([Object(d["b"])({component:n,propViewer:e,spacing:true,background:true,styleVariants:true,scrolling:true}),t.getInteractionsCategory({getModelName:()=>{const e=i.closest("[model]");return e&&e.attr("model")},linkedComponent:n}),t.getRenderingCategory({conditionsNodeId:"renderConditions",conditionNodeId:"renderCondition",component:n,model:i.closest("[model]").attr("model"),propViewer:e,showStyleVariantConditions:true}),{name:"Advanced",props:[t.coreProps.uniqueIdProp({component:n})]}],i)},defaultStateGenerator(){return a("<skuid__wrapper>"+"<components />"+"<styles><spacing/></styles>"+"<background/>"+"</skuid__wrapper>")}});t.registerBuilder(o)})(e);var Vr=i(668)},83:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},88:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=a;function a(e){var t=null;for(var n in e){var o=e[n];var r=typeof o==="undefined"?"undefined":i(o);if(r==="function"){if(!t)t={};t[n]=o}else if(r==="object"&&o!==null&&!Array.isArray(o)){var l=a(o);if(l){if(!t)t={};t[n]=l}}}return t}},89:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(18);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(){l(this,e);this.sheets=[];this.refs=[];this.keys=[]}i(e,[{key:"get",value:function e(t){var n=this.keys.indexOf(t);return this.sheets[n]}},{key:"add",value:function e(t,n){var i=this.sheets,a=this.refs,o=this.keys;var r=i.indexOf(n);if(r!==-1)return r;i.push(n);a.push(0);o.push(t);return i.length-1}},{key:"manage",value:function e(t){var n=this.keys.indexOf(t);var i=this.sheets[n];if(this.refs[n]===0)i.attach();this.refs[n]++;if(!this.keys[n])this.keys.splice(n,0,t);return i}},{key:"unmanage",value:function e(t){var n=this.keys.indexOf(t);if(n===-1){(0,o["default"])(false,"SheetsManager: can't find sheet to unmanage");return}if(this.refs[n]>0){this.refs[n]--;if(this.refs[n]===0)this.sheets[n].detach()}}},{key:"size",get:function e(){return this.keys.length}}]);return e}();t["default"]=s},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=s;var a=n(56);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}var l=Array.isArray;function s(e){if(e==null)return e;var t=typeof e==="undefined"?"undefined":i(e);if(t==="string"||t==="number"||t==="function"){return e}if(l(e))return e.map(s);if((0,o["default"])(e))return e;var n={};for(var a in e){var r=e[a];if((typeof r==="undefined"?"undefined":i(r))==="object"){n[a]=s(r);continue}n[a]=r}return n}},91:function(e,t,n){"use strict";(function(e,i){Object.defineProperty(t,"__esModule",{value:true});var a=n(92);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}var l;if(typeof self!=="undefined"){l=self}else if(typeof window!=="undefined"){l=window}else if(typeof e!=="undefined"){l=e}else if(true){l=i}else{}var s=(0,o["default"])(l);t["default"]=s}).call(this,n(17),n(83)(e))},92:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});t["default"]=i;function i(e){var t;var n=e.Symbol;if(typeof n==="function"){if(n.observable){t=n.observable}else{t=n("observable");n.observable=t}}else{t="@@observable"}return t}},93:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});var n=e.CSS;var i="production";var a=/([[\].#*$><+~=|^:(),"'`])/g;t["default"]=function(e){if(i==="production")return e;if(!n||!n.escape){return e.replace(a,"\\$1")}return n.escape(e)}}).call(this,n(17))},94:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:true});var n="2f1acc6c3a606b082e5eef5e54414ffb";if(e[n]==null)e[n]=0;t["default"]=e[n]++}).call(this,n(17))},95:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var r=n(35);var l=F(r);var s=n(59);var d=F(s);var c=n(96);var u=F(c);var p=n(97);var f=F(p);var m=n(103);var h=F(m);var g=n(104);var b=F(g);var y=n(44);var v=F(y);var C=n(20);var k=F(C);var S=n(58);var w=F(S);var x=n(34);var I=F(x);var T=n(105);var A=F(T);var P=n(106);var _=F(P);function F(e){return e&&e.__esModule?e:{default:e}}function M(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var E=f["default"].concat([h["default"],b["default"]]);var N=0;var O=function(){function e(t){M(this,e);this.id=N++;this.version="9.8.7";this.plugins=new u["default"];this.options={createGenerateClassName:w["default"],Renderer:l["default"]?A["default"]:_["default"],plugins:[]};this.generateClassName=(0,w["default"])();this.use.apply(this,E);this.setup(t)}o(e,[{key:"setup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(t.createGenerateClassName){this.options.createGenerateClassName=t.createGenerateClassName;this.generateClassName=t.createGenerateClassName()}if(t.insertionPoint!=null)this.options.insertionPoint=t.insertionPoint;if(t.virtual||t.Renderer){this.options.Renderer=t.Renderer||(t.virtual?_["default"]:A["default"])}if(t.plugins)this.use.apply(this,t.plugins);return this}},{key:"createStyleSheet",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=n.index;if(typeof i!=="number"){i=v["default"].index===0?0:v["default"].index+1}var o=new d["default"](t,a({},n,{jss:this,generateClassName:n.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:i}));this.plugins.onProcessSheet(o);return o}},{key:"removeStyleSheet",value:function e(t){t.detach();v["default"].remove(t);return this}},{key:"createRule",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if((typeof t==="undefined"?"undefined":i(t))==="object"){a=n;n=t;t=undefined}var o=a;o.jss=this;o.Renderer=this.options.Renderer;if(!o.generateClassName)o.generateClassName=this.generateClassName;if(!o.classes)o.classes={};var r=(0,I["default"])(t,n,o);if(!o.selector&&r instanceof k["default"]){r.selector="."+o.generateClassName(r)}this.plugins.onProcessRule(r);return r}},{key:"use",value:function e(){var t=this;for(var n=arguments.length,i=Array(n),a=0;a<n;a++){i[a]=arguments[a]}i.forEach(function(e){if(t.options.plugins.indexOf(e)===-1){t.options.plugins.push(e);t.plugins.use(e)}});return this}}]);return e}();t["default"]=O},96:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var a=n(18);var o=r(a);function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var s=function(){function e(){l(this,e);this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}i(e,[{key:"onCreateRule",value:function e(t,n,i){for(var a=0;a<this.hooks.onCreateRule.length;a++){var o=this.hooks.onCreateRule[a](t,n,i);if(o)return o}return null}},{key:"onProcessRule",value:function e(t){if(t.isProcessed)return;var n=t.options.sheet;for(var i=0;i<this.hooks.onProcessRule.length;i++){this.hooks.onProcessRule[i](t,n)}if(t.style)this.onProcessStyle(t.style,t,n);t.isProcessed=true}},{key:"onProcessStyle",value:function e(t,n,i){var a=t;for(var o=0;o<this.hooks.onProcessStyle.length;o++){a=this.hooks.onProcessStyle[o](a,n,i);n.style=a}}},{key:"onProcessSheet",value:function e(t){for(var n=0;n<this.hooks.onProcessSheet.length;n++){this.hooks.onProcessSheet[n](t)}}},{key:"onUpdate",value:function e(t,n,i){for(var a=0;a<this.hooks.onUpdate.length;a++){this.hooks.onUpdate[a](t,n,i)}}},{key:"onChangeValue",value:function e(t,n,i){var a=t;for(var o=0;o<this.hooks.onChangeValue.length;o++){a=this.hooks.onChangeValue[o](a,n,i)}return a}},{key:"use",value:function e(t){for(var n in t){if(this.hooks[n])this.hooks[n].push(t[n]);else(0,o["default"])(false,'[JSS] Unknown hook "%s".',n)}}}]);return e}();t["default"]=s},97:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=n(98);var a=f(i);var o=n(99);var r=f(o);var l=n(100);var s=f(l);var d=n(101);var c=f(d);var u=n(102);var p=f(u);function f(e){return e&&e.__esModule?e:{default:e}}var m={"@charset":a["default"],"@import":a["default"],"@namespace":a["default"],"@keyframes":r["default"],"@media":s["default"],"@supports":s["default"],"@font-face":c["default"],"@viewport":p["default"],"@-ms-viewport":p["default"]};var h=Object.keys(m).map(function(e){var t=new RegExp("^"+e);var n=m[e];var i=function e(i,a,o){return t.test(i)?new n(i,a,o):null};return{onCreateRule:i}});t["default"]=h},98:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function(){function e(t,n,i){a(this,e);this.type="simple";this.isProcessed=false;this.key=t;this.value=n;this.options=i}i(e,[{key:"toString",value:function e(t){if(Array.isArray(this.value)){var n="";for(var i=0;i<this.value.length;i++){n+=this.key+" "+this.value[i]+";";if(this.value[i+1])n+="\n"}return n}return this.key+" "+this.value+";"}}]);return e}();t["default"]=o},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){e[i]=n[i]}}}return e};var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,i.key,i)}}return function(t,n,i){if(n)e(t.prototype,n);if(i)e(t,i);return t}}();var o=n(26);var r=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function e(t,n,a){s(this,e);this.type="keyframes";this.isProcessed=false;this.key=t;this.options=a;this.rules=new r["default"](i({},a,{parent:this}));for(var o in n){this.rules.add(o,n[o],i({},this.options,{parent:this,selector:o}))}this.rules.process()}a(e,[{key:"toString",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{indent:1};var n=this.rules.toString(t);if(n)n+="\n";return this.key+" {\n"+n+"}"}}]);return e}();t["default"]=d}});return t});