skuid.runtime.registerApi("v2","dataSourceTypes/box",function(e){var t=function(e){var t={};function i(n){if(t[n]){return t[n].exports}var r=t[n]={i:n,l:false,exports:{}};e[n].call(r.exports,r,r.exports,i);r.l=true;return r.exports}i.m=e;i.c=t;i.d=function(e,t,n){if(!i.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:n})}};i.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};i.t=function(e,t){if(t&1)e=i(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var n=Object.create(null);i.r(n);Object.defineProperty(n,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n};i.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};i.d(t,"a",t);return t};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=712)}({712:function(t,i){(function(e){let t=e.$,i=e.dataSource,n=e.constants,r=n.DISPLAY_TYPES,a=n.MIME_TYPES,l=n.HTTP_VERBS,d=i.utils,o=e.utils,s=o.getObjectProperty,p=o.capitalizeFirst,u="Box",f="x-metadata",c=a.JSON,y=r.STRING,h=r.INTEGER,b=r.DATETIME,T=l.GET,m="folderid",_=n.DATASOURCE.SEARCH_CONDITION,S="https://upload.box.com/api/2.0/files/content";let x=function e(t){return t.dataSource.authentication.responseBody.access_token};let g=function i(n,r,a,l,d){let o=new FormData,s=n.name,p=a.model,u=e.dataSource.utils.getModelMergeConditions(p,{model:p,row:a.row}),f=u[m];l({fileName:a.filename||s});o.append("file",n);o.append("parent_id",f);t.ajax({url:S,headers:{Authorization:"Bearer "+x(p)},type:"POST",processData:false,contentType:false,data:o,success:function e(){d()},error:function e(t){d({message:t.responseText||"Had an Error!"})}})};let w=function e(t){let i=d.getModelMergeConditions(t.model,t),n=i[m],r=i[_],a=t.request.url;if(n){a=a.replace("{{folderid}}",n)}if(r){a="/search?query="+r}t.request.url=a};let H=function e(){return[{url:"/files/{{id}}",verb:T,contentType:c,fields:["description","size","created_at","modified_at","content_created_at","content_modified_at","created_by","modified_by","owned_by","shared_link","parent","item_status"]}]};if(i.getDataSourceType(u))return;new i.core.RESTDataSourceTypeBase({name:u,coerceRequest:function e(t){let i=t.type;if(i==="query"){if(t.row&&t.row.type==="Folder"){t.request.url="/folders/{{id}}"}w(t)}},getEntityList:d.getEntityListStatic,queryEntityMetadata:function e(t){let i=this.getEntityMetadataCacheKey(t),n=this.prop(f)[i];return o.resolve(n)},parseSuccessfulLoadResponse:function e(i,n,r,a){let l=this,d=l.parseResponseBodyAsJSON(i.body),o=n.pathToContent,u=o?s(d,o):d,f=l.getIdField(a);if(t.isArray(u)){t.each(u,function(e,t){t.Id=t[f];t.type=p(s(t,"type"))})}return u},getUploadMethods:function e(){return{"Direct Upload":{label:"Direct Upload",canRunPostUploadSnippet:true,upload:g,needsModelInContext:true,hasDescription:false,hasName:false}}},extendedProperties:{hasDefaultSearch:true,canServerSearch:true,"x-metadata":{File:{label:"File",labelPlural:"Files",fields:[{id:"id",label:"Id",inlineHelpText:"The ID of the file or folder",idField:true,displaytype:y,"x-alwaysinclude":true},{id:"type",label:"Type",inlineHelpText:"The type of the item",displaytype:y},{id:"name",label:"Name",inlineHelpText:"The name of the file or folder",displaytype:y},{id:"etag",label:"Etag",inlineHelpText:"A unique string identifying the version",displaytype:y},{id:"description",label:"Description",inlineHelpText:"The description of this item",displaytype:y,defer:true,path:"description"},{id:"size",label:"Size (in bytes)",inlineHelpText:"Size of this file in bytes",displaytype:h,defer:true,path:"size"},{id:"created_at",label:"Created At",inlineHelpText:"When this file was created",displaytype:b,defer:true,path:"created_at"},{id:"modified_at",label:"Modified At",inlineHelpText:"When this file was last updated",displaytype:b,defer:true,path:"modified_at"},{id:"content_created_at",label:"Content Created",inlineHelpText:"When the content of this file was created",displaytype:b,defer:true,path:"content_created_at"},{id:"content_modified_at",label:"Content Modified",inlineHelpText:"When the content of this file was modified",displaytype:b,defer:true,path:"content_modified_at"},{id:"created_by",label:"Created By",inlineHelpText:"The user who first created this file",displaytype:y,defer:true,path:"created_by.name"},{id:"owned_by",label:"Owned By",inlineHelpText:"The user who owns this file",displaytype:y,defer:true,path:"owned_by.name"},{id:"modified_by",label:"Modified By",inlineHelpText:"The user who last updated this file",displaytype:y,defer:true,path:"modified_by.name"},{id:"shared_link",label:"Shared Link",inlineHelpText:"The shared link for this file",displaytype:y,defer:true,path:"shared_link.url"},{id:"parent",label:"Parent",inlineHelpText:"The folder containing this file",displaytype:y,defer:true,path:"parent.name"},{id:"item_status",label:"Status",inlineHelpText:"Whether this item is deleted or not",displaytype:y,defer:true,path:"item_status"}],methods:{query:{url:"/folders/{{folderid}}/items",verb:T,contentType:c,pathToContent:"entries",additionalRequests:H()}},defaultConditions:[{sourcetype:"param",sourceparam:"folderid",name:"Folder",label:"Folder",state:"filterableon",value:"0"}]}}}})})(e)}});return t});