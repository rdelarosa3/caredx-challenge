skuid.runtime.registerApi("v2","dataSourceTypes/amazonSES",function(e){var t=function(e){var t={};function n(a){if(t[a]){return t[a].exports}var i=t[a]={i:a,l:false,exports:{}};e[a].call(i.exports,i,i.exports,n);i.l=true;return i.exports}n.m=e;n.c=t;n.d=function(e,t,a){if(!n.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:a})}};n.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};n.t=function(e,t){if(t&1)e=n(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var a=Object.create(null);n.r(a);Object.defineProperty(a,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};n.p="";return n(n.s=710)}({710:function(t,n,a){"use strict";(function(e){let t=e.utils,n=e.dataSource,a=n.utils,i=a.splitAndTrimStringsToArray,r=a.validateEmailAddresses,o=a.partitionRecipients,l=50;function u(n,a,u,s){const c=function e(a){return t.mergeAsDataInContext(n.attr(a),u)};const p=c("to"),d=c("cc"),b=c("bcc"),f=c("sender"),y=c("prettySender"),m=c("subject"),S=c("body"),h="/core/data/aws-ses/email";const g=i(p),j=i(d),A=i(b);if(!r(g,j,A)){return}else{let t=[];if(!g.length)t.push("Email must have recipients");if(!m.length)t.push("Email subject cannot be empty");if(!f.length)t.push("Sender cannot be empty");if(!S.length)t.push("Email body cannot be empty");if(t.length){e.component.getByType("skuid__page")[0].addProblem(t.join("\n"));return}const n=o(g,j,A,l);const a={partitionedDestinations:n,sender:f,prettySender:y,subject:m,body:S};return e.ajax.direct({url:h,type:"POST",body:a,cache:false,processData:false,contentType:"application/json",headers:{"x-skuid-data-source-name":s.name}})}}new n.DataSourceType({name:"AmazonSES",getActions:a.getActionsStatic,createActions:function e(){return{"compose-email":{builderProps:[{id:"to",label:"To",type:"template",displayAs:"input",location:"attribute"},{id:"cc",label:"Cc",type:"template",displayAs:"input",location:"attribute"},{id:"bcc",label:"Bcc",type:"template",displayAs:"input",location:"attribute"},{id:"sender",label:"Sender",type:"template",displayAs:"input",location:"attribute"},{id:"prettySender",label:"Email Display Name",helptext:"The name that will be displayed beside the email address of the sender. Typically the first and last name of the sender or the name of an organization.",type:"template",displayAs:"input",location:"attribute"},{id:"subject",label:"Subject",type:"template",location:"attribute"},{id:"body",label:"Body",type:"template",location:"attribute"}],runtimeExecution:u,label:"Send Email"}}},modelable:false})})(e)}});return t});