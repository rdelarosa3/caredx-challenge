skuid.runtime.registerApi("v2","skuidRuntime",function(e){var t=function(e){var t={};function o(i){if(t[i]){return t[i].exports}var n=t[i]={i:i,l:false,exports:{}};e[i].call(n.exports,n,n.exports,o);n.l=true;return n.exports}o.m=e;o.c=t;o.d=function(e,t,i){if(!o.o(e,t)){Object.defineProperty(e,t,{enumerable:true,get:i})}};o.r=function(e){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(e,"__esModule",{value:true})};o.t=function(e,t){if(t&1)e=o(e);if(t&8)return e;if(t&4&&typeof e==="object"&&e&&e.__esModule)return e;var i=Object.create(null);o.r(i);Object.defineProperty(i,"default",{enumerable:true,value:e});if(t&2&&typeof e!="string")for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i};o.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};o.d(t,"a",t);return t};o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};o.p="";return o(o.s=732)}({0:function(t,o,i){"use strict";i.d(o,"b",function(){return s});i.d(o,"a",function(){return a});i.d(o,"d",function(){return c});function n(){if(e){return e}throw Error("skuid not found")}let s=n().constants;let a=n().componentType;o["c"]=n();const r={MOBILE:480};const l=(t,o)=>e.builder&&e.builder.core.getDomProperties(t,o);function c(){const e=n(),{utils:t,themeSettings:o}=e,i=o&&o.getAll(),a=e.virtualDom&&e.virtualDom.hyperScript;return{skuid:e,h:a,div:a&&a.bind(null,"div"),span:a&&a.bind(null,"span"),utils:t,ts:i,getShadow:o&&o.getShadow,$:e.$,$L:e.$L,KEYCODES:s.KEYCODES,breakpoints:r,moment:e.moment,getBuilderProps:l}}},1:function(t,o,i){var n,s;!(n=[],s=(()=>e.$).apply(o,n),s!==undefined&&(t.exports=s))},10:function(t,o,i){"use strict";i.d(o,"a",function(){return n});i.d(o,"b",function(){return a});i.d(o,"c",function(){return r});function n(t,o={}){const i=e.virtualDom.hyperScript,n={};if(o.hidden)n.opacity="0";else n.opacity=null;if(o.alignBottom)n.verticalAlign="bottom";else n.verticalAlign=null;if(o.asBlock)n.display="block";else n.display=null;if(o.matchFontSize){n.width="1em";n.height="1em";n.bottom="0"}else{n.width=null;n.height=null;n.bottom=null}return i("span",{key:o.key||"icon-"+t,class:"fragment__icon",classes:o.classes||{},afterCreate:s,styles:n},[i("svg",{role:"img",viewBox:"0 0 24 24"},[o.title&&i("title",[o.title]),o.description&&i("desc",[o.description]),i("use",{role:"presentation",href:t})])])}function s(e){const t=e.children;if(t.length>1){for(let o=1;o<t.length;o++){e.children[o].remove()}}}function a(e){const{spacing:t}=e.getShortcuts();return{height:t(2),width:t(2.125),_bottom:t(.125)}}function r(e){return{icon:{verticalAlign:"text-top",width:e.width,height:e.height,display:"inline-block",fill:"currentColor",position:"relative",bottom:e._bottom}}}},145:function(e,t,o){"use strict";var i=o(10);t["a"]={getStyleSettings(e){return Object(i["b"])(e)},getStyles(e){return Object.assign({},Object(i["c"])(e),{"icon--match-font-size":{width:"1em",height:"1em",bottom:"0"},"icon--as-block":{display:"block"},"icon--align-bottom":{verticalAlign:"bottom"},"icon--hidden":{opacity:"0"},svg:{display:"block"}})}}},19:function(e,t,o){"use strict";o.d(t,"e",function(){return r});o.d(t,"d",function(){return l});o.d(t,"c",function(){return c});o.d(t,"a",function(){return d});o.d(t,"b",function(){return u});o.d(t,"f",function(){return g});var i=o(0);const{h:n,utils:s}=Object(i["d"])();function a(e){let t=0;const o={},i=e.offsetWidth,n=[].slice.call(e.children);n.map(e=>{if(e.getAttribute("data-nocollapse")=="true"){t+=e.offsetWidth}});n.map(e=>{if(e.getAttribute("data-nocollapse")!=="true"){t+=e.offsetWidth;o[e.id]=t<=i}});return o}function r(e,t){const o=document.createElement("div"),s=i["c"].virtualDom.createProjector(),r=()=>n("div",[e()]);const l=i["c"].component.getByType("skuid__page")[0],c=l.getContentElement()[0];o.className="nx-page "+l.getStyledClasses("page");o.style["display"]="block";o.style["width"]="".concat(t,"px");o.style["max-width"]="".concat(t,"px");o.style["visibility"]="hidden";if(!window.getComputedStyle(c).fontFamily){const e=i["c"].themes.getStyleSettingsForComponent(l,{forceRegisterStyleSettings:true});o.style["fontFamily"]=e.fontFamily;o.style["fontSize"]=e.fontSize}if(document.body.contains(c)){c.appendChild(o)}else{document.body.appendChild(o)}s.merge(o,r);s.renderNow();const d=a(o.firstChild);s.detach(r);o.parentNode.removeChild(o);return d}function l(e,t={}){const o=document.createElement("div"),n=i["c"].virtualDom.createProjector();o.style.width=t.width;document.body.appendChild(o);n.merge(o,e,self);n.renderNow();n.detach(e);return o}class c{constructor(e,t){let o=this.cpi={};o.getId=(()=>this.state.uniqueId);t&&Object.keys(t).map(e=>{o[e]=t[e].bind(this)});this._getCPI=(()=>o);if(typeof e!=="function"){throw new Error("maquetteRenderFn must be a function")}this.state={};this.state.uniqueId=s.generateUniqueId();this.renderVDom=e;this._componentType="skuid__lilPonent"}set(e,t){if(typeof e==="string"){this.state[e]=t}if(typeof e==="object"){Object.keys(e).map(t=>{this.state[t]=e[t]})}}get(e){return this.state[e]}getState(){return this.state}}class d{static saveCancel(e,t){const o=t.modelId?[t.modelId]:t.modelIds,n=[{label:i["c"].$L("Save"),icon:t.saveIcon,styleSettingsVariant:t.saveStyleSettingsVariant||"primary",actions:s.makeXMLDoc('\n\t\t\t\t\t\t<actions>\n\t\t\t\t\t\t\t<action type="showToast" message="'.concat(i["c"].$L("Saving"),'" />\n\t\t\t\t\t\t\t<action type="save">\n\t\t\t\t\t\t\t\t<models> \n\t\t\t\t\t\t\t\t').concat(o.map(e=>"<model>".concat(e,"</model>")),'\n\t\t\t\t\t\t\t\t</models>\n\t\t\t\t\t\t\t</action>\n\t\t\t\t\t\t\t<action type="showToast" message="').concat(i["c"].$L("Saved"),'!" />\n\t\t\t\t\t\t</actions>\n\t\t\t\t\t')),enableConditions:s.makeXMLDoc('\n\t\t\t\t\t\t<enableConditions logictype="or">\n\t\t\t\t\t\t\t'.concat(o.map(e=>'<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="'.concat(e,'" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="true" operator="="/>')),"\n\t\t\t\t\t\t</enableConditions>\n\t\t\t\t\t"))},{label:i["c"].$L("Cancel"),icon:t.cancelIcon,styleSettingsVariant:t.cancelStyleSettingsVariant||"default",actions:s.makeXMLDoc('\n\t\t\t\t\t\t<actions>\n\t\t\t\t\t\t\t<action type="cancel">\n\t\t\t\t\t\t\t\t<models>\n\t\t\t\t\t\t\t\t\t'.concat(o.map(e=>"<model>".concat(e,"</model>")),"\n\t\t\t\t\t\t\t\t</models>\n\t\t\t\t\t\t\t</action>\n\t\t\t\t\t\t</actions>\n\t\t\t\t\t")),enableConditions:s.makeXMLDoc('\n\t\t\t\t\t\t<enableConditions logictype="or">\n\t\t\t\t\t\t\t'.concat(o.map(e=>'<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="'.concat(e,'" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="true" operator="="/>')),"\n\t\t\t\t\t\t</enableConditions>\n\t\t\t\t\t"))}];return e.createChildComponent({componentType:"skuid__buttonSet",position:t.position||"right",groups:[{buttons:n}],context:Object.assign({},t.context,{initiatorId:e.get("uniqueId")})})}static massActionCheckboxHead(e,t){const o=e.getState();return e.createChildComponent(Object.assign({componentType:"skuid__checkbox",styleSettingsVariant:"@parent/massActionCheckboxes",tabIndex:"-1",ariaLabel:"Select all rows",uniqueId:"".concat(o.uniqueId,"__mass-action-checkbox--head")},t))}}class u{static createTemplateEditModal(e,t,o,n={}){const s=o.getRowMergeResult(t,e),a=s.fields.filter(e=>!!o.getField(e.id)),r=[{label:"Done",styleSettingsVariant:"primary",onClick:()=>l.getCPI().close()}],l=i["c"].utils._floatingComponentFactory.createModal({title:"Template Field",buttons:r,components:[{componentType:"skuid__form",mode:"edit",model:o,row:t,sections:[{rows:a.map(e=>({fields:[{id:e.id}]}))}],styles:{spacing:{marginBottom:4}}}]});n.onClose&&l.subscribe("close",n.onClose);return l}}if(s){s.field={}}function p(e){return e.replace(":","_")+"-Instance"}function g(e,t,o={}){const i=o.instanceName||p(e),n=t.get(i);if(n){return n}else{t.set(i,t.createChildComponent(Object.assign({componentType:"skuid__icon",handle:e},o.definition)),{renderOnChange:false});return t.get(i)}}},2:function(e,t,o){"use strict";o.d(t,"g",function(){return s});o.d(t,"i",function(){return a});o.d(t,"j",function(){return r});o.d(t,"q",function(){return c});o.d(t,"p",function(){return u});o.d(t,"e",function(){return h});o.d(t,"b",function(){return f});o.d(t,"v",function(){return m});o.d(t,"f",function(){return C});o.d(t,"h",function(){return k});o.d(t,"n",function(){return S});o.d(t,"c",function(){return w});o.d(t,"k",function(){return I});o.d(t,"o",function(){return x});o.d(t,"u",function(){return O});o.d(t,"s",function(){return R});o.d(t,"w",function(){return E});o.d(t,"m",function(){return P});o.d(t,"d",function(){return D});o.d(t,"t",function(){return A});o.d(t,"x",function(){return V});o.d(t,"r",function(){return F});o.d(t,"a",function(){return L});o.d(t,"l",function(){return B});const i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n="1234567890",s={ADDRESS:"ADDRESS",ANYTYPE:"ANYTYPE",ARRAY:"ARRAY",BASE64:"BASE64",BOOLEAN:"BOOLEAN",BUTTONGROUP:"BUTTONGROUP",COMBOBOX:"COMBOBOX",CURRENCY:"CURRENCY",CUSTOM:"CUSTOM",DATE:"DATE",DATETIME:"DATETIME",DOUBLE:"DOUBLE",EMAIL:"EMAIL",ENCRYPTEDSTRING:"ENCRYPTEDSTRING",FORMULA:"FORMULA",ID:"ID",IMAGE:"IMAGE",INTEGER:"INTEGER",LOCATION:"LOCATION",MULTIBUTTONGROUP:"MULTIBUTTONGROUP",MULTIPICKLIST:"MULTIPICKLIST",NUMBER:"NUMBER",OBJECT:"OBJECT",PHONE:"PHONE",PICKLIST:"PICKLIST",PERCENT:"PERCENT",REFERENCE:"REFERENCE",STRING:"STRING",TEXT:"TEXT",TEXTAREA:"TEXTAREA",RICHTEXT:"RICHTEXT",TIME:"TIME",URL:"URL",UUID:"UUID"},a={CHILDREL:"CHILDREL",COMBO:"COMBO",FILE:"FILE",IMAGE:"IMAGE"},r={BOOLEAN:"boolean",NUMBER:"number",STRING:"string",OBJECT:"object",FUNCTION:"function",UNDEFINED:"undefined"},l={DEFAULT_DATA_SOURCE:"defaultDS"},c={JSON:"application/json",ZIP:"application/zip",FORM_URL_ENCODED:"application/x-www-form-urlencoded"},d={GET:"GET",PATCH:"PATCH",POST:"POST",PUT:"PUT",DELETE:"DELETE",MERGE:"MERGE"},u={GLOBAL:"global",MODEL:"model",ROW:"row"},p=["ink","ink-filetypes","font-awesome","foundation-icons","icons8-win10","ionicons","material-icons","lightning-icons"],g={"font-awesome":"Font Awesome 4","foundation-icons":"Foundation","icons8-win10":"Icons8 Windows 10",ink:"Ink","ink-filetypes":"Ink Filetypes",ionicons:"Ion","material-icons":"Material","lightning-icons":"Lightning Design"},h={SEARCH_CONDITION:"__default_searchbox",SEARCH_CONDITION_CLIENT:"__default_searchbox_client",GLOBAL_SEARCH_CONDITION:"search"},b={PAGE_REDIRECT:"pageredirect",PLATFORM_ACTION:"platform-action",REDIRECT:"redirect"},f={REUSABLE:"reusable",EVENT_TRIGGERED:"event-triggered",HOTKEY_TRIGGERED:"hotkey-triggered",VOICE_COMMAND:"voice-command"},m={COMPONENT:"component",MODEL:"model",PAGE:"page",SKUID:"skuid",GLOBAL:"global"},y={medium:1024,small:480},C={NOW:"NOW",YESTERDAY:"YESTERDAY",TODAY:"TODAY",TOMORROW:"TOMORROW",LAST_90_DAYS:"LAST_90_DAYS",NEXT_90_DAYS:"NEXT_90_DAYS",LAST_N_DAYS:"LAST_N_DAYS",NEXT_N_DAYS:"NEXT_N_DAYS",N_DAYS_AGO:"N_DAYS_AGO",LAST_WEEK:"LAST_WEEK",THIS_WEEK:"THIS_WEEK",NEXT_WEEK:"NEXT_WEEK",LAST_N_WEEKS:"LAST_N_WEEKS",NEXT_N_WEEKS:"NEXT_N_WEEKS",N_WEEKS_AGO:"N_WEEKS_AGO",LAST_MONTH:"LAST_MONTH",THIS_MONTH:"THIS_MONTH",NEXT_MONTH:"NEXT_MONTH",LAST_N_MONTHS:"LAST_N_MONTHS",NEXT_N_MONTHS:"NEXT_N_MONTHS",N_MONTHS_AGO:"N_MONTHS_AGO",LAST_QUARTER:"LAST_QUARTER",THIS_QUARTER:"THIS_QUARTER",NEXT_QUARTER:"NEXT_QUARTER",LAST_N_QUARTERS:"LAST_N_QUARTERS",NEXT_N_QUARTERS:"NEXT_N_QUARTERS",N_QUARTERS_AGO:"N_QUARTERS_AGO",LAST_YEAR:"LAST_YEAR",THIS_YEAR:"THIS_YEAR",NEXT_YEAR:"NEXT_YEAR",LAST_N_YEARS:"LAST_N_YEARS",NEXT_N_YEARS:"NEXT_N_YEARS",N_YEARS_AGO:"N_YEARS_AGO"},k={DEV:"development",PROD:"production",TEST:"test"},S={ERROR:"error",WARNING:"warning",INFO:"info"},w={SUM:"sum",AVERAGE:"avg",MAXIMUM:"max",MINIMUM:"min",MEDIAN:"med",COUNT:"count"},_={TOKEN_SHORTHAND_PREFIX:"@tk",PALETTE_SHORTHAND_PREFIX:"@palette"},I={ALT:18,BACKSPACE:8,CAPSLOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38},v={BLANK:"blank",DS_USER_INFO:"datasourceuserinfo",FIELD_VALUE:"fieldvalue",FORMULA:"formula",MODEL_MERGE:"modelmerge",PARAM:"param",USER_INFO:"userinfo"},x="styleSettingVariantNameMappings",T="local",O="salesforce",R="skuid-platform",E="visualforce",P="lightning",D="cordova",M="YYYY-MM-DD",A=typeof window!=="undefined"&&window.SKUID_RUNNING_TESTS,V={HEADER:50,EDIT_PAGE_BUTTON:51,DYNAMIC:1e3,TOAST:1e6,UI_BLOCKER:1000001},F=5,L={WRITEABLE:"writeable",READONLY:"readonly"},B="48.0";const z={ACCESS:L,ACTION_TYPES:b,ACTION_SEQUENCE_TYPES:f,AGGREGATION_TYPES:w,ALPHABET:i,CORDOVA:D,DATASOURCE:h,DATE_KEYWORDS:C,DATE_STORAGE_FORMAT:M,DIGITS:n,DISPLAY_TYPES:s,ENVIRONMENTS:k,EVENT_SCOPES:m,FIELD_TYPES:a,HTTP_VERBS:d,JS_TYPES:r,KEYCODES:I,LATEST_SFDC_API_VERSION:B,LIGHTNING:P,LOCAL:T,LOCAL_STORAGE_KEYS:l,LOG_LEVELS:S,MAPPED_STYLE_SETTINGS_TOKEN_NAME:x,MEDIA_QUERY_BREAKPOINTS:y,MERGE_CONTEXTS:u,MIME_TYPES:c,MODEL_CHANGE_DEBOUNCE_RATE:F,NATIVE:R,SALESFORCE:O,SCOPES:m,THEME_CONSTANTS:_,VALUE_SOURCES:v,VISUALFORCE:E,WEB_ICON_SET_LABELS:g,WEB_ICON_SET_PREFIXES:p,Z_INDICES:V};if(A)z.RUNNING_TESTS=A;t["y"]=z},29:function(e,t,o){"use strict";var i=o(0);const n={row:Symbol("row"),model:Symbol("model"),enableConditions:Symbol("conds"),extras:Symbol("extras"),displayMethod:Symbol("displayMethod"),items:Symbol("items"),publicItems:Symbol("publicItems")};const{h:s,utils:a}=Object(i["d"])(),{$:r,model:l}=i["c"],c=e=>({_isChildRel:e.isChildRel,_fieldId:e.fieldId,_name:e.name,_displayType:e.displayType||"field",_template:e.template,_displayTemplate:e.displayTemplate,_component:e.component,_delimiter:e.delimiter,_maxDisplayCharacters:e.maxDisplayCharacters,_htmlFormatted:e.htmlFormatted,_noneLabel:e.noneLabel,_decimalPlaces:e.decimalPlaces,_redirectType:e.redirectType,_rootUrl:e.rootUrl,_page:e.page,_route:e.route,_linkWindow:e.linkWindow,_linkParams:e.linkParams});class d{constructor(e,t={}){this[n.row]=e.row;this[n.model]=e.model;this[n.enableConditions]=e.enableConditions||null;this[n.extras]=t;this[n.displayMethod]=e.displayMethod;if(e.items){this[n.items]=e.items.map(c)}else{this[n.items]=[c(e)]}this[n.publicItems]=this[n.items]}get name(){return this[n.publicItems][0]._name}get names(){return this[n.publicItems].map(e=>e._name)}get fieldId(){return this[n.publicItems][0]._fieldId}get fieldIds(){return this[n.publicItems].map(e=>e._fieldId)}get model(){return this[n.model]}get row(){return this[n.row]}set row(e){this[n.row]=e;this.updateDisplayInfo()}get displayType(){return this[n.publicItems][0]._displayType}get displayTypes(){return this[n.publicItems].map(e=>e._displayType)}get component(){return this[n.publicItems][0]._component}get components(){return this[n.publicItems].map(e=>e._component)}renderVDom(){return this.renderItemAtIndex(0)}renderItemAtIndex(e){const t=this[n.publicItems][e],{_referenceLink:o,_referenceOnClick:i,_displayHTML:a}=t,r=t._linkWindowOverride||t._linkWindow;return!(o||i)?s("span",{key:t,innerHTML:a}):s("a",{key:t,innerHTML:a,href:o||"#",onclick:i,target:o&&window&&r?"_".concat(r):null,tabindex:this[n.extras].tabIndex?this[n.extras].tabIndex:null})}get displayText(){return this[n.publicItems][0]._displayText}get displayTexts(){return this[n.publicItems].map(e=>e._displayText)}get items(){return this[n.publicItems]}get referenceLink(){return this[n.publicItems][0]._referenceLink}get referenceLinks(){return this[n.publicItems].map(e=>e._referenceLink)}get extras(){return this[n.extras]}get htmlFormatted(){return this[n.publicItems][0]._htmlFormatted}evaluateIsDisabled(){const e=this[n.enableConditions]||[],t=[];if(e.length&&e.children().length){e.children().each(()=>{t.push(new l.Condition(r(this)))});const o=a.areConditionsMet(t,{row:this[n.row],model:this[n.model],logicType:e.attr("logictype")});if(!o)return true}return false}updateDisplayInfo(){const e=this,t=e[n.row],o=e[n.model],s=o?o.getDataSourceType():null,r=s?s.name:null;e[n.publicItems]=e[n.items].map(e=>{const n=e._fieldId,s=e._name,l=s||n,c=e._displayType,d=a.getObjectProperty(t,l),u=typeof d==="undefined"?"":d,g={model:o,row:e.record||t};if(!o||!t)return e;if(e._component){e._component.set("context",g);return e}if(e._isChildRel&&t[l]){const i=t[l].records.map(i=>o.mergeRow(i,a.encodeHTML(e._template)||"",{parentRow:t,allowHTML:false,registerFields:false}));return Object.assign(e,{_displayHTML:i.map(e=>e.html()).join(a.encodeHTML(e._delimiter||"")),_displayText:i.map(e=>e.text()).join(e._delimiter||"")})}const h=o.getField(l),b=c==="template",f=b?"COMBO":h.displaytype||h.type,m=i["c"].component.displayMethodRegistry.get(f,r),y=m.getDisplayInformation(b?e._template:u,{model:o,row:e.record||t,fieldId:n,name:s,displayTemplate:e._displayTemplate,noneLabel:e._noneLabel,decimalPlaces:e._decimalPlaces,redirectType:e._redirectType,rootUrl:e._rootUrl,page:e._page,route:e._route,window:e._linkWindow,params:e._linkParams});let C=b?y.displayHTML:e._htmlFormatted?p(y.displayText):a.encodeHTML(y.displayText);return Object.assign(e,{_displayHTML:C,_displayText:y.displayText,_referenceLink:y.referenceLink||false,_referenceOnClick:y.onClick||false,_linkWindowOverride:y.target||false,_displayMethod:m})}).map(e=>{if(e._maxDisplayCharacters&&e._displayText.length>e._maxDisplayCharacters){e._displayText=e._displayText.substr(0,e._maxDisplayCharacters)+"...";e._displayHTML=e._displayText}return e})}}const u=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;function p(e){return e.replace(u,"")}t["a"]=d},31:function(e,t,o){"use strict";o.d(t,"a",function(){return i});o.d(t,"b",function(){return n});o.d(t,"d",function(){return s});o.d(t,"c",function(){return a});const i={PERSON:"person",ORG:"org"};const n={FIELD:"field",FILENAME:"filename",IMAGE:"image"};const s={DATASOURCE:"datasource",FIELD:"field"};const a={ai:"ai",attachment:"attachment",css:"css",csv:"csv",doc:"word",docx:"word",eps:"eps",exe:"exe",fla:"fla",gdoc:"gdoc",gform:"gform",gpres:"gpres",gsheet:"gsheet",html:"html",image:"image",js:"js",key:"key",log:"word",odt:"word",pack:"pack",pages:"pgs",pdf:"pdf",pgs:"pgs",ppt:"ppt",pptx:"ppt",psd:"psd",rtf:"rtf",slide:"slide",stypi:"stypi",unknown:"unknown",txt:"word",video:"video",vis:"vis",webex:"webex",word:"word",wps:"word",xls:"xls",xlsx:"xls",xml:"xml",zip:"zip",bmp:"image",gif:"image",heic:"image",jpg:"image",png:"image",tif:"image",tiff:"image",yuv:"image",mid:"audio",mpa:"audio",mp3:"audio",wav:"audio",wma:"audio",avi:"video",flv:"video",mkv:"video",mov:"video",mpg:"video",mp4:"mp4",m4v:"video",wmv:"video"};var r={DEFAULT_IMAGE:i,DISPLAY_AS:n,SAVE_TO:s}},42:function(e,t,o){"use strict";o.d(t,"a",function(){return i});const i={HORIZONTAL:"horizontal",VERTICAL:"vertical"};var n={DIRECTIONS:i}},68:function(e,t,o){"use strict";var i=o(0);const n=i["c"].utils.hasObjectProperty;class s{constructor(e,t){const o=e.context,n=o&&o.model,a=o&&o.row,r=e.datasource||e.dataSource||i["c"].platform.getDefaultDataSourceName(),l=i["c"].dataSource.get(r),c=l&&l.getImageSource(e.source),d=c&&(c.needsRecordContext||c.optionalRecordContext);let u=e.field,p,g;if(d){p=s.determineModel(e);g=t&&t.createConditionsFromXml(i["c"].$(t.xmlDefinition),o);if(c.needsFieldContext){u=e.field}}this.model=p;this.context=o;this.contextModel=n;this.contextRow=a;this.contextConditions=g;this.row=this.getRow();this.field=u;this.imageSource=c;this.state=e}static determineModel(e){let t=e.context;if(e.model){return typeof e.model==="object"?e.model:i["c"].$M(e.model)}if(t&&t.model){return t.model}return null}getRow(){const{model:e,context:t,contextModel:o,contextRow:i,contextConditions:n}=this;if(o){if(o===e){return i}return e&&e.getRows&&e.getRows(n,t)[0]}return e&&e.getFirstRow()}getImage(){const e=this.imageSource,t=this.state,o=this.field,n={model:this.model,row:this.getRow()};if(e&&e.getSrc){return e.getSrc({context:n,mergeSettings:{createFields:false},dataSource:e.dataSource,fileField:o,definition:t})}else{return i["c"].utils.reject()}}createModelSubscriptions(e,t){const{model:o,contextModel:s}=this,a=e.shortcut("get"),r=[];if(o){r.push(o)}if(s&&s!==o){r.push(s)}r.forEach(o=>{e.storeSubscription(o.subscribe("row.updated",e=>{const o=a("field"),s=this.getRow();let r,l,c;if(s&&e.row===s){if(o){c=e.modelId&&i["c"].$M(e.modelId);l=c&&c.getField(o);if(c&&c.isRelationshipField(o)){r=c.getReferenceFieldNameFromRelationshipField(o)}if(n(e.updates,o)||l.rel&&n(e.updates,l.rel)||r&&n(e.updates,r)){t()}}else{t()}}}));["row.created","loaded","saved","cancelled"].forEach(i=>e.storeSubscription(o.subscribe(i,()=>{const e=a("row"),o=this.getRow();if(e!==o){t()}})))})}}t["a"]=s},69:function(e,t,o){"use strict";o.d(t,"a",function(){return i});const i={xsmall:{label:"X-Small",size:2},small:{label:"Small",size:3},medium:{label:"Medium",size:4},large:{label:"Large",size:6},xlarge:{label:"X-Large",size:8}};var n={SIZES:i}},70:function(e,t,o){"use strict";o.d(t,"a",function(){return a});const i={right:"Right",left:"Left"};const n={auto:"Automatically",manual:"Manually"};const s={top:"Top",center:"Center",bottom:"Bottom",spaced:"Space Between"};const a={top:"flex-start",center:"center",bottom:"flex-end",spaced:"space-between"};t["b"]={ALIGNMENTS:a,BUTTON_POSITION:i,SET_MAX_WIDTH:n,VERTICAL_ALIGN:s}},732:function(t,o,i){"use strict";i.r(o);var n=i(0);function s(e){if(!e){return{border:null}}if(typeof e==="string"){return{border:e}}return e}function a(e,t){if(!t){return"0"}const o=parseInt(e,10),i=e=>{return parseInt(e.split(" ")[0],10)};let n,s,a;if(t.border){n=i(t.border);s=n}else{a=i(t.borderTop);n=Math.max(a,i(t.borderLeft));s=Math.max(a,i(t.borderRight))}if(o>n)n=o-n;if(o>s)s=o-s;return"".concat(n,"px ").concat(s,"px 0 0")}function r(...e){return Array.prototype.filter.apply(e,[e=>e&&e!=="unset"]).join(",")}const l={TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3};function c(e,t){if(!e)return e;return e.split(/\s/g)[t]||e}var d={getStyleSettingsVariants:()=>{return{default:{_iconWrapperSpacingLeft:"@tk.spacing.s1",_margin:null,padding:{label:"Content padding",value:"@tk.spacing.s2"},header:{backgroundColor:null,border:{borderTop:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},color:{label:"Header Text Color",value:"@palette.primary"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.increased",fontWeight:"@tk.fontWeight.bold",lineHeight:null,textTransform:null,letterSpacing:null,padding:"@tk.spacing.s1_5 @tk.spacing.s1"}}}},getStyles:e=>({accordion:{display:"flex",flexDirection:"column",margin:e._margin},"section-header":Object.assign({display:"flex",flex:"0 0 auto",alignItems:"center"},s(e.header.border),{color:e.header.color,cursor:"pointer",fontFamily:e.header.fontFamily,fontWeight:e.header.fontWeight,lineHeight:e.header.lineHeight,fontSize:e.header.fontSize,padding:e.header.padding,backgroundColor:e.header.backgroundColor,textTransform:e.header.textTransform,letterSpacing:e.header.letterSpacing}),"section-header--icon-right":{flexDirection:"row-reverse"},"section-header--no-border-bottom":{borderBottom:"none"},"section-title":{flex:"auto"},"icon-wrapper":{marginRight:e._iconWrapperSpacingLeft},"icon-wrapper--right":{marginRight:0},"icon-wrapper--opened":{},"icon-wrapper--single-icon":{transition:"transform 100ms","&$icon-wrapper--opened":{transform:"rotate(90deg)"}},"section-components":{flex:"1 1 auto",overflow:"auto",transition:"all 200ms"},"components-container":{padding:e.padding}})};var u={attributes:{iconOnRight:{type:"boolean",default:false},iconStyle:{type:"picklist",default:"single",options:["single","separate"]},icon:{type:"string",default:"sk-webicon-ink:chevron-small-right"},iconClose:{type:"string"},maxHeight:{type:"string"},onePanelAtATime:{type:"boolean",default:false},sectionsInitiallyOpen:{type:"picklist",default:"",options:["","all","determined","none"]}},nodes:{sections:{type:"array",childNode:{section:{attributes:{title:{type:"string"},openState:{type:"picklist",default:"closed",options:["closed","open","conditional"]},onMouseDown:{type:"function"}},properties:{components:true,renderConditions:true,openConditions:true}}}}},properties:{renderConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["toggleSection"]}}};var p=i(10);const{h:g}=Object(n["d"])(),h=n["c"].ui.getIconURLFromHandle;n["a"].register("skuid__accordion",Object.assign({},d,{schema:u,init(e,t,o){o.setSections();e.subscribeChange("sections",o.setSections)},renderVDom(e){const t=e.getState(),{sections:o,iconStyle:i,openSections:n,iconOnRight:s,numVisibleSections:a,onePanelAtATime:r,maxHeight:l}=t,c=e._cpi,d=e.shortcut("getStyledClasses"),u={maxHeight:l},b=r&&l?u:{},f=!r&&l?u:{};return g("div",{key:e,classes:d({accordion:true}),styles:b},o.map((e,o)=>e.show?[g("div",{key:"section-header-".concat(e.id),classes:d({"section-header":true,"section-header--icon-right":s,"section-header--no-border-bottom":!n[e.id]&&o!==a-1}),"aria-controls":e.id,"aria-expanded":n[e.id]+"",role:"button","data-section-index":e.id+"",onmousedown:e.onClick&&(t=>e.onClick(t)),onclick:!e.onClick&&c.onClickSectionHeader},[g("span",{key:"icon",classes:d({"icon-wrapper":true,"icon-wrapper--right":s,"icon-wrapper--opened":n[e.id],"icon-wrapper--single-icon":i==="single"})},[i==="single"||n[e.id]?Object(p["a"])(h(t.icon)):[],i==="separate"&&!n[e.id]?Object(p["a"])(h(t.iconClose)):[]]),g("span",{key:"text",classes:d({"section-title":true})},[t["_titles:".concat(o)]])]),g("div",{key:"components-".concat(e.id),id:e.id,classes:d({"section-components":true}),styles:f,role:"region"},[n[e.id]?g("div",{classes:d({"components-container":true})},e.components.map(e=>e.renderVDom())):null])]:[]))},cpi:{setSections(){const e=this.shortcut("set"),t=this.getState();let o,i={};e({numVisibleSections:0,openSections:i},false);t.sections.forEach((s,a)=>{this.registerMergeText(s.title,"_titles:".concat(a));s.components=this.createChildComponents(s.components,null,t.context);s.show=true;const r=s.id=n["c"].utils.generateGUID()+"";e("numVisibleSections",this.get("numVisibleSections")+1);if(s.renderConditions){this.conditionallyDo(()=>{if(!s.show){s.show=true;e("numVisibleSections",this.get("numVisibleSections")+1);this.scheduleVirtualRender()}},()=>{if(s.show){s.show=false;e("numVisibleSections",this.get("numVisibleSections")-1);this.scheduleVirtualRender()}},s.renderConditions)}if(s.show&&o===undefined){o=a}if(t.onePanelAtATime){i[r]=a===o}else{switch(t.sectionsInitiallyOpen){case"none":i[r]=false;break;case"all":i[r]=true;break;case"determined":if(s.openState==="conditional"&&s.openConditions){if(s.openConditions[0].children.length>0){this.conditionallyDo(()=>{const e=this.get("openSections");e[r]=true;this.scheduleVirtualRender()},()=>{const e=this.get("openSections");e[r]=false;this.scheduleVirtualRender()},s.openConditions)}else{i[r]=false}}else{i[r]=s.openState==="open"}break;default:i[r]=a===o}}});e({openSections:i})},toggleSection(e){const t=this.getState();let o;if(t.onePanelAtATime){o={[e]:true}}else{o=Object.assign({},t.openSections);o[e]=!o[e]}this.set({openSections:o})},onClickSectionHeader(e){e&&e.stopPropagation();this._cpi.toggleSection((e.currentTarget||e.target).getAttribute("data-section-index"))}}}));var b={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.input",color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.body",fontFamily:"@tk.fontFamily.primary",fontWeight:"@tk.fontWeight.regular",padding:"@tk.spacing.s1",height:t(4),minWidth:t(6),_withIconPadding:"@tk.spacing.s4",_iconPadding:"@tk.spacing.s1",icon:{color:"@tk.utility.fontColor"},focus:{borderColor:"@tk.utility.selectedBorderColor"},focusWithKeyboard:{boxShadow:"0 0 0 2px @tk.utility.focusColor"},disabled:{backgroundColor:"@palette.neutral.6",opacity:"@tk.opacity.light",boxShadow:"@tk.shadow.input",_cursor:"not-allowed"},warning:{borderColor:"@palette.error"},characterCount:{color:"@palette.neutral.3",fontSize:"@tk.fontSize.small",marginTop:"@tk.spacing.s1",warning:{color:"@palette.error.-2"}},placeholder:{color:"@palette.neutral.3"}}},getStyleSettingsVariantsChildren(){return{skuid__datepicker:{datepicker:"default"},skuid__button:{button:"default"}}},getStyles(e){return{"character-count":{color:e.characterCount.color,fontSize:e.characterCount.fontSize,marginTop:e.characterCount.marginTop},"character-count--warn":{color:e.characterCount.warning.color},input:Object.assign({flex:"auto",backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,boxShadow:e.boxShadow,color:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight,padding:e.padding,width:"100%",minWidth:e.minWidth,position:"relative","&[type=date]":{"-webkit-appearance":"none","&::-webkit-calendar-picker-indicator":{display:"none","-webkit-appearance":"none"}},"&[type=number]":{"-moz-appearance":"textfield"},"&:focus":{outline:"none"},"&.sk-focus-keyboard":{boxShadow:r(e.boxShadow,e.focusWithKeyboard.boxShadow)},"&:disabled":{backgroundColor:e.disabled.backgroundColor,boxShadow:e.disabled.boxShadow,opacity:e.disabled.opacity,cursor:e.disabled._cursor},"&::-webkit-input-placeholder":{color:e.placeholder.color},"&::-moz-placeholder":{color:e.placeholder.color,opacity:1},"&:-ms-input-placeholder":{color:e.placeholder.color}}),"input--focus":{borderColor:e.focus.borderColor,outline:"none"},"input-wrapper":{color:e.color,position:"relative",display:"flex",height:e.height},"input-wrapper--fill-width":{width:"100%"},icon:{position:"absolute",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",zIndex:"1",color:e.icon.color},"icon--left":{left:e._iconPadding},"icon--right":{right:e._iconPadding},"right-align":{textAlign:"right"},"warning-highlight":{backgroundColor:"#ffe2de"},"with-warning":{borderColor:e.warning.borderColor,"&:focus":{borderColor:e.warning.borderColor,boxShadow:e.boxShadow}},"with-button":{borderTopRightRadius:0,borderBottomRightRadius:0,verticalAlign:"bottom"},"with-icon-left":{paddingLeft:e._withIconPadding},"with-icon-right":{paddingRight:e._withIconPadding}}}};var f={attributes:{buttonIcon:{type:"string"},buttonOnClick:{type:"function"},maxCharactersToShow:{type:"number"},collapseToFit:{type:"boolean",default:false},disabled:{type:"boolen",default:false},disableSpellCheck:{type:"boolean",default:false},disabledDays:{type:"string",default:""},describedBy:{type:"string"},labeledBy:{type:"string"},fillWidth:{type:"boolean",default:false},iconLeft:{type:"icon"},iconRight:{type:"icon"},min:{type:"string"},max:{type:"string"},minDate:{type:"date"},maxDate:{type:"date"},showLengthCounter:{type:"boolen",default:false},rightAlign:{type:"boolean",default:false},step:{type:"number"},placeholder:{type:"text"},tabIndex:{type:"string"},type:{type:"picklist",options:["number","text","date","password"]},defaultValue:{type:"string"},value:{type:"string"},warning:{type:"boolean"},withButton:{type:"boolean"},decoratorRight:{type:"string"},decoratorLeft:{type:"string"},autocomplete:{type:"boolean",default:true},fsBlock:{type:"boolean",default:false},selectOnFocus:{type:"boolean"},showMonthYearPicker:{type:"boolean"},showYearPicker:{type:"boolean"},yearPickerMin:{type:"string",default:"c-10"},yearPickerMax:{type:"string",default:"c+10"},showTodayButton:{type:"boolean"},inputId:{}},nodes:{disabledDates:{type:"array",childNode:{date:{type:"node",attributes:{date:{type:"date"}}}}}},access:{cpi:{public:["focus","blur","getSelectionStartEnd","selectText","resetToDefaultValue"]}}};function m(){return"ontouchstart"in document.documentElement}function y(){const e=window.matchMedia("only screen and (max-width: 1024px)").matches;return e&&m()}function C(e){const t=e.currentTarget;if(t&&(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth))e.stopPropagation()}const{h:k,moment:S,KEYCODES:w}=Object(n["d"])(),_=n["b"].DATE_STORAGE_FORMAT,I=n["c"].ui.getIconURLFromHandle,v=e=>e?_:n["c"].time.getDateDisplayFormat();n["a"].register("skuid__inputText",Object.assign({},b,{schema:f,init(e,t,o){const i=e.shortcut("set"),s=t.value!==undefined?t.value:t.defaultValue,a=s?s.length:0,r=t.maxCharactersToShow,l=r?r*.9:0,c=a>=l,d=n["c"].utils.generateUniqueId(),u=y();i({_useHtmlInput:u,_updateDisplayValue:true});e.subscribeChange("value",o.showWarning);e.subscribeChange("describedBy",o.updateAriaDescribedBy);e.subscribeChange("showCharactersWarning",o.updateAriaDescribedBy);e.subscribeChange("value",o.onValueChange);e.subscribeChange("displayValue",o.onDisplayValueChange);e.registerMergeAttribute("placeholder","_placeholder");e.subscribeChange("processing",t=>{let o=e.get("placeholderInstance");if(t&&!o){o=e.createChildComponent({componentType:"skuid__placeholder",progressIndication:"radialIndeterminate",styleSettingsVariant:"tiny",height:0});i("placeholderInstance",o)}});let p;if(t.buttonIcon){p=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/button",icon:t.buttonIcon,onClick:t.buttonOnClick,withInput:true,tabIndex:t.tabIndex});e.subscribeChange("disabled",e=>p.set("disabled",e))}let g={numberOfCharacters:a,showLengthCounterId:d,maxCharactersToShow:r,showCharacterWarningAt:l,showCharacterWarning:c,value:s,inputButton:p,inputId:t.inputId||t.uniqueId+"-input"};if(t.type==="date"){if(!e.get("_placeholder"))i("_placeholder",v(u));o.onValueChange(s);e.storeSubscription(n["c"].events.subscribe("skuid.settings.modified:userLocale",()=>{o.onValueChange(e.get("value"))}))}else{g.displayValue=s}i(g);o.showWarning();o.updateAriaDescribedBy()},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI(),n=o.iconLeft&&I(o.iconLeft),s=o.iconRight&&I(o.iconRight);return k("div",{key:e,classes:t({"input-wrapper":true,"input-wrapper--fill-width":o.fillWidth}),afterCreate:i.afterCreate,afterUpdate:i.afterCreate},[n&&k("span",{key:"icon-left",class:t(["icon","icon--left"])},[Object(p["a"])(n)]),(o.processing||o.decoratorRight||s)&&k("span",{key:"icon-right",class:t(["icon","icon--right"])},[o.processing&&o.placeholderInstance.renderVDom()||o.decoratorRight||Object(p["a"])(s)]),k("input",Object.assign({key:"input",id:o.inputId,classes:t({input:true,"with-warning":o.warning,"with-button":o.inputButton&&o.inputButton.get("show")!==false,"right-align":o.rightAlign,"with-icon-left":o.iconLeft,"with-icon-right":o.iconRight,"input--focus":o.showFocusStyles}),afterCreate:i.afterCreateInput,afterUpdate:i.afterUpdateInput,disabled:o.disabled,spellCheck:o.disableSpellCheck?"false":null,type:o.type!=="date"?o.type:undefined,style:o.width?"width: ".concat(o.width,";min-width: ").concat(o.width):undefined,tabindex:o.tabIndex,step:o.type==="number"?o.step||"any":undefined,autocomplete:o.autocomplete===false?"off":o.type==="password"?"current-password":undefined,value:o.displayValue,oninput:i.onInput,onfocus:i.onFocus,onblur:i.onBlur,placeholder:o._placeholder,min:o.minDate?o.minDate.format("YYYY-MM-DD"):o.min,max:o.maxDate?o.maxDate.format("YYYY-MM-DD"):o.max,"aria-describedby":o["aria-describedby"],"data-fs-block":o.fsBlock?"true":undefined},o._useHtmlInput?{type:o.type}:{onclick:i.onClick,onmousedown:i.onMouseDown,onkeydown:i.onKeyDown,onkeyup:i.onKeyUp})),o.inputButton&&o.inputButton.get("show")!==false&&o.inputButton.renderVDom(),o.showLengthCounter&&o.maxCharactersToShow&&k("div",{key:"character-count",id:o.showLengthCounterId,class:t("character-count"),classes:t({"character-count--warn":o.showCharacterWarning}),"aria-live":o.showCharacterWarning?"polite":undefined,"aria-label":"".concat(o.numberOfCharacters," out of ").concat(o.maxCharactersToShow," characters used")},["".concat(o.numberOfCharacters,"/").concat(o.maxCharactersToShow)])])},cpi:{afterCreate(e){const t=this.get("_element");if(t===e)return;this.set("_element",e,false);this._cpi.setDatepickerMenuTarget()},afterUpdateInput(e){this.set("inputElement",e,false);e[this.getState().disabled?"setAttribute":"removeAttribute"]("aria-disabled","true")},afterCreateInput(e){this._cpi.afterUpdateInput(e);if(this.get("focusOnCreate")){this.set("focusOnCreate",false,false);this.delay().then(()=>e.focus())}this.get("collapseToFit")&&this._cpi.collapse()},focus(){const e=this.get("inputElement");if(e&&document.contains(e)){e.focus()}else{this.set("focusOnCreate",true,false)}},blur(){this.get("inputElement")&&this.get("inputElement").blur()},getSelectionStartEnd(){const e=this.getState();return{start:e.inputElement.selectionStart,end:e.inputElement.selectionEnd}},onInput(e){this.set("_updateDisplayValue",false,false);this.set("displayValue",e.target.value,false);this.set("_updateDisplayValue",true);this.get("collapseToFit")&&this._cpi.collapse();this.publish("input",[e.target.value])},onBlur(e){const t=this.get("datepickerMenuInstance");if(!t||t.get("show")===false){this.publish("blur",[e])}this.registered&&this.set("showFocusStyles",false)},onFocus(e){const{collapseToFit:t,datepickerInstance:o,selectOnFocus:i,type:n,_useHtmlInput:s}=this.getState();this.publish("focus",[e]);t&&this._getCPI().collapse();this.set("showFocusStyles",true);if(!s&&n==="date"){!o&&this._getCPI().initDatepicker();this._getCPI().showDatePicker(e)}i&&e.currentTarget.select()},onClick(e){e&&e.stopPropagation();this.get("type")==="date"&&this._getCPI().showDatePicker(e)},onMouseDown(e){this.publish("mousedown",e)},onKeyDown(e){this.publish("keydown",e)},onKeyUp(e){if(e.keyCode===w.ENTER){this._cpi.publishValueCommit()}this.publish("keyup",e)},publishValueCommit(){this.publish("valueCommit",{value:this.get("value")})},selectText(){let e=this.getState();e.inputElement&&e.inputElement.select()},showWarning(){const e=this.getState();this.set("numberOfCharacters",e.value?e.value.length:0);this.set("showCharacterWarning",e.maxCharactersToShow&&e.numberOfCharacters>=e.showCharacterWarningAt)},showDatePicker(){const{datepickerInstance:e,datepickerMenuInstance:t}=this.getState();this._getCPI().setDatepickerMenuTarget();t.getCPI().toggle(true);e.set("currentMonth",S(e.get("value")));e._getCPI().updateMonth()},setDatepickerMenuTarget(){const{_element:e,datepickerMenuInstance:t}=this.getState();e&&t&&t.getCPI().setTarget(e)},updateAriaDescribedBy(){const e=[],t=this.getState();if(t.describedBy){e.push(t.describedBy)}if(t.showLengthCounter){e.push(t.showLengthCounterId)}this.set("aria-describedby",e.join(" ")||undefined)},onValueChange(e){let t;const o=this.getState();if(o.type==="date"&&e!==""){t=e instanceof S?e:S(e,_);const i=v(o._useHtmlInput);if(o._updateDisplayValue&&t.isValid()&&t.format(i)!==this.get("displayValue")){this.set("displayValue",t.format(i))}if(e===undefined){this.set("displayValue","")}}else{this.set("displayValue",e)}this.get("collapseToFit")&&this._getCPI().collapse()},onDisplayValueChange(e){let t;const o=this.getState();if(this.get("type")==="date"){if(e===""){this.set("value",undefined);return}t=S(e,v(o._useHtmlInput),true);if(t.isValid()){this.set("_updateDisplayValue",false);this.set("value",t.format(_));this.set("_updateDisplayValue",true)}}else{this.set("value",e)}},validate(){const e=this.getState();if(e.type==="date"){const t=S(e.displayValue,v(e._useHtmlInput),true);if(e.displayValue!==undefined&&e.displayValue!==""&&!t.isValid()){return["DATE_FORMAT"]}}},resetToDefaultValue(){const{defaultValue:e}=this.getState();this._getCPI().onValueChange(e)},collapse(){const e=this.getState(),t=e.inputElement;if(!t)return;const o=window.getComputedStyle(t);this.set("width",x(e.displayValue||"",o.fontSize+" "+o.fontFamily)+parseFloat(o.paddingLeft||0)+parseFloat(o.paddingRight||0)+1+"px")},initDatepicker(){const e=this,t=this._getCPI(),o=this.getState();const i="YYYY-MM-DD";const s=n["c"].utils._floatingComponentFactory.createMenu({components:[{componentType:"skuid__datepicker",styleSettingsVariant:n["c"].themes.getChildStyleVariantHandle(e,"skuid__datepicker","datepicker"),value:o.value,minDate:o.minDate,maxDate:o.maxDate,disabledDates:o.disabledDates||[],disabledDays:o.disabledDays,showMonthYearPicker:o.showMonthYearPicker,showYearPicker:o.showYearPicker,yearPickerMin:o.yearPickerMin,yearPickerMax:o.yearPickerMax,showTodayButton:o.showTodayButton}],menuOnRight:true,show:false,clickCloseExceptionsSelector:"#".concat(o.uniqueId,', [data-te="skuid__menu"]')},e);const a=s.get("components")[0];e.bind("disabled",s);a.subscribeChange("value",t=>{e.set("value",t.format(i));this.cpi.focus();if(s.get("show")){s.getCPI().toggle(false)}});s.subscribeChange("show",e=>{if(!e&&this.get("showFocusStyles")){t.onBlur()}});e.subscribeChange("value",e=>{const t=S(e,i,true);if(!t.isValid()||t.isSame(a.get("value"),"day"))return;a.set("value",S(e,i,true))});this.set({datepickerMenuInstance:s,datepickerInstance:a})}}}));function x(e,t){const o=x.canvas||(x.canvas=document.createElement("canvas")),i=o.getContext("2d");i.font=t;const n=i.measureText(e);return n.width}var T={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{minWidth:t(22),maxWidth:t(44),tag:{backgroundColor:"@palette.primary.3",borderRadius:"@tk.borderRadius.rounded",border:null,color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.small",padding:"@tk.spacing.s0_5 @tk.spacing.s1",_marginRight:"@tk.spacing.s0_5",_wrapperMarginLeft:"@tk.spacing.s0_5",_firstMarginLeft:"@tk.spacing.s1"}}},getStyleSettingsVariantsChildren(){return{skuid__inputText:{borderless:{backgroundColor:"transparent",border:"none",boxShadow:"none",disabled:{boxShadow:"none"},focus:{boxShadow:"none"}},input:"default"},skuid__menu:{dropdown:"default"}}},getStyles(e){return{"autocomplete-wrapper":{position:"relative",display:"inline-block",minWidth:e.minWidth,maxWidth:e.maxWidth},"autocomplete--fill-width":{width:"100%",maxWidth:"100%"},"autocomplete__multi-background-input":{position:"absolute",top:0,left:0,right:0,bottom:0},"autocomplete__multi-box":{position:"relative",height:"100%",alignItems:"center",display:"flex",top:0,left:"1px",right:"1px",cursor:"text",overflowX:"auto",overflowY:"hidden"},"multi-box__input":{height:"100%",width:"10px",overflow:"visible",margin:0,padding:0},"multi__input-wrapper":{display:"inline-block"},tag:{display:"inline-flex",alignItems:"center",backgroundColor:e.tag.backgroundColor,borderRadius:e.tag.borderRadius,border:e.tag.border,color:e.tag.color,fontSize:e.tag.fontSize,marginRight:e.tag._marginRight,padding:e.tag.padding,cursor:"pointer",whiteSpace:"nowrap","&:first-child":{marginLeft:e.tag._firstMarginLeft}},"tag__icon-wrapper":{position:"relative",marginLeft:e.tag._wrapperMarginLeft},"tag__icon-solid":{position:"absolute",top:0},"tag__icon-wrapper--hide":{opacity:0}}}};const O={type:"array",childNode:{option:{attributes:{label:{type:"string"},value:{type:"string"},defaultValue:{type:"boolean"},active:{type:"boolean"},affectDefaultCondition:{type:"boolean"},source:{type:"object"}}}}};const R={options:O,optionGroups:{type:"array",childNode:{optionGroup:{attributes:{label:{type:"string"}},nodes:{options:O}}}}};var E={attributes:{delimiter:{type:"string",default:";"},fillContainer:{type:"boolean",default:false},focusOnToggle:{type:"boolean",default:false},optionGroups:{type:"object"},showButtons:{type:"boolean",default:true},show:{type:"boolean",default:true},disabled:{type:"boolean",default:false},maxSelected:{type:"number",default:Infinity},multi:{type:"boolean",default:false},value:{type:"string",default:""},defaultValue:{type:"string"},limitOptions:{type:"number"},useSelectAllOption:{type:"boolean",default:false},warning:{type:"string",default:""},describedBy:{type:"string",default:""},labeledBy:{type:"string"},noneSelectedText:{type:"string"},inputId:{}},nodes:Object.assign({},R),access:{cpi:{public:["focus","resetToDefaultValue"]}}};var P={attributes:{allowEmptySearch:{type:"boolean",default:true},disabled:{type:"boolean",default:false},displayValue:{type:"string"},delimiter:{type:"string",default:";"},describedBy:{type:"string"},labeledBy:{type:"string"},doNotFilter:{type:"boolean",default:false},multi:{type:"boolean",default:false},fillWidth:{type:"boolean",default:true},rightAlign:{type:"boolen",default:false},placeholder:{type:"text",default:""},value:{type:"string"},warning:{type:"boolean"},buttonIcon:{type:"icon"},buttonOnClick:{type:"function"},iconRight:{type:"icon"},iconLeft:{type:"icon"},minCharactersInputtedBeforeSearch:{type:"number",default:0},preserveSearchTerm:{type:"boolean",default:false},getOptions:{type:"function"},displayValueProcessor:{},displayValuePromise:{},tabIndex:{},defaultValue:{type:"string"},inputId:{}},nodes:Object.assign({},R),access:{cpi:{public:["focus","blur","search","showIcon","hideIcon","showButton","hideButton","enableButton","disableButton","setOptionGroups","resetToDefaultValue"]}}};const{PAGE_REDIRECT:D,PLATFORM_ACTION:M,REDIRECT:A}=e.constants.ACTION_TYPES,V="user-logout";const F=e=>{L(e);if(e&&e.children().length===1){const t=e.children().first(),o=t.attr("type");return[D,A].includes(o)||o===M&&t.attr(M)===V}else{return false}};const L=t=>{if(t&&!e.utils.inPlatform([e.constants.NATIVE,e.constants.CORDOVA])){t.children().each(function(){let t=e.$(this);if(t.attr("type")===D){(e.component.getByType("skuid__page")[0]||e.component.getByType("skuidpage")[0]).addProblem("Go to Skuid Page action incompatible with this platform")}})}};const B=t=>{const o=t.children().first(),i=o.attr("type");if(i===A){return{url:o.attr("url"),target:o.attr("window")?"_".concat(o.attr("window")):""}}else if(i===D){let t;const i={},n=o.attr("page"),s=o.attr("route"),a=o.attr("namespace");const r=o.children("params")[0];if(r&&r.children){Array.from(r.children).forEach(e=>{i[e.getAttribute("key")]=e.getAttribute("value")})}if(e.utils.inPlatform("cordova")){t=e.platform.getPageNavigateUrl(n,a,i)}else{t=s?e.platform.getRouteNavigateUrl(s,a,i):e.platform.getPageNavigateUrl(n,a,i)}return{url:t,target:o.attr("window")?"_".concat(o.attr("window")):""}}else if(i===M&&o.attr(M)===V){return{url:e.platform.getLogoutUrl(),target:""}}};const z=e=>e&&F(e.find('[type="tap"]').first());const N=e=>B(e.find('[type="tap"]').first());const j=e=>e.filter(e=>!e.handled);var H=i(2);var W={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{_zIndex:H["x"].DYNAMIC,_componentWrapperMargin:"0 @tk.spacing.s1",_webkitFontSmoothing:"antialiased",_mozOsxFontSmoothing:"grayscale",backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.heavy",padding:"@tk.spacing.s1 0",marginTop:"@tk.spacing.s0_5",menuItemsHeader:{backgroundColor:"@palette.neutral.7",color:{label:"Text Color",value:"@tk.utility.fontColor"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",padding:"@tk.spacing.s1_5 @tk.spacing.s1",textTransform:"uppercase",icon:{spacing:"@tk.spacing.s1"}},menuItem:{_alignItems:"center",color:{label:"Text Color",value:"@tk.utility.fontColor"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",minWidth:t(10),padding:"@tk.spacing.s1_5 @tk.spacing.s1",textDecoration:"none",icon:{spacing:"@tk.spacing.s0_5"},checkbox:{spacing:"@tk.spacing.s1"},secondary:{color:null,fontFamily:null,fontSize:"@tk.fontSize.small",fontWeight:null,lineHeight:"@tk.spacing.s2",_marginTop:null},disabled:{backgroundColor:null,border:null,color:{label:"Text Color",value:null},opacity:"@tk.opacity.medium"},hover:{backgroundColor:"@palette.primary",color:{label:"Text Color",value:"@tk.utility.backgroundColor"},textDecoration:"none"}},focus:{boxShadow:"0 0 0 2px @tk.utility.focusColor"}}},getStyles(e){return{"component-wrapper":{margin:e._componentWrapperMargin},"option__icon-wrapper":{flex:"0",marginRight:e.menuItem.icon.spacing,verticalAlign:"top !important"},option__icon:{display:"inline-block",position:"relative"},"option__icon-checkbox-with-thumbnail":{top:"-".concat(e.menuItem.icon.spacing)},option__label:{flex:"1",display:"flex",alignItems:e.menuItem._alignItems},"option__label-content":{flex:"1"},"option__label-content-primary":{fontSize:e.menuItem.fontSize},"option__label-content-secondary":{whiteSpace:"pre-line",color:e.menuItem.secondary.color,fontFamily:e.menuItem.secondary.fontFamily,fontSize:e.menuItem.secondary.fontSize,fontWeight:e.menuItem.secondary.fontWeight,lineHeight:e.menuItem.secondary.lineHeight,marginTop:e.menuItem.secondary._marginTop},"menu--hide":{display:"none"},"menu--visible":{display:"block"},"menu--right":{right:"0"},menu:Object.assign({position:"absolute",zIndex:e._zIndex,backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,boxShadow:e.boxShadow,color:e.menuItem.color,fontFamily:e.menuItem.fontFamily,margin:"".concat(e.marginTop," 0"),padding:e.padding,listStyle:"none",opacity:0}),"menu--ready":{opacity:1},"menu--fill-container":{width:"fit-content"},menu__option:{"-webkit-font-smoothing":e._webkitFontSmoothing,"-moz-osx-font-smoothing":e._mozOsxFontSmoothing,position:"relative",whiteSpace:"nowrap",margin:0,color:e.menuItem.color&&"".concat(e.menuItem.color," !important"),fontFamily:e.menuItem.fontFamily,fontSize:e.menuItem.fontSize,fontWeight:e.menuItem.fontWeight,textDecoration:e.menuItem.textDecoration,"& > a":{color:e.menuItem.color&&"".concat(e.menuItem.color," !important"),textDecoration:e.menuItem.textDecoration&&"".concat(e.menuItem.textDecoration," !important")},"&:focus":{outline:"none"}},option__contents:{display:"flex",minWidth:e.menuItem.minWidth,alignItems:"center",textDecoration:"none",padding:e.menuItem.padding,color:"inherit"},"option__action-options":{cursor:"pointer"},"option--disabled":Object.assign({pointerEvents:"none",backgroundColor:e.menuItem.disabled.backgroundColor},s(e.menuItem.disabled.border),{color:e.menuItem.disabled.color&&"".concat(e.menuItem.disabled.color," !important"),opacity:e.menuItem.disabled.opacity}),"option--highlight":{backgroundColor:e.menuItem.hover.backgroundColor,color:e.menuItem.hover.color&&"".concat(e.menuItem.hover.color," !important"),textDecoration:e.menuItem.hover.textDecoration,"& > a":{color:e.menuItem.hover.color&&"".concat(e.menuItem.hover.color," !important"),textDecoration:e.menuItem.hover.textDecoration&&"".concat(e.menuItem.hover.textDecoration," !important")},cursor:"pointer",userSelect:"none",minWidth:"100%",display:"inline-block"},"option-group-label":{display:"flex",alignItems:"center",backgroundColor:e.menuItemsHeader.backgroundColor,color:e.menuItemsHeader.color,fontFamily:e.menuItemsHeader.fontFamily,fontSize:e.menuItemsHeader.fontSize,fontWeight:e.menuItemsHeader.fontWeight,padding:e.menuItemsHeader.padding,textTransform:e.menuItemsHeader.textTransform,cursor:"pointer"},"option-group-label__icon":{marginRight:e.menuItemsHeader.icon.spacing},"menu--submenu-right":{position:"absolute",left:"100%",top:"0"},"menu--submenu-left":{position:"absolute",left:"0",top:"0","& > $menu":{right:"100%"}},"menu--transparent":{opacity:"0"},"option__icon-submenu":{"&:focus":{outline:"none"}},"option__icon-submenu--highlight":{outline:"none",boxShadow:e.focus.boxShadow}}}};var U={attributes:{clickCloseExceptionsSelector:{type:"string"},closeOnOutsideClick:{type:"boolean",default:true},closeOnSelect:{type:"boolean",default:true},fillContainer:{type:"boolean",default:false},focusOnToggle:{type:"boolean",default:false},isSubmenu:{type:"boolean",default:false},optionsFilter:{type:"object",default:{}},showButtons:{type:"boolean",default:true},show:{type:"boolean",default:true},submenuDirection:{type:"picklist",options:["left","right"],default:"right"},cursor:{type:"string",options:["pointer","default"]},isSelect:{type:"boolean"},parentMenu:{type:"object"},menuOnRight:{type:"boolean",default:false},menuOnTop:{type:"boolean",default:false},_zIndex:{type:"number"},filterOptions:{type:"boolean",default:true},_forceRenderToElement:{type:"boolean"},optionGroups:{type:"array"},value:{type:"string"},checkSelected:{type:"boolean",default:false}},nodes:{optionGroups:{type:"array",childNode:{optionGroup:{attributes:{label:{type:"string"},icon:{type:"string"}},nodes:{options:{type:"array",childNode:{option:{attributes:{label:{type:"string"},secondary:{type:"string"},value:{type:"string"},icon:{type:"string"}},nodes:{skuid__menu:{type:"node",schema:"skuid__menu"}},properties:{actions:true}}}}}}}}},properties:{components:true,context:true},access:{cpi:{public:["blur","close","focus","getOptionLabel","getTarget","getVisibleOptions","highlight","highlightFirst","highlightNext","highlightPrevious","selectHighlighted","setOptionGroups","setTarget","setComponentAsTarget","toggle"]}}};const{h:G,utils:q,$:Y,KEYCODES:$}=Object(n["d"])(),K="> li",X=2,Q=24,Z=60,J="_wrapperElement",ee="_menuElement",te=(e,t)=>t(),oe=q.increaseAndGetZIndex,ie=n["c"].ui.getIconURLFromHandle;n["a"].register("skuid__menu",Object.assign({},W,{schema:U,init(e,t,o){const i=e.shortcut("set"),s=e.shortcut("get"),a=t.uniqueId,r=t.optionGroups||[];let l="#".concat(a);if(t.clickCloseExceptionsSelector){l+=", "+t.clickCloseExceptionsSelector}e.subscribeChange(J,o.setupMenuAim);e.subscribeChange("show",o.showChange);const c=q.debounce(o.calculatePosition,100);["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,c)));e.subscribeChange("optionsFilter",o.matchAndFilterOptions);i({_zIndex:oe(),customStyles:{},fillContainer:t.fillContainer||false,key:q.generateUniqueId(),focusOnToggle:t.focusOnToggle||false,highlightedOptionIndex:-1,showButtons:t.showButtons!==undefined?t.showButtons:true,keyboardControlsEnabled:true,components:t.components?e.createChildComponents(t.components,null,t.context):[],showOptionHighlightStyles:true,selectorExceptions:l,wrapWithBuilder:te,isSelect:t.isSelect,isRTL:n["c"].settings.get("userLocale","isRTL")});o.setOptionGroups(r);e.subscribeChange("optionGroups",o.setOptionGroups);e.subscribeChange("context",()=>{o.setOptionGroups(s("optionGroups"))});let d;const u=e=>{const t=this.get("selectorExceptions");if(!Y(e.target).parents(t).length&&!Y(e.target).is(t)){this.get("show")&&o.toggle(false)}};const p=()=>{d&&n["c"].events.unsubscribe(d);document.removeEventListener("mousedown",u)};const g=()=>{d=n["c"].events.subscribe("mousedown",u);document.addEventListener("mousedown",u)};e.subscribeChange("show",e=>e?g():p());e.subscribe("beforeUnregister",()=>p())},renderVDom(e){const t=e._getCPI(),o=e.getState(),{_targetComponent:i,_targetElement:s,_zIndex:a,checkSelected:r,components:l,fillContainer:c,highlightedOption:d,isRTL:u,isSubmenu:g,menuOnRight:h,numVisibleOptions:b,optionGroups:f,showOptionHighlightStyles:m,submenuDirection:y,submenuHighlighted:C,uniqueId:k,valueInOptions:S,wrapWithBuilder:w}=o,{customStyles:_,maxHeight:I,positionCalculated:v,widthCalculated:x}=t.calculatePosition(),T=e.shortcut("getStyledClasses"),O=l.length?"div":"ul";return G("div",{key:e,classes:T({"menu--hide":!l.length&&b===0,"menu--visible":l.length||b>0,"menu--submenu-right":g&&y==="right","menu--submenu-left":g&&y==="left","menu--transparent":!v&&g&&!x}),id:k,afterCreate:t.afterCreate,afterUpdate:t.afterCreate},[G(O,{classes:T({menu:true,"menu--fill-container":c,"menu--right":!s&&!i&&h,"menu--ready":!!v}),styles:Object.assign({},_,{maxHeight:I?"".concat(I,"px"):null,overflowY:I?"auto":null,zIndex:a.toString()}),onmouseenter:t.onMouseEnter,onmouseleave:t.onMouseLeave,onkeydown:t.onKeyDown,afterCreate:t.afterCreateMenu,afterUpdate:t.afterUpdateMenu,afterRemoved:t.afterRemovedMenu,role:"menu"},l.length?[G("div",{key:"component-wrapper",class:T("component-wrapper")},l.map(e=>e.renderVDom()))]:f.map(i=>i.show?[i.label?G("div",{key:i,classes:T({"option-group-label":true})},[i.icon?G("span",{classes:T({"option-group-label__icon":true})},[Object(p["a"])(ie(i.icon))]):undefined,o["_optionGroupLabels:".concat(i.label)]]):undefined,i.options.map(i=>i.show?w(i.optionId,()=>G("li",{key:i,id:i.optionId,classes:T({menu__option:true,"option--disabled":!!i.disabled,"option--highlight":d===i.optionId&&m&&!C}),tabindex:"-1",disabled:!!i.disabled,afterCreate:t=>i.tooltip&&n["c"].utils._floatingComponentFactory.createTooltipOnHover(t,i.tooltip,e),afterUpdate:t.afterUpdateOption,onfocus:t.onOptionFocus,onmousemove:t.onOptionHover,onclick:!i.disabled&&t.onOptionClick,onmouseup:!i.disabled&&!i.renderAsLink&&t.onOptionClick,onkeydown:t.onKeyDownOption,onkeypress:t.onKeyPressOption,role:"option"},[G(i.renderAsLink?"a":"div",{class:T("option__contents"),href:i.renderAsLink&&i.href,target:i.renderAsLink&&i.target},[i.submenu&&i.submenu.get("submenuDirection")==="left"?t.renderIcon("left",i):undefined,G("div",{class:T("option__label")},[!u&&(r||i.icon||i.thumbnail)?G("span",{classes:T({"option__icon-wrapper":true})},[r&&S&&G("div",{classes:T({option__icon:true,"option__icon-checkbox-with-thumbnail":!!i.thumbnail})},[Object(p["a"])(ie("sk-webicon-ink:check"),{hidden:(i.value||"").toString()!==(o.value||"").toString()})]),i.icon&&G("div",{class:T("option__icon")},[Object(p["a"])(ie(i.icon))]),i.thumbnail&&G("div",{class:T("option__icon")},[i.thumbnail.renderVDom()])]):undefined,G("div",{key:"label content",class:T("option__label-content")},[G("div",{key:"primary",class:T("option__label-content-primary")},[i.labelChunks&&i.labelChunks.length?[i.labelChunks[0],G("strong",[i.labelChunks[1]]),i.labelChunks[2]]:(o["_optionLabels:".concat(i.optionId)]||i.value||"")+""]),i.secondary&&G("div",{key:"secondary",class:T("option__label-content-secondary")},[i.secondary])]),u&&(r||i.iconInstance||i.thumbnail)?G("span",{classes:T({"option__icon-wrapper":true})},[i.thumbnail&&G("div",{class:T("option__icon")},[i.thumbnail.renderVDom()]),i.icon&&G("div",{class:T("option__icon")},[Object(p["a"])(ie(i.icon))]),r&&S&&G("div",{classes:T({option__icon:true,"option__icon-checkbox-with-thumbnail":!!i.thumbnail})},[Object(p["a"])(ie("sk-webicon-ink:check"),{hidden:(i.value||"").toString()!==(o.value||"").toString()})])]):undefined]),i.hasMultipleActionOptions&&G("div",{afterCreate:t.afterCreateActionOptionsMenuIcon.bind(null,i),class:T("option__action-options"),onclick:t.onClickMultiAction.bind(null,i),onmouseup:t.onMouseUpMultiAction},[Object(p["a"])(ie("sk-webicon-ink:dots-vertical"))]),i.submenu&&i.submenu.get("submenuDirection")==="right"?t.renderIcon("right",i):undefined]),i.submenu&&i.submenu.renderVDom()])):undefined)]:undefined))])},cpi:{afterCreate(e){this.set(J,e,false)},afterCreateMenu(e){const t=this.getState();this.set({[ee]:e,_needsFocusOnToggle:t.focusOnToggle?true:false});this.publish("domRendered");n["c"].events.publish("menu.elements.rendered")},afterUpdateMenu(e){const t=this.getState();this.set(ee,e,false);if(t._needsFocusOnToggle){this.set("_needsFocusOnToggle",false,false);if(t.components.length){Y(e).find('input,[role="checkbox"]').first().focus()}else{this.cpi.focus({preventScroll:true})}}},afterRemovedMenu(){this.set(ee,null,false)},setTarget(e){this.set("_targetElement",e)},getTarget(){return this.get("_targetElement")},setComponentAsTarget(e){this.set("_targetComponent",e)},calculatePosition(){const e=this.getState();if(!e[ee])return{};const t=window.innerWidth,o=window.innerHeight,i=e[ee],n=i?i.getBoundingClientRect():{},s=parseFloat(this.getThemeSettings().spacing(Q)),a=e._targetComponent&&e._targetComponent.getElement()||e._targetElement,r=a?a.getBoundingClientRect():{},l=a?this.getParentPage({root:true}).getDynamicComponentsContainer():null,c=l&&l.length?l[0].getBoundingClientRect():{},d=(r.top||0)-(c.top||0),u=(r.left||0)-(c.left||0),p=u+(r.width||0),g=d+(r.height||0),h=e=>"".concat(e,"px"),b={opacity:null,bottom:null},f={positionCalculated:false,widthCalculated:false,maxHeight:false},m=["top","bottom","left","right","maxWidth","minWidth","width"];if(a){b.top=g;if(e.fillContainer){const e=n.width+r.left>t,o=r.right-n.width<0;b.minWidth=r.width;if(!e||o){b.left=u;b.maxWidth=t-u}else{b.right=t-p}}else if(e.menuOnRight){b.left=p-n.width;if(b.left<0){b.left=u}}else{b.left=u;if(b.left+n.width>t){b.left=p-n.width}}if(e.menuOnTop||b.top>=o-s){b.top=null;b.bottom=-d}}else{if(!e.fillContainer&&!e.menuOnRight){if(n.right>t){b.right=0}}}m.forEach(e=>{const t=b[e];if(t!==null&&!isNaN(t))b[e]=h(t)});if(e.isSubmenu){const o=e.parentMenu.get(ee),i=o?o.getBoundingClientRect():{},s=(i.right||0)+n.width<t,a=(i.left||0)-n.width>0;if(e.submenuDirection==="right"&&!s&&a){this.set("submenuDirection","left");b.opacity="0"}else if(e.submenuDirection==="left"&&!a&&s){this.set("submenuDirection","right");b.opacity="0"}}if(document.body.contains(i)){f.positionCalculated=true;f.widthCalculated=true}if(!e.hasSubmenu){const e=o-(a?r.height:0);const t=Math.min(parseFloat(this.getThemeSettings().spacing(Z)),e);if(!b.bottom){const e=a?r.top+r.height:n.top-c.top;f.maxHeight=Math.min(o-e-10,t)}else{const e=a?r.top:n.top;f.maxHeight=Math.min(Math.max(e-10,s),t)}}return Object.assign({customStyles:b},f)},activateOptionSubmenu(e){const t=this.getState();if(this._getCPI().optionHasSubmenu(e)){t.optionsById[e].submenu.getCPI().toggle(true);this.set("openSubmenu",t.optionsById[e].submenu)}},afterUpdateOption(e){const t=this.getState();if(!t._optionHeight){const t=Math.ceil(e.getBoundingClientRect().height);if(t){this.set("_optionHeight",t,{renderOnChange:false})}}},blur(){this.set({highlightedOption:"",focusOnToggle:false})},close(){this._getCPI().toggle(false)},closeSubmenu(){const e=this.getState();e.openSubmenu&&e.openSubmenu.getCPI().toggle(false)},matchAndFilterOptions(e){const t=this.getState();let o=0;t.optionGroups.forEach(i=>{i.show=false;i.options.forEach(n=>{n.show=true;n.labelChunks=[];if(e.regex){const o=(n.label+"").match(e.regex,"i");if(o){const e=ne(n.label?n.label+"":n.label,o[0]);n.labelChunks.push(e[0],o[0],e[1])}if(t.filterOptions){n.show=!!o}else{n.show=true}}if(e.omittedValues){n.show=n.show&&e.omittedValues.indexOf(n.value)===-1}n.show&&o++;i.show=i.show||n.show})});this.set("numVisibleOptions",o);this.scheduleVirtualRender()},highlightFirst(){let e;this.get("optionGroups")[0].options.forEach(t=>{if(t.show){e=t.optionId}});e&&this.set({highlightedOption:e})},highlightPrevious(){const e=this.getState(),t=e.highlightedOptionIndex,o=t>0?t-1:0,i=this._getCPI().getVisibleOptions(),n=i[t];if(n&&n.submenu&&e.submenuHighlighted){this.set("submenuHighlighted",false);this._getCPI().highlight(t)}else{if(t!==0&&i[o]&&i[o].submenu){this.set("submenuHighlighted",true)}this._getCPI().highlight(o)}const s=t*(e._optionHeight||0);if(e[ee]&&e._optionHeight&&s<e[ee].scrollTop+e._optionHeight*X){e[ee].scrollTop-=e._optionHeight}},highlightNext(){const e=this.getState(),t=e.highlightedOptionIndex,o=t>-1?t+1:0,i=this._getCPI().getVisibleOptions(),n=i[t];if(n&&n.submenu){if(e.submenuHighlighted){if(t!==i.length-1){this.set("submenuHighlighted",false);this._getCPI().highlight(o)}}else{this.set("submenuHighlighted",true);this._getCPI().highlight(t)}}else{this._getCPI().highlight(o)}const s=t*(e._optionHeight||0);if(e[ee]&&e._optionHeight&&s>e[ee].scrollTop+e.maxHeight-e._optionHeight*(X+1)){e[ee].scrollTop+=e._optionHeight}},highlight(e){let t=this._getCPI().getVisibleOptions(),o,i;if(!t.length)return;e=Math.min(Math.max(e,0),t.length-1),o=t[e];i=o.optionId;this.set({highlightedOption:i,highlightedOptionIndex:e,showOptionHighlightStyles:true,highlightedValue:o.value,highlightedDisplayValue:o.label||o.value})},removeHighlight(){this.set({highlightedOption:"",highlightedOptionIndex:-1,highlightedValue:undefined,highlightedDisplayValue:undefined})},focus(e={}){const t=this.getState(),o=this._getCPI();let i;if(t.highlightedOptionIndex>-1){const e=o.getAllOptions(),n=Math.min(Math.max(t.highlightedOptionIndex,0),e.length-1),s=e[n].optionId,a=document.getElementById(s);this.set("showOptionHighlightStyles",true);if(this.get("submenuHighlighted")){i=Y(a).find("span")[0]}else{i=a}}else if(t.optionGroups[0]&&t.optionGroups[0].options[0]){const e=document.getElementById(t.optionGroups[0].options[0].optionId);i=e;o.highlight(0)}if(i){i.focus(e);i.scrollIntoView({block:"nearest",inline:"start"});this.publish("focus")}this.set({focusOnToggle:true})},onOptionClick(e){e&&e.stopPropagation();e.preventDefault();if(e.type==="mouseup"&&!this.get("allowMouseUpSelect"))return;if(!this.get("show"))return;let t=e.currentTarget||e.target,o;this._getCPI().getVisibleOptions().forEach(function(e,i){if(e.optionId===t.id){o=i}});this._getCPI().highlight(o);this._getCPI().selectHighlighted(e)},getAllOptions(){return this.get("optionGroups").reduce((e,t)=>e.concat(t.options),[])},getVisibleOptions(){return this._getCPI().getAllOptions().filter(e=>e.show)},getOptionLabel(e){se(e,this.get("optionGroups"))},onMouseEnter(){this.publish("mouseenter")},onMouseLeave(){this.set("highlightedOption","");this.publish("mouseleave")},onKeyDown(e){if(e.keyCode===$.ESCAPE){this._getCPI().toggle(false)}},onKeyPressOption(e){if([$.ENTER,$.TAB].includes(e.keyCode)){e.preventDefault()}},onOptionFocus(e){this._getCPI().updateOptionHighlightStyles(e)},onOptionHover(e){let t=this.get("mouseDistanceMoved");if(t>1){this.set("allowMouseUpSelect",true,{renderOnChange:false})}else{this.set("mouseDistanceMoved",t+Math.abs(e.movementX||0)+Math.abs(e.movementY||0),{renderOnChange:false})}this._getCPI().updateOptionHighlightStyles(e)},updateOptionHighlightStyles(e){const t=e.currentTarget;if(t){const e=Y(this.get(ee)).find(K);if(e.index(t)>-1){this.set("highlightedOptionIndex",e.index(t))}this.set({showOptionHighlightStyles:true,highlightedOption:t.getAttribute("id")})}},onKeyDownOption(e){const t=this._getCPI(),o=this.getState(),i=this,s=e.currentTarget||e.target;let a;if(!o.keyboardControlsEnabled)return;if(Y(s).attr("aria-haspopup")==="true"){e.stopPropagation()}switch(e.keyCode){case $.ESCAPE:t.close();if(o.parentMenu){e.preventDefault();a=s.getAttribute("id");this.set("keyboardControlsEnabled",false);t.toggle(false);o.parentMenu.getCPI().focus();e.stopPropagation();o.parentMenu.set("keyboardControlsEnabled",true)}this.publish("closed.keyboard");break;case $.TAB:t.close();this.publish("closed.keyboard");break;case $.UP:case $.LEFT:e.preventDefault();t.highlightPrevious();t.focus();break;case $.DOWN:case $.RIGHT:e.preventDefault();t.highlightNext();t.focus();break;case $.ENTER:case $.SPACE:if(o.isSelect&&e.keyCode===$.SPACE){break}i.set("showOptionHighlightStyles",false);if(o.submenuHighlighted){a=o.highlightedOption;if(t.optionHasSubmenu(a)){t.activateOptionSubmenu(a);this.set("keyboardControlsEnabled",false);o.optionsById[a].submenu.getCPI().focus()}}else{this._getCPI().selectHighlighted(e).then(()=>{i.publish("closed.keyboard")})}break}if(o.isSelect&&(e.keyCode===$.TAB||!n["c"].utils.isUndefined(e.key)&&e.key.length===1)){this.publish("keyDown",[e])}},optionHasSubmenu(e){const t=this.getState();return e&&t.optionsById&&t.optionsById[e]&&t.optionsById[e].submenu},renderIcon(e,t){let o=this.getState(),i=this.shortcut("getStyledClasses");return G("span",{id:"".concat(t.optionId,"__icon"),class:this.getStyledClasses("option__icon-submenu"),classes:i({"option__icon-submenu--highlight":o.highlightedOption===t.optionId&&o.showOptionHighlightStyles&&o.submenuHighlighted}),role:"button",tabindex:"-1",onkeydown:this._getCPI().onKeyDownOption,"aria-haspopup":"true","aria-expanded":"".concat(t.submenu.get("show")),"aria-label":document.activeElement.id==="".concat(t.optionId,"__icon")?"".concat(t.label," popup button"):""},[e==="left"?Object(p["a"])(ie("sk-webicon-ink:chevron-small-left")):Object(p["a"])(ie("sk-webicon-ink:chevron-small-right"))])},setupMenuAim(){const e=this.getState(),t=e[J];if(!t)return;const o=Y(t.children[0]),i=this._getCPI();if(o){const t=e.submenuDirection;o.menuAim("off",e.uniqueId).menuAim({eventsId:e.uniqueId,submenuDirection:t,activate(e){i.activateOptionSubmenu(e.getAttribute("id"))},deactivate:i.closeSubmenu})}},toggle(e,t={}){const o=this.getState(),i=e!==undefined?e:!o.show;this.set({_zIndex:oe(),show:i,showOptionHighlightStyles:false,submenuHighlighted:false,keyboardControlsEnabled:true,mouseDistanceMoved:0,allowMouseUpSelect:false});if(!i){this.unset(J);this.publish("closed")}if(t.toggleParentState&&o.parentMenu){o.parentMenu.getCPI().toggle(e,t.toggleParentState)}},selectHighlighted(e){const{checkSelected:t,closeOnSelect:o,context:i,highlightedOption:s,optionsById:a}=this.getState();const r=document.getElementById(s),l=a[s]||{},c=this;let d=q.resolve();if(e&&l.renderAsLink&&(e.ctrlKey||e.metaKey)){e.preventDefault();const t=new MouseEvent("click",{shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey,metaKey:e.metaKey});if(r){Y(r).find("a").first()[0].dispatchEvent(t)}return d}else if(l.actions){d=n["c"].actions.runActionsNode(l.hasActionOptions?l.actions.children().first():l.actions,i&&i.component?i.component:this,i||l.context||{}).then(()=>{c.publish("actionComplete")},()=>{c.publish("actionComplete")})}else if(l.onClick){l.onClick(e)}this.publish("option.selected",[l]);this.publish("optionselected");if(!c.registered)return d;this.set(Object.assign({displayValue:l.label||l.value},l.value!==undefined?{value:l.value}:{}));o&&this._getCPI().toggle(false,{toggleParentState:true});t&&this.cpi.setOptionGroups(this.get("optionGroups"));return d},showChange(e){if(!e){Y.each(this.get("optionsById")||[],function(){if(this.submenu){this.submenu.cpi.toggle(e)}});this.publish("close")}},setOptionGroups(e=[]){if(this.get("_doNotRunSetOptionGroups"))return;const t=this,o=this.getState(),{placeholder:i="",value:s}=o,a=this._getCPI(),r={};let l=i,c=o.selectorExceptions,d,u=false;a.unregisterMergeTexts();(o.displayLogicEventSubscriptions||[]).forEach(e=>n["c"].events.unsubscribe(e));this.unstoreSubscription(o.displayLogicEventSubscriptions);let p=[];(o.components||[]).forEach(t=>{t._getCPI().setOptionGroups&&t._getCPI().setOptionGroups(e)});e.forEach(i=>{i.options=i.options||[];i.show=true;a.registerMergeText(i.label,"_optionGroupLabels:".concat(i.label));i.options.forEach(i=>{const g=(i.label||i.value)+"";if(g&&g.length>l.length){l=g}if(s&&(s||"").toString()===(i.value||"").toString()){u=true}i.show=true;if(i.renderConditions&&i.renderConditions.length){const t=t=>{const o=this.get("optionGroups");if(e!==o)return;i.show=t;this.set("optionGroups",e)};q.conditionallyDo(()=>t(true),()=>t(false),i.renderConditions,{context:o.context,eventSubscriptions:p})}if(i.enableConditions&&i.enableConditions.length){const t=t=>{const o=this.get("optionGroups");if(e!==o)return;i.disabled=t;this.set("optionGroups",e)};q.conditionallyDo(()=>t(false),()=>t(true),i.enableConditions,{context:o.context,eventSubscriptions:p})}if(i.actions){i.hasActionOptions=i.actions.find("> actions > action").length?true:false;i.hasMultipleActionOptions=i.hasActionOptions&&i.actions.length>1}if(i.hasMultipleActionOptions){const e=[];i.actions.map((t,o)=>{const n=Y(o);e.push({icon:n.attr("icon"),label:n.attr("label"),actions:n,context:i.context})});i.actionOptionsMenu=n["c"].utils._floatingComponentFactory.createMenu({clickCloseExceptionsSelector:"."+t.getStyledClasses("option__action-options"),parentMenu:t,show:false,optionGroups:[{options:e}]},t);c+=", #"+i.actionOptionsMenu.get("uniqueId")}i.optionId=i.uniqueId||q.generateUniqueId();r[i.optionId]=i;a.registerMergeText(i.label,"_optionLabels:".concat(i.optionId));i.renderAsLink=F(i.actions);if(i.renderAsLink){const e=B(i.actions);i.href=q.mergeAsDataInContext(e.url,o.context);i.target=e.target}if(i.skuid__menu){d=true;i.submenu=t.createChildComponent(Object.assign(i.skuid__menu,{componentType:"skuid__menu",show:false,closeOnOutsideClick:false,isSubmenu:true,parentMenu:t,submenuDirection:o.submenuDirection}));i.submenu.subscribe("optionselected",a.toggle.bind(null,false));if(!o.isSubmenu){i.submenu.subscribeChange("submenuDirection",a.setupMenuAim)}}})});this.set("_doNotRunSetOptionGroups",true);this.storeSubscription(p);t.set({optionGroups:e,optionsById:r,hasSubmenu:d,longestOption:l,selectorExceptions:c,displayLogicEventSubscriptions:p,valueInOptions:u});this.publish("optionGroups.updated");this.set("_doNotRunSetOptionGroups",false)},hasOptions(){const e=this.get("optionGroups");return(e||[]).reduce((e,t)=>{return e||!!(t.options&&t.options.length)},false)},registerMergeText(e,t){let o=this.get("mergeAttributeKeys");if(!o){o=[];this.set("mergeAttributeKeys",o)}o.push(t);this.registerMergeText(e,t)},unregisterMergeTexts(){(this.get("mergeAttributeKeys")||[]).forEach(e=>this.unregisterMergeText(e))},afterCreateActionOptionsMenuIcon(e,t){const o=e.actionOptionsMenu,i=o._getCPI();i.setTarget(t)},onClickMultiAction(e,t){t.preventDefault();t.stopPropagation();const o=e.actionOptionsMenu,i=o._getCPI();i.toggle()},onMouseUpMultiAction(e){e.stopPropagation()}}}));function ne(e,t){let o=e.indexOf(t),i=t.length;return[e.substring(0,o),e.substring(o+i,e.length)]}function se(e,t){let o="",i=0,n,s;for(;i<t.length;i++){s=t[i].options;if(!s||!s.length)continue;for(n=0;n<s.length;n++){if(s[n].value===e){return s[n].label}}}return o}const{h:ae,KEYCODES:re,$L:le}=Object(n["d"])(),ce=n["c"].ui.getIconURLFromHandle;n["a"].register("skuid__autocomplete",Object.assign({},T,{schema:P,init(e,t,o){const i=e.shortcut("set");let s,a;s=e.createChildComponent({componentType:"skuid__inputText",styleSettingsVariant:t.multi?"@parent/borderless":"@parent/input",warning:!!t.warning,describedBy:t.describedBy,value:t.multi?"":t.value,collapseToFit:!!t.multi,buttonIcon:t.buttonIcon,buttonOnClick:t.buttonOnClick,iconRight:t.iconRight,iconLeft:t.iconLeft,tabIndex:t.tabIndex,inputId:t.inputId,autocomplete:false,selectOnFocus:true});e.subscribeChange("iconRight",e=>s.set("iconRight",e));e.subscribeChange("iconLeft",e=>s.set("iconLeft",e));i({inputInstance:s});s.subscribe("focus",o.onInputFocus);s.subscribe("input",o.onInputInput);s.subscribe("blur",o.onInputBlur);s.subscribe("keydown",o.onInputKeyDown);e.bind("displayValue",s);e.bindMultiple(["rightAlign","describedBy","disabled","buttonIcon","placeholder"],s);i({showMenu:false});if(t.multi){a=e.createChildComponent({styleSettingsVariant:"@parent/input",componentType:"skuid__inputText",warning:!!t.warning,describedBy:t.describedBy,tabIndex:"-1"});e.bind("disabled",a);e.bind("showFocusStyles",a);o.updateValuesArray();e.subscribeChange("value",o.updateValuesArray);i({backgroundInputInstance:a,_inputIndex:e.get("_valuesArray").length})}else{o.updateDisplayValue(t.value);if(!t.preserveSearchTerm){this.subscribeChange("value",o.updateDisplayValue);s.subscribeChange("displayValue",e=>{if(!e&&!n["c"].utils.isObject(t.value)&&t.minCharactersInputtedBeforeSearch===0){this.set("value",e)}})}}},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return ae("div",{key:e,afterCreate:i.afterCreate,classes:t({"autocomplete-wrapper":true,"autocomplete--fill-width":o.fillWidth})},[ae("div",o.multi?[ae("div",{key:"background-input",class:t("autocomplete__multi-background-input")},[o.backgroundInputInstance.renderVDom()]),ae("div",{key:"multi-box",class:t("autocomplete__multi-box"),onclick:i.focusInput},[i.renderTags(0,o._inputIndex),ae("div",{key:"input-wrapper",class:t("multi__input-wrapper")},[o.inputInstance.renderVDom()]),i.renderTags(o._inputIndex,o._valuesArray.length)])]:[o.inputInstance.renderVDom()])])},cpi:{afterCreate(e){this.set("_element",e,false)},onInputFocus(){const{_valuesArray:e}=this.getState(),t=this._getCPI();t.initMenuInstance();const o=this.get("menuInstance");o.set({omittedValues:(e||[]).map(e=>e.value),highlightedOption:"",highlightedOptionIndex:-1});o.cpi.setTarget(this.getElement());this.set("showFocusStyles",true);this.publish("focus");t.search()},onInputBlur(e){const t=this.getState(),o=this._getCPI();this.set("showFocusStyles",false);if(!this.getParentPage({root:true}).get("usingMouse")&&!t._disableToggleOnFocusChange){o.hideMenu()}this.delay().then(()=>{if(!t._element.contains(document.activeElement)){this.publish("blur",[e])}})},search(){const{getOptions:e,inputInstance:t,menuInstance:o,_valuesArray:i}=this.getState(),n=this._getCPI(),s=this,a=t.get("value")||"",r=n.isNoneSelectedOption(a),l=r?"":a,c=new RegExp(de(l),"i"),d=()=>{o.set("optionsFilter",{regex:c,omittedValues:(i||[]).map(e=>e.value)})};if(!n.doesValueSuffice(l)){n.hideMenu();return}d();if(e){const t=(new Date).getTime();this.set("_mostRecentSearchTime",t,false);e(l).then(e=>{if(s.registered&&s.get("_mostRecentSearchTime")===t){n.attemptToShowMenu();o.getCPI().setOptionGroups(e);d()}})}else{n.attemptToShowMenu()}},onInputInput(){const e=this.get("menuInstance"),t=this._getCPI();e.set("highlightedOptionIndex",-1);t.search()},doesValueSuffice(e){const{minCharactersInputtedBeforeSearch:t,inputInstance:o}=this.getState(),i=e||o.get("value");return!t||i&&i.length>=t},hideMenu(){this.get("menuInstance")&&this.get("menuInstance").getCPI().toggle(false)},attemptToShowMenu(){const{menuInstance:e,showFocusStyles:t,_disableSearchOnOptionSelect:o}=this.getState(),i=this._getCPI(),n=e.get("show")!==false,s=e.getCPI();if(!t)return;if(o){this.set("_disableSearchOnOptionSelect",false,false);return}if(!n&&i.doesValueSuffice()){s.toggle(true)}},onInputKeyDown(e){const{menuInstance:t,inputInstance:o,multi:i,allowEmptySearch:n,_valuesArray:s,_inputIndex:a}=this.getState(),r=this._getCPI();let l,c,d,u;switch(e.keyCode){case re.DOWN:e.preventDefault();t.getCPI().highlightNext();break;case re.UP:e.preventDefault();t.getCPI().highlightPrevious();break;case re.LEFT:if(i&&!o.get("value")){r.moveInput(-1)}break;case re.RIGHT:if(i&&!o.get("value")){r.moveInput(1)}break;case re.ENTER:if(t.get("show")){l=t.getCPI().getVisibleOptions();c=t.get("highlightedOptionIndex");d=t.getCPI();if(c>-1){d.highlight(c);d.selectHighlighted()}else if(l.length){if(!n)return;this.set("value","")}d.highlight(0);r.hideMenu()}break;case re.ESCAPE:r.onInputBlur();break;case re.BACKSPACE:if(i){u=o.getCPI().getSelectionStartEnd();if(0===u.start&&0===u.end){if(s[a-1]){s.splice(a-1,1);r.moveInput(-1);r.updateMultiValue()}}r.search()}break}},addTag(e){if(e===undefined)return;const{value:t,delimiter:o,_inputIndex:i}=this.getState(),n=t?t.split(o):[],s=n.includes(e);!s&&n.splice(i,0,e);this.set({_inputIndex:i+1,value:n.join(o)})},removeTag(e){if(!e)return;const{value:t,delimiter:o,_inputIndex:i}=this.getState(),n=t?t.split(o):[],s=n.findIndex(t=>t===e);n.splice(s,1);this.set({_inputIndex:s<i?Math.max(i-1,0):i,value:n.join(o)})},updateValuesArray(){const{delimiter:e,displayValueProcessor:t,displayValuePromise:o,menuInstance:i,value:s,_valuesArray:a=[]}=this.getState();const r=(i?i.get("optionGroups"):this.get("optionGroups"))||[];const l=s?s.split(e):[];const c=[];l&&l.forEach(e=>{let i=a.find(t=>t.value===e);if(!i){i={label:t?t.call(this,e):se(e,r),key:n["c"].utils.generateGUID(),value:e};if(o){i.label=le("Loading","Loading");o.call(this,e).then(e=>{i.label=e;this.set("_valuesArray",[...c])})}}c.push(i)});this.set({_valuesArray:c})},onMenuValueChange(e){if(e===undefined)return;const{menuInstance:t,inputInstance:o}=this.getState();const i=this._getCPI();i.addTag(e);o.set("value","");t&&t.set("value",undefined)},moveInput(e,t){const o=this.getState(),i=this._getCPI(),n=o._inputIndex+e;this.set("_inputIndex",Math.max(0,Math.min(n,o._valuesArray.length)));this.set("_disableToggleOnFocusChange",true,false);!t&&i.focus();this.delay().then(()=>this.set("_disableToggleOnFocusChange",false,false))},focus(){this._getCPI().focusInput()},focusInput(){this.get("inputInstance").getCPI().focus()},blur(){this.get("inputInstance").getCPI().blur();this._getCPI().hideMenu()},updateMultiValue(){const{delimiter:e,_valuesArray:t}=this.getState();this.set("value",t.map(e=>e.value).join(e))},onClickTag(e){e&&e.stopPropagation();const t=this._getCPI(),o=(e.currentTarget||e.target).getAttribute("data-tag-value");t.removeTag(o)},onMouseEnterTag(e){this.set("_hoveredTagValue",(e.currentTarget||e.target).getAttribute("data-tag-value"))},onMouseLeaveTag(){this.set("_hoveredTagValue",undefined)},renderTags(e,t){const o=this.getState(),i=this._getCPI(),n=ce("sk-webicon-ink:circle-close-outline"),s=ce("sk-webicon-ink:circle-close-solid"),a=this.shortcut("getStyledClasses");return o._valuesArray.map((r,l)=>{const c=Object(p["a"])(n),d=Object(p["a"])(s);return l<t&&l>=e&&ae("div",{class:a("tag"),key:r.key,"data-tag-value":r.value,onclick:i.onClickTag,onmouseenter:i.onMouseEnterTag,onmouseleave:i.onMouseLeaveTag},[ae("div",[r.label]),ae("div",{classes:a({"tag__icon-wrapper":true})},[ae("div",{classes:a({"tag__icon-wrapper--hide":o._hoveredTagValue===r.value})},[c]),ae("div",{classes:a({"tag__icon-solid":true,"tag__icon-wrapper--hide":o._hoveredTagValue!==r.value})},[d])])])})},updateDisplayValue(e){const{inputInstance:t,displayValueProcessor:o,displayValuePromise:i,optionGroups:n,value:s}=this.getState();if(i){i.call(this,e).then(e=>t.set("displayValue",e))}else{t.set("displayValue",o?o.call(this,e):se(s,n))}},showIcon(){const{iconRight:e,iconLeft:t,inputInstance:o}=this.getState();o.set({iconRight:e,iconLeft:t})},hideIcon(){const e=this.get("inputInstance");e.set({iconRight:null,iconLeft:null})},getInputButton(){return this.get("inputInstance").get("inputButton")},showButton(){const e=this._getCPI().getInputButton();e&&e.set("show",true)},hideButton(){const e=this._getCPI().getInputButton();e&&e.set("show",false)},disableButton(){const e=this._getCPI().getInputButton();e&&e.set("disabled",true)},enableButton(){const e=this._getCPI().getInputButton();e&&e.set("disabled",false)},setOptionGroups(e){this.set("optionGroups",e,{renderOnChange:false});this.get("menuInstance")&&this.get("menuInstance")._getCPI().setOptionGroups.apply(this,arguments)},resetToDefaultValue(){this.set("value",this.get("defaultValue"))},initMenuInstance(){const e=this.getState();if(e.menuInstance)return;let t;if(e.options||e.optionGroups){t=e.optionGroups||[{options:e.options.map(e=>({value:e.value,label:e.label}))}]}else if(e.getOptions){e.getOptions().then(e=>{o.getCPI().setOptionGroups(e)})}else{throw Error('Either "options" "optionGroups" or "getOptions" must be defined')}const o=n["c"].utils._floatingComponentFactory.createMenu({uniqueId:n["c"].utils.generateUniqueId(),show:false,fillContainer:true,clickCloseExceptionsSelector:"#".concat(e.uniqueId),optionGroups:t||[],showButtons:false,styleSettingsVariant:"@parent/dropdown",filterOptions:!e.doNotFilter,value:e.value},this),i=this._getCPI();if(e.multi){o.subscribeChange("value",i.onMenuValueChange)}else{this.bind("value",o)}o.subscribeChange("show",i.showChange);o.subscribe("optionselected",()=>{this.set({_disableToggleOnFocusChange:true,_disableSearchOnOptionSelect:true},false);this.get("inputInstance").getCPI().focus();this.delay().then(()=>this.set("_disableToggleOnFocusChange",false,false))});if(e._element)o.getCPI().setTarget(e._element);this.set("menuInstance",o)},isNoneSelectedOption(e){const{menuInstance:t,optionGroups:o}=this.getState(),i=t?t.get("optionGroups"):o,n=se("",i)||"";return e===n}}}));function de(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ue=i(68);var pe={getStyleSettingsVariants:()=>{return{default:{borderRadius:"@tk.borderRadius.primary",border:null,opacity:null,fallback:{backgroundColor:"@palette.primary",color:"@palette.white",fontSize:"@tk.fontSize.body"},backgroundSize:"cover",focus:{backgroundColor:null,border:null,boxShadow:null,color:{label:"Text Color",value:null}},hover:{backgroundColor:null,border:null,boxShadow:null,color:{label:"Text Color",value:null}},disabled:{backgroundColor:null,border:null,boxShadow:null,color:{label:"Text Color",value:null},opacity:null}},circular:{borderRadius:"50%"},square:{borderRadius:"none"},nocrop:{backgroundSize:"contain",borderRadius:"none"}}},getStyleSettingsVariantsChildren(){return{skuid__icon:{"avatar-icon":{height:"50%",width:"50%"}}}},getStyles(e){return{container:Object.assign({position:"relative",display:"block",borderRadius:e.borderRadius},s(e.border),{opacity:e.opacity,padding:0,margin:0,overflow:"hidden","&:focus":{outline:"none"},"&.sk-focus-keyboard":Object.assign({outline:"none",backgroundColor:e.focus.backgroundColor},s(e.focus.border),{boxShadow:e.focus.boxShadow,color:e.focus.color,"&:hover":{boxShadow:r(e.focus.boxShadow,e.hover.boxShadow)}}),"&[disabled]":Object.assign({opacity:e.disabled.opacity,backgroundColor:e.disabled.backgroundColor},s(e.disabled.border),{boxShadow:e.disabled.boxShadow,color:e.disabled.color,cursor:"default"}),"&:hover:not(:disabled)":Object.assign({backgroundColor:e.hover.backgroundColor},s(e.hover.border),{boxShadow:e.hover.boxShadow,color:e.hover.color})}),"container--button":{border:"none",backgroundColor:"transparent"},image:{position:"absolute",top:"0",left:"0",display:"block",height:"100%",width:"100%",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:e.backgroundSize},"image-fallback":{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:e.fallback.backgroundColor,color:e.fallback.color,fontSize:e.fallback.fontSize,height:"100%",width:"100%"}}}};var ge={attributes:{alt:{type:"string"},behavior:{type:"picklist",default:"",options:["","link","button"]},datasource:{type:"string"},disabled:{type:"boolean",default:false},field:{type:"string"},model:{type:"model"},size:{type:"picklist",default:"medium",options:["xsmall","small","medium","large","xlarge"]},source:{type:"string"},url:{type:"string"},fallbackType:{type:"picklist",default:"text",options:["text","icon"]},fallback:{type:"string"},onClick:{type:"function"},tabIndex:{type:"number",default:"0"}},properties:{actions:true,styles:true,conditions:true,enableConditions:true,renderConditions:true,styleVariantConditions:true,tooltip:true,hotkeys:true},access:{cpi:{public:["click"]}}};var he=i(69);const{h:be}=Object(n["d"])(),fe=n["c"].hotkeys;n["a"].register("skuid__avatar",Object.assign({},pe,{schema:ge,init(e,t,o){const i=e.shortcut("set"),{actions:n,context:s,model:a}=t;const r=F(n);let l;if(r){const e=B(n);this.registerMergeText(e.url,"_href");l=e.target}if(a||s&&s.model){e.subscribeChange("context",o.fetchImage);e.subscribeChange("url",o.fetchImage);const i=new ue["a"](t,e);i.createModelSubscriptions(e,o.fetchImage);o.fetchImage()}else{i({_ignoreModel:true})}e.registerMergeAttribute("alt","_alt");e.registerMergeAttribute("fallback","_fallback");e.subscribeChange("show",o.showChange);e.subscribe("beforeUnregister",o.beforeUnregister);i({target:l,renderAsLink:r})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{actions:o,disabled:i,_fallback:s,fallbackType:a,imageLoaded:r,imageSrc:l,renderAsLink:c,tabIndex:d,target:u,url:g,_alt:h,_href:b,_ignoreModel:f}=e.getState(),m=e._getCPI(),y=m.getSize(),C=!!o,k=!f?r&&l:g;let S="span";if(c)S="a";else if(C)S="button";return be("div",{key:e,afterCreate:m.afterCreate,afterRemoved:m.afterRemoved},[be(S,{key:"container",classes:t({container:true,"container--button":!c}),styles:{height:y,width:y},tabindex:d+"",onfocus:m.focus,onblur:m.blur,onclick:m.click,href:c&&b,target:c&&u,disabled:C&&i},[be("span",{key:"image fallback",classes:t({"image-fallback":true})},[a==="icon"?Object(p["a"])(n["c"].ui.getIconURLFromHandle(s),{key:"icon fallback"}):s]),k&&be("div",{key:"image",afterCreate:m.imgUpdates,afterUpdate:m.imgUpdates,classes:t({image:true}),alt:h,styles:{backgroundImage:'url("'.concat(k,'")')}})])])},cpi:{afterCreate(e){if(this.get("focusOnCreate"))e.focus();this.set({element:e,focusOnCreate:false},false);this._cpi.bindHotkeys()},getSize(){const e=this.getThemeSettings(),t=this.get("size");return e.spacing(he["a"][t].size)},fetchImage(){const e=this.shortcut("set"),t=this.getState(),o=new ue["a"](t,this);e({imageController:o,row:o.getRow()},{renderOnChange:false});o.getImage().then(t=>this.registered&&e({imageSrc:t,imageLoaded:true}),()=>this.registered&&e("imageLoaded",true))},imgUpdates(){if(this.get("imageLoaded")){this.publish("loaded")}},focus(){const e=this.get("element");if(e&&document.contains(e)){e.focus()}else{this.set({focusOnCreate:true},false)}},blur(){this.publish("blur")},click(e){const{disabled:t,actions:o,onClick:i,model:s,context:a,_allowPropagation:r,renderAsLink:l}=this.getState(),c=a||{model:s};if(r!==false){e&&e.stopPropagation()}if(t)return;this.publish("click",[e,this]);if(l&&(e.ctrlKey||e.metaKey))return;e&&e.preventDefault();if(o){n["c"].actions.runActionsNode(o,c.component||this,Object.assign({},c,{avatar:this}))}if(i){return i.call(this,e)}},bindHotkeys(){const e=this.getState(),t=this._getCPI();if(!e.hotkeys||e.show===false||n["c"].page.disableHotkeys||e.hotkeysBound){return}t.unbindHotkeys();fe.bind(e.hotkeys,e.uniqueId,t.click,n["c"].$(document.body));this.set("hotkeysBound",true,false)},unbindHotkeys(){fe.unbind(this.get("uniqueId"));this.set("hotkeysBound",false,false)},afterRemoved(){this._cpi.unbindHotkeys()},beforeUnregister(){this._cpi.unbindHotkeys()},showChange(e){if(!e)this._cpi.unbindHotkeys();else this._cpi.bindHotkeys()}}}));var me={getStyleSettingsVariants(){return{default:{spacing:"@tk.spacing.s0_5"}}},getStyleSettingsVariantsChildren(){return{skuid__avatar:{default:"circular"}}},getStyles(e){return{group:{display:"flex"},"group--horizontal":{flexDirection:"row"},"group--vertical":{flexDirection:"column"},group__avatar:{marginRight:e.spacing,"&:last-child":{marginRight:"0"}}}}};var ye={attributes:{direction:{type:"picklist",default:"horizontal",options:["horizontal","vertical"]},avatarSize:{type:"picklist",default:"medium",options:["xsmall","small","medium","large","xlarge"]}},nodes:{group:{type:"array",childNode:{skuid__avatar:"skuid__avatar"}}},properties:{},access:{cpi:{public:["atLeastOneVisible","getAvatars","isRenderable"]}}};const{div:Ce}=Object(n["d"])();n["a"].register("skuid__avatarGroup",Object.assign({},me,{schema:ye,init(e,t,o){e.subscribeChange("group",o.updateGroup);o.updateGroup()},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_avatarInstances:o,direction:i}=e.getState();return Ce({key:e,classes:t({group:true,"group--horizontal":i==="horizontal","group--vertical":i==="vertical"})},o.map(e=>e.get("show")!==false&&Ce({key:e,classes:t({group__avatar:true})},[e.renderVDom()])))},cpi:{isRenderable(){const e=this._getCPI(),t=e.atLeastOneVisible();return this.get("show")!==false&&t},atLeastOneVisible(){const e=this.get("_avatarInstances")||[];for(let t=0;t<e.length;t++){if(e[t].get("show")!==false)return true}return false},updateGroup(){const{context:e,group:t,avatarSize:o,_avatarInstances:i}=this.getState();(i||[]).forEach(e=>this.unregisterChildComponent(e));this.set({_avatarInstances:(t||[]).map(t=>this.createChildComponent(Object.assign({styleSettingsVariant:"@parent/default",size:o,context:e},t,{componentType:"skuid__avatar"})))})},getAvatars(){return this.get("_avatarInstances")}}}));var ke={getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:{backgroundColor:"@tk.utility.backgroundColor",color:"@tk.utility.fontColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.rounded",fontFamily:null,fontSize:"@tk.fontSize.body",height:t(3),padding:"0 @tk.spacing.s1_5"},primary:{extends:"default",backgroundColor:"@palette.primary.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary.3"},success:{extends:"default",backgroundColor:"@palette.success.4",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.success.4"},warning:{extends:"default",backgroundColor:"@palette.warning.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.warning.3"},error:{extends:"default",backgroundColor:"@palette.error.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error.3"}}},getStyles:e=>({badge:Object.assign({display:"inline-flex",alignItems:"center",cursor:"default",backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,color:e.color,padding:e.padding,fontFamily:e.fontFamily,fontSize:e.fontSize,height:e.height})})};var Se={attributes:{label:{type:"string"}},properties:{renderConditions:true,enableConditions:true,styleVariantConditions:true}};const{h:we}=Object(n["d"])();n["a"].register("skuid__badge",Object.assign({},ke,{schema:Se,init(){},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState();return we("div",{key:e,classes:t({badge:true}),title:o.label},[we("div",[o.label])])}}));const{TOP_LEFT:_e,TOP_RIGHT:Ie,BOTTOM_RIGHT:ve,BOTTOM_LEFT:xe}=l;var Te={getStyleSettings:e=>{const{spacing:t}=e.getShortcuts();return{backgroundColor:"@palette.white",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:null,color:{label:"Text Color",value:"@palette.primary"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",fontFamily:"@tk.fontFamily.primary",textAlign:"center",textTransform:null,letterSpacing:null,height:t(4),width:null,padding:"0 @tk.spacing.s2",comboIconPadding:"@tk.spacing.s1",_groupedBorderSize:"@tk.borderSize.primary",_iconWrapperHorizontalPadding:"@tk.spacing.s1",_paddingWithIcon:"@tk.spacing.s1",_paddingLarge:"@tk.spacing.s1_5 @tk.spacing.s3",_webkitFontSmoothing:"antialiased",_mozOsxFontSmoothing:"grayscale",focus:{backgroundColor:null,border:null,boxShadow:"0 0 0 2px @tk.utility.focusColor",color:{label:"Text Color",value:null}},hover:{backgroundColor:"@palette.white",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor",boxShadow:"@tk.shadow.light",color:{label:"Text Color",value:null}},active:{backgroundColor:"@palette.white",border:null,boxShadow:"@tk.shadow.lightInset",color:{label:"Text Color",value:null}},selected:{backgroundColor:"@palette.primary.3",border:null,boxShadow:null,color:{label:"Text Color",value:"@palette.primary"}},disabled:{backgroundColor:"@palette.neutral.6",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.neutral.6",boxShadow:null,color:{label:"Text Color",value:"@palette.neutral"},opacity:"@tk.opacity.light"}}},getStyleSettingsVariantsChildren(){return{skuid__tooltip:{disabledTooltip:"default"}}},getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:{},destructive:{backgroundColor:"@palette.error",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error",color:{label:"Text Color",value:"@palette.white"},hover:{backgroundColor:"@palette.error.-1",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error.-1"},active:{backgroundColor:"@palette.error.-1"},disabled:{backgroundColor:"@palette.error",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error",color:{label:"Text Color",value:"@palette.white"}}},primary:{backgroundColor:"@palette.primary",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary",color:{label:"Text Color",value:"@palette.white"},hover:{backgroundColor:"@palette.primary.-1",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary.-1"},active:{backgroundColor:"@palette.primary.-1"},disabled:{backgroundColor:"@palette.primary",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary",color:{label:"Text Color",value:"@palette.white"}}},borderless:{backgroundColor:"transparent",border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",color:{label:"Text Color",value:"@palette.primary"},fontSize:"@tk.fontSize.small",letterSpacing:".6px",textTransform:"uppercase",hover:{border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",color:{label:"Text Color",value:"@palette.primary"},backgroundColor:"@palette.primary.3",boxShadow:"none"},active:{border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",backgroundColor:"@palette.primary.2",boxShadow:"none"},disabled:{backgroundColor:"transparent",border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",color:{label:"Text Color",value:"@palette.primary"}}},circular:{border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",borderRadius:"@tk.borderRadius.rounded",color:{label:"Text Color",value:"@palette.primary"},fontWeight:"@tk.fontWeight.regular",height:t(4),width:t(4),padding:"0",textTransform:"uppercase",hover:{backgroundColor:"transparent",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor"},active:{backgroundColor:"transparent"},selected:{backgroundColor:"@palette.primary",color:{label:"Text Color",value:"@palette.white"}},disabled:{opacity:1,border:"@tk.borderSize.primary @tk.borderStyle.primary transparent",color:{label:"Text Color",value:"@palette.primary"},backgroundColor:"@palette.white"}},circularWithBorder:{border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.rounded",color:{label:"Text Color",value:"@palette.primary"},height:t(4),width:t(4),padding:"0",textTransform:"uppercase",hover:{border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor"},selected:{backgroundColor:"@palette.primary",color:{label:"Text Color",value:"@palette.white"}},disabled:{backgroundColor:"@palette.white",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",color:{label:"Text Color",value:"@palette.primary"},opacity:"@tk.opacity.light"}}}},getStyles(e){return{button:Object.assign({position:"relative"},s(e.border),{background:"initial",backgroundColor:e.backgroundColor,borderRadius:e.borderRadius,boxShadow:e.boxShadow,color:e.color&&"".concat(e.color," !important"),fontSize:e.fontSize,fontWeight:e.fontWeight,fontFamily:e.fontFamily,letterSpacing:e.letterSpacing,padding:e.padding,textAlign:e.textAlign,textTransform:e.textTransform,width:e.width,whiteSpace:"nowrap",cursor:"pointer",overflow:"hidden",lineHeight:"normal","-webkit-font-smoothing":e._webkitFontSmoothing,"-moz-osx-font-smoothing":e._mozOsxFontSmoothing,"&:focus":{outline:"none"},"&.sk-focus-keyboard":Object.assign({outline:"none",backgroundColor:e.focus.backgroundColor},s(e.focus.border),{boxShadow:e.focus.boxShadow,color:e.focus.color&&"".concat(e.focus.color," !important"),"&:hover":{boxShadow:r(e.focus.boxShadow,e.hover.boxShadow)}}),"&[disabled]":Object.assign({opacity:e.disabled.opacity,backgroundColor:e.disabled.backgroundColor},s(e.disabled.border),{boxShadow:e.disabled.boxShadow,color:e.disabled.color&&"".concat(e.disabled.color," !important"),cursor:"default"}),"&:hover:not(:disabled)":Object.assign({backgroundColor:e.hover.backgroundColor},s(e.hover.border),{boxShadow:e.hover.boxShadow,color:e.hover.color&&"".concat(e.hover.color," !important")}),"&:active:not(:disabled)":Object.assign({backgroundColor:e.active.backgroundColor&&"".concat(e.active.backgroundColor," !important")},s(e.active.border),{boxShadow:e.active.boxShadow,color:e.active.color&&"".concat(e.active.color," !important")}),"&:active.sk-focus-keyboard":{boxShadow:r(e.active.boxShadow,e.focus.boxShadow)},"&:hover:not(:disabled):not(:active)":{boxShadow:e.hover.boxShadow},"&:hover:not(:disabled):not(:active).sk-focus-keyboard":{boxShadow:r(e.hover.boxShadow,e.focus.boxShadow)}}),"button--link":{display:"inline-flex",alignItems:"center",textDecoration:"none !important"},"button-wrapper":{borderRadius:e.borderRadius,display:"inline-block",fontSize:0},"button--combo-icon":{padding:e.comboIconPadding},"button--grouped--first--helper":{},"button--grouped":{position:"relative",border:"none",overflow:"visible","&:not($button--grouped--first--helper)":{margin:"0 -".concat(parseInt(e._groupedBorderSize)/2,"px !important")},borderRadius:0,"&:before":Object.assign({zIndex:0,position:"absolute",content:'""',width:"calc(100% + ".concat(parseInt(e._groupedBorderSize),"px)"),height:"100%",top:"0px",left:"0px"},s(e.border)),"&:hover:not(:disabled), &:active":{border:"none",zIndex:1,"&:before":Object.assign({},s(e.hover.border))},"&:active":{border:"none"}},"button--grouped--first":{borderTopLeftRadius:c(e.borderRadius,_e),borderBottomLeftRadius:c(e.borderRadius,xe),marginLeft:"1px","&:before":{borderTopLeftRadius:c(e.borderRadius,_e),borderBottomLeftRadius:c(e.borderRadius,xe)},"&:hover:not(:disabled), &:active":{"&:before":{borderTopLeftRadius:c(e.borderRadius,_e),borderBottomLeftRadius:c(e.borderRadius,xe)}}},"button--grouped--last":{borderTopRightRadius:c(e.borderRadius,Ie),borderBottomRightRadius:c(e.borderRadius,ve),marginRight:"1px","&:before":{borderTopRightRadius:c(e.borderRadius,Ie),borderBottomRightRadius:c(e.borderRadius,ve)},"&:hover:not(:disabled), &:active":{"&:before":{borderTopRightRadius:c(e.borderRadius,Ie),borderBottomRightRadius:c(e.borderRadius,ve)}}},"button-wrapper--grouped":{margin:0,position:"relative"},"button--selected":Object.assign({backgroundColor:e.selected.backgroundColor},s(e.selected.border),{boxShadow:e.selected.boxShadow,color:e.selected.color&&"".concat(e.selected.color," !important"),"&:hover:not(:disabled)":{backgroundColor:e.selected.backgroundColor,color:e.selected.color&&"".concat(e.selected.color," !important")},"&:active:not(:disabled)":{backgroundColor:e.selected.backgroundColor&&"".concat(e.selected.backgroundColor," !important")},"&:before":Object.assign({},s(e.hover.border),{zIndex:1})}),"icon--left":{marginRight:e._iconWrapperHorizontalPadding},"icon--right":{marginLeft:e._iconWrapperHorizontalPadding},"icon--centered":{position:"absolute !important",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)"},"button-wrapper--z-index-above":{zIndex:2},"button--with-icon":{padding:"0 ".concat(e._paddingWithIcon),display:"flex",alignItems:"center"},"button--large":{padding:e._paddingLarge},"button--with-input":{margin:0,borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important",borderLeftColor:"transparent !important",height:"100%"},"button--without-input":{height:e.height},"button-wrapper--with-input":{marginLeft:0},"button-wrapper--without-input":{height:e.height},"button-wrapper--expand-to-fill":{flex:1,display:"block"},"button--expand-to-fill":{width:"100%",display:"block"},"button-wrapper--combo-icon":{"&$button-wrapper--expand-to-fill":{flex:0}}}}};const{WRITEABLE:Oe}=H["a"];var Re={attributes:{comboIcon:{type:"boolean",default:false},icon:{type:"icon"},iconPosition:{type:"picklist",options:["left","right","center"],default:"left"},large:{type:"boolean",default:false},grouped:{type:"boolean",default:false},groupPosition:{type:"picklist",options:["middle","first","last"]},ellipses:{type:"boolean",default:false},expandToFill:{type:"boolean",default:false},withBorder:{type:"boolean",default:false},role:{type:"string"},label:{type:"text",default:""},ariaLabel:{type:"text",default:""},disabled:{type:"boolean",default:false},selected:{type:"boolean"},tabIndex:{type:"number",default:"0"},value:{type:"string"},withInput:{type:"boolean",default:false},onClick:{type:"function"}},properties:{renderConditions:true,enableConditions:true,styleVariantConditions:true,hotkeys:true,actions:true,styles:true,context:true,tooltip:true},access:{cpi:{public:["click","focus"],publicProperties:{label:Oe}}}};const{h:Ee,utils:Pe}=Object(n["d"])(),De=n["c"].hotkeys;n["a"].register("skuid__button",Object.assign({},Te,{schema:Re,init(e,t,o){const i=F(t.actions);let n;if(i){const e=B(t.actions);this.registerMergeText(e.url,"_href");n=e.target}e.set({rootElementTag:"span",target:n,renderAsLink:i});e.registerMergeAttribute("label","displayLabel");e.registerMergeAttribute("ariaLabel","ariaDisplayLabel");e.subscribeChange("displayLabel",o.updateIsIconOnly);e.subscribeChange("icon",o.updateIconUrl);o.updateIconUrl();o.updateIsIconOnly();e.subscribeChange("show",o.showChange);e.subscribe("beforeUnregister",o.beforeUnregister)},renderVDom(e){const{_href:t,ariaDisplayLabel:o,comboIcon:i,disabled:n,displayLabel:s,ellipses:a,expandToFill:r,grouped:l,groupPosition:c,icon:d,iconPosition:u,iconUrl:g,isIconOnly:h,large:b,renderAsLink:f,role:m,rootElementTag:y,selected:C,tabIndex:k,target:S,uniqueId:w,withInput:_,zIndexAbove:I}=e.getState(),v=e.shortcut("getStyledClasses"),x=e._getCPI();return Ee(y,{key:e,classes:v({"button-wrapper":true,"button-wrapper--grouped":l,"button-wrapper--z-index-above":I,"button-wrapper--with-input":_,"button-wrapper--without-input":!_,"button-wrapper--expand-to-fill":r,"button-wrapper--combo-icon":i}),id:w,afterCreate:x.afterCreateSpan,afterRemoved:x.afterRemovedSpan,onmouseenter:x.onMouseEnterSpan,onmouseleave:x.onMouseLeaveSpan},[Ee(f&&!n?"a":"button",{key:"button",classes:v({button:true,"button--combo-icon":i,"button--grouped":l,"button--grouped--first--helper":l&&c==="first","button--grouped--first":l&&c==="first","button--grouped--last":l&&c==="last","button--selected":C,"button--large":b,"button--with-icon":d&&!h,"button--with-input":_,"button--without-input":!_,"button--expand-to-fill":r,"button--link":f}),disabled:n||a,afterCreate:x.afterCreate,role:m,tabindex:k+"","aria-label":o||s,"aria-checked":m==="radio"||m==="checkbox"?C?"true":"false":false,onmousedown:x.onMouseDown,onblur:x.onBlur,onclick:x.click,href:f&&t,target:f&&S},h?[Object(p["a"])(g,{key:"icon only",classes:v({"icon--centered":u==="center"})})]:[d&&g&&u==="left"&&[Object(p["a"])(g,{key:"icon left",classes:v({"icon--left":true})})],Ee("span",{key:"text"},[s+""]),d&&g&&u==="right"&&[Object(p["a"])(g,{key:"icon right",classes:v({"icon--right":true})})]])])},cpi:{afterCreate(e){if(this.get("focusOnCreate"))e.focus();this._cpi.bindHotkeys();this.set({element:e,focusOnCreate:false},false)},click(e){const{disabled:t,actions:o,onClick:i,context:s,_allowPropagation:a,renderAsLink:r}=this.getState(),l=s||{};if(a!==false){e&&e.stopPropagation()}if(t)return;this.publish("click",[e,this]);if(r&&(e.ctrlKey||e.metaKey))return;e&&e.preventDefault();if(o){n["c"].actions.runActionsNode(o,l.component||this,Object.assign({},l,{button:this}))}if(i){return i.call(this,e,this)}},focus(){const e=this.get("element");if(e&&document.contains(e)){e.focus()}else{this.set({focusOnCreate:true},false)}},onMouseDown(e){if(this.get("_allowPropagation")===false)return;e.stopPropagation();n["c"].events.publish("mousedown",[e,this])},updateIconUrl(){const e=this.get("icon");e&&this.set("iconUrl",n["c"].ui.getIconURLFromHandle(e))},updateIsIconOnly(){this.set("isIconOnly",this.get("icon")&&!this.get("displayLabel"))},bindHotkeys(){const e=this.getState(),t=this._getCPI();if(!e.hotkeys||e.show===false||n["c"].page.disableHotkeys||e.hotkeysBound){return}t.unbindHotkeys();De.bind(e.hotkeys,e.uniqueId,t.click,n["c"].$(document.body));this.set("hotkeysBound",true,false)},unbindHotkeys(){De.unbind(this.get("uniqueId"));this.set("hotkeysBound",false,false)},showChange(e){if(!e)this._getCPI().unbindHotkeys();else this._getCPI().bindHotkeys()},onBlur(){this.publish("blur")},afterCreateSpan(e){const{disabledTooltip:t,enableConditions:o}=this.getState(),i=o&&o.attr("message");e.addEventListener("mouseleave",this._cpi.onMouseLeaveSpan);if(i){t&&t.unregister();this.set({disabledTooltip:Pe._floatingComponentFactory.createTooltip(e,{styleSettingsVariant:"@parent/disabledTooltip",compact:true,text:i},this)})}},onMouseEnterSpan(){this._cpi.showDisabledTooltip()},onMouseLeaveSpan(){this._cpi.hideDisabledTooltip()},afterRemovedSpan(){this._cpi.beforeUnregister()},beforeUnregister(){this._cpi.unbindHotkeys();this._cpi.hideDisabledTooltip()},showDisabledTooltip(){const{disabledTooltip:e,disabled:t}=this.getState();t&&e&&e.getCPI().show()},hideDisabledTooltip(){const e=this.get("disabledTooltip");e&&e.getCPI().hide()}}}));var Me={getStyleSettingsVariants(){return{default:{warning:{boxShadow:"@tk.shadow.warning"},detached:{spacing:"@tk.spacing.s1"}}}},getStyleSettingsVariantsChildren(){return{skuid__button:{button:"default"},skuid__menu:{menu:"default"}}},getStyles:e=>({"button-group":{display:"flex"},"button-group--warning":{boxShadow:e.warning.boxShadow},"button-group--nowrap":{whiteSpace:"nowrap",alignItems:"center"},"button-wrapper--expand-to-fill":{flex:1,display:"block"},"detached-spacer":{height:"1px",width:e.detached.spacing}})};const Ae=(e,...t)=>t.reduce((t,o)=>t||o===e.attr("displayType"),false);var Ve={attributes:{displayType:{type:"picklist",default:"detached",options:[{value:"detached",label:"Detached"},{value:"attached",label:"Attached"},{value:"combo",label:"Combo"},{value:"menu",label:"Menu"}],rebuildBuilderPropsOnChange:true},label:{type:"template",showInBuilderFunc:e=>Ae(e,"menu")},icon:{type:"icon",default:"sk-webicon-ink:chevron-small-down",showInBuilderFunc:e=>Ae(e,"menu","combo")},iconPosition:{type:"picklist",options:[{value:"left",label:"Left"},{value:"right",label:"Right"}],default:"right",showInBuilderFunc:e=>Ae(e,"menu","combo")},optionGroups:{type:"object",showInBuilder:false},behavior:{type:"picklist",default:"button",options:["button","radio","multiselect"],showInBuilder:false},defaultValue:{type:"string",showInBuilder:false},delimiter:{type:"string",default:";",showInBuilder:false},describedBy:{type:"string",showInBuilder:false},labeledBy:{type:"string",showInBuilder:false},disabled:{type:"boolean",default:false,showInBuilder:false},expandToFill:{type:"boolean",default:false,showInBuilder:false},maxSelected:{type:"number",default:Infinity,showInBuilder:false},menuOnRight:{type:"boolean",default:true,showInBuilder:false},value:{type:"string",showInBuilder:false},warning:{type:"boolean",showInBuilder:false},closeMenuOnOptionSelect:{type:"boolean",default:true,showInBuilder:false},inputId:{showInBuilder:false}},nodes:{buttons:{type:"array",childNode:{skuid__button:"skuid__button"}}},properties:{renderConditions:true,styleVariantConditions:true},access:{cpi:{public:["atLeastOneVisible","focus","getButtons","isRenderable","resetToDefaultValue"]}}};const{h:Fe,utils:Le}=Object(n["d"])();n["a"].register("skuid__buttonGroup",Object.assign({},Me,{schema:Ve,init(e,t,o){if(t.optionGroups)o.processOptionGroups();o.createButtons();e.subscribeChange("buttons",o.createButtons);if(t.value){o.onValueChange(t.value)}else if(t.defaultValue){e.set("value",t.defaultValue);o.onValueChange(t.defaultValue)}e.subscribeChange("value",o.onValueChange);e.subscribeChange("context",t=>{const{_buttonInstances:i,displayType:n,menuInstance:s}=e.getState();if(n==="combo")o.createButtons();else(i||[]).forEach(e=>e.set("context",t));s&&s.set("context",t)});e.subscribeChange("disabled",t=>{const o=e.get("_buttonInstances");(o||[]).forEach(e=>e.set("disabled",t))})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{acceptorFragment:o,_buttonInstances:i,behavior:n,describedBy:s,displayType:a,warning:r,labeledBy:l,inputId:c}=e.getState(),d=e._getCPI(),u=a==="detached";let p="group";if(n==="radio")p="radiogroup";else if(n==="multiselect")p="group";return(o||Fe)("div",{key:e,afterCreate:d.afterCreate,classes:t({"button-group":true,"button-group--warning":r,"button-group--nowrap":!u}),id:c?c:"".concat(e.id(),"__group"),"aria-describedby":s,"aria-labelledby":l,"aria-multiselectable":n==="multiselect"?"true":undefined,role:p},i.map((e,o)=>e.get("show")!==false&&[u&&!!o&&Fe("div",{class:t("detached-spacer"),key:"spacer-".concat(o)}),e.renderVDom()]))},cpi:{onValueChange(e){const{behavior:t,maxSelected:o,_buttonInstances:i,disabled:n}=this.getState();const s=(e||"").toString().split(this.get("delimiter")),a=e?s.length:0;if(t==="multiselect"){if(typeof o==="number"&&o>=0&&a>=o){i.forEach(e=>!s.includes(e.get("value"))&&e.set("disabled",true))}else{i.forEach(e=>e.set("disabled",n))}}i.forEach(e=>{e.set("selected",s.indexOf(e.get("value"))>-1)})},updateValue(){const e=this.getState();let t=e._buttonInstances.reduce((t,o)=>{if(o.get("selected")){return t+o.get("value")+e.delimiter}else{return t}},"");t=t.slice(0,-1);this.set("value",t);this.publish("value",t)},radioButtonOnClick(e,t){const o=this.getState();if(o.behavior==="multiselect"){t.set("selected",!t.get("selected"))}else{o._buttonInstances.forEach(e=>{e!==t&&e.set("selected",false)});t.set("selected",true)}this._getCPI().updateValue()},updateButtonGroupings(){const{_buttonInstances:e,displayType:t}=this.getState(),o=t==="attached"&&e.length>1;if(!o)return;const i=e.filter(e=>e.get("show")!==false);i.forEach((e,t)=>{let n=undefined,s=o;if(i.length===1){s=false}else if(t===0){n="first"}else if(t+1===i.length){n="last"}e.set({grouped:s,groupPosition:n})})},isDropdownType(){const e=this.get("displayType");return e==="combo"||e==="menu"},createButtons(){const t=this,o=this.getState(),i=o.buttons||[],n=t.shortcut("set"),s=t._getCPI(),a=o.context;let r,l,c=[],d;(o.renderConditionListeners||[]).forEach(e=>e.unsubscribe());this.unstoreSubscription(o.renderConditionListeners);(o._buttonInstances||[]).forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));if(s.isDropdownType()){let n,u;if(o.displayType==="menu"){r=[t.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/button",label:o.label,icon:o.icon,iconPosition:o.iconPosition,context:a,comboIcon:true})];n=i;u=0}else{let l=false;const d=(i||[]).filter(t=>{if(t.renderConditions&&t.renderConditions.children().length){let o=true,i=()=>{if(o)o=false;else if(!l){l=true;s.createButtons();this.delay().then(()=>e.events.publish("ui.reflow"))}},n=t.renderConditions.children().toArray().map(t=>new e.model.Condition(e.$(t)));Le.conditionallyDo(i,i,t.renderConditions,{eventSubscriptions:c,context:a});return Le.areConditionsMet(n,{context:a})}return true});this.storeSubscription(c);const p=d.length,g=p>1,h=o.iconPosition==="right",b=h?"first":"last",f=h?"last":"first";r=[];if(p>0){r.push(t.createChildComponent(Object.assign(d[0],{componentType:"skuid__button",styleSettingsVariant:"@parent/button",grouped:g,groupPosition:g?b:undefined,expandToFill:o.expandToFill,context:a})))}if(g){r[h?"push":"unshift"](t.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/button",ariaLabel:"more actions",comboIcon:true,expandToFill:o.expandToFill,context:a,grouped:true,groupPosition:f,icon:o.icon}))}n=d.slice(1);u=h?1:0}d=[{options:n.map(e=>({_:e._,label:e.label,actions:e.actions,icon:e.icon,enableConditions:e.enableConditions,renderConditions:e.renderConditions,uniqueId:e.uniqueId,onClick:e.onClick,tooltip:e.tooltip}))}];if(o.menuInstance){l=o.menuInstance;l.cpi.setOptionGroups(d)}else{l=Le._floatingComponentFactory.createMenu({styleSettingsVariant:"@parent/menu",show:false,menuOnRight:o.iconPosition==="right",clickCloseExceptionsSelector:"#".concat(this.id(),"__group"),closeOnSelect:o.closeMenuOnOptionSelect,context:a,optionGroups:d},t);l.subscribe("closed.keyboard",()=>{r[1]._getCPI().focus()})}r[u]&&r[u].subscribe("click",(t,o)=>{if(Le.inPlatform(e.constants.CORDOVA)){const t=l.get("context");e.native.actionSheet.createActionSheet(t,l.getCPI().getVisibleOptions());return}l.cpi.setTarget(o.getElement());const i=l.getCPI();i.blur();i.toggle();if(t&&!t.x&&!t.y){i.focus()}})}else{if(o.menuInstance){o.menuInstance.unregister();t.unset("menuInstance")}r=i.map(e=>{let i=e.styleSettingsVariant?e.styleSettingsVariant:"@parent/button";const n=t.createChildComponent(Object.assign({},e,{styleSettingsVariant:i,componentType:"skuid__button",expandToFill:o.expandToFill,role:o.behavior==="radio"?"radio":o.behavior==="multiselect"?"checkbox":undefined,context:a}));if(o.behavior==="radio"||o.behavior==="multiselect"){n.subscribe("click",s.radioButtonOnClick);t.subscribeChange("value",s.onValueChange)}n.subscribeChange("show",s.updateButtonGroupings);return n});n("_buttonInstances",r,false);s.updateButtonGroupings()}const u=()=>{this.delay().then(()=>{if(!this.getElement().contains(document.activeElement)){this.publish("blur")}})};r.forEach(e=>{e.subscribe("blur",u)});n({menuInstance:l,renderConditionListeners:c,_buttonInstances:r});s.onValueChange(o.value)},focus(){const e=this.get("_buttonInstances");if(e&&e[0]){e[0].getCPI().focus()}},isRenderable(){const e=this._getCPI(),t=e.atLeastOneVisible();return this.get("show")!==false&&t},getButtons(){return this.get("_buttonInstances")},atLeastOneVisible(){const e=this.get("_buttonInstances")||[];for(let t=0;t<e.length;t++){if(e[t].get("show")!==false)return true}return false},resetToDefaultValue(){const e=this.get("defaultValue");this.set({value:e})},processOptionGroups(){const e=this.getState();let t=e.optionGroups||[{options:e.buttons||[]}],o=[],i=[];t.forEach(e=>{e.options.forEach(e=>{i.push({label:e.label,value:e.value});o.push({label:o.label,value:e.value,defaultValue:e.defaultValue,active:e.active})})});this.set({optionGroups:t,options:o,buttons:i})},setOptionGroups(e){this.set({optionGroups:e});this._getCPI().processOptionGroups()}}}));var Be={getStyleSettings(){return{indexSpacing:"@tk.spacing.s1",previousNextSpacing:"@tk.spacing.s1"}},getStyleSettingsVariantsChildren(){return{skuid__button:{previousNext:"circularWithBorder",indices:"circular"}}},getStyles(e){return{"button-indices":{display:"flex"},"index-wrapper":{marginLeft:e.indexSpacing},"index-wrapper--first":{marginLeft:0},"prev-next-wrapper":{"&:first-child":{marginRight:e.previousNextSpacing},"&:last-child":{marginLeft:e.previousNextSpacing}}}}};var ze={attributes:{finish:{type:"number"},selectedIndex:{type:"number",default:0},showPrevNext:{type:"boolean",default:true},spread:{type:"number",default:7},start:{type:"number",default:0}},nodes:{indices:{type:"array",childNode:{index:{attributes:{label:{type:"string"}}}}}},properties:{renderConditions:true}};const{h:Ne,utils:je}=Object(n["d"])();n["a"].register("skuid__pagination",Object.assign({},Be,{schema:ze,init(e,t,o){const i=e.shortcut("set"),n=e.shortcut("get");o.updateIndices();e.subscribeChange("start",o.updateIndices);e.subscribeChange("finish",o.updateIndices);let s=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/previousNext",icon:"sk-webicon-ink:chevron-small-left",iconPosition:"center",disabled:t.selectedIndex===0});let a=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/previousNext",icon:"sk-webicon-ink:chevron-small-right",iconPosition:"center",disabled:t.selectedIndex===t.finish-t.start});s.subscribe("click",()=>{o.updateIndex(n("selectedIndex")-1)});a.subscribe("click",()=>{o.updateIndex(n("selectedIndex")+1)});e.subscribeChange("selectedIndex",o.updateIndex);i({previousButton:s,nextButton:a})},renderVDom(e){const t=e.getState(),o=e.shortcut("getStyledClasses");return Ne("div",{key:e,role:"group",class:e.getStyledClasses("button-indices")},[t.previousButton?Ne("span",{class:o("prev-next-wrapper"),key:t.uniqueId+"-prev"},[t.previousButton.renderVDom()]):[],t.buttonComponents.map((e,i)=>Ne("span",{classes:o({"index-wrapper":true,"index-wrapper--first":!i}),key:t.uniqueId+"-indices"},[e.renderVDom()])),t.previousButton?Ne("span",{class:o("prev-next-wrapper"),key:t.uniqueId+"-next"},[t.nextButton.renderVDom()]):[]])},cpi:{createButtonSpread(e,t){const o=this.getState(),i=this._getCPI(),n=this,s=o.indices,a=o.selectedIndex,r=[];for(let o=e;o<=t;o++){s[o]&&r.push(s[o])}return r.map((t,o)=>{let s=n.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/indices",withBorder:false,label:t.label,selected:a===o+e});s.subscribe("click",function(){i.updateIndex(o+e)});return s})},updateIndices(){const e=this.getState();let t=e.start,o=e.finish,i=e.spread,n=i-2,s,a;a=o-t+1;if(i<0){i=a}s=[];for(let e=0;e<a;e++){s.push({label:t+e+""})}this.set({length:a,indices:s,spread:i,buttonComponents:[],maleableSpread:i-2,spreadBetweenEllipses:Math.floor((n-2)/2)});this._getCPI().createButtons()},updateIndex(e){const t=this.getState(),o=this._getCPI(),i=je.clamp(e,0,t.length-1);if(t.showPrevNext){t.previousButton.set("disabled",i===0);t.nextButton.set("disabled",i===t.finish-t.start)}if(i!==t.selectedIndex){this.set("selectedIndex",i)}o.createButtons()},createButtons(){const e=this._getCPI(),{selectedIndex:t,spread:o,noEllipses:i,length:n,maleableSpread:s,spreadBetweenEllipses:a,buttonComponents:r}=this.getState();r.forEach(e=>e.unregister());let l=[];if(n>o&&!i){l=l.concat(e.createButtonSpread(0,0));if(t>Math.floor(s/2)+1){if(t<n-Math.floor(s/2)-2){l.push(this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/indices",label:"...",ellipses:true}));l=l.concat(e.createButtonSpread(t-a,t+a));l.push(this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/indices",label:"...",ellipses:true}))}else{l.push(this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/indices",label:"...",ellipses:true}));l=l.concat(e.createButtonSpread(n-s,n-2))}}else{l=l.concat(e.createButtonSpread(1,s-1));l.push(this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/indices",label:"...",ellipses:true}))}l=l.concat(e.createButtonSpread(n-1,n-1))}else{l=l.concat(e.createButtonSpread(0,n-1))}this.set("buttonComponents",l)}}}));var He={getStyleSettings(){return{buttonGroupHorizontalSpacing:"@tk.spacing.s2",buttonGroupVerticalSpacing:"@tk.spacing.s1"}},getStyles(e){return{"button-set":{display:"flex",flexWrap:"wrap",marginTop:"-".concat(e.buttonGroupVerticalSpacing)},"button-set--align-left":{justifyContent:"flex-start"},"button-set--align-right":{justifyContent:"flex-end"},"button-set--align-center":{justifyContent:"center"},"button-set--expand-to-fill":{justifyContent:"stretch"},"button-group":{marginTop:e.buttonGroupVerticalSpacing,marginRight:e.buttonGroupHorizontalSpacing},"button-group--detached":{"&:last-child":{marginRight:0}},"button-group--attached":{"&:last-child":{marginRight:"2px"}},"button-group--expand-to-fill":{flex:1},dropzone:{left:"calc(-".concat(e.buttonGroupHorizontalSpacing,"/2)")}}}};var We={attributes:{uniqueId:{},position:{type:"picklist",default:"right",options:["right","left","center"]},describedBy:{type:"string"},labeledBy:{type:"string"},expandToFill:{type:"boolean",default:false},model:{type:"model"},warning:{type:"boolean"}},nodes:{groups:{type:"array",childNode:{skuid__buttonGroup:"skuid__buttonGroup",skuid__avatarGroup:"skuid__avatarGroup"}}},properties:{conditions:true,renderConditions:true,context:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["getGroups"]}}};const{h:Ue,utils:Ge}=Object(n["d"])();n["a"].register("skuid__buttonSet",Object.assign({},He,{schema:We,init(e,t,o){const i=e.shortcut("set"),{conditions:n,context:s,model:a}=t,r=[];if(n){i({conditions:e.createConditionsFromXml(n)})}if(a)r.push(a);if(s&&s.model&&s.model!==a)r.push(s.model);const l=()=>{const e=this._getMergeContext(),t=Object.assign({},s,{},e),o=this.cpi.getGroups();(o||[]).forEach(e=>e.set("context",t))};r.forEach(e=>{["row.updated","loaded"].forEach(t=>this.storeSubscription(e.subscribe(t,Ge.debounce(l,50))))});e.subscribeChange("groups",o.createGroups);o.createGroups()},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_groupInstances:o,acceptorFragment:i,expandToFill:n,position:s}=e.getState();return(i||Ue)("div",{key:e,classes:t({"button-set":true,"button-set--expand-to-fill":n,"button-set--align-right":s==="right","button-set--align-left":s==="left","button-set--align-center":s==="center"})},o.map(e=>e.getCPI().isRenderable()&&Ue("div",{key:e,classes:t({"button-group":true,"button-group--expand-to-fill":n,"button-group--detached":!["attached","combo"].includes(e.get("displayType")),"button-group--attached":["attached","combo"].includes(e.get("displayType"))})},[e.renderVDom()])))},cpi:{createGroups(){const{context:e,expandToFill:t,groups:o,_groupInstances:i}=this.getState();(i||[]).forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.set({_groupInstances:(o||[]).map(o=>this.createChildComponent(Object.assign({},o,{componentType:o.componentType||o._&&o._.tagName||"skuid__buttonGroup",expandToFill:t,context:Object.assign({},e,{},this._getMergeContext())})))})},getGroups(){return this.get("_groupInstances")}}}));var qe={getStyles(){},getStyleSettingsVariants:()=>{return{default:{backgroundColor:"@palette.white",colorPalette:{type:"COLOR",list:true,allowNone:true,label:"Color palette",value:["@palette.primary.-2","@palette.primary.-1","@palette.primary","@palette.primary.1","@palette.primary.2","@palette.primary.3"]}}}}};var Ye={doNotProcess:true,properties:{renderConditions:true,renderconditions:true,styleVariantConditions:true},access:{cpi:{public:["initChart"]}}};const{div:$e,$:Ke,utils:Xe}=Object(n["d"])();n["a"].register("skuid__chart",Object.assign({},qe,{schema:Ye,init(e,t){const o=e._variantHandle=t._.node.getAttribute("styleSettingsVariant")||t.styleSettingsVariant;e.set({innerElement:Ke("<div>"),styleSettingsVariant:o});e._updateClasses({deleteThemeSlug:true});e._cpi.updateSpacing()},renderVDom(e){const{spacingStyles:t}=e.getState();const o=e._getCPI();return $e({key:e},[$e({styles:Object.assign({},t),afterCreate:o.setElement,afterUpdate:o.setElement})])},cpi:{setElement(e){const{_element:t,innerElement:o,skuidVisChartInstance:i}=this.getState();if(t!==e){this.set("_element",e,{renderOnChange:false});e.appendChild(o[0]);if(!i){this.delay().then(()=>{this._getCPI().initChart()})}else{Xe.delay().then(()=>i.container.highcharts().reflow())}}},initChart(){const{_:{node:e},innerElement:t}=this.getState(),o=Ke(e),i=n["c"].themes.getStyleSettingsForComponent(this,{forceRegisterStyleSettings:true}),s=i.colorPalette,a=s.value||s,r="<colors>"+(a||[]).map(e=>"<value>"+e+"</value>").join("")+"</colors>";t.empty();this.unregisterChildComponents();o.find("colors").remove();o.append(r);o.attr("backgroundcolor",i.backgroundColor.value||i.backgroundColor);const l=n["c"].visualizations.core.utils.replaceElementTag(o,"skuidvis__chart");const c=this.createChildComponent(l,t,this.get("context"),this.getState());this.bind("show",c);this.bind("disabled",c);this.bind("context",c);c.container.highcharts().reflow();this.set({skuidVisChartInstance:c})},updateStyles(){n["c"].themes.unregisterComponentStyles(this);this._getCPI().initChart();this._cpi.updateSpacing()},updateSpacing(){const{_:{node:e}}=this.getState();const t=e=>this.getThemeSettings().spacing(e);const o=Ke(e).find("styles > spacing");const i={marginTop:t(o.attr("top")),marginBottom:t(o.attr("bottom")),marginLeft:t(o.attr("left")),marginRight:t(o.attr("right"))};this.set("spacingStyles",i)}}}));var Qe={getStyleSettings:()=>({}),getStyleSettingsVariants:()=>{return{default:{}}},getStyles(){return{"chatter--visualforce":{boxSizing:"content-box"}}}};var Ze={attributes:{model:{type:"string",required:true},showtopics:{type:"boolean"},feedtype:{type:"string"},showfollowers:{type:"boolean",default:true}},properties:{renderConditions:true,actions:true,styles:true},access:{cpi:{public:["addChatter"]}}};const{$:Je}=Object(n["d"])();let et="Record",tt="News",ot="RECORD",it="GLOBAL";function nt(e,t,o){let i=t.attr("feedtype"),s=i==="newsfeed",a=t.attr("model"),r=t.attr("loadstandardstylesheets"),l=true,c=t.attr("showfollowers"),d="true",u=t.attr("showtopics")==="true",p=Je("<div />").attr("style","clear:both;display:none;"),g,h=o.get("context"),b=n["c"].utils.getSafeRelativeUrl("/apex/Social"),f,m=Je.extend({},window.UserContext);if(r==="false"||n["c"].page.showHeader===true){l=false}else{window.UserContext=undefined}if(c!=null&&c=="false")d="false";f={loadstandardstylesheets:l,showfollowers:d,showtopics:u};if(i){f.feedtype=i}e.addClass("nx-chatter");e.append("<style>.multiforce #toolbar{ background-image: none !important; }</style>").append(p);if(!h)h={};if(!s&&a){g=n["c"].$M(a);if(g){h.model=g;if(g.data&&g.data.length){h.row=g.getFirstRow();f.id=g.getRowId(h.row)}}}o.unregister=function(){n["c"].component.Component.prototype.unregister.call(o);Je(".shadowDiv").remove()};let y=n["c"].utils.applyURLParametersToURL(b,f);Je.ajax(y).then(function(i){let a=document.createElement("div");a.innerHTML=i;let r=Je(a);if(s&&!l){r.find("link").first().remove()}if(!l){r.find('script[src*=static][src*="stub.js"]').remove();r.find('script[src*=static][src*="functions.js"]').remove();r.find('script[src*=jslibrary][src*="main.js"]').remove();r.find('script[src*=jslibrary][src*="en_US.js"]').remove()}p.html(r.html());if(m){window.UserContext=Je.extend(true,window.UserContext,m)}let c=t.children("actions").first(),d=window.chatter?window.chatter.getEventBus():false;if(d&&c.children().length){let e=(e,t)=>{Je.extend(h,e,t);n["c"].actions.runActionsNode(c,o,h)};d.addEventListener("chatter:feed","onAfterNewPostFeedUpdate",e);d.addEventListener("chatter:publisher","onAfterComment",e)}if(t.attr("showtopics")==="true"){let t=e.find(".topics"),o;if(t.length){o=t.find(".editLink");if(o.length){o.on("click.skuid",()=>{if(window.SfdcApp){window.SfdcApp.TopicsFeed.edit(t.get(0))}})}}}p.show();o.publish("loaded")})}function st(e,t,o){let i=t.attr("feedtype")==="newsfeed"?tt:et,s=t.attr("model"),a=s&&n["c"].$M(s),r,l,c,d,u,p,g,h,b=t.children("actions").first().children();if(a){r=a.getFirstRow();if(r){l=a.getRowId(r)}}if(b.length>0){o.addProblem("The Chatter component does not support After-Post Actions in the Lightning runtime. ("+o.id()+")")}c={context:i===et?ot:it};p={type:i};if(i===et&&l){c.recordId=l;p.subjectId=l;p.feedDesign="DEFAULT"}let f=o.getParentPage({root:true});if(f.teleportLightningComponent){d=f.teleportLightningComponent("forceChatter:publisher",c,Je('<div class="nx-chatter-publisher">').appendTo(e));g=f.teleportLightningComponent("forceChatter:feed",p,Je('<div class="nx-chatter-feed">').appendTo(e))}Promise.all([d,g]).then(([e,t])=>{u=e;h=t;o.publish("loaded")});o.unregister=function(){n["c"].component.Component.prototype.unregister.call(o);u&&u.destroy();h&&h.destroy()}}n["a"].register("chatterOriginal",{onlyRenderOnce:true,render(e,t,o){let i=n["c"].utils.inPlatform,s=n["c"].constants;if(i(s.LIGHTNING)){st(e,t,o)}else if(i(s.VISUALFORCE)){nt(e,t,o)}}});const{$:at,div:rt,utils:lt}=Object(n["d"])();n["a"].register("skuid__chatter",Object.assign({},Qe,{schema:Ze,init(e,t){let{uniqueId:o,model:i,showtopics:s,feedtype:a,actions:r,showfollowers:l}=t;if(!s){s="false"}const c=n["c"].utils.makeXMLDoc,d=c('<chatterOriginal uniqueid="'.concat(o,'-social" model="').concat(i,'" showtopics="').concat(s,'" showfollowers="').concat(l,'" ></chatterOriginal>'));if(a){d.attr("feedtype",a)}if(r){d.append(r)}e.set({socialXml:d})},renderVDom(e){const t=e._getCPI(),o=e.shortcut("getStyledClasses");return rt({key:e,classes:o({"chatter--visualforce":lt.inPlatform(n["c"].constants.VISUALFORCE)}),afterCreate:t.addChatter})},cpi:{addChatter(e){const{socialXml:t}=this.getState();const o=at("<div>");this.createChildComponent(t,at(o),this.get("context"),this.getState());e.appendChild(o[0]);n["c"].events.publish("ui.reflow")}}}));var ct={getStyleSettingsVariants:()=>{return{default:{}}},getStyles(){return{chartset:{position:"relative"},drillup:{position:"absolute",left:"4px",top:"4px",zIndex:1}}}};var dt={doNotProcess:true};const{div:ut,$:pt}=Object(n["d"])();n["a"].register("skuid__chartSet",Object.assign({},ct,{schema:dt,init(e){const t=e.createChildComponent({componentType:"skuid__button",label:"Back",show:false});e.set({drillupButton:t})},renderVDom(e){const t=e._getCPI(),o=e.getState(),i=e.shortcut("getStyledClasses");return ut({key:e,class:i("chartset")},[ut({class:i("drillup")},[o.drillupButton.renderVDom()]),ut({afterCreate:t.addChart})])},cpi:{addChart(e){const{_:{node:t}}=this.getState(),o=pt(t);const i=n["c"].visualizations.core.utils.replaceElementTag,s=i(o,"skuidvis__chartset");this.set("skuidvisChartSetInstance",this.createChildComponent(s,pt(e),this.get("context"),this.getState()));n["c"].events.publish("ui.reflow")}}}));const gt="chat-resting",ht="chat-talking",bt=[1,2,3,3,2,1,1,1,1,1,3,3,3,2.5,2.2,2,1,2,3,3,2,1,1,1,1,1,1,2,3,3,2,1,1,1,1,1,3,3,3,2.5,2.2,2,1,2,3,3,2,1,1,1,1,1],ft={};for(let e=0;e<bt.length;e++){ft["".concat(e*2,"%")]={height:bt[e]*8+"px"}}ft["100%"]={height:"8px"};var mt={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@palette.primary.-2",color:"@palette.white",secondaryColor:"@palette.primary.2",_zIndex:H["x"].UI_BLOCKER,_spacingClose:"@tk.spacing.s2",header:{marginTop:t(12),_minHeight:"@tk.spacing.s4"},chatBars:{width:"@tk.spacing.s6",height:"@tk.spacing.s3",_span:{width:"@tk.spacing.s1",height:"@tk.spacing.s1",margin:"@tk.spacing.s0_5",backgroundColor:"@palette.white",borderRadius:"@tk.spacing.s1"}},examples:{padding:"@tk.spacing.s4"}}},getStyles:e=>({chatbot:{position:"fixed",top:0,left:0,width:"100%",height:"100%",marginTop:"-100%",zIndex:e._zIndex,backgroundColor:e.backgroundColor,transition:"margin 250ms ease"},"chatbot--slide-down":{marginTop:0},chatbot__close:{position:"absolute",right:e._spacingClose,top:e._spacingClose,color:e.color,cursor:"pointer",zIndex:100},"chatbot-container":{position:"relative",display:"flex",flexDirection:"column",textAlign:"center",height:"100%",maxHeight:"1000px"},"chatbot-header":{flex:0,marginTop:e.header.marginTop,color:e.color,minHeight:e.header._minHeight,"& h1":{color:e.color,"&::first-letter":{textTransform:"capitalize"}}},["@keyframes ".concat(gt)]:{"0%":{bottom:"1px"},"2%":{bottom:"2px"},"4%":{bottom:"3px"},"6%":{bottom:"4px"},"8%":{bottom:"3px"},"10%":{bottom:"2px"},"12%":{bottom:"1px"},"14%":{bottom:"0px"},"100%":{bottom:"0px"}},["@keyframes ".concat(ht)]:ft,"chat-bars":{position:"relative",display:"flex",flex:0,justifyContent:"center",alignItems:"center",width:e.chatBars.width,height:e.chatBars.height,margin:"40px auto",textAlign:"center","& > span":{position:"relative",backgroundColor:e.chatBars._span.backgroundColor,height:e.chatBars._span.height,width:e.chatBars._span.width,margin:e.chatBars._span.margin,borderRadius:e.chatBars._span.borderRadius},"&$chat-bars--resting":{"& span:first-child":{animation:"".concat(gt," 2s .1s ease-out infinite")},"& span:nth-child(2)":{animation:"".concat(gt," 2s .2s ease-out infinite")},"& span:nth-child(3)":{animation:"".concat(gt," 2s .3s ease-out infinite")}},"&$chat-bars--talking":{"& span:first-child":{animation:"".concat(ht," 4s .1s ease-out infinite")},"& span:nth-child(2)":{animation:"".concat(ht," 4s .2s ease-out infinite")},"& span:nth-child(3)":{animation:"".concat(ht," 4s .3s ease-out infinite")}}},"chat-bars--resting":{},"chat-bars--talking":{},examples:{flex:0,padding:e.examples.padding,color:e.secondaryColor,opacity:1,transition:"opacity 250ms ease"},"examples--fade-out":{opacity:0}})};var yt={attributes:{conversationKillSwitch:{type:"function"},examples:{type:"array"},openingTitle:{type:"string",default:"Hi, tell me what I can do for you."}},access:{cpi:{public:["updateTitle","close"]}}};const{h:Ct,utils:kt}=Object(n["d"])();n["a"].register("skuid__chatbotFullOverlay",Object.assign({},mt,{schema:yt,init(e,t){const o=e.shortcut("set"),i=e.createChildComponent({componentType:"skuid__icon",handle:"ink:close"}),n=e.createChildComponent({componentType:"skuid__text",contents:t.openingTitle,tag:"h1",styleSettingsVariant:"large"});o({closeIcon:i,headerComponent:n,isProcessing:true,isTalking:false})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return Ct("div",{key:e,classes:t({chatbot:true,"chatbot--slide-down":o.showChat}),afterCreate:i.afterCreate},[Ct("div",{classes:t({chatbot__close:true}),onclick:i.close},[o.closeIcon.renderVDom()]),Ct("div",{classes:t({"chatbot-container":true})},[Ct("div",{classes:t({"chatbot-header":true})},[o.headerComponent.renderVDom()]),Ct("div",{classes:t({"chat-bars":true,"chat-bars--resting":o.isProcessing,"chat-bars--talking":o.isTalking})},[Ct("span"),Ct("span"),Ct("span")]),o.examples?Ct("div",{classes:t({examples:true,"examples--fade-out":o.hideExamples})},[Ct("strong",["Some things you can say:"]),o.examples.map(e=>Ct("p",[e]))]):null])])},cpi:{afterCreate(){this.delay(50).then(()=>this.set("showChat",true))},updateTitle(e,t=false){if(e||t){const t=this.get("headerComponent");t.set("displayTitle",e)}},close(){this.set("showChat",false);const e=this.get("conversationKillSwitch");e&&e();this.delay(1e3).then(()=>this.unregister())},listeningHandler(){this.set({isProcessing:false,isTalking:true})},processingHandler(){this.set({isProcessing:true,isTalking:false,hideExamples:true});this._getCPI().updateTitle("",true)},textSubmissionHandler(e,t){const o=kt.Deferred(),i=this._getCPI();i.updateTitle('"'.concat(e,'"'));if(t){setTimeout(()=>o.resolve(),2e3);return o.promise()}},responseHandler(e){this._getCPI().updateTitle(e)},endOfConversationHandler(){const e=kt.Deferred(),t=this._getCPI();this.delay(2e3).then(()=>{t.close();e.resolve()});return e.promise()}}}));var St={getStyleSettings(){return{_description:{fontSize:"@tk.spacing.s1_5",color:"@palette.neutral.3",margin:"@tk.spacing.s0_5 0 0 @tk.spacing.s3"},color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",padding:"0 0 0 @tk.spacing.s1",_optionCount:{fontWeight:"@tk.fontWeight.regular",color:"@palette.neutral"}}},getStyles(e){return{description:{fontSize:e._description.fontSize,color:e._description.color,margin:e._description.margin},optionLabel:{display:"inline-block",color:e.color,fontSize:e.fontSize,fontWeight:e.fontWeight,padding:e.padding,width:"100%"},optionCount:{fontWeight:e._optionCount.fontWeight,color:e._optionCount.color}}}};var wt={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",size:t(2),label:St.getStyleSettings(),hover:{border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor",boxShadow:null},focus:{border:null,boxShadow:"0 0 0 2px @tk.utility.focusColor"},active:{border:null,boxShadow:"@tk.shadow.lightInset"},checked:{checkColor:"@palette.white",backgroundColor:"@palette.primary",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary"},disabled:{opacity:"@tk.opacity.light",checkColor:"@palette.neutral",backgroundColor:"@palette.neutral.6",borderColor:"@palette.neutral.6"}}},getStyleSettingsVariantsChildren(e){return{skuid__labelRadioCheckbox:{label:e.label}}},getStyles(e){return{check:{position:"absolute",top:"-1px",left:"-1px",fill:"white"},disabled:{opacity:e.disabled.opacity},centered:{display:"block",textAlign:"center",width:"100%"},flex:{display:"flex",alignItems:"center"},"input-wrapper":{position:"relative",display:"inline-block"},"label-wrapper":{flex:1,cursor:"default","&:focus":{outline:"none"}},checkbox:Object.assign({position:"relative",backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,height:e.size,width:e.size,fontSize:e.size,"&:hover":{boxShadow:e.hover.boxShadow},"&:focus":{outline:"none"},"&.sk-focus-keyboard":{boxShadow:e.focus.boxShadow,"&:hover":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.hover.boxShadow)}}}),"checkbox--active":{boxShadow:e.active.boxShadow,"&.sk-focus-keyboard":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.active.boxShadow),"&:hover":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.hover.boxShadow,",").concat(e.active.boxShadow)}}},"checkbox--checked":Object.assign({backgroundColor:e.checked.backgroundColor,color:e.checked.checkColor},s(e.checked.border)),"checkbox--hover":Object.assign({},s(e.hover.border)),"checkbox--disabled":{background:"".concat(e.disabled.backgroundColor),borderColor:"".concat(e.disabled.borderColor),color:"".concat(e.disabled.checkColor)}}}};var _t={attributes:{checked:{type:"boolean",default:false},label:{type:"string"},describedBy:{type:"string"},labeledBy:{type:"string"},showLabel:{type:"boolean",default:false},value:{type:"string"},description:{type:"string"},disabled:{type:"boolean",default:false},triState:{type:"boolean",default:false},warning:{type:"boolean"},centered:{type:"boolean"},tabIndex:{type:"string",default:"0"},ariaLabel:{type:"string"},onClick:{type:"function"},inputId:{}},properties:{tooltip:true},access:{cpi:{public:["addChildCheckbox","focus","removeChildCheckboxes","toggle"]}}};const{h:It,KEYCODES:vt}=Object(n["d"])();n["a"].register("skuid__checkbox",Object.assign({},wt,{schema:_t,init(e,t,o){const i=e.shortcut("set"),n=t.label||(!t.showLabel?"":t.value);e.subscribeChange("checked",o.onChangeChecked);i({description:t.description||"",disabled:t.disabled||false,label:n,checked:t.checked||false,value:t.value,labelWrapperId:n&&"".concat(t.uniqueId,"--label"),iconCheckInstance:e.createChildComponent({componentType:"skuid__icon",matchFontSize:true,alignBottom:false,handle:"sk-webicon-ink:check"}),iconIndeterminateInstance:e.createChildComponent({componentType:"skuid__icon",matchFontSize:true,alignBottom:false,handle:"sk-webicon-ink:checkbox-indeterminate"}),labelInstance:n?e.createChildComponent({componentType:"skuid__labelRadioCheckbox",styleSettingsVariant:"@parent/label",label:n,description:t.description}):undefined})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return It("div",{key:e,classes:t({flex:!o.centered,centered:o.centered,disabled:o.disabled}),afterUpdate:i.afterUpdate},[It("div",{class:t("input-wrapper")},[It("div",{id:o.inputId,key:e,classes:t({checkbox:true,"checkbox--hover":!o.disabled&&o.hovered&&!o.checked,"checkbox--active":!o.disabled&&o.pressed,"checkbox--disabled":o.disabled,"checkbox--checked":o.checked}),tabindex:o.disabled?"-1":o.tabIndex+"",role:"checkbox","aria-checked":"".concat(o.checked),"aria-disabled":"".concat(o.disabled),"aria-describedby":o.labelWrapperId||o.describedBy,afterCreate:i.afterCreateInput,onclick:i.onClick,onkeydown:i.onKeyDown,onkeyup:i.unPress,onblur:i.onBlur,onfocus:()=>e.publish("focus"),onmouseenter:i.onMouseEnterLabel,onmouseleave:i.onMouseLeaveLabel,onmousedown:i.onMouseDown,onmouseup:i.unPress},[o.checked?It("span",{class:t("check")},[o.checked==="mixed"?o.iconIndeterminateInstance.renderVDom():o.iconCheckInstance.renderVDom()]):undefined])]),o.labelInstance?It("div",{key:e,id:o.labelWrapperId,class:t("label-wrapper"),onmouseenter:i.onMouseEnterLabel,onmouseleave:i.onMouseLeaveLabel,onmousedown:i.onMouseDown,onmouseup:i.unPress,onclick:i.onClick,onblur:i.onBlur,tabindex:o.disabled?"":"-1"},[o.labelInstance.renderVDom()]):undefined])},cpi:{afterUpdate(){if(this.get("makeActive")){this.set({makeActive:undefined,pressed:false,hovered:false},{renderOnChange:false})}},afterCreateInput(e){if(this.get("focusOnCreate"))e.focus();this.set({inputElement:e,focusOnCreate:false},{renderOnChange:false})},focus(){const e=this.get("inputElement");if(e&&document.contains(e)){e.focus()}else{this.set({focusOnCreate:true},{renderOnChange:false})}},onClick(e){e&&e.stopPropagation();const t=this.getState();if(t.disabled)return;if(t.checked==="mixed"){this.set("checked",false)}else{this.set("checked",!t.checked)}t.onClick&&t.onClick.apply(this,arguments)},onBlur(){if(!this.registered)return;this.set("pressed",false);this.publish("blur")},onMouseEnterLabel(){if(this.get("disabled"))return;this.set("hovered",true)},onMouseLeaveLabel(){this.set({hovered:false,pressed:false})},onKeyDown(e){if(this.get("disabled"))return;if(e.keyCode===vt.SPACE){e.preventDefault();this.set({pressed:true})}},onMouseDown(){if(this.get("disabled"))return;this.set({pressed:true})},toggle(){this._getCPI().onClick()},unPress(e){if(e.keyCode===vt.SPACE&&this.get("pressed")){e.preventDefault();this._getCPI().onClick()}this.set("pressed",false)},addChildCheckbox(e){if(!this.get("childCheckboxes")){this.set("childCheckboxes",[])}this.get("childCheckboxes").push(e);this._getCPI().evaluateTristate();e.subscribeChange("checked",this._getCPI().evaluateTristate)},removeChildCheckboxes(){this.set("childCheckboxes",[]);this._getCPI().evaluateTristate()},evaluateTristate(){const e=this.get("childCheckboxes"),t=e.reduce((e,t)=>e&&t.get("checked"),true),o=e.reduce((e,t)=>e||t.get("checked"),false);if(t&&e.length){this.set("checked",true)}else if(o){this.set("checked","mixed")}else{this.set("checked",false)}},onChangeChecked(e){const t=this.get("childCheckboxes");if(t){if(e===true){t.forEach(e=>e.set("checked",true))}else if(e===false){t.forEach(e=>e.set("checked",false))}}}}}));var xt={getStyleSettings(){return{listItemSpacing:"@tk.spacing.s2",sublistItemIndentation:{type:"spacing",value:"@tk.spacing.s2"}}},getStyleSettingsVariantsChildren(){return{skuid__checkbox:{checkbox:"default"}}},getStyles(e){return{"list-element":{marginBottom:e.listItemSpacing,"&:last-child":{marginBottom:0}},"list-element--indented":{marginLeft:e.sublistItemIndentation},"checkbox-list":{listStyleType:"none",padding:0,margin:0,"&:focus":{outline:"none"}}}}};const{h:Tt}=Object(n["d"])();n["a"].register("skuid__checkboxList",Object.assign({},xt,{schema:E,init(e,t,o){const i=e.shortcut("set");i({value:t.value||t.defaultValue,updateOnCheckChange:true,rootElementTag:"ul",noneSelectedText:t.noneSelectedText||n["c"].$L("None_Selected")});o.processOptionGroups();e.subscribeChange("value",o.onValueChange);e.subscribeChange("optionGroups",o.processOptionGroups);e.subscribeChange("options",o.processOptionGroups)},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),{_useSelectAllOption:i,disabled:n,describedBy:s,inputId:a,labeledBy:r}=o;return Tt("ul",{key:e,classes:t({"checkbox-list":true}),tabindex:n?"-1":"0",role:"group","aria-describedby":s,"aria-labelledby":r,"aria-disabled":n+"",id:a},o.processedOptionGroups.map(n=>[n.labelInstance?Tt(i?"li":"div",{class:t("list-element"),key:n},[n.labelInstance.renderVDom()]):undefined,n.options.map((s,a)=>!o.limitOptions||a<=o.limitOptions-1?Tt("li",{key:"".concat(e._GUID,"-li"),classes:t({"list-element":true,"list-element--indented":n.labelInstance&&!i})},[s.instance.renderVDom()]):undefined)]))},cpi:{processOptionGroups(){const e=this.getState(),{value:t,defaultValue:o,delimiter:i,useSelectAllOption:n,context:s,processedOptionGroups:a,maxSelected:r}=e,l=(t||o||"").toString().split(i),c=[];let{optionGroups:d,options:u}=e;let p="";if(!d){u=u?u:[];d=[{options:u}]}let g=0;d.forEach(e=>g+=(e.options||[]).length);let h=n&&g<=r;if(a){a.forEach(e=>{e.labelInstance&&e.labelInstance.unregister();e.options.forEach(e=>{e.instance&&e.instance.unregister()})})}const b=()=>{this.delay().then(()=>{if(!this.getElement().contains(document.activeElement)){this.publish("blur")}})};d.forEach(e=>{if(!e.label&&h){e.label="Select All"}if(e.label){e.labelInstance=this.createChildComponent({label:e.label,componentType:"skuid__checkbox",styleSettingsVariant:"@parent/checkbox",onClick:()=>{this.set("value",p)}},undefined,s);e.labelInstance.storeSubscription(this.subscribeChange("disabled",t=>e.labelInstance.set("disabled",t)))}if(!e.options){e.options=[]}e.options.forEach(t=>{const o=this.createChildComponent({componentType:"skuid__checkbox",styleSettingsVariant:"@parent/checkbox",label:t.label||t.value,checked:l.indexOf(t.value)>-1,value:t.value,onClick:()=>{this.set("value",p)}});o.storeSubscription(this.subscribeChange("disabled",e=>o.set("disabled",e)));c.push(t);e.labelInstance&&e.labelInstance.getCPI().addChildCheckbox(o);o.subscribeChange("checked",()=>{if(this.get("updateOnCheckChange")){p=this._getCPI().updateValue()}});o.subscribe("blur",b);t.instance=o})});this.set({processedOptionGroups:d,inputOptions:c,_useSelectAllOption:h});this._getCPI().onValueChange(this.get("value"));return d},updateValue(e){const t=this.getState();let o="",i="",n;t.processedOptionGroups.forEach(e=>{e.options.forEach(e=>{if(e.instance.get("checked")){o+=e.instance.get("value")+t.delimiter;i+="".concat(e.instance.get("label")||e.instance.get("value"),", ")}})});o=o.slice(0,-1);i=i.slice(0,-2);n=o.split(t.delimiter);t.processedOptionGroups.forEach(e=>{if(e.labelInstance){const t=e.options.reduce((e,t)=>n.indexOf(t.instance.get("value"))>-1&&e,true),o=e.options.reduce((e,t)=>n.indexOf(t.instance.get("value"))===-1&&e,true);if(t){e.labelInstance.set("checked",true)}else if(o){e.labelInstance.set("checked",false)}else{e.labelInstance.set("checked","mixed")}}});this.set("displayValue",i||t.noneSelectedText);if(!e){return o}},onValueChange(e){const{delimiter:t,maxSelected:o,disabled:i}=this.getState(),n=(e||"").toString().split(t),s=e?n.length:0;if(typeof o==="number"&&o>=0&&s>=o){this.getChildComponentsOfType("skuid__checkbox").forEach(e=>!n.includes(e.get("value"))&&e.set("disabled",true))}else{this.getChildComponentsOfType("skuid__checkbox").forEach(e=>e.set("disabled",i))}this.set("updateOnCheckChange",false);this.get("inputOptions").forEach(e=>{e.instance.set("checked",n.indexOf(e.value)>-1)});this.set("updateOnCheckChange",true);this._getCPI().updateValue(true);this.publish("value",e)},resetToDefaultValue(){this.set("value",this.getState().defaultValue)},setOptionGroups(e){this.set({optionGroups:e})},focus(){const e=this.get("optionGroups"),t=n["c"].utils.getObjectProperty(e,"options.0.instance");if(t){t.getCPI().focus()}}}}));var Ot={getStyleSettingsVariants:()=>{return{default:{}}},getStyles(){}};var Rt={attributes:{model:{type:"model"},id:{type:"string"},format:{type:"picklist",default:"text",options:["text","javascript","xml","json","html","css","less"]},mode:["edit","readonly"],contents:{type:"string"},minHeight:{type:"string",default:"300px"}},properties:{renderConditions:true,enableConditions:true,styles:true},access:{cpi:{public:["getValue","insertValue","setValue"]}}};const{h:Et,utils:Pt}=Object(n["d"])();n["a"].register("skuid__code",Object.assign({},Ot,{schema:Rt,init(e,t,o){e.registerMergeAttribute("contents","_contents");e.subscribeChange("_contents",o.setValue);e.subscribeChange("format",o.setEditorFormat);e.subscribeChange("mode",o.setEditorMode);e.subscribeChange("disabled",o.setEditorMode);const i=document.createElement("div");i.setAttribute("style","min-height: ".concat(t.minHeight));e.set("editorElement",i);o.initializeEditor().then(()=>{o.applyEditor();o.initializeModelListeners();e.publish("editor.initialized")})},renderVDom(e){return Et("div",{key:e,afterCreate:t=>t.appendChild(e.get("editorElement"))})},cpi:{applyEditor(){const{editorElement:e,_contents:t}=this.getState(),o=this.shortcut("set"),i=this._getCPI();const n=window.ace.edit(e);o("editor",n,false);i.setEditorFormat();i.setEditorMode();n.session.on("change",()=>o("value",n.getValue(),false));t&&i.setValue(t||"")},initializeEditor(){const e=()=>{window.ace.config.set("basePath",n["c"].platform.getResourceUrl({ns:"skuid",name:"AceEditor"}))};if(window.ace){e();return Pt.resolve()}const t=n["c"].platform.getResourceUrl({ns:"skuid",name:"AceEditor",nestedPath:"ace.js"});return Pt.loadJS(t).then(()=>{if(n["c"].constants.RUNNING_TESTS)return;e()})},initializeModelListeners(){const{context:e,id:t,model:o}=this.getState(),i=this._getCPI(),n=[];if(o)n.push(o);if(e&&e.model!==o){n.push(e.model)}if(!n.length)return;const s=()=>e&&e.model?e.model:o,a=t=>e&&e.row?e.row:t.getFirstRow(),r=()=>{const e=s(),o=a(e);return o[t]};let l=false;n.forEach(e=>{["loaded","saved","cancelled"].forEach(t=>this.storeSubscription(e.subscribe(t,()=>{const e=this.get("editor"),t=this.get("value"),o=r();if(e&&t!==o){l=true;i.setValue(o)}})))});const c=r();i.setValue(c||"");this.subscribeChange("value",e=>{const o=r(),i=s(),n=a(i);if(!l&&o!==e){i.updateRow(n,{[t]:e})}l=false})},setEditorFormat(){const e=this.get("editor");e&&e.session.setMode("ace/mode/".concat(this.get("format")))},setEditorMode(){const{disabled:e,editor:t,mode:o}=this.getState(),i=e===true||o==="readonly";t&&t.setReadOnly(i)},getValue(){return this.get("value")},setValue(e){const t=this.get("editor");t&&t.setValue(e,-1)},insertValue(e){const t=this.get("editor");t&&t.insert(e)}}}));var Dt={getStyleSettings(){return{backgroundColor:null,labels:{color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:{label:"Font Size",value:"@tk.fontSize.body"},fontWeight:{label:"Font Weight",value:"@tk.fontWeight.regular"}},selectSpacing:"@tk.spacing.s2",date:{disabled:{opacity:null}},spacingBetweenRows:"@tk.spacing.s0_5",bottomButtingSpacing:"@tk.spacing.s1"}},getStyleSettingsVariantsChildren(){return{skuid__button:{date:"circular",todayButton:"default"}}},getStyles(e){return{datepicker:{backgroundColor:e.backgroundColor},weekday:{textAlign:"center"},"datepicker__top-row":{display:"flex",color:e.labels.color,fontSize:e.labels.fontSize,fontWeight:e.labels.fontWeight},datepicker__table:{borderSpacing:0},"top-row__current-month-year":{flex:1,display:"flex",textAlign:"center"},"top-row__current-month-year__text":{margin:"auto"},"top-row__current-month-year__selects":{display:"flex",marginBottom:e.selectSpacing},"top-row__current-month-year__spacer":{width:e.selectSpacing,height:"100%",display:"block"},datepicker__day:{flex:"1"},"datepicker__day--disabled":{opacity:e.date.disabled.opacity},"datepicker__day--other-month":{},datepicker__table__row:{display:"flex",marginTop:e.spacingBetweenRows},"datepicker__table__row--rtl":{flexDirection:"row-reverse"},"bottom-buttons":{marginTop:e.bottomButtingSpacing}}}};var Mt={attributes:{clickCloseExceptionsSelector:{type:"string"},disabledDays:{type:"string",default:""},currentMonth:{type:"date"},minDate:{type:"date"},maxDate:{type:"date"},value:{type:"date"},disabled:{type:"boolean",default:false},showMonthYearPicker:{type:"boolean"},showYearPicker:{type:"boolean"},yearPickerMin:{type:"string",default:"c-10"},yearPickerMax:{type:"string",default:"c+10"},showTodayButton:{type:"boolean"}},nodes:{disabledDates:{type:"array",childNode:{date:{type:"node",attributes:{date:{type:"date"}}}}}},access:{cpi:{public:["isDateDisabled","getVisibleDayButtons","nextMonth","prevMonth","toggle"]}}};const{h:At,moment:Vt,$L:Ft}=Object(n["d"])(),Lt=e=>n["c"].settings.get("userLocale",e),Bt=(e,t)=>{return Array(t-e+1).fill().map((t,o)=>e+o)};n["a"].register("skuid__datepicker",Object.assign({},Dt,{schema:Mt,init(e,t,o){const i=e.shortcut("set"),n=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/date",icon:"sk-webicon-ink:chevron-small-right"}),s=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/date",icon:"sk-webicon-ink:chevron-small-left"}),a=[];let r=[],l;s.subscribe("click",o.prevMonth);n.subscribe("click",o.nextMonth);for(let t=0;t<49;t++){l=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/date",label:"",onClick:o.onDayClick});r.push(l);if((t+1)%7===0){a.push(r);r=[]}}if(t.showMonthYearPicker){const n=e.createChildComponent({componentType:"skuid__select",value:t.value.month(),options:Vt.localeData().monthsShort().map((e,t)=>({label:e,value:t}))});const s=e.createChildComponent({componentType:"skuid__select",value:t.value.year(),optionGroups:o.getYearOptionGroups(t.value)});n.subscribeChange("value",t=>{e.set("currentMonth",e.get("currentMonth").month(t));o.updateMonth()});s.subscribeChange("value",t=>{e.set("currentMonth",e.get("currentMonth").year(t));o.updateMonth()});i({yearPicker:s,monthPicker:n})}if(t.showTodayButton){i({todayButton:e.createChildComponent({componentType:"skuid__button",label:Ft("Datepicker_CurrentText"),styleSettingsVariant:"@parent/todayButton",onClick:()=>e.set("value",Vt())})})}e.subscribeChange("value",e=>{const{yearPicker:n,monthPicker:s}=this.getState();i("currentMonth",e);if(n){n.set({value:e.year(),optionGroups:o.getYearOptionGroups(e)});s.set("value",t.value.month())}});e.subscribeChange("value",o.updateSelectedDay);["disabledDays","disabledDates","currentMonth"].forEach(t=>e.subscribeChange(t,o.updateMonth));i({month:a,buttonNextInstance:n,buttonPrevInstance:s,currentMonth:Vt(t.value||undefined),latestAvailableDate:undefined});e._getCPI().updateMonth()},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return At("div",{key:e,classes:t({datepicker:true})},[At("div",{key:"top-row",class:t("datepicker__top-row")},[o.buttonPrevInstance.renderVDom(),At("div",{key:"current month year",class:t("top-row__current-month-year")},[i.renderMonthYear()]),o.buttonNextInstance.renderVDom()]),At("div",{key:"table",class:t("datepicker__table")},[At("div",{key:"table rows",classes:t({datepicker__table__row:true,"datepicker__table__row--rtl":Lt("isRTL")})},o.weekDays.map(e=>At("span",{key:e,class:t(["weekday","datepicker__day"])},[e]))),...o.month.map(e=>(e[0].get("value")||e[6].get("value"))&&At("div",{key:e,classes:t({datepicker__table__row:true,"datepicker__table__row--rtl":Lt("isRTL")})},e.map(e=>At("span",{key:e,classes:t({datepicker__day:true,"datepicker__day--disabled":e.get("disabled"),"datepicker__day--other-month":!e.get("value")})},[e.renderVDom()]))))]),!!o.todayButton&&At("div",{key:"bottom-buttons",class:t("bottom-buttons")},[o.todayButton.renderVDom()])])},cpi:{nextMonth(){const e=Lt("isRTL")?"subtract":"add";this.set("currentMonth",this.get("currentMonth")[e](1,"months"));this._getCPI().updateMonth()},prevMonth(){const e=Lt("isRTL")?"add":"subtract";this.set("currentMonth",this.get("currentMonth")[e](1,"months"));this._getCPI().updateMonth()},isDateDisabled(e){const t=this.getState(),o=t.minDate&&e.isBefore(t.minDate,"day"),i=t.maxDate&&e.isAfter(t.maxDate,"day"),n=t.disabledDays&&t.disabledDays.indexOf(e.day())>-1,s=(t.disabledDates||[]).reduce((t,o)=>e.isSame(o.date,"day")||t,false);return o||i||s||n},getVisibleDayButtons(){return this.get("month").reduce((e,t)=>e.concat(t.filter(e=>e.get("label"))),[])},updateMonth(){const e=this.getState(),t=this._getCPI(),o=e.currentMonth,i=n["c"].settings.get("userLocale","firstDay"),s=Vt().year(o.year()).month(o.month()).date(1),a=s.day();let{month:r,monthPicker:l,yearPicker:c}=e;if(l){l.set("value",o.month());c.set("value",o.year())}e.month.forEach((e,i)=>{e.forEach((e,n)=>{const s=i*7+n+1-a,r=Vt(o).date(s);if(r.isSame(o,"month")){e.set({label:"".concat(r.date()),disabled:t.isDateDisabled(r),value:Vt().year(o.year()).month(o.month()).date(s)})}else{e.set({label:"",disabled:true,value:undefined})}})});let d=[];for(let e=0;e<7;e++){if(Lt("dayNamesMin").join("")==="SuMoTuWeThFrSa"){d.push(Vt().day(e).format("dd")[0])}else{d.push(Vt().day(e).format("dd"))}}for(let e=0;e<i;e++){d.push(d[0]);d=d.slice(1)}if(a<i){let e=r[r.length-1];r=r.slice(0,r.length-1);r.unshift(e)}if(i>0){for(let e=0;e<r.length;e++){let t=r[e];for(let e=0;e<t.length-1;e++){const o=(e+i)%7;t[e].set({label:t[o].get("label"),disabled:t[o].get("disabled"),value:t[o].get("value")})}if(e<r.length-1){for(let o=1;o<=i;o++){const n=r[e+1][i-o];t[t.length-o].set({label:n.get("label"),disabled:n.get("disabled"),value:n.get("value")})}}}}if(Lt("isRTL")){e.buttonNextInstance.set("disabled",e.minDate?o.isSameOrBefore(e.minDate,"month"):false);e.buttonPrevInstance.set("disabled",e.maxDate?o.isSameOrAfter(e.maxDate,"month"):false)}else{e.buttonPrevInstance.set("disabled",e.minDate?o.isSameOrBefore(e.minDate,"month"):false);e.buttonNextInstance.set("disabled",e.maxDate?o.isSameOrAfter(e.maxDate,"month"):false)}this.set({_topRowLabel:s.format("MMM YYYY"),firstOfMonthDay:s,weekDays:d,month:r});this._getCPI().updateSelectedDay()},updateSelectedDay(){const e=this.getState();e.month.forEach(t=>{t.forEach(t=>{const o=t.get("value");t.set("selected",o&&e.value&&o.isSame(e.value,"day"))})})},onDayClick(e,t){const o=t.get("value");this.set("value",o);this.publish("dayselected",o)},renderMonthYear(){const{showMonthYearPicker:e,monthPicker:t,yearPicker:o,_topRowLabel:i}=this.getState(),n=this.shortcut("getStyledClasses");if(!e){return At("div",{class:n("top-row__current-month-year__text")},[i])}return At("div",{class:n("top-row__current-month-year__selects")},[At("div",{class:n("top-row__current-month-year__spacer")}),t.renderVDom(),At("div",{class:n("top-row__current-month-year__spacer")}),o.renderVDom(),At("div",{class:n("top-row__current-month-year__spacer")})])},getYearOptionGroups(e){const{yearPickerMin:t,yearPickerMax:o}=this.getState();const i=t=>{const o=t.includes("c")?e.year():Vt().year();return o+parseInt(t.replace("c",""))};return[{options:Bt(i(t),i(o)).map(e=>({label:e+"",value:e}))}]}}}));var zt={getStyleSettings(){return{dateSpacing:"@tk.spacing.s1",hourMinuteSpacing:{label:"Hour/Minute Spacing",value:"@tk.spacing.s0_5"},amPmSpacing:{label:"AM/PM Spacing",value:"@tk.spacing.s0_5"}}},getStyleSettingsVariantsChildren(){return{skuid__inputText:{input:"default"},skuid__select:{select:"default"}}},getStyles(e){return{"date-time":{display:"grid",gridTemplateColumns:"auto min-content min-content min-content min-content",alignItems:"center",width:"100%"},date:{flex:"1",marginRight:e.dateSpacing},hour:{display:"block",marginRight:e.hourMinuteSpacing},minute:{marginLeft:e.hourMinuteSpacing},"am-pm":{marginLeft:e.amPmSpacing}}}};var Nt={attributes:Object.assign({},f.attributes,{minuteIncrement:{type:"picklist",default:"5",options:["1","5","10","15","20","30"]}}),nodes:f.nodes,properties:f.properties,access:{cpi:{public:["focus"]}}};const{h:jt}=Object(n["d"])(),Ht=(e,t)=>("0"+e).substr(-t);n["a"].register("skuid__datetime",Object.assign({},zt,{schema:Nt,init(e,t,o){const{inputId:i,value:s,minuteIncrement:a,tabIndex:r,placeholder:l,describedBy:c}=t,d=n["c"].settings.get("userLocale","timeFormat"),u=d.match(/h|H|K/),p=d.match(/(HH)|(KK)|(hh)|(kk)/),g=d.match(/(mm)/),h=d.match(/H|k/),b=d.match(/a/),f=s&&n["c"].moment.tz(s,n["c"].utils.userInfo.timeZone),m=f&&f.hour(),y=m>=12,C=m===0?12:m;e.set({timeFormat:d,zeroIndexHour:u,paddedHours:p,paddedMinutes:g,twentyFourHour:h});let k=e.createChildComponent({componentType:"skuid__inputText",type:"date",iconRight:"sk-webicon-ink:monthly-view",styleSettingsVariant:"@parent/input",uniqueId:n["c"].utils.generateUniqueId(),inputId:i,value:f,tabIndex:r,placeholder:l,describedBy:c}),S=e.createChildComponent({componentType:"skuid__select",styleSettingsVariant:"@parent/select",options:Wt(e),value:C&&(C>12?C-12:C)||8,tabIndex:r}),w=e.createChildComponent({componentType:"skuid__select",styleSettingsVariant:"@parent/select",options:Ut(e,Number(a)),value:f&&f.minute(),tabIndex:r});k.subscribeChange("value",o.setValue);S.subscribeChange("value",o.setValue);w.subscribeChange("value",o.setValue);e.bind("describedBy",k);k.subscribe("focus",()=>e.publish("focus"));let _;if(b){_=e.createChildComponent({componentType:"skuid__select",styleSettingsVariant:"@parent/select",tabIndex:r,options:[{value:"am"},{value:"pm"}],value:y?"pm":"am"});_.subscribeChange("value",o.setValue);e.set({amPmSelectInstance:_})}[k,S,w,_].forEach(t=>{if(!t)return;t.subscribe("focus",()=>e.publish("focus"));t.subscribe("blur",()=>!t.getElement().contains(document.activeElement)&&e.publish("blur"));e.bind("disabled",t)});e.subscribeChange("value",o.onValueChange);e.set({dateInputInstance:k,hoursSelectInstance:S,minutesSelectInstance:w,_updateInputs:true})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{dateInputInstance:o,hoursSelectInstance:i,minutesSelectInstance:n,amPmSelectInstance:s}=e.getState();return jt("div",{key:e,class:t("date-time")},[jt("div",{class:t("date")},[o.renderVDom()]),jt("div",{class:t("hour")},[i.renderVDom()]),jt("div",[":"]),jt("div",{class:t("minute")},[n.renderVDom()]),s?jt("div",{class:t("am-pm")},[s.renderVDom()]):undefined])},cpi:{setValue(){let{dateInputInstance:e,hoursSelectInstance:t,minutesSelectInstance:o,amPmSelectInstance:i}=this.getState(),s=e.get("value");if(s){const e=n["c"].moment.tz(s,n["c"].utils.userInfo.timeZone),a=parseInt(t.get("value"),10),r=i&&i.get("value")==="pm"?12:0,l=parseInt(o.get("value"),10);e.hour(a+r);e.minute(l);this.set("_updateInputs",false);this.set("value",e.toISOString());this.set("_updateInputs",true)}},onValueChange(e){const{dateInputInstance:t,hoursSelectInstance:o,minutesSelectInstance:i,amPmSelectInstance:s,_updateInputs:a}=this.getState();if(!a)return;const r=n["c"].moment.tz(e,n["c"].utils.userInfo.timeZone),l=r.isValid(),c=l?r.format("YYYY-MM-DD"):"",d=l?r.hour():12,u=l?r.minute():0;t.set("value",c);if(s){let e=d>11;s.set("value",e?"pm":"am");o.set("value",d-(e?12:0))}else{o.set("value",d)}i.set("value",u)},focus(){this.get("dateInputInstance").getCPI().focus()},validate(){return this.get("dateInputInstance")._cpi.validate()}}}));function Wt(e){let t=12;const{twentyFourHour:o,zeroIndexHour:i,timeFormat:n,paddedHours:s}=e.getState();if(o){t=24}return Array.apply(null,{length:t}).map((e,t)=>{let o=t,a=t+(i?0:1);if(o===0&&n.indexOf("h")>-1){a=12}return{value:o,label:""+(s?Ht(a,2):a)}})}function Ut(e,t){let o=60/t;const{paddedMinutes:i}=e.getState();return Array.apply(null,{length:o}).map((e,o)=>{const n=o*t;return{value:n,label:i?Ht(n,2):n}})}var Gt=i(86);var qt=i(85);var Yt={getStyleSettingsVariants:()=>{return{default:{horizontalSpacing:"@tk.spacing.s2",verticalSpacing:"@tk.spacing.s2",moreActionsButtonColor:"@tk.utility.fontColor"}}},getStyleSettingsVariantsChildren(e){return{skuid__button:{kebab:{extends:"borderless",padding:0,color:e.moreActionsButtonColor}},skuid__text:{title:"large"},skuid__filterSet:{filterSet:"default"},skuid__buttonGroup:{massActions:"default",globalActions:"default"}}},getStyles(e){return{"list-header":{display:"flex",flexDirection:"column"},section:{display:"flex",flexWrap:"wrap"},"section--messages":{marginBottom:e.verticalSpacing},quadrant:{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"space-between"},"quadrant--right":{justifyContent:"space-between","& $quadrant__action-wrapper":{justifyContent:"flex-end"}},"quadrant__action-wrapper":{display:"flex",marginBottom:e.verticalSpacing,alignItems:"center","& > *":{marginRight:e.horizontalSpacing,"&:last-child":{marginRight:0}}}}}};var $t={getStyleSettingsVariants:()=>{return{default:{spacingTop:"@tk.spacing.s2",loadMoreHorizontalSpacing:"@tk.spacing.s2",rightSideHorizontalSpacing:"@tk.spacing.s4",textColor:"@palette.neutral.2"}}},getStyleSettingsVariantsChildren(){return{skuid__button:{loadMore:"default"},skuid__select:{pageSize:"default"},skuid__pagination:{pageIndices:"default"}}},getStyles(e){return{"list-footer":{display:"flex",flexWrap:"wrap-reverse",color:e.textColor,alignItems:"center"},"list-footer__item":{marginTop:e.spacingTop},"load-more-wrapper":{height:"100%",display:"flex",alignItems:"center"},"button-indices-wrapper":{marginLeft:e.rightSideHorizontalSpacing},"load-more__viewing-label":{marginRight:e.loadMoreHorizontalSpacing},"right-side":{display:"flex",alignItems:"flex-end",flexWrap:"wrap-reverse"},spacer:{flex:"1"},"@media (max-width: 480px)":{"button-indices-wrapper":{margin:"".concat(e.spacingTop," auto 0 auto")}}}}};var Kt={getStyleSettingsVariants(e,t){return{default:{card:{border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",padding:"@tk.spacing.s3 @tk.spacing.s2",background:null,shadow:null,hover:{border:null,background:null,shadow:null}},header:Yt.getStyleSettingsVariants(e,t).default,footer:$t.getStyleSettingsVariants(e,t).default,[H["o"]]:Object.assign({},Yt.getStyleSettingsVariantsChildren({},e,t),{},$t.getStyleSettingsVariantsChildren({},e,t))}}},getStyleSettingsVariantsChildren(e){return{skuid__listHeader:{deckHeader:Object.assign({},e.header,{[H["o"]]:e[H["o"]]})},skuid__listFooter:{deckFooter:Object.assign({},e.footer,{[H["o"]]:e[H["o"]]})}}},getStyles(e){return{deck:{position:"relative"},"cards-wrapper":{display:"flex",flexWrap:"wrap"},"--initial":{visibility:"hidden"},card:Object.assign({flex:"1 1",display:"flex",flexDirection:"column",justifyContent:"flex-start"},s(e.card.border),{borderRadius:e.card.borderRadius,padding:e.card.padding,background:e.card.background,boxShadow:e.card.shadow,"&:hover":Object.assign({},s(e.card.hover.border),{background:e.card.hover.background,boxShadow:e.card.hover.shadow})}),"card--clickable":{cursor:"pointer"},"card--record":{},"card--as-link":{textDecoration:"none !important"},"card--filler":{visibility:"hidden"}}}};var Xt=i(70);const Qt={type:"array",childNode:{searchField:{type:"node",attributes:{query:{type:"boolean",default:true},return:{type:"boolean",default:true},show:{type:"boolean"},field:{type:"string"},operator:{type:"picklist",default:"contains",options:["=","starts with","contains"]},label:{type:"string"}}}}};var Zt={type:"node",attributes:{enableSearch:{type:"boolean"},instantSearch:{type:"boolean"},instantFilters:{type:"boolean"},emptySearchBehavior:{type:"picklist",default:"query",options:["query","remove"]},searchConditionName:{type:"string"},searchMethod:{type:"picklist",default:"server",options:["server","client"]},searchPlaceholder:{type:"string"},soslFields:{type:"picklist",default:"Name Fields",options:["Name Fields","All Fields","Email Fields","Phone Fields","Sidebar Fields"]},useSOSL:{type:"boolean"},tokenizeSearch:{type:"boolean"}},nodes:{searchFields:Qt}};var Jt={attributes:{model:{type:"model"},columnGutter:{type:"csssize"},rowGutter:{type:"csssize"},pageSize:{type:"number",default:10},showPageSizeSelect:{type:"boolean",default:true},showSaveCancel:{type:"boolean",default:false},saveIcon:{type:"string"},cancelIcon:{type:"string"},title:{type:"string"},buttonPosition:{type:"picklist",default:"right",options:Object.keys(Xt["b"].BUTTON_POSITION)},minWidth:{type:"csssize",default:"350px"},verticalAlign:{type:"picklist",default:"top",options:Object.keys(Xt["b"].VERTICAL_ALIGN)},setMaxWidth:{type:"picklist",default:"auto",options:Object.keys(Xt["b"].SET_MAX_WIDTH)},maxWidth:{type:"csssize",default:"300px"},showLoadMore:{type:"boolean",default:true},showListHeader:{type:"boolean",default:true},showListFooter:{type:"boolean",default:true},resetPaginationOnQuery:{type:"boolean",default:true}},nodes:{filtering:Zt,filters:{type:"array",childNode:{skuid__filter:"skuid__filter"}}},properties:{actions:["actions","massActions"],components:true,interactions:true,conditions:true,renderConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["goToPage"]}}};const eo=n["c"].$,to=n["c"].utils;function oo(){return{isList:true,updateActions(){const e=this._getCPI();e.updateRowActionButtonGroups();e.updateMassActionComponents()},updateRowActionButtonGroups(){const{rowActions:e,model:t,rowActionsButtonGroups:o,uiPaginatedRows:i}=this.getState(),n=!!(e&&e.children().length),s=(t,o)=>this.createChildComponent({_:{node:e,index:o},componentType:"skuid__buttonGroup",uniqueId:this.getId()+"__row-actions",displayType:e.children().length>2?"combo":"attached",styleSettingsVariant:"@parent/rowActions",context:t,buttons:Array.prototype.map.call(e.children().clone(),e=>{e=eo(e);return{icon:e.attr("icon"),iconPosition:e.attr("iconPosition")||"left",label:e.attr("label"),actions:e.attr("type")==="multi"?e.children("actions").first():to.makeXMLDoc("<actions/>").append(e),renderConditions:e.children("renderConditions").first(),tooltip:e.children("tooltip").first(),tabIndex:"-1",context:t}})});if(n){let e=i.visibleRows;let n=o||[];let a=0,r;for(;a<e.length;a++){r={component:this,model:t,row:t.getRowById(e[a].recordId)};if(!n[a]){n[a]=s(r,a)}else{n[a].set("context",r)}}this.set("rowActionsButtonGroups",n)}},updateMassActionComponents(){const{hasMassActions:e,model:t,massActionsCheckboxes:o,uiPaginatedRows:i,uniqueId:n}=this.getState(),s=this,a=this._getCPI(),r=e=>{const o=this.createChildComponent({componentType:"skuid__checkbox",styleSettingsVariant:"@parent/massActionCheckboxes",tabIndex:"-1",ariaLabel:"Select row",uniqueId:"".concat(n,"__mass-action-checkbox--").concat(e),onClick:e=>{const t=e&&e.shiftKey;const i=s.get("lastSelectedCheckbox");if(i&&t){const e=this.get("massActionsCheckboxes"),t=e.findIndex(e=>e.id()===i.id()),n=e.findIndex(e=>e.id()===o.id()),s=t<n?t:n,a=t<n?n:t,r=o.get("checked");for(let t=s;t<=a;t++){e[t].set("checked",r)}}s.set("lastSelectedCheckbox",o)}});o.subscribeChange("checked",e=>{t.getRowById(o.get("value"));o.get("value").toggleSelected(e);a.updateMassActionButtonGroup();a.updateSummaries&&a.updateSummaries()});a.getMassActionCheckboxHead()._getCPI().addChildCheckbox(o);return o};if(!e)return;let l=i.visibleRows;let c=o||[];for(let e=0;e<l.length;e++){if(!c[e]){c[e]=r(e)}c[e].set({value:l[e],checked:!!l[e].selected})}a.getMassActionCheckboxHead().set("onClick",()=>{s.unset("lastSelectedCheckbox")});this.set("massActionsCheckboxes",c);this._getCPI().updateMassActionButtonGroup()},getListHeaderComponent(e){const t=this.get("listHeaderInstance");return t&&t.get(e)},getHeadingInstance(){return this._getCPI().getListHeaderComponent("headingInstance")},getFilterSetInstance(){return this._getCPI().getListHeaderComponent("filterSetInstance")},getSaveCancelButtonGroup(){return this._getCPI().getListHeaderComponent("saveCancelButtonGroup")},getGlobalActionsButtonGroup(){return this._getCPI().getListHeaderComponent("globalActionsButtonGroup")},getMassActionsButtonGroup(){return this._getCPI().getListHeaderComponent("massActionsButtonGroup")},getMassActionCheckboxHead(){return this.get("massActionCheckboxHead")},addMassActionCheckboxHeadListener(){const e=this._getCPI();e.getMassActionCheckboxHead().subscribeChange("checked",e.updateMassActionButtonGroup)},updateMassActionButtonGroup(){const e=this.get("model"),t=this._getCPI(),o=t.getMassActionCheckboxHead(),i=t.getMassActionsButtonGroup();if(!i)return;i.set({context:{component:this,model:e,rows:t.getSelectedRecords()}});i.getChildComponentsOfType("skuid__button").forEach(e=>e.set("disabled",!o.get("checked")))},getSelectedTableRows(){const e=this.get("uiPaginatedRows");return e.uiRows.filter(e=>e.selected)},getSelectedRecords(){const e=this.get("model");return this._getCPI().getSelectedTableRows().map(t=>e.getRowById(t.recordId))},getActiveRecords(){const{model:e,conditions:t,context:o}=this.getState();return e.getRows(t,o)},resolveModelChanges(e={}){if(!this.registered)return;if(this.get("resolveModelChangesPromise")){return this.get("resolveModelChangesPromise")}const t=this._getCPI(),o=()=>{t.populateRowContents(e);if(this.type()!=="skuid__deck"){this.type()==="skuid__table"&&t.updateSummaries();t.updateActions();(this.get("massActionsCheckboxes")||[]).forEach(e=>e.set("checked",false))}const o=this.get("model");this.set("modelHasChanged",o&&o.hasChanged);this.unset("resolveModelChangesPromise");this.publish("modelChangesResolved")};o();return to.resolve()},goToPage(e){let{uiPaginatedRows:t,pageIndex:o}=this.getState();switch(e){case"first":this.set("pageIndex",0);break;case"last":this.set("pageIndex",t.numPages-1);break;case"previous":this.set("pageIndex",Math.max(0,o-1));break;case"next":this.set("pageIndex",Math.min(o+1,t.numPages-1));break}}}}const io=(e,t)=>{t.cpi.goToPage(e.attr("targetPage"))};const{h:no,div:so,utils:ao}=Object(n["d"])();n["a"].register("skuid__deck",Object.assign({},Kt,{schema:Jt,init(e,t,o){const{model:i,conditions:s,context:a,interactions:r}=t,l=e.shortcut("set"),c=e.shortcut("get"),d=!!(r&&r.find('[type="tap"]').length),u=()=>{const e=c("_cardWrapperElement");o.determineFiller(e)};if(!i){l("show",false);throw Error("Deck: Model is required.")}if(s){l({conditions:e.createConditionsFromXml(s,{context:a})})}if(z(r)){const e=N(r);l({renderAsLink:true,rawLinkUrl:e.url,target:e.target})}l("autoApplyInteractions",false);o.initListHeader();o.populateRowContents();o.initListFooter();const p=ao.debounce(o.resolveModelChanges,H["r"]);["cancelled","loaded","saved","row.created"].forEach(function(t){e.storeSubscription(i.subscribe(t,p))});e.storeSubscription(n["c"].events.subscribe("ui.resize",n["c"].utils.debounce(u,150)));l({_fillers:null,hasClickInteractions:d,uiBlockerInstance:e.createChildComponent({componentType:"skuid__uiBlocker",model:i,inContainer:true})})},renderVDom(e){const{_fillers:t,columnGutter:o,hasClickInteractions:i,listFooterInstance:n,listHeaderInstance:s,maxWidth:a,minWidth:r,renderAsLink:l,rowGutter:c,setMaxWidth:d,showListFooter:u,showListHeader:p,target:g,uiBlockerInstance:h,uiPaginatedRows:b,verticalAlign:f}=e.getState(),m=e.shortcut("getStyledClasses"),y=e._getCPI(),C=e=>so({key:"filler-".concat(e),classes:m({card:true,"card--filler":true}),styles:{marginLeft:o,marginBottom:c}}),k=[];for(let e=0;e<t||0;e++){k.push(C(e))}return so({key:e,class:m("deck"),afterCreate:y.afterCreateDeck},[so({key:"ui-blocker"},[h.renderVDom()]),p&&s&&s.renderVDom(),so({key:"cards-wrapper",classes:m({"cards-wrapper":true,"--initial":t===null}),afterCreate:y.afterCreateCardWrapper,afterUpdate:y.determineFiller,styles:{marginTop:"0",marginBottom:c?"-".concat(c):"0",marginLeft:o?"-".concat(o):"0",marginRight:o?"-".concat(o):"0",width:"calc(100% + ".concat(o,")")}},[b.visibleRows.map(t=>no(l?"a":"div",{key:"card-".concat(t.recordId),"data-key":"card-".concat(t.recordId),classes:m({card:true,"card--clickable":i,"card--record":true,"card--as-link":l}),afterCreate:y.applyInteraction.bind(e,t),styles:{justifyContent:Xt["a"][f],minWidth:r,maxWidth:d==="manual"?a:null,marginLeft:o,marginBottom:c},href:l&&t.options&&t.options.url,target:l&&g},t.components.map(e=>e.renderVDom()))),...k]),u&&n&&so([n.renderVDom()])])},cpi:Object.assign({},oo(),{applyInteraction(e,t){const{interactions:o,model:i,renderAsLink:s}=this.getState();if(!o||!o.length)return;n["c"].interactions.disableInteractions(n["c"].$(t));n["c"].interactions.enableInteractions(n["c"].$(t),{interactionsDef:n["c"].$(o),component:this,context:{model:i,row:i.getRowById(e.recordId)},renderAsLink:s})},afterCreateCardWrapper(e){const t=this._getCPI();this.set("_cardWrapperElement",e);if(!e.childNodes.length)return;this.delay().then(()=>t.determineFiller(e))},determineFiller(e){if(!e)return;const t=this.shortcut("getStyledClasses"),o=t("card--record"),i=e.getElementsByClassName(o),n=i.length,s=n>0?i[0].offsetTop:0;let a,r=0,l=0,c=0;for(let e=1;e<n;e++){a=i[e];if(a.offsetTop!==s){r=e;break}}l=n%r;c=l>0?r-l:0;this.set("_fillers",c)},populateRowContents(e={}){const{components:t,model:o,pageSize:i,rawLinkUrl:s,resetPaginationOnQuery:a,uiPaginatedRows:r}=this.getState(),l=this._getCPI();if(r){r.uiRows.forEach(e=>{e.components&&e.components.forEach(e=>this.unregisterChildComponent(e))})}let c=l.getActiveRecords().map(i=>new qt["a"]({recordId:o.getRowId(i),components:this.createChildComponents(t,null,{model:o,row:i,editModeForNewItems:e.editModeForNewItems}),options:{url:n["c"].utils.mergeAsTextInContext(s,{model:o,row:i})}}));this.set("uiPaginatedRows",new Gt["a"](c,r?r.pageSize:i,{pageIndex:r&&!a?r.pageIndex:0}))},initListHeader(){const{model:e,title:t,context:o,showSaveCancel:i,saveIcon:n,cancelIcon:s,filtering:a,filters:r,showListHeader:l,listHeaderInstance:c}=this.getState();if(!l||c)return;const d=this.createChildComponent({componentType:"skuid__listHeader",styleSettingsVariant:"@parent/deckHeader",model:e,context:o,showTitle:true,title:t,showSaveCancel:i,saveIcon:n,cancelIcon:s,filtering:a,filters:r});this.set("listHeaderInstance",d)},initListFooter(){const{showPageSizeSelect:e,model:t,showLoadMore:o,listFooterInstance:i,showListFooter:n}=this.getState();if(!n||i)return;const s=this.createChildComponent({componentType:"skuid__listFooter",styleSettingsVariant:"@parent/deckFooter",uiPaginatedRows:this.get("uiPaginatedRows"),showPageSizeSelect:e,model:t,showLoadMore:o});["uiPaginatedRows","pageIndex","pageSize"].forEach(e=>this.bind(e,s));this.set("listFooterInstance",s)}}),actions:{goToPage:io}}));const ro=H["t"]?0:300;function lo(){return{DIALOG_TRANSITION:ro}}var co={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{_maxWidth:"100vw",_maxHeight:"calc(100% - 80px)",_position:"fixed",backgroundColor:"@tk.utility.backgroundColor",width:t(40),height:null,overflow:{type:"OVERFLOWY",value:null},header:{backgroundColor:null,padding:"@tk.spacing.s2",titleColor:"@tk.utility.fontColor",fontSize:{label:"Title Size",value:"@tk.fontSize.medium"},fontWeight:{label:"Title Weight",value:"@tk.fontWeight.bold"},textAlign:{label:"Title Alignment",value:null},separator:{size:{type:"borderSize",value:null},style:{type:"borderStyle",value:null},color:null}},content:{padding:"0 @tk.spacing.s2"},border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.heavy",closeIcon:{color:"@tk.utility.fontColor",position:{type:"LEFTRIGHTALIGN",value:"right"},margin:"@tk.spacing.s2"},noButtonSpacing:{label:"Bottom spacing (without buttons)",value:"@tk.spacing.s2"},footer:{backgroundColor:null,padding:"@tk.spacing.s2",separator:{size:{type:"borderSize",value:"@tk.borderSize.primary"},style:{type:"borderStyle",value:"@tk.borderStyle.primary"},color:"@tk.utility.borderColor"}}}},getStyleSettingsVariantsChildren(){return{skuid__buttonSet:{buttonSet:"default"}}},getStyles(e){return{dialog:Object.assign({position:e._position,transition:"transform ".concat(ro,"ms ease"),display:"flex",flexDirection:"column",backgroundColor:e.backgroundColor,boxShadow:e.boxShadow,height:e.height,maxHeight:e._maxHeight,width:e.width,maxWidth:e._maxWidth},s(e.border),{borderRadius:e.borderRadius,opacity:"0",overflow:e.overflow}),"dialog--for-theming":{position:"relative",margin:"auto"},"dialog--full-screen":{maxHeight:"100vh",width:"100vw",height:"100vh",margin:0,borderRadius:0},"dialog--fade-in":{opacity:"1"},dialog__header:{display:"flex",flex:"0 0 auto",backgroundColor:e.header.backgroundColor,padding:e.header.padding,borderRadius:a(e.borderRadius,s(e.border)),borderBottomStyle:e.header.separator.style,borderBottomWidth:e.header.separator.size,borderBottomColor:e.header.separator.color},"dialog__header--heading":{flexGrow:"1",flexShrink:"1"},"dialog__header--close":{position:"absolute",cursor:"pointer",top:"0",right:e.closeIcon.position==="right"?"0":null,left:e.closeIcon.position==="left"?"0":null,margin:e.closeIcon.margin,color:e.closeIcon.color},dialog__contents:{flex:"1 1 auto",overflowY:"auto",padding:e.content.padding},"dialog__contents--no-buttons":{paddingBottom:e.noButtonSpacing},dialog__buttons:{flex:"0 0 auto",backgroundColor:e.footer.backgroundColor,padding:e.footer.padding,borderTop:"".concat(e.footer.separator.size," ").concat(e.footer.separator.style," ").concat(e.footer.separator.color)},"header--title":{color:e.header.titleColor,fontSize:e.header.fontSize,fontWeight:e.header.fontWeight,textAlign:e.header.textAlign}}}};var uo={attributes:{buttonsJustification:{type:"picklist",default:"left",options:["left","center","right"]},closeIcon:{type:"string",default:"sk-webicon-ink:close"},hideCloseIcon:{type:"boolean",default:false},model:{type:"model"},onClose:{type:"function"},positionX:{type:"picklist",default:"center",options:["none","left","center","right"]},positionY:{type:"picklist",default:"center",options:["none","top","center","bottom"]},title:{type:"string"},transition:{type:"picklist",default:"expand",options:["slideDown","slideUp","slideRight","slideLeft","expand","fadeIn"]},width:{type:"string"},height:{type:"string"},fullScreen:{type:"boolean",default:false},showHeader:{type:"boolean",default:true},showCloseIcon:{type:"boolean",default:true},showFooter:{type:"boolean",default:true},_forTheming:{type:"boolean",default:false}},nodes:{buttons:{type:"array",childNode:{skuid__button:"skuid__button"}}},properties:{actions:["actions","afterCloseActions"],components:true,context:true,renderConditions:true,enableConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["close"]}}};const{div:po,utils:go}=Object(n["d"])(),ho=go.increaseAndGetZIndex,{DIALOG_TRANSITION:bo}=lo();n["a"].register("skuid__dialog",Object.assign({},co,{schema:uo,init(e,t){const o=e.shortcut("set"),i=e.shortcut("get"),{buttons:s,buttonsJustification:a,components:r,model:l,context:c,closeIcon:d}=t;o({_zIndex:ho(),closeIconUrl:n["c"].ui.getIconURLFromHandle(d),showFadeInClass:false,_componentInstances:e.createChildComponents(r,null,c)});e.registerMergeAttribute("title","displayTitle");e.subscribeChange("components",t=>{(i("_componentInstances")||[]).forEach(e=>e.unregister());o("_componentInstances",e.createChildComponents(t,null,c))});const u=t=>{let n=i("buttonSetInstance");n&&n.unregister();n=t&&t.length?e.createChildComponent({componentType:"skuid__buttonSet",styleSettingsVariant:"@parent/buttonSet",groups:[{buttons:t}],model:l,context:c,position:a}):null;o({buttonSetInstance:n})};u(s);e.subscribeChange("buttons",u);e.delay(n["c"].utils.runningTests()?0:5).then(()=>{o({showFadeInClass:true})})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{fullScreen:o,showFadeInClass:i,height:n,width:s,closeIconUrl:a,hideCloseIcon:r,displayTitle:l,buttonSetInstance:c,showCloseIcon:d,showHeader:u,showFooter:g,_componentInstances:h,_forTheming:b,_zIndex:f}=e.getState(),m=e._getCPI();return po({key:e,afterUpdate:m.onUpdate,classes:t({dialog:true,"dialog--full-screen":o,"dialog--fade-in":i,"dialog--for-theming":b}),role:"dialog","aria-modal":"true","aria-labelledby":"todo",styles:Object.assign({},m.getPositioningStyles(),{zIndex:f.toString(),width:!o&&s,height:!o&&n})},[d&&!r&&po({key:"dialog__header--close",class:t("dialog__header--close"),onclick:!b?m.close:null},[Object(p["a"])(a)]),u&&po({key:"dialog-header",class:t("dialog__header")},[po({key:"dialog__header--heading",class:t("dialog__header--heading")},[po({key:"title",class:t("header--title")},[l])])]),po({key:"dialog__contents",classes:t({dialog__contents:true,"dialog__contents--no-buttons":g&&!c})},h.map(e=>{if(e.renderVDom)return e.renderVDom();return e.element[0]})),g&&c&&po({key:"dialog__buttons",classes:t({dialog__buttons:true})},[c.renderVDom()])])},cpi:{getPositioningStyles(){const e=this.getState(),t=this.getThemeSettings(),{spacing:o}=t.getShortcuts(),i={transform:""};switch(e.positionX){case"left":i.left=o("s1");break;case"right":i.right=o("s1");break;case"none":break;default:i.left="50%";i.transform+="translateX(-50%) ";break}switch(e.positionY){case"top":i.top=o("s1");break;case"bottom":i.bottom=o("s1");break;case"none":break;default:i.top="50%";i.transform+="translateY(-50%) ";break}switch(e.transition){case"expand":i.transform+=e.showFadeInClass?"scale(1.0)":"scale(0.7)";break;case"slideUp":i.transform+=e.showFadeInClass?"translate(0, 0)":"translate(0, 100%)";break}return i},close(){const{context:e,afterCloseActions:t,onClose:o,_isClosing:i}=this.getState();if(i)return;this.set({showFadeInClass:false,_isClosing:true});if(o)o();if(t&&t.length){n["c"].actions.runActionsNode(t,this,e)}return this.delay(bo).then(()=>this.unregister())},onUpdate(){n["c"].events.publish("ui.dialogUpdated",[this])}}}));var fo={getStyleSettings(){return{}},getStyles:()=>({grid__division:{},masthead__division:{display:"flex",height:"100%",alignItems:"center"},"--full-height":{height:"100%",overflowY:"auto"}})};var mo={attributes:{width:{type:"string"},maxWidth:{type:"string"},minWidth:{type:"string"},alignSelf:{type:"picklist",default:"flex-start",options:["auto","flex-start","center","flex-end","stretch","baseline"]},ratio:{type:"string"},flex:{type:"string",default:"0"},type:{type:"string"},fullHeight:{type:"boolean",default:false},rowGutter:{type:"string"},columnGutter:{type:"string"},background:{type:"text"},uniqueId:{}},properties:{components:true,renderConditions:true,styles:true}};const{div:yo}=Object(n["d"])();n["a"].register("skuid__division",Object.assign({},fo,{schema:mo,init(e,t,o){const i=e.getThemeSettings();e.set({_columnGutter:i.spacing(t.columnGutter),_rowGutter:i.spacing(t.rowGutter)});e.subscribeChange("columnGutter",t=>e.set("_columnGutter",i.spacing(t)));e.subscribeChange("rowGutter",t=>e.set("_rowGutter",i.spacing(t)));o.createComponents(t.components);e.subscribeChange("components",o.createComponents)},renderVDom(e){const t=e.shortcut("getStyledClasses"),{alignSelf:o,background:i=null,flex:n,fullHeight:s,maxWidth:a,minWidth:r,ratio:l,type:c,uniqueId:d,width:u,_columnGutter:p,_componentInstances:g,_rowGutter:h}=e.getState();return yo({key:e,id:d,classes:t({grid__division:!c,masthead__division:!!c,"--full-height":s}),styles:{flexGrow:"".concat(l||n),flexShrink:"".concat(l||n),flexBasis:"".concat(l==="0"?"auto":r||"auto"),width:r==="100%"?"100%":u,minWidth:r==="100%"?null:r,maxWidth:a,alignSelf:o,background:i,"margin-left":p,"margin-bottom":h}},g.map(e=>e.renderVDom()))},cpi:{createComponents(e=[]){const{_componentInstances:t=[],context:o}=this.getState();t.forEach(e=>this.unregisterChildComponent(e));this.set({_componentInstances:e.map(e=>{const t=this.createChildComponent(e,null,o);this.subscribeChange("context",e=>t.set("context",e));return t})})}}}));var Co={getStyleSettingsVariants:()=>{return{default:{}}},getStyles(){return{"dynamic-components-container":{position:"relative"}}}};const{h:ko}=Object(n["d"])();n["a"].register("skuid__dynamicComponentsContainer",Object.assign({schema:{}},Co,{init(){},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e._getCPI();return ko("div",{key:e,afterCreate:o.afterCreate,class:t("dynamic-components-container")})},cpi:{afterCreate(e){this.set("_element",e)},getContainer(){return this.get("_element")}}}));var So={getStyleSettingsVariants:()=>{return{default:{spaceBetween:"@tk.spacing.s2"}}},getStyles:e=>({"block-spacer":{width:"100%",height:e.spaceBetween,"&:last-child":{height:0}}})};var wo={attributes:{model:{type:"model",required:false}},nodes:{group:{type:"array",childNode:{skuid__messageBlock:"skuid__messageBlock"}}},properties:{renderConditions:true,renderconditions:true,styles:true}};const{div:_o}=Object(n["d"])();n["a"].register("skuid__messageArea",Object.assign({},So,{schema:wo,init(e,t,o){o.initMessageBlocks();e.subscribeChange("group",o.initMessageBlocks)},renderVDom(e){const{uniqueId:t,_messageBlocks:o}=e.getState();return _o({key:e,id:t},o.map((t,o)=>[t.renderVDom(),t.get("show")!==false&&_o({key:"spacer-"+o,class:e.getStyledClasses("block-spacer")})]))},cpi:{clearMessageBlocks(){const e=this.get("_messageBlocks");(e||[]).forEach(e=>this.unregisterChildComponent(e))},initMessageBlocks(){const e=this;const{group:t,model:o}=e.getState();e._getCPI().clearMessageBlocks();e.set({_messageBlocks:(t||[]).map((i,n)=>{if(i.showClose){i.onClose=function(){const t=e.get("group"),o=e.get("_messageBlocks"),i=(t||[]).findIndex(e=>e.id===this.getId()),n=(o||[]).findIndex(e=>e.getId()===this.getId());this.set("show",false);e.unregisterChildComponent(o[n]);t.splice(i,1);e.set("group",t);o.splice(n,1);e.set("_messageBlocks",o)}}let s=this.createChildComponent(Object.assign({},i,{componentType:"skuid__messageBlock",context:{model:o}}));t[n].id=s.getId();return s})})},showMessageBlock(e){const t=this.get("group")||[];this.set("group",t.concat(e))}},actions:{show(e,t){const{styles:o}=t.getState(),i=e.attr();t._getCPI().showMessageBlock({title:i.title,description:i.description,showClose:i.showClose,styleSettingsVariant:i.styleSettingsVariant,icon:i.icon,styles:o})},clear(e,t){t._getCPI().clearMessageBlocks();t.set("group",[])}}}));var Io={getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:{_icon:{margin:"@tk.spacing.s2",width:t(4)},_closeIcon:{top:"@tk.spacing.s2",right:"@tk.spacing.s2"},content:{margin:"@tk.spacing.s2 @tk.spacing.s2 @tk.spacing.s2 0",single:{margin:"".concat(t(2.6)," @tk.spacing.s2 ").concat(t(2.6)," 0")}},title:{color:null,fontWeight:"@tk.fontWeight.bold",lineHeight:"@tk.lineHeight.spacious"},description:{lineHeight:"@tk.lineHeight.spacious"},backgroundColor:null,border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary.-1",borderRadius:"@tk.borderRadius.primary",color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body",iconColor:{type:"color",label:"Icon Color",value:"@palette.primary.-1"}},primaryStrong:{backgroundColor:"@palette.primary.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.primary.3",iconColor:"@palette.primary.-1",color:"@palette.neutral.1"},success:{border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.success.-1",iconColor:"@palette.success.-1"},successStrong:{backgroundColor:"@palette.success.4",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.success.3",iconColor:"@palette.success.-1",color:"@palette.neutral.1"},warning:{border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.warning.-1",iconColor:"@palette.warning.-1"},warningStrong:{backgroundColor:"@palette.warning.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.warning.3",iconColor:"@palette.warning.-1",color:"@palette.neutral.1"},error:{border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error.-1",iconColor:"@palette.error.-1"},errorStrong:{backgroundColor:"@palette.error.3",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error.3",iconColor:"@palette.error.-1",color:"@palette.neutral.1"}}},getStyles:e=>({message:Object.assign({position:"relative",display:"flex",flex:"1",backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius}),"close-icon":{position:"absolute",right:e._closeIcon.right,top:e._closeIcon.top,opacity:"0.8",color:e.color,"&:hover":{cursor:"pointer",opacity:"1"}},message__icon:{flex:"0 0 auto",color:e.iconColor,margin:e._icon.margin,width:e._icon.width,"& svg":{height:e._icon.height,width:e._icon.width}},message__contents:{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"space-around",color:e.color,margin:e.content.margin},"message__contents-multi":{margin:e.content.margin},"message__contents-single":{margin:e.content.single.margin},"message__contents-title":{color:e.title.color,fontWeight:e.title.fontWeight,fontSize:e.fontSize,lineHeight:e.title.lineHeight},"message__contents-description":{whiteSpace:"pre-line",fontWeight:"regular",fontSize:e.fontSize,lineHeight:e.description.lineHeight}})};var vo={attributes:{allowHTML:{type:"boolean",default:true},icon:{type:"string"},title:{type:"string"},description:{type:"string"},closeIcon:{type:"string",default:"sk-webicon-ink:close"},showClose:{type:"boolean",default:false},onClose:{type:"function"}},properties:{conditions:true,renderConditions:true,enableConditions:true,styles:true,styleVariantConditions:true}};const{div:xo,$:To}=Object(n["d"])(),Oo=n["c"].ui.getIconURLFromHandle,Ro={default:"ink:info",success:"ink:success",warning:"ink:warning",error:"ink:warning"};n["a"].register("skuid__messageBlock",Object.assign({},Io,{schema:vo,init(e){e.registerMergeAttribute("title","_title");e.registerMergeAttribute("description","_description",{allowHTML:true})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e._getCPI(),{uniqueId:i,closeIcon:n,showClose:s,icon:a,_title:r,_description:l}=e.getState(),c=Oo(a||Ro[a]||Ro.default);return xo({key:e,id:i,classes:t({message:true})},[s&&xo({key:"close-icon",class:t("close-icon"),onclick:o.onClickClose},[Object(p["a"])(Oo(n))]),xo({key:"icon",class:t("message__icon")},[Object(p["a"])(c)]),xo({key:"contents",classes:t({message__contents:true,"message__contents-single":!r||!l,"message__contents-multi":!!r&&!!l})},[r&&xo({key:"title",class:t("message__contents-title")},[r]),l&&xo({key:"description",class:t("message__contents-description"),afterCreate:o.afterCreate,afterUpdate:o.afterCreate})])])},cpi:{afterCreate(e){const t=this.get("_description"),o=this.get("allowHTML")?t:To(n["c"].utils.encodeHTML(t)).text();To(e).empty().append(o)},onClickClose(){const e=this.getState();if(e.onClose){e.onClose.apply(this,arguments)}else{this.set("show",false)}}}}));var Eo={getStyleSettings(){return{color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",lineHeight:"@tk.lineHeight.spacious",verticalSpacing:"@tk.spacing.s1",spacingTopOnLeft:{label:"Spacing Top (when positioned left)",value:"@tk.spacing.s0_5"},inlineHelpText:{color:{label:"Text Color",value:"@palette.neutral.4"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",verticalSpacing:"@tk.spacing.s1"},inlineErrorMessage:{color:{label:"Error Text Color",value:"@palette.error.-1"},fontSize:"@tk.fontSize.body",spacing:"@tk.spacing.s1"},neccesityAddendum:{color:{label:"Text Color",value:"@palette.neutral.4"}},disabled:{opacity:"@tk.opacity.light"},warning:{color:"@palette.error.-1"},_iconSpacing:"@tk.spacing.s0_5"}},getStyles(e){return{label:{color:e.color,fontSize:e.fontSize,lineHeight:e.lineHeight,fontWeight:e.fontWeight,margin:e._margin},"label--disabled":{opacity:e.disabled.opacity},"label--with-margin":{marginBottom:e.verticalSpacing},"label--beside":{marginTop:e.spacingTopOnLeft},"label--with-warning":{color:e.warning.color},"necessity-addendum":{color:e.neccesityAddendum.color},"inline-help-text":{color:e.inlineHelpText.color,fontSize:e.inlineHelpText.fontSize,fontWeight:e.inlineHelpText.fontWeight,marginBottom:e.inlineHelpText.verticalSpacing},"warning-icon":{marginRight:e._iconSpacing},message:{color:e.inlineErrorMessage.color,fontSize:e.inlineErrorMessage.fontSize,marginBottom:e.inlineErrorMessage.spacing},"just-for-screen-readers":{fontSize:"0px",width:"1px",height:"1px",position:"absolute"}}}};var Po={getStyleSettingsVariants(e){return{default:{_readMinHeight:"@tk.spacing.s4",readMode:{color:{label:"Text Color",value:"@tk.utility.fontColor"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.regular"},changeModeIcon:{color:{label:"Icon Color",value:"@palette.neutral"},horizontalSpacing:"@tk.spacing.s1",hover:{color:{label:"Icon Color",value:"@palette.primary"}}},_outerText:{padding:"@tk.spacing.s1"},label:Eo.getStyleSettings(e)}}},getStyleSettingsVariantsChildren(e){return{skuid__autocomplete:{autocomplete:"default"},skuid__datepicker:{datepicker:"default"},skuid__datetime:{datetime:"default"},skuid__button:{editAction:"borderless"},skuid__buttonGroup:{buttonGroup:"default"},skuid__checkboxList:{checkboxList:"default"},skuid__checkbox:{checkbox:"default"},skuid__inputText:{inputText:"default"},skuid__inputTextArea:{textArea:"default"},skuid__labelInput:{label:Object.assign({},e.label,{},e.inlineErrorMessage?{inlineErrorMessage:e.inlineErrorMessage}:{})},skuid__radioList:{radioList:"default"},skuid__select:{select:"default"},skuid__slider:{slider:"default"},skuid__switch:{switch:"default"},skuid__tooltip:{disabledTooltip:"default"},skuid__valueStepper:{valueStepper:"default"}}},getStyles(e){return{field:{position:"relative"},"field--label-beside":{display:"flex",flexWrap:"wrap",alignItems:"start"},"flex-container":{display:"flex",alignItems:"center"},"flex-grow":{flex:"1"},"change-mode":{color:e.changeModeIcon.color,cursor:"pointer",marginLeft:e.changeModeIcon.horizontalSpacing,alignSelf:"flex-end","&:hover":{color:e.changeModeIcon.hover.color}},"flex-container--read-beside":{alignSelf:"center"},read:{display:"flex",alignItems:"center",whiteSpace:"pre-wrap",wordWrap:"break-word",overflowWrap:"break-word",color:e.readMode.color,fontFamily:e.readMode.fontFamily,lineHeight:e.readMode.lineHeight,fontSize:e.readMode.fontSize,fontWeight:e.readMode.fontWeight},"read--label-above":{minHeight:e._readMinHeight},"masked-message":{},"--justify-left":{justifyContent:"flex-start"},"--justify-center":{justifyContent:"center"},"--justify-right":{justifyContent:"flex-end"},"outer-text--left":{paddingRight:e._outerText.padding},"outer-text--right":{paddingLeft:e._outerText.padding},"outer-error-icon":{paddingRight:e._outerText.padding,color:e.label.inlineErrorMessage.color},"read--html-formatted--lightning":{lineHeight:1.5,overflowWrap:"break-word",wordWrap:"break-word",hyphens:"manual","& h1":{fontSize:"1.5rem",marginBottom:".75rem"},"& h2":{fontSize:"1.125rem",fontWeight:700,marginBottom:".75rem"},"& h3":{fontSize:"1.125rem",marginBottom:".75rem"},"& h4":{fontSize:".875rem",fontWeight:700,marginBottom:".75rem"},"& h5":{fontSize:".875rem",marginBottom:".75rem"},"& h6":{fontSize:".75rem",fontWeight:700,marginBottom:".75rem"},"& ul":{marginBottom:".75rem",marginLeft:"1.5rem",listStyle:"disc","& ul":{listStyle:"circle",marginBottom:0,"& ul":{listStyle:"square"}},"& ol":{marginLeft:"1.5rem",listStyle:"decimal",marginBottom:0}},"& ol":{marginBottom:".75rem",marginLeft:"1.5rem",listStyle:"decimal","& ol":{listStyle:"lower-alpha",marginBottom:0,"& ol":{listStyle:"lower-roman"}},"& ul":{marginLeft:"1.5rem",listStyle:"disc",marginBottom:0}},"& dl":{marginBottom:".75rem"},"& img":{marginBottom:".75rem"},"& blockquote":{margin:"2rem 1.5rem"},"& dd":{marginLeft:"2.5rem"},"& abbr[title]":{borderBottom:"1px dotted",cursor:"help"},"& acronym[title]":{borderBottom:"1px dotted",cursor:"help"},"& table":{overflowWrap:"normal",wordWrap:"normal",wordBreak:"normal",width:"auto",caption:{textAlign:"center"}},"& th":{padding:".5rem"},"& td":{padding:".5rem"},"& .sans-serif":{fontFamily:"sans-serif"},"& .courier":{fontFamily:"courier"},"& .verdana":{fontFamily:"verdana"},"& .tahoma":{fontFamily:"tahoma"},"& .garamond":{fontFamily:"garamond"},"& .serif":{fontFamily:"serif"},"& .ql-indent-1":{paddingLeft:"3em"},"& .ql-indent-2":{paddingLeft:"6em"},"& .ql-indent-3":{paddingLeft:"9em"},"& .ql-indent-4":{paddingLeft:"12em"},"& .ql-indent-5":{paddingLeft:"15em"},"& .ql-indent-6":{paddingLeft:"18em"},"& .ql-indent-7":{paddingLeft:"21em"},"& .ql-indent-8":{paddingLeft:"24em"},"& .ql-indent-9":{paddingLeft:"27em"},"& p":{marginBlockStart:"1em",marginBlockEnd:"1em"}}}}};var Do={attributes:{defaultValue:{type:"string"},disabled:{type:"boolean",default:false},useErrorIcon:{type:"boolean"},disabledDays:{type:"string",default:""},delimiter:{type:"string"},field:{type:"object"},hideable:{type:"picklist",default:"trueShowByDefault",options:["trueShowByDefault","trueHideByDefault","false"]},horizontalAlignment:{type:"picklist",default:"left",options:["left","center","right"]},id:{type:"string"},iconLeft:{type:"string"},iconRight:{type:"string"},label:{type:"string"},template:{type:"string"},selectedList:{type:"number",default:3},model:{type:"model"},row:{type:"object"},min:{type:"number"},max:{type:"number"},maxSelected:{type:"number",default:Infinity},minuteIncrement:{type:"picklist",default:"5",options:["1","5","10","15","20","30"]},minDate:{type:"date"},maxDate:{type:"date"},mode:{type:"picklist",options:["edit","read","readonly"]},typeOverrides:{type:"object",default:{}},type:{type:"picklist",options:["BOOLEAN","STRING","TEXT","EMAIL","CURRENCY","INTEGER","DOUBLE","NUMBER","TEXTAREA","PICKLIST","MULTIPICKLIST","DATE","DATETIME","REFERENCE","COMBO","CHILDREL"],default:"TEXT"},displayAs:{type:"picklist",options:["","BUTTON_GROUP","MULTIBUTTON_GROUP","VALUE_STEPPER","SWITCH","RADIO","CHECKBOX_LIST","SLIDER","VALUE_STEPPER","PASSWORD","PICKLIST","CUSTOM","PHONE","LOCATION"]},displayRows:{type:"number"},rightAlign:{type:"boolean",default:false},readOnly:{type:"boolean",default:false},optional:{type:"boolean",default:true},showOptional:{type:"boolean",default:false},optionSource:{type:"string"},optionModel:{type:"model"},outerTextLeft:{type:"string"},outerTextRight:{type:"string"},placeholder:{type:"text"},required:{type:"boolean",default:false},rangeMin:{type:"number"},rangeMax:{type:"number"},showLengthCounter:{type:"boolean",default:false},showLabel:{type:"boolean",default:true},showEditAction:{type:"boolean",default:true},showEditActionInEditMode:{type:"boolean",default:false},editActionDisabled:{type:"boolean",default:false},editActionType:{type:"picklist",default:"icon",options:["icon","button"]},editActionIcon:{type:"icon",default:"sk-webicon-ink:edit"},editActionEditText:{type:"string",default:"Edit"},editActionReadText:{type:"string",default:"Cancel"},editActionFunction:{type:"function"},maskedMessage:{type:"string"},step:{type:"number"},warning:{type:"string"},fixedMenu:{type:"boolean"},columnWidth:{type:"string"},columnMaxWidth:{type:"string"},summaries:{type:"multipicklist",options:Object.keys(n["b"].AGGREGATION_TYPES).map(e=>n["b"].AGGREGATION_TYPES[e])},countBlanks:{type:"boolean",default:false},defaultSummary:{type:"picklist",options:Object.keys(n["b"].AGGREGATION_TYPES).map(e=>n["b"].AGGREGATION_TYPES[e])},searchTemplate:{type:"string"},displayTemplate:{type:"string"},pageSize:{type:"number",default:5},maxDisplayCharacters:{type:"number"},tokenizeSearch:{type:"boolean"},useSOSL:{type:"boolean"},soslFields:{type:"string"},page:{type:"string"},route:{type:"string"},redirectType:{type:"picklist",options:["none","customurl","datasourcedefault","page","route"]},rootUrl:{type:"string"},window:{type:"string",default:"self",options:["self","blank"]},decimalPlaces:{type:"number"},showHelp:{type:"string",default:"true"},addNoneOption:{type:"boolean",default:false},noneLabel:{type:"string"},fsBlock:{type:"boolean",default:false},showMonthYearPicker:{type:"boolean"},showYearPicker:{type:"boolean"},yearPickerMin:{type:"string",default:"c-10"},yearPickerMax:{type:"string",default:"c+10"},showTodayButton:{type:"boolean"},displayMethod:{type:"string"},name:{type:"string"},tabIndex:{type:"string"},orderField:{type:"string"},getValidPicklistEntries:{type:"function"},labelPlacement:{type:"picklist",default:"top",options:["top","beside"]},minLabelWidth:{},maxLabelWidth:{},flexRatioLabel:{},minValueWidth:{},maxValueWidth:{},flexRatioValue:{},inTable:{type:"boolean"},uiCell:{},radioLayout:{type:"picklist",default:"column",options:["column","row"]}},nodes:{skuid__button:{schema:"skuid__button",type:"node"},disabledDates:{type:"array",childNode:{date:{type:"node",attributes:{date:{type:"date"}}}}},picklistOptions:{type:"array",childNode:{picklistOption:{type:"node",attributes:{value:{type:"string"},label:{type:"string"}}}}},params:{type:"array",childNode:{param:{type:"node",attributes:{key:{type:"string"},value:{type:"string"}}}}},searchFields:Qt},properties:{renderConditions:true,filters:true,enableConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["createReferenceAutocomplete","focus","getOptions","getReturnFieldsToUse","getContext","getValidPicklistEntries","isRequired","resetToDefaultValue","toggleMode","validate"]}}};var Mo=i(29);var Ao=i(19);const Vo=n["c"].utils,{DATASOURCE:{SEARCH_CONDITION:Fo},DISPLAY_TYPES:{STRING:Lo,REFERENCE:Bo}}=n["b"],zo=n["c"].component.displayMethodRegistry;var No={createReferenceAutocomplete(e={}){const t=e.parentComponent||this,o=this._getCPI(),{field:i,tokenizeSearch:s}=this.getState(),a=e.filtersXML&&n["c"].ui._createLookupFiltersFromXML(e.filtersXML),r=e.value;let l;if(a){this.set("filters",a)}let c="skuid__autocomplete.".concat(Vo.generateUniqueId(),".modalRowAction"),d=i.referenceTo?i.referenceTo:[],u=d.length>1,p=d.length>0,g=p&&d[0].objectName||i.rel,h=o.getReturnFieldsToUse(g,e);let b,f=t.createChildComponent(Object.assign({componentType:"skuid__autocomplete",options:[],buttonIcon:"sk-webicon-ink:search",value:r,minCharactersInputtedBeforeSearch:0,doNotFilter:s||!!(e.searchFields&&e.searchFields.length||e.searchTemplate||e.displayTemplate),getOptions:t=>o.getOptions(t,g,h,e),displayValueProcessor:t=>o.displayValueProcessor(t,e),buttonOnClick:()=>{f.getCPI().blur();let t;if(p){const e=d.find(e=>e.objectName===g);if(e&&e.label)t=e.label}if(!t)t=Vo.capitalizeFirst(g);l=Vo._floatingComponentFactory.createModal({title:t,components:[{componentType:"skuid__placeholder",height:f.getThemeSettings().spacing(60)}]},{},f);o.getReferenceOptions("",{referencedObject:g,returnFields:h}).then(t=>{const i=o.getSearchFieldsToUse(g,e);if(!l.registered)return;l.set("components",[{componentType:"skuid__filterSet",model:t,filters:[{type:"search",instantSearch:true}],filtering:{instantFilters:true,tokenizeSearch:s,searchFields:i.map(e=>({field:e.id,query:e.query,return:e.return,show:e.show,operator:e.operator,label:e.label}))},styles:{spacing:{marginBottom:"s2"}}},{componentType:"skuid__table",fields:i.filter(e=>e.show!==false).map(e=>({id:e.id,label:e.label})),mode:"readonly",model:t,rowActions:Vo.makeXMLDoc('<actions><action label="Select" type="custom" snippet="'.concat(c,'"/></actions>')),showSaveCancel:false,allowSortingByColumn:false,pageSize:e.pageSize}]);f.publish("modalComponentsSet",[l])});f.storeSubscription(l.subscribe("close",()=>{if(!l.registered)return;f.getChildComponents().splice(f.getChildComponents().indexOf(l),1);f.getCPI().focus();l.unregister()}))}},e.definition));if(u){const i=e=>{g=e;f.get("menuInstance")&&f.get("menuInstance")._getCPI().setOptionGroups([])};b=o.createPolymorphicSelect(d,t,f,i,e)}const m=n["c"].snippet.register(c,e=>{f.set({value:o.getValueForRow(e.model,e.row)});l.getCPI().close()});f.unregister=(()=>{n["c"].snippet.unregister(m);return n["c"].component.Component.prototype.unregister.call(f)});return{autocompleteInstance:f,selectInstance:b}},createReferenceSelect(e={}){const t=e.parentComponent||this,o=this._getCPI(),{field:i,model:s,rowId:a}=this.getState();const r=e.filtersXML&&n["c"].ui._createLookupFiltersFromXML(e.filtersXML),l=e.value;if(r){this.set("filters",r)}const c=i.referenceTo?i.referenceTo:[],d=c.length>1,u=c.length&&c[0].objectName||i.rel,p=o.getReturnFieldsToUse(u,e),g=t.createChildComponent(Object.assign({componentType:"skuid__select",noneSelectedText:e.noneLabel,displayValueProcessor:t=>o.displayValueProcessor(t,e),options:[{value:l,label:o.displayValueProcessor(l,e)}],value:l},e.definition)),h={};const b=t=>{o.getOptions("",t,p,e).then(e=>{g&&g.registered&&g._getCPI().setOptionGroups(e)})};b(u);if(d){h.polyMorphicSelectInstance=o.createPolymorphicSelect(c,t,g,b,e)}if(r){s.subscribe("row.updated.".concat(a),()=>{b(u)})}return Object.assign(h,{selectInstance:g})},displayValueProcessor(e,t){if(!e&&e!==0){if(t&&t.noneLabel)return t.noneLabel;return""}let{model:o,field:i}=this.getState(),n=this._cpi.getRow();const s=o&&o.getDataSourceType(),a=s&&s.name;return zo.get(Bo,a).getDisplayInformation(e,Object.assign({},t,{fieldId:i.id,row:n,model:o})).displayText},createPolymorphicSelect(e,t,o,i,n){const{model:s}=this.getState();const a=t.createChildComponent({componentType:"skuid__select",fillWidth:false,options:e.map(({label:e,objectName:t})=>({label:e||t,value:t})),styles:{spacing:{marginRight:"s1"}}});a.subscribeChange("value",i);const r=t=>{if(t&&typeof t==="string"){let o=s.getValueKeyPrefix(t);if(o&&o.length===3){let t=e.find(e=>e.keyPrefix===o);t&&a.set("value",t.objectName)}}};o.subscribeChange("value",e=>r(e));r(n.value);return a},getOptions(e,t,o,i={}){const n=this._getCPI(),s=n.getSearchFieldsToUse(t,i),a=Object.assign({},i,{returnFields:o});if(!t)return Vo.resolve([]);return n.getReferenceOptions(e,{referencedObject:t,searchFields:s,returnFields:o}).then(e=>{const t=e.getRows().map(t=>({value:n.getValueForRow(e,t),label:n.getDisplayTextForRow(e,t,a)}));if(i.noneLabel){t.unshift({value:"",label:i.noneLabel})}return[{options:t}]})},getValueForRow(e,t){const{field:o}=this.getState(),i=e.getDataSourceType(),n=i.getReferenceHandler&&i.getReferenceHandler();return{referenceId:n?n.getReferenceValue(t,o,e):e.getRowId(t),row:t,model:e}},getDisplayTextForRow(e,t,o){let i=o.searchTemplate||o.displayTemplate;if(!i&&o.searchFields&&o.searchFields.length){const t=o.returnFields.map(e=>"{{".concat(e.field,"}}")).join(", ");i="{{".concat(e.getNameField(),"}} (").concat(t,")")}return i?Vo.mergeAsText("row",i,{},e,t):t[e.getNameField()]},addOrReplaceConditionsForLookupFiltersToModel(e){const{model:t,id:o,row:i,filters:s=[]}=this.getState(),a=[];if(!e)e=t;if(s.length){s.forEach((s,r)=>{let l="".concat(o,"_").concat(s.field,"_").concat(r),c=e.getConditionByName(l),d,u;if(!c){c=new n["c"].model.Condition;c.name=l;e.addCondition(c)}c.field=s.field;c.operator=s.operator||"=";c.encloseValueInQuotes=s.encloseValueInQuotes;if(s.sourceParam){c.sourceParam=s.sourceParam}d=Vo.isMultiValueOperator(c.operator);if(s.type==="dependent"){u=t.getFieldValue(i,s.depfield,true);if(!Vo.isUndefined(u)){if(d){c.values=u&&u.indexOf(";")!==-1?u.split(";"):[u]}else{c.value=u}}if(u===null||Vo.isUndefined(u)){c.type="blank";c.value="null";c.encloseValueInQuotes=false}else{c.type="fieldvalue"}}else if(s.type==="userinfo"){delete c.type;c.value=Vo.getUserInfoPropValue(s.mergeField)}else if(s.type==="param"){u=n["c"].page.params[s.mergeField];if(typeof u!=="undefined"){if(d){c.values=u&&u.indexOf(";")!==-1?u.split(";"):[u]}else{c.value=u}}c.type="fieldvalue"}else if(s.type==="modelmerge"){const t=n["c"].model.getModel(s.mergeModel);if(t){if(d){c.values=[];t.data.forEach(e=>{c.values.push(t.getFieldValue(e,s.mergeField,true))})}else{c.value=t.getFieldValue(t.getFirstRow(),s.mergeField,true)}delete c.type;c.model=s.mergeModel;let o=(c.value===undefined||c.value===null)&&!(c.values&&c.values.length);if(o&&s.noValueBehavior==="noquery"&&e){e.doQuery=false}c.noValueBehavior=s.noValueBehavior}}else{c.type=s.type;if(s.values)c.values=s.values;else c.value=s.value;if(s.mergeField){c.mergeField=s.mergeField;c.originalValue=null}}a.push(c)})}return a},getReturnFieldsToUse(e,t={}){const o=this.get("model");const i=this._getCPI();let n=t.searchFields;if(n&&n.length){return n.filter(e=>e.return).map(e=>({field:e.field,id:e.field}))}else if(t.searchTemplate){let o=i.getSearchFieldsToUse(e,t)||[];return o.map(e=>{return{field:e.id,id:e.id}})}return[{id:o.dataSource.getNameField(e),displaytype:Lo,filterable:true}]},getSearchFieldsToUse(e,t={}){const o=this._getCPI(),{model:i}=this.getState();let n=t.searchFields;if(n&&n.length){return n.filter(e=>e.query).map(e=>Object.assign({},e,{label:e.label,id:e.field,searchOperator:e.operator}))}const s=t.searchTemplate||t.displayTemplate;if(s){const e=o.getFieldsFromTemplate(s);if(e&&e.length)return e}return i.dataSource.getNameFields(e).map(e=>{return{id:e,displaytype:Lo,filterable:true}})},getFieldsFromTemplate(e){const{field:t}=this.getState();let o=Vo.extractFieldsFromTemplate(e);const i=[];(o||[]).forEach(e=>{i.push({id:t.rel&&e.indexOf(t.rel+".")===0?e.slice(t.rel.length+1):e})});return i},getReferenceOptions(e,t={}){const o=this._getCPI(),{field:i,model:s,optionSource:a,tokenizeSearch:r,SOSLFields:l,useSOSLSearch:c,order:d,defaultOrdering:u,delimiter:p,type:g}=this.getState(),h=n["c"].utils.Deferred();let{optionModel:b}=this.getState();if(!i||i.displaytype!==Bo){throw Error('Can not retrieve reference options of a non "REFERENCE" type field')}const f=t.referencedObject,m=i.dataSourceName?n["c"].dataSource.getDataSource(i.dataSourceName):s.getDataSource(),y=m.getNameFields(f),C=t.relMetadata||{},k=t.returnFields||[],S=t.searchFields||y.map(e=>{return{id:e,displaytype:Lo,filterable:true}}),w=e=>{let t=m.dataSourceType.searchableDisplayTypes;if(!t||Object.keys(t).length<1){t=n["c"].ui.searchableDisplayTypes}for(let o=e.length-1;o>=0;o--){let n=e[o];if(!i.uiOnly&&Object.keys(t).indexOf(n.displaytype)<0){e.splice(o,1)}}};let _=0,I=0;if(!a){if(s){let e;if(i.rel)e=i.rel+".";else e="";S.forEach(t=>{const o=C.fields,i=t.id,n=o&&o.find(e=>e.id===i)||s.getField(e+i);if(n){Object.assign(t,n);t.id=i}else{t.displaytype=Lo}})}w(S);b=n["c"].ui.getReferenceLookupModel(m,i,f,k,undefined,s);_++;if(u)b.orderByClause="";else if(d)b.orderByClause=d;o.addOrReplaceConditionsForLookupFiltersToModel(b);if(e){b.buildSearchCondition(Fo,e,S,{tokenize:r,useSOSLSearch:c,SOSLFields:l,delimiter:p,searchOperator:"contains"})}let t=_;b.load(()=>{const e={};if(t>I){I=t;e.isStale=false}else{e.isStale=true}e.isFinal=t===_;h.resolve(b,e)})}else if(a==="model"){if(!b)return;S.forEach(e=>{let t;if(i.rel)t=i.rel+".";else t="";const o=C.fields,n=e.id,a=o&&o.find(e=>e.id===n)||s.getField(t+n);if(a){Object.assign(e,a);e.id=n}else{e.displaytype=Lo}});w(S);const t=o.addOrReplaceConditionsForLookupFiltersToModel(b);let n=t&&t.length;b.conditions&&b.conditions.forEach(e=>{if(e.type==="modelmerge"){if(b.updateConditionValue(e)){n=true}}else if(e.type==="join"){e.subConditions&&e.subConditions.forEach(e=>{if(e.type==="modelmerge"){if(b.updateConditionValue(e)){n=true}}})}});if(g==="REFPICK"){if(n){b.updateData(function(){h.resolve(b)})}else{h.resolve(b)}}else{b.buildSearchCondition(Fo,e,S,{tokenize:r,useSOSLSearch:c,SOSLFields:l,delimiter:p,searchOperator:"contains"});b.updateData(function(){h.resolve(b)})}}return h.promise()}};var jo={getValidPicklistEntries(){const{model:e,row:t,field:o}=this.getState(),i=e.getDataSourceType();let n=o&&o.picklistEntries;if(!o){return{entries:[]}}if(i&&i.getValidPicklistEntriesSync){n=i.getValidPicklistEntriesSync(this)}if(o.deDupLabel){for(let e in t){let i=t[e];if(o.id===e){n.forEach(o=>{if(o.label===i)t[e]=o.value;this.set("row",t)})}}}if(i&&i.getValidPicklistEntries){return{entries:n,promise:i.getValidPicklistEntries(this)}}return{entries:n}},clonePicklistEntries(e,t){const o=this.getCPI().getValidPicklistEntries();const i=o=>{if(!this.registered||!e.registered)return;let i=(o||[]).map(e=>({label:e.label,value:e.value,defaultValue:e.defaultValue,active:e.active}));t&&i.unshift({label:t,value:"",defaultValue:"",active:true});e&&e._getCPI().setOptionGroups([{options:i}]);const n=e?e.get("value"):undefined,s=i.map(e=>e.value);t&&s.shift();if(e&&t&&s.indexOf(n)<0){e.set(ri,true,false);if(e.get("componentType")==="skuid__radioList"){e._getCPI().updateValue("")}else{e.set("value",null)}e.get("projector").scheduleRender();e.set(ri,false,false)}return i};if(o.promise){o.promise=o.promise.then(i)}else{i(o.entries);o.promise=n["c"].utils.resolve(o.entries)}return o},getPicklistOptionsSync(e){const t=this.getCPI().getValidPicklistEntries();if(t.entries){let o=t.entries.map(e=>({label:e.label,value:e.value,defaultValue:e.defaultValue,active:e.active}));e&&o.unshift({label:e,value:"",defaultValue:"",active:true});return o}return[]}};const{moment:Ho,utils:Wo}=Object(n["d"])();const Uo=n["c"].component.DisplayMethod,Go=n["c"].component.displayMethodRegistry,qo=n["c"].time.getDateDisplayFormat,Yo=()=>n["c"].settings.get("userLocale","timeFormat"),$o=e=>e.get("uiCell")&&e.get("uiCell").renderVDom();Go.register("BOOLEAN",new Uo({readModeStrategy:"component",read(...e){return this.edit(...e)},editModeStrategy:"component",edit(e,t){return e.createChildComponent(Object.assign({},t,{componentType:"skuid__checkbox",styleSettingsVariant:"@parent/checkbox",checked:t.value}))},useDelay:false}));Go.register("SWITCH",new Uo({readModeStrategy:"component",read(...e){return this.edit(...e)},editModeStrategy:"component",edit(e,t){return e.createChildComponent(Object.assign({},t,{componentType:"skuid__switch",styleSettingsVariant:"@parent/switch",checked:t.value}))},useDelay:false}));Go.register("NUMBER",new Uo({getDisplayInformation(e,t={}){let o=t.decimalPlaces,i=Wo.isNumber(o),s={};if(!i&&t.row&&t.model){let e=t.model.getField(t.fieldId);if(e&&e.scale){o=e.scale}if(!o||!Wo.isNumber(o)){o=0}}s.displayText=n["c"].currency.getDisplayValue(e,{decimalPlaces:o,excludeSymbol:true});return s},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{min:o,max:i,iconLeft:n,iconRight:s,field:a,rightAlign:r,showLengthCounter:l,buttonInstance:c,placeholder:d}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__inputText",styleSettingsVariant:"@parent/inputText",iconLeft:n,iconRight:s,min:o,max:i,maxCharactersToShow:a&&a.length,rightAlign:r,showLengthCounter:l,withButton:c!==undefined,placeholder:d||a&&a.placeholder,type:"number"}))}}));Go.register("PERCENT",new Uo({getDisplayInformation(e,t){let o={displayText:""};if(typeof e==="number"){o=Go.get("NUMBER").getDisplayInformation(e,t);o.displayText+="%"}return o},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(...e){return Go.get("NUMBER").edit(...e)}}));Go.register("CURRENCY",new Uo({getDisplayInformation(e,t={}){const o={};let{decimalPlaces:i,fieldId:s,model:a,recordCurrency:r,row:l}=t;const c=Wo.isNumber(i);if(a){let e=a.getField(s);if(!c){if(e&&e.scale){i=e.scale}if(!i||!Wo.isNumber(i)){i=0}}if(Wo.isMultiCurrencyOrganization){if(!r&&l){r=Wo.getRowCurrency({row:l,model:a,field:e&&e.id})}}}o.displayText=n["c"].currency.getDisplayValue(e,{decimalPlaces:i,recordCurrency:r});return o},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(...e){return Go.get("NUMBER").edit(...e)}}));Go.register("INTEGER","NUMBER");Go.register("DOUBLE","NUMBER");Go.register("SLIDER",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{min:o,max:i,step:n}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__slider",styleSettingsVariant:"@parent/slider",rangeMin:o!==undefined?o:0,rangeMax:i!==undefined?i:1e4,step:n}))}}));Go.register("TEXTAREA",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{rightAlign:o,showLengthCounter:i,buttonInstance:n,placeholder:s,field:a,actualType:r}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__inputTextArea",styleSettingsVariant:"@parent/textArea",displayRows:e.getState().displayRows,maxCharactersToShow:a&&a.length||e.getState().maxDisplayCharacters,rightAlign:o,showLengthCounter:i,withButton:n!==undefined,placeholder:s||a&&a.placeholder,asRichText:r==="RICHTEXT"}))}}));Go.register("RICHTEXT","TEXTAREA");Go.register("PICKLIST",new Uo({getDisplayInformation(e,t={}){const o={};if(e){let i="".concat(e).split(t.delimiter||";");const n=t.model.getField(t.fieldId,t.context).picklistEntries;let s;if(n&&n.length){s=[];i.forEach(t=>{const o=n.find(e=>e.value===t);s.push(o?o.label||e:e)})}else{s=i}o.displayText=s.join(", ")}else if(t.noneLabel){o.displayText=t.noneLabel}else{o.displayText=""}o.uiField=t.uiField;return o},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{actualType:o,id:i,maxSelected:n,model:s,noneLabel:a,picklistOptions:r,selectedList:l}=e.getState(),c=e._getCPI(),d=s.getField(i);if(d&&d.displaytype==="REFERENCE"){const{filters:o,value:i,searchTemplate:n,displayTemplate:r,searchFields:l,pageSize:u,row:p}=e.getState();const g=c.createReferenceSelect({filtersXML:o,value:i,searchTemplate:n,displayTemplate:r,searchFields:l,pageSize:u,model:s,noneLabel:a,row:p,field:d,definition:{inputId:t.inputId,styleSettingsVariant:"@parent/autocomplete"}});g.polyMorphicSelectInstance&&e.set("polyMorphicSelect",g.polyMorphicSelectInstance);return g.selectInstance}const u=e.createChildComponent(Object.assign({},t,{componentType:"skuid__select",styleSettingsVariant:"@parent/select",options:r||c.getPicklistOptionsSync(a),fillWidth:true,maxSelected:n,multi:o==="MULTIPICKLIST",selectedList:l,noneSelectedText:a}));c.clonePicklistEntries(u,a);return u},useDelay:false}));Go.register("MULTIPICKLIST","PICKLIST");Go.register("CHECKBOX_LIST",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{picklistOptions:o,maxSelected:i}=e.getState(),n=e._getCPI();const s=e.createChildComponent(Object.assign({},t,{componentType:"skuid__checkboxList",styleSettingsVariant:"@parent/checkboxList",maxSelected:i,options:o||n.getPicklistOptionsSync()}));n.clonePicklistEntries(s);return s},useDelay:false}));Go.register("RADIO",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{picklistOptions:o,noneLabel:i,radioLayout:n}=e.getState(),s=e._getCPI();const a=e.createChildComponent(Object.assign({},t,{componentType:"skuid__radioList",styleSettingsVariant:"@parent/radioList",options:o||s.getPicklistOptionsSync(i),radioLayout:n}));s.clonePicklistEntries(a,i);return a},useDelay:false}));Go.register("BUTTON_GROUP",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{picklistOptions:o,actualDisplayAs:i,noneLabel:n,maxSelected:s}=e.getState(),a=e._getCPI();const r=e=>e.map(e=>({label:e.label||e.value||"",value:e.value}));const l=e.createChildComponent(Object.assign({},t,{componentType:"skuid__buttonGroup",styleSettingsVariant:"@parent/buttonGroup",displayType:"attached",behavior:i==="MULTIBUTTON_GROUP"?"multiselect":"radio",buttons:o||r(a.getPicklistOptionsSync(n)),optionGroups:[{options:r(a.getPicklistOptionsSync(n))}],maxSelected:s}));a.clonePicklistEntries(l,n).promise.then(e=>l.registered&&l.set("buttons",r(e))).catch(e=>Wo.log(e,"error"));return l},useDelay:false}));Go.register("MULTIBUTTON_GROUP","BUTTON_GROUP");Go.register("VALUE_STEPPER",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{rightAlign:o,defaultValue:i,step:n,max:s,min:a,value:r,field:l,placeholder:c}=e.getState();const d={componentType:"skuid__valueStepper",styleSettingsVariant:"@parent/valueStepper",rightAlign:o,defaultValue:i,step:n,value:r||parseInt(i)||0,placeholder:c||l&&l.placeholder};if(s!==undefined)d.max=s;if(a!==undefined)d.min=a;return e.createChildComponent(Object.assign(t,d))}}));Go.register("DATE",new Uo({getDisplayInformation(e,t={}){return{displayText:e&&Ho.tz(e,Wo.userInfo.timeZone).format(qo()),uiField:t.uiField}},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{rightAlign:o,iconLeft:i,iconRight:n,showLengthCounter:s,buttonInstance:a,placeholder:r,minDate:l,maxDate:c,disabledDates:d,disabledDays:u,showMonthYearPicker:p,showYearPicker:g,yearPickerMin:h,yearPickerMax:b,showTodayButton:f,field:m}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__inputText",styleSettingsVariant:"@parent/inputText",iconLeft:i,iconRight:n||"sk-webicon-ink:monthly-view",maxCharactersToShow:m&&m.length,rightAlign:o,showLengthCounter:s,withButton:a!==undefined,type:"date",placeholder:r||m&&m.placeholder,minDate:l,maxDate:c,disabledDates:d,disabledDays:u,showMonthYearPicker:p,showYearPicker:g,yearPickerMin:h,yearPickerMax:b,showTodayButton:f}))}}));Go.register("REFERENCE",new Uo({getDisplayInformation(e,t={}){const o={},{fieldId:i,displayTemplate:n,model:s,noneLabel:a,row:r}=t,l=s.getDataSourceType();if(!e&&e!==0){o.displayText=a||""}else{let e=Wo.calculateReferenceText({model:s,row:r,fieldMetadata:s.getField(i),template:n});if(e===null)e="";o.displayText=e}if(l.getLinkInfoForReferenceField){const i=l.getLinkInfoForReferenceField(t,e);if(i){o.referenceLink=i.refLink;o.onClick=i.onClick;o.target=i.target}}return o},readModeStrategy(e){const{field:t}=e;if(t&&t.ref==="skuid__Image__c"){return"component"}else{return"virtual"}},read(e){const t={field:e.get("field")};if(this.getReadModeStrategy(t)==="component"){return this.edit(...arguments)}else{return $o(e)}},editModeStrategy:"component",edit(e,t){const{displayTemplate:o,field:i,filters:n,mode:s,model:a,pageSize:r,placeholder:l,searchFields:c,searchTemplate:d,value:u}=e.getState();if(i&&i.ref==="skuid__Image__c"){const o=e.createChildComponent({componentType:"skuid__file",disabled:t.disabled,model:a,displayAs:"field",storeAs:"field",idField:i.id,deletable:s!=="readonly",editable:s!=="readonly",buttonLabel:"",buttonIcon:"sk-webicon-ink:add"});e.subscribeChange("mode",e=>{const t=e==="edit";o.set({deletable:t,editable:t})});return o}const p=e.getCPI().createReferenceAutocomplete({filtersXML:n,value:u,searchTemplate:d,displayTemplate:o,searchFields:c,pageSize:r,definition:{inputId:t.inputId,disabled:t.disabled,tabIndex:t.tabIndex,styleSettingsVariant:"@parent/autocomplete",placeholder:l}});p.selectInstance&&e.set("polyMorphicSelect",p.selectInstance);return p.autocompleteInstance},useDelay:false}));Go.register("DATETIME",new Uo({getDisplayInformation(e,t={}){return{displayText:e&&Ho.tz(e,Wo.userInfo.timeZone).format("".concat(qo()," ").concat(Yo())),uiField:t.uiField}},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{rightAlign:o,buttonInstance:i,placeholder:n,minDate:s,maxDate:a,disabledDates:r,disabledDays:l,minuteIncrement:c,showMonthYearPicker:d,showYearPicker:u,showTodayButton:p,field:g}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__datetime",styleSettingsVariant:"@parent/datetime",rightAlign:o,withButton:i!==undefined,type:"date",placeholder:n||g&&g.placeholder,minDate:s,maxDate:a,disabledDates:r,disabledDays:l,minuteIncrement:c,showMonthYearPicker:d,showYearPicker:u,showTodayButton:p}))}}));Go.register("TEXT",new Uo({readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(e,t){const{rightAlign:o,buttonInstance:i,placeholder:n,iconLeft:s,iconRight:a,showLengthCounter:r,field:l,actualDisplayAs:c}=e.getState();return e.createChildComponent(Object.assign({},t,{componentType:"skuid__inputText",styleSettingsVariant:"@parent/inputText",iconLeft:s,iconRight:a,maxCharactersToShow:l&&l.length,rightAlign:o,showLengthCounter:r,withButton:i!==undefined,placeholder:n||l&&l.placeholder,type:c==="PASSWORD"?"password":undefined}))}}));Go.register("STRING","TEXT");Go.register("LOCATION","TEXT");Go.register("ID","TEXT");Go.register("PASSWORD",new Uo({readModeStrategy:"virtual",read(e){const t=e.get("value");return t&&"*".repeat(t.length)||""},editModeStrategy:"component",edit(...e){return Go.get("TEXT").edit(...e)}}));Go.register("EMAIL",new Uo({getDisplayInformation(e,t={}){let o={};if(e){o.referenceLink="mailto:".concat(e);o.displayText=e}else{o.displayText=""}o.uiField=t.uiField;return o},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(...e){return Go.get("TEXT").edit(...e)}}));Go.register("COMBO",new Uo({getDisplayInformation(e="",t={}){const{model:o,row:i}=t,n=o.getDataSourceType(),s={model:o,row:i};const a={displayHTML:Wo.mergeInContext(e,s,{encodeText:true}).html(),displayText:Wo.mergeInContext(e,s,{asText:true,allowHTML:true})};if(t.redirectType&&t.redirectType!=="none"){const o=n.getLinkInfoForReferenceField(t,e);if(o){a.referenceLink=o.refLink;a.onClick=o.onClick;a.target=o.target}}return a},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"virtual",edit(...e){return this.read(...e)}}));Go.register("PHONE",new Uo({getDisplayInformation(e,t={}){let o={};if(e){o.referenceLink="tel:".concat(e);o.displayText=e}else{o.displayText=""}o.uiField=t.uiField;return o},readModeStrategy:"virtual",read(e){return $o(e)},editModeStrategy:"component",edit(...e){return Go.get("TEXT").edit(...e)}}));const{div:Ko,span:Xo,utils:Qo}=Object(n["d"])(),Zo=n["c"].utils.inPlatform(n["b"].LIGHTNING),Jo=n["b"].KEYCODES,ei=n["c"].utils.runningTests()?0:300,ti="edit",oi="read",ii="readonly",ni="needsDOMUpdate",si=n["c"].component.displayMethodRegistry,ai=n["c"].platform.displayMethodRegistry;const ri="__valueNotReady";n["a"].register("skuid__field",Object.assign({},Po,{schema:Do,init(e,t,o){const i=e.shortcut("set"),s=t.model;let a=t.mode||"edit",r=t.row||(s&&s.getRows().length?s.getRows()[0]:null),l=r?s.getRowId(r):null,c=t.labelPlacement==="beside";i({mode:a,rowId:l});e.subscribeChange("rowId",o.onRowIdUpdate);e.subscribeChange("row",e=>o.updateRowAndValue(this.get("model").getFieldValue(e,o.getNameOrId(),true)));o.onRowIdUpdate(l);e.unregister=(()=>{const t=e.get("model");t&&t.unregisterField(e);return n["c"].component.Component.prototype.unregister.call(e)});const d=Qo.generateUniqueId(),u=Qo.generateUniqueId(),p=Qo.generateUniqueId(),g=o.getNameOrId(),h=t.field||s&&s.getField(g),b=t.defaultValue||(h&&r?s.getFieldValue(r,g,true):undefined),f=t.label||(h?h.label||h.id:""),m=o.isRequired(),y=h&&h.inlineHelpText?h.inlineHelpText:"";i("noneLabel",t.addNoneOption?t.noneLabel||"-- None --":null);if(o.shouldBeReadonlyBasedOnMetadata()){a=ii}let C;if(t.showLabel){C=e.createChildComponent({inputId:u,required:m,componentType:"skuid__labelInput",styleSettingsVariant:"@parent/label",description:t.description,warning:!!t.warning,label:f,optional:t.optional,showOptional:t.showOptional,inlineHelpText:t.showHelp!=="false"?y:"",showHelp:t.showHelp,minWidth:c&&t.minLabelWidth,maxWidth:c&&t.maxLabelWidth,flexRatio:c&&t.flexRatioLabel,placement:t.labelPlacement,descriptionId:d,messagesId:p});e.bind("description",C);e.bind("required",C);e.bind("optional",C);e.bind("showOptional",C);e.bind("mode",C)}if(t.type==="COMBO"){const e=s.getRowMergeResult(r,t.template||"").fields;i("isTemplateAndEditable",!!(e&&e.length))}i({inputId:u,value:b});e.subscribeChange("description",t=>{e.get("labelInstance").set("noMargin",!t);o.updateDescribedBy()});if(t.useErrorIcon){e.subscribeChange("messages",t=>{if(this.get("errorIcon")){this.get("errorIcon").unregister();this.unset("errorIcon")}if(!t||!t.length)return;this.set({showErrorIcon:true,errorIcon:e.createChildComponent({componentType:"skuid__icon",handle:"sk-webicon-ink:warning",tooltip:"<tooltip text=".concat(t.map(e=>e.message).join(", "),' compact="true" />')})})})}if(s){s.registerField(e);e.storeSubscription(s.subscribe("picklistEntriesUpdated",i=>{if(i.fieldId===t.id){let t=e.get("inputInstance"),i=e.get("uiCell");t&&t._getCPI().setOptionGroups&&o.clonePicklistEntries(t);if(i){i.updateDisplayInfo();e.scheduleVirtualRender()}}}));e.storeSubscription(s.subscribe("saved",()=>{const t=this.get("model"),i=this.get("row"),n=this._cpi.getNameOrId();i&&e.set("rowId",t.getRowId(i));o.updateRowAndValue(t.getFieldValue(i,n,true))}))}if(C){e.subscribeChange("warning",e=>C.set("warning",!!e));e.bind("messages",C)}if(h){s&&e.storeSubscription(s.subscribe("messages",t=>{const s=e.getState();if(s.show===false)return;const a=t.messages.filter(t=>{if(t.rowId!==s.rowId)return;for(let o in t.fields||[]){const i=t.fields[o];if(i.id!==s.field.id)continue;if(i.component&&i.component!==e)return false;return true}}).map(e=>{let t;switch(e.status){case"REQUIRED_FIELD_MISSING":t=n["c"].$L("Required","Required");break;case"INVALID_DATE_FORMAT":t="Invalid date format. Use ".concat(n["c"].time.getDateDisplayFormat(),".");break;default:t=n["c"].utils.decodeHTML(e.message);break}return{severity:e.severity,message:t}});i({messages:a,warning:!!a.length});o.updateDescribedBy()}));e.storeSubscription(s.subscribe("cancelled",()=>e.registered&&e.set("messages",false)));if(t.renderConditions&&t.renderConditions.length&&t.renderConditions[0].getAttribute("onhidedatabehavior")==="cancel"){e.subscribeChange("show",(e,t)=>{if(e===false&&t!==false){s.cancelRowChanges(this.get("row"),h.id,{initiatorId:u})}})}const a=r&&s.getRecordForRow(r);if(a&&a.isNew()){e.set("modified",true);if(m&&b===null&&h.displaytype==="PICKLIST"&&!t.addNoneOption){const i=t.getValidPicklistEntries,n=s.getDataSourceType(),a=e=>{e[0]&&o.updateRowAndValue(e[0].value)};if(i){i(e).then(a)}else if(n.getValidPicklistEntries){n.getValidPicklistEntries(e).then(a)}}}}e.registerMergeAttribute("maskedMessage","_maskedMessage");i({rowId:l,descriptionId:d,messagesId:p,label:f,inputId:u,labelInstance:C,optional:t.optional&&!t.required,mode:a,isHtmlFormatted:h&&h.htmlFormatted});o.createEditAction();o.createInputInstance();o.updateDescribedBy();e.subscribeChange("mode",()=>{o.createInputInstance();o.createEditAction()})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e._getCPI(),i=e.getState(),{_maskedMessage:n,buttonInstance:s,disabled:a,errorIcon:r,flexRatioValue:l,fsBlock:c,horizontalAlignment:d,isComponentWhenInReadMode:u,isHtmlFormatted:p,isTemplateAndEditable:g,label:h,labelInstance:b,labelPlacement:f,maxValueWidth:m,minValueWidth:y,mode:C,outerTextLeft:k,outerTextRight:S,polyMorphicSelect:w,readOnly:_,showEditAction:I,editActionType:v,showErrorIcon:x,inTable:T,type:O}=i,R=f==="beside",E=!_&&I&&g!==false&&(C===oi||O==="COMBO"&&C!==ii),P=E&&v==="icon",D=C===ti&&!_&&O!=="COMBO",M=R?{minWidth:y,maxWidth:m,flex:l}:{},A=r&&x&&Xo({key:"outer-text-icon",class:t("outer-error-icon")},[r.renderVDom()]);return Ko({key:e,classes:t({field:true,"field--label-beside":R}),ondblclick:(...e)=>{if(P)return o.onClickIcon(...e)},"data-fs-block":c?"true":undefined},[h&&b&&b.renderVDom(),D?[R||w||s||S||k||T||a?Ko({key:e,classes:t({"flex-container":true}),styles:M},[k&&Xo({key:"outer-text-left",class:t("outer-text--left")},[k]),A,w&&w.renderVDom(),Xo({key:"flex-grow",class:t("flex-grow"),afterCreate:o.afterCreateDisplayMethodWrapper,onmouseenter:o.onMouseEnterDisplayMethodWrapper,onmouseleave:o.onMouseLeaveDisplayMethodWrapper},[o.renderDisplayMethod()]),s&&s.renderVDom(),S&&Xo({key:"outer-text-right",class:t("outer-text--right")},[S])]):o.renderDisplayMethod(),o.renderEditAction()]:[Ko({key:e,classes:t({"flex-container":true,"flex-container--read-beside":R,"--justify-left":d==="left","--justify-center":d==="center","--justify-right":d==="right"}),styles:M},[A,n?Ko({key:"masked message",classes:t({"masked-message":true,"flex-grow":true,"--justify-left":d==="left","--justify-center":d==="center","--justify-right":d==="right"})},[n]):Ko({key:"read-mode",classes:t({read:!u,"read--label-above":!R&&!u,"flex-grow":true,"read--html-formatted--lightning":Zo&&p,"--justify-left":!d&&R||d==="left","--justify-center":d==="center","--justify-right":d==="right"})},[o.renderDisplayMethod()]),o.renderEditAction()])]])},cpi:Object.assign({},No,{},jo,{isRequired(){const e=this.getState();return e.field&&e.field.required||e.required},resetToDefaultValue(){const{inputInstance:e}=this.getState();e&&e.getCPI().resetToDefaultValue()},getNameOrId(){return this.get("name")||this.get("id")},updateRowAndValue(e){const t=this.getState(),o=this._getCPI(),i=t.model,n=o.getRow(),s=o.getNameOrId(),a=n&&i.getFieldValue(n,s,true)!==e;let r=false;if(a){if(t.inputInstance&&t.inputInstance.get(ri))return;const o={};if(e&&e.referenceId&&e.row){o[s]=e.referenceId;if(Qo.getObjectProperty(t,"field.rel"))o[t.field.rel]=e.row}else{o[s]=e}i.updateRow(n,o);r=true}if(t.value!==e||t.row!==n){this.set({value:e,row:n,[ni]:true});r=true}if(t.type==="COMBO")r=true;if(r){o.adjustDisplayInformation();this.scheduleVirtualRender()}return{adjustedDisplayInformation:r}},getContext(){const{model:e,row:t,field:o,customElement:i,value:n}=this.getState();return{model:e,row:t,field:o,element:i,value:n}},getRow(){const{model:e,rowId:t,field:o}=this.getState();return t&&o&&e?e.getRowById(t):null},onKeyPressIcon(e){if(e.keyCode===Jo.SPACE||e.keyCode===Jo.ENTER){e.preventDefault();this._getCPI().onClickIcon(e)}},onClickIcon(e){e&&e.stopPropagation();if(this.get("type")==="COMBO"){const e=this._getCPI(),{template:t,model:o,uniqueId:i}=this.getState();const n=Ao["b"].createTemplateEditModal(t,e.getRow(),o,{onClose:()=>document.getElementById("".concat(i,"-toggle-mode")).focus()});this.getChildComponents().push(n)}else{this._getCPI().toggleMode(undefined,{focusWhenChanged:true})}},shouldBeReadonlyBasedOnMetadata(){const e=this,{field:t,model:o,rowId:i}=e.getState(),n=i&&o?o.getRecordById(i):null;if(!o||!n)return false;if(o.isAggregate||!n)return true;if(!t)return false;const s=n.isNew();if(s){return!o.createable||t&&!t.createable}else{return!o.updateable||t&&!t.editable}},toggleMode(e,t={}){const o=this,i=this.get("mode"),{focusWhenChanged:n,autoToggleBackToRead:s}=t,a=o._getCPI();if(a.shouldBeReadonlyBasedOnMetadata()){e=ii}else{e=e?e:i===oi?ti:oi}o.set("mode",e);const{_blurHandler:r,inputInstance:l,polyMorphicSelect:c}=this.getState();if(r){r.unsubscribe();o.unstoreSubscription(r);o.set("_blurHandler",null,{renderOnChange:false})}if(s!==false&&l&&!c){let e=l.subscribe("blur",()=>{o.set("mode",oi)});o.storeSubscription(e);o.set("_blurHandler",e,{renderOnChange:false})}n&&a.focus()},createEditAction(){const{editActionInstance:e,mode:t,showEditAction:o,editActionType:i,editActionIcon:n,editActionEditText:s,editActionReadText:a,editActionFunction:r,editActionDisabled:l}=this.getState();if(!o||e)return;let c;if(i==="button"){c=this.createChildComponent({componentType:"skuid__button",expandToFill:true,disabled:l,styleSettingsVariant:"@parent/editAction",label:t===ti?a:s,onClick:r.bind(null,this)||this._cpi.onClickIcon});if(a){this.subscribeChange("mode",e=>{c.set("label",e===ti?a:s)})}}else{c=this.createChildComponent({componentType:"skuid__icon",handle:n,tooltip:'<tooltip text="Edit" compact="true"/>'})}this.set("editActionInstance",c)},focus(){const e=this.getState().inputInstance;if(!e)return;const t=e.getCPI();if(t.focus){this.delay().then(()=>{e.registered&&t.focus()})}},updateDescribedBy(){const e=[],t=this.getState();if(t.labelInstance){if(t.labelInstance.get("inlineHelpText"))e.push(t.descriptionId);if(t.labelInstance.get("messages"))e.push(t.messagesId)}if(t.inputInstance)t.inputInstance.set("describedBy",e.join(" ")||undefined)},createInputInstance(){const e=this,t=e.getState(),{mode:o,inputInstance:i,field:n,model:s}=t,a=n||{};let r=a.displaytype?t.typeOverrides[a.displaytype]||a.displaytype:t.type;if(a.htmlFormatted&&(r==="TEXTAREA"||r==="TEXT")){r="RICHTEXT"}const l=t.displayAs==="CUSTOM"?t.displayMethod:t.displayAs||r;e.set("actualDisplayAs",l);e.set("actualType",r);let c;if(typeof t.displayMethod==="object"){c=t.displayMethod}if(!c&&s){let e=s.getDataSourceType(),t=e.name;if(ai.has(l,t)){c=ai.get(l,t)}else if(si.has(l,t)){c=si.get(l,t)}}if(!c){c=ai.has(l)?ai.get(l):si.get(l)}if(t.displayAs==="CUSTOM"){let e=ai.has(t.displayAs||r)?ai.get(t.displayAs||r):si.get(t.displayAs||r);if(!c.hasRead()){c.readModeStrategy=e.readModeStrategy;c.setRead(e.getRead())}if(!c.hasEdit()){c.editModeStrategy=e.editModeStrategy;c.setEdit(e.getEdit())}}e.set({displayMethod:c});const d=c.getReadModeStrategy(t)==="component";const{disabled:u,warning:p,value:g,inputId:h}=t,b=e._getCPI(),f={inputId:h,warning:!!p,describedBy:t.descriptionId,labeledBy:t.labelInstance&&t.labelInstance.id(),value:g,disabled:o!==ti?true:u},m=t.skuid__button?e.createChildComponent(Object.assign(t.skuid__button,{componentType:"skuid__button",withInput:true})):undefined,y=o===ti?c.getEditModeStrategy(t):c.getReadModeStrategy(t);if(t.tabIndex)f.tabIndex=t.tabIndex;if(y!=="component"){return e.set({buttonInstance:m,isComponentWhenInReadMode:d,type:r})}if(i||o!==ti&&!d)return;const C=c[o===ti?ti:oi](e,f);if(r==="BOOLEAN"){e.bind("value",C,"checked")}else{e.bind("value",C)}e.subscribeChange("disabled",t=>{C.set("disabled",e.get("mode")!==ti?true:t)});e.subscribeChange("mode",e=>C.set("disabled",e!==ti));e.subscribeChange("warning",t=>{if(e.get("inTable"))return;C.set("warning",!!t)});C.subscribe("focus",()=>this.publish("focus"));C.subscribe("blur",()=>this.publish("blur"));if(n){e.subscribeChange("value",c.useDelay?li(t=>e.registered&&b.updateRowAndValue(t),ei):b.updateRowAndValue)}e.set({buttonInstance:m,inputInstance:C,type:r,isComponentWhenInReadMode:d})},addRowIdSubscription(){let{_rowIdListener:e,model:t,rowId:o}=this.getState();if(e){e.unsubscribe();this.unstoreSubscription(e)}if(!t)return;e=t.subscribe("row.updated.".concat(o),({model:e,row:t,updates:o})=>{const{field:i}=this.getState(),n=this._cpi.getNameOrId(),s=e.getDataSourceType(),a=s.defaultControllingFields&&s.defaultControllingFields(),r=i.controllingField;let l=false;if(o[r])l=true;if(a){for(let e=0;e<a.length;e++){if(o[a[e]]){l=true;break}}}this._cpi.updateRowAndValue(e.getFieldValue(t,n,true));if(l){this._cpi.controllingFieldUpdates(t)}});this.storeSubscription(e);this.set({_rowIdListener:e})},onRowIdUpdate(e){const t=this;const{model:o,id:i,name:n}=t.getState();const s=e&&o?o.getRowById(e):null;const a=t._getCPI();a.addRowIdSubscription();let r=true;if(s){if(o.deferFieldRendering&&i&&o.getField(i)&&o.getField(i).defer&&!s.__additionalRequestMade){o.getDataSourceType().makeAdditionalQueries(o,s).then(function(o){const i=o.model.getRowId(o.row);if(i!==e){t.set("rowId",i)}else{a.onRowIdUpdate()}})}const l={field:o.getField(n||i)};if(a.shouldBeReadonlyBasedOnMetadata()){l.mode=ii}this.set(l);let{adjustedDisplayInformation:c}=a.updateRowAndValue(o.getFieldValue(s,n||i,true));if(c)r=false}else{this.set({value:null})}r&&a.adjustDisplayInformation()},adjustDisplayInformation(){const e=this,t=e.getState(),{displayTemplate:o,delimiter:i,field:n,model:s,name:a,rowId:r,typeOverrides:l,type:c,template:d,maxDisplayCharacters:u,noneLabel:p,decimalPlaces:g,redirectType:h,rootUrl:b,page:f,route:m,tabIndex:y,window:C,params:k}=t;let{uiCell:S}=t;const w=s&&r?s.getRowById(r):null;if(!S){const t=n?l[n.displaytype]||n.displaytype:c;S=new Mo["a"]({fieldId:n?n.id:null,name:a,template:d,displayTemplate:o,displayType:t==="COMBO"?"template":undefined,model:s,row:w,isChildRel:c==="CHILDREL",delimiter:i,maxDisplayCharacters:u,htmlFormatted:n&&n.htmlFormatted,noneLabel:p,decimalPlaces:g,redirectType:h,rootUrl:b,page:f,route:m,linkWindow:C,linkParams:k},{tabIndex:y});e.set({uiCell:S});S.updateDisplayInfo()}else{S.row=w}},validate(){const e=this.getState(),t=e.model,o=e.row,i=e.field;if(e.disabled||!e.field||t.isRowMarkedForDeletion(o)||!this.isVisible())return false;if(this.cpi.isRequired()){let e=this._cpi.getNameOrId(),n=t.getFieldValue(o,e,true),s=(n===""||n===null||Qo.isUndefined(n))&&i.displaytype!=="BOOLEAN";if(s){return["REQUIRED"]}}if(e.inputInstance&&e.inputInstance._cpi.validate){let t=e.inputInstance._cpi.validate();if(t)return t}return false},controllingFieldUpdates(e){const t=this,{model:o,field:i,getValidPicklistEntries:n}=t.getState(),s=i&&["PICKLIST","MULTIPICKLIST","COMBOBOX"].includes(i.displaytype),a=o.getDataSourceType(),r=n=>{const s=o.getFieldValue(e,i.id,true);if(n){n.forEach(e=>{if(s===e.value){c=true;return false}})}if(!c){o.updateRow(e,i.id,"",{initiatorId:t.id()})}},l=e=>{if(!t.registered)return;r(e);const o=t.get("inputInstance");if(o&&o._getCPI().setOptionGroups){o._getCPI().setOptionGroups([{options:e}]);if(!c){t._getCPI().updateRowAndValue()}t.publish("dependentFieldUpdated")}};let c=false;if(s){if(n){return n(this).then(l)}else if(a.getValidPicklistEntries){return a.getValidPicklistEntries(this).then(l)}}},renderDisplayMethod(){const e=this,{displayMethod:t,readOnly:o,mode:i}=e.getState(),n=e.getState(),s=o?oi:i===ti?ti:oi,a=s===ti?t.getEditModeStrategy(n):t.getReadModeStrategy(n),r=e=>{while(e.firstChild)e.removeChild(e.firstChild);for(let t=0;t<e.attributes.length;t++){const o=e.attributes[t],i=o.nodeName;e.removeAttribute(i)}};const l=()=>{return Ko({afterCreate(o){let i=o,l=t.shadowDomOptions||{};if(t.useShadowDom){let e;if(o.shadowRoot){e=o.shadowRoot;e.innerHTML=""}else{e=o.shadowRoot||o.attachShadow({mode:"open"})}o.setAttribute("style","width: 100%");if(l.css)e.innerHTML+="<style>".concat(l.css,"</style>");if(l.cssUrls){let t=Array.isArray(l.cssUrls)?l.cssUrls:[l.cssUrls];t.forEach(t=>e.innerHTML+='<link rel="stylesheet" href="'.concat(t,'">'))}i=document.createElement("div");e.append(i)}e.set("customElement",i);if(a==="element"){r(i);t[s](e,{});e.set(ni,false,false)}else{if(!e.registered)return;if(a==="virtual"){e.projector.append(i,()=>t[s](e,{}))}else{e.projector.append(i,()=>n.inputInstance?n.inputInstance.renderVDom():undefined)}}},afterUpdate(o){if(e.get(ni)){if(a==="element"){r(o);t[s](e,{})}e.set(ni,false,false)}}})};if(t.useShadowDom||a==="element"){return l()}switch(a){case"virtual":return t[s](e,{});case"component":return n.inputInstance?n.inputInstance.renderVDom():undefined}},renderEditAction(){const e=this,t=e.shortcut("getStyledClasses"),{editActionInstance:o,editActionType:i,isTemplateAndEditable:n,mode:s,readOnly:a,showEditAction:r,showEditActionInEditMode:l,type:c,uniqueId:d}=e.getState(),u=e._getCPI();let p=!a&&r&&n!==false&&(s===oi||c==="COMBO"&&s!==ii);if(s===ti&&l){p=true}return p&&Ko({id:"".concat(d,"-toggle-mode"),class:t("change-mode"),onclick:i==="icon"&&u.onClickIcon,onkeypress:i==="icon"&&u.onKeyPressIcon,tabindex:"0",styles:i==="button"?{minWidth:"80px",marginLeft:"8px"}:{}},[o&&o.renderVDom()])},afterCreateDisplayMethodWrapper(e){const{disabledTooltip:t,enableConditions:o}=this.getState(),i=o&&o.attr("message");if(i){t&&t.unregister();this.set({disabledTooltip:Qo._floatingComponentFactory.createTooltip(e,{styleSettingsVariant:"@parent/disabledTooltip",text:i,compact:true},this)})}},onMouseEnterDisplayMethodWrapper(){const{disabledTooltip:e,disabled:t}=this.getState();t&&e&&e.getCPI().show()},onMouseLeaveDisplayMethodWrapper(){const e=this.get("disabledTooltip");e&&e.getCPI().hide()}})}));function li(e,t,o){let i=null,s,a,r=function t(){n["c"].events.unsubscribe(s);s=undefined;e.apply(o||this,a)},l=function e(){a=arguments;clearTimeout(i);i=setTimeout(r,t);if(!s){s=n["c"].events.subscribe("skuid.ui.commitUserInput",function(){clearTimeout(i);if(a)r()})}};return l}var ci={getStyleSettingsVariants(e){const{spacing:t}=e.getShortcuts();return{default:{fontSize:{label:"Message Font Size",value:"@tk.fontSize.body"},color:{label:"Message Text Color",value:"@tk.utility.fontColor"},itemSpacing:"@tk.spacing.s1",imageUploader:{minHeight:t(3)},imageUploaderButtons:{spacingTop:"@tk.spacing.s1",spacingLeft:"@tk.spacing.s1",spacingBetween:"@tk.spacing.s1"},dropzone:{color:{label:"Text Color",value:"@palette.neutral.3"},border:"@tk.borderSize.primary @tk.borderStyle.dashed @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",padding:"@tk.spacing.s1 @tk.spacing.s2",draggingOverBorder:{type:"border",label:"Drag Over Border",value:"@tk.borderSize.primary @tk.borderStyle.dashed @tk.utility.selectedBorderColor"}}}}},getStyleSettingsVariantsChildren(){return{skuid__button:{deleteButton:"destructive",uploader:"default",imageButtons:"circularWithBorder",field:"borderless"},skuid__messageBlock:{errorStrong:"errorStrong"}}},getStyles(e){return{file:{"&:hover":{"& $image-uploader__buttons":{opacity:1}}},"filename-uploader":{display:"flex",alignItems:"center",position:"relative","& > *":{marginLeft:e.itemSpacing,transition:"opacity 250ms ease","&:first-child":{marginLeft:0}}},"image-uploader":{position:"relative",minHeight:e.imageUploader.minHeight},"image-uploader__buttons":{position:"absolute",display:"flex",top:e.imageUploaderButtons.spacingTop,left:e.imageUploaderButtons.spacingLeft,opacity:0},"image-uploader__button":{marginRight:e.imageUploaderButtons.spacingBetween},"drag-text":Object.assign({flex:"1",display:"flex",alignItems:"center",justifyContent:"center",color:e.dropzone.color},s(e.dropzone.border),{borderRadius:e.dropzone.borderRadius,fontSize:e.fontSize,padding:e.dropzone.padding,"&$--dragging-over":Object.assign({},s(e.dropzone.draggingOverBorder))}),"drag-text-absolute":{position:"absolute",top:0,left:0,right:0,bottom:0},"--dragging":{"& > *:not($drag-text)":{opacity:"0 !important"}},"--dragging-over":{},"upload-container__text":{fontSize:e.fontSize,color:e.color,flex:"1"},"file-icon":{marginRight:e.itemSpacing}}}};var di=i(31);var ui={attributes:{_dragging:{type:"boolean",default:false},_draggingOver:{type:"boolean",default:false},acl:{type:"string"},autoRefreshModels:{type:"boolean",default:true},buttonIcon:{type:"string"},buttonLabel:{type:"string",default:"Browse..."},isMultiUpload:{type:"boolean",default:false},datasource:{type:"string"},defaultImage:{type:"picklist",default:di["a"].PERSON,options:[di["a"].PERSON,di["a"].ORG]},description:{type:"string"},deletable:{type:"boolean",default:true},editable:{type:"boolean",default:true},disabled:{type:"boolean",default:false},displayAs:{type:"picklist",default:di["b"].FILENAME,options:[di["b"].FIELD,di["b"].FILENAME,di["b"].IMAGE]},dragText:{type:"string",default:"Drag files here"},dropText:{type:"string",default:"Drop files here"},field:{type:"string"},fieldtargetobjects:{type:"string"},fileName:{type:"string"},idField:{type:"string"},maxFileSize:{type:"number"},enforceMaxFileSize:{type:"boolean"},model:{type:"model"},ownerIdField:{type:"string"},processOnClient:{type:"boolean",default:false},saveTo:{type:"string",default:di["d"].DATASOURCE,options:[di["d"].DATASOURCE,di["d"].FIELD]},snippetName:{type:"string"},storeAs:{type:"string"},url:{type:"string"},useLightningUploaderIfAvailable:{type:"boolean"}},nodes:{},properties:{styles:true,actions:["uploadSuccessActions","uploadFailureActions"],conditions:true,renderConditions:true,styleVariantConditions:true}};const{h:pi,div:gi,$L:hi,utils:bi}=Object(n["d"])(),fi=n["c"].snippet,mi="_uploadElement",yi="_dropzoneElement";n["a"].register("skuid__file",Object.assign({},ci,{schema:ui,init(e,t,o){const i=e.shortcut("set"),s=e.shortcut("get"),a=o.initializeFileController(),r=n["c"].platform.FileComponent&&new n["c"].platform.FileComponent(e,a),l=!!(r&&r.useCustomFileUploader());i({fileController:a,platformSpecificComponent:r,useCustomUploader:l});let c;if(l){c=document.createElement("div");e.subscribeChange("show",e=>{if(e){n["c"].$(c).show()}else n["c"].$(c).hide()});e.subscribeChange("fileController",e=>{if(e){r.fileController=e}});e.subscribe("beforeUnregister",()=>{r.unregister&&r.unregister()});i({customUploaderElement:c})}const{model:d,row:u,idField:p,uploadMethod:g}=a.getOptions();let h,b;if(u&&p&&g&&g.needsFieldContext){h=g.getFileIdField&&g.getFileIdField(p);b=g.getFileNameField&&g.getFileNameField(p);e.storeSubscription(d.subscribe("row.updated",t=>{let a=false,r=bi.hasObjectProperty,l,c;if(t.rowId===d.getRowId(u)&&t.initiatorId!==e.id()){a=r(t.updates,p)||h&&r(t.updates,h)||b&&r(t.updates,b);if(a){c=s("fileController");l=n["c"].$C(t.initiatorId);if(l&&l.get("fileController")){c.cacheBuster=l.get("fileController").cacheBuster}i({fileController:o.initializeFileController()})}}}))}if(d){["row.created","loaded","saved","cancelled"].forEach(t=>e.storeSubscription(d.subscribe(t,t=>{let a,r;if(t.initiatorId!==e.id()){r=s("fileController");a=n["c"].$C(t.initiatorId);if(a&&a.cacheBuster){r.cacheBuster=a.cacheBuster}i({fileController:o.initializeFileController()})}})))}if(l)return;const f=e.createChildComponent({componentType:"skuid__icon",handle:o.getMIMEType()}),m=e.createChildComponent({componentType:"skuid__messageBlock",styleSettingsVariant:"@parent/errorStrong",title:"Error",description:a.error}),y=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/uploader",label:t.buttonLabel,icon:t.buttonIcon,onClick:o.onClickUpload,disabled:t.disabled}),C=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/deleteButton",icon:"sk-webicon-ink:delete",onClick:o.onClickDelete});e.bind("disabled",y);e.subscribe("uploadComplete",o.updateFileIconInstance);e.subscribeChange("fileController",()=>{o.updateFileIconInstance();o.updateErrorInstance()});i({errorInstance:m,fileIconInstance:f,buttonInstance:y,deleteFileInstance:C});o.setDisplayAsComponents();e.subscribeChange("displayAs",o.setDisplayAsComponents)},renderVDom(e){const t=e._cpi,o=e.shortcut("getStyledClasses"),{useCustomUploader:i,editable:n,disabled:s,fileController:a,errorInstance:r,displayAs:l}=e.getState();return pi("div",{key:e,class:o("file"),afterUpdate:t.appendAndRenderCustomFileUploader,afterCreate:t.appendAndRenderCustomFileUploader},!i?[n&&t.renderUploadInput(),!s&&a.error?r.renderVDom():t.renderUploadComponent(l)]:[])},cpi:{renderUploadInput(){const e=this._cpi,t=this.getState();return pi("input",{key:"file__input",disabled:t.fileController.isNewRow===true,type:"file",multiple:t.isMultiUpload?true:undefined,afterCreate:e.afterCreateUploadInput,afterUpdate:e.afterCreateUploadInput,styles:{display:"none"},onchange:e.handleUpload})},appendAndRenderCustomFileUploader(e){const{customUploaderElement:t,platformSpecificComponent:o,useCustomUploader:i}=this.getState();if(i&&t){o.renderUploader(t)}if(i&&t&&t.parentNode!==e){e.appendChild(t)}},afterCreateUploadInput(e){this.set({[mi]:e})},renderUploadComponent(e){const t=this._cpi;switch(e){case di["b"].IMAGE:return t.renderImageUpload();case di["b"].FIELD:return t.renderFieldUpload();default:return t.renderButtonUpload()}},renderDragText(e){const t=this.getState(),o=this.shortcut("getStyledClasses");return gi({key:"drag-text",classes:o({"drag-text":true,"drag-text-absolute":e,"--dragging-over":t._draggingOver})},[t._draggingOver?t.dropText:t.dragText])},renderButtonUpload(){const{fileController:e,deleteFileInstance:t,buttonInstance:o,_dragging:i,_draggingOver:n,_uploading:s}=this.getState(),a=!!e.fileId,r=(a||s)&&!i,l=this.shortcut("getStyledClasses"),c=this._cpi;return gi({key:"file__button",classes:l({"filename-uploader":true,"--dragging":i,"--dragging-over":n}),afterCreate:c.afterCreateDropzone},[i&&c.renderDragText(true),o.renderVDom(),e.fileId&&e.uploadMethod.needsFieldContext&&t.renderVDom(),r&&c.renderMessaging()])},renderImageUpload(){const{_dragging:e,_draggingOver:t,imageComponents:o,fileController:i}=this.getState(),n=this.shortcut("getStyledClasses"),s=this._cpi;return gi({key:"file__image",afterCreate:s.afterCreateDropzone,classes:n({"image-uploader":true,"--dragging":e,"--dragging-over":t})},[e&&s.renderDragText(true),o.image.renderVDom(),gi({key:"file__image__buttons",class:n("image-uploader__buttons")},[gi({key:"file__image__edit",class:n("image-uploader__button")},[o.editButton.renderVDom()]),gi({key:"file__image__delete",class:n("image-uploader__button")},[i.fileId&&o.deleteButton.renderVDom()])])])},renderMessaging(){const{fileController:e,messageOverride:t,uploadingFileName:o,percentLoaded:i,fileIconInstance:s,_uploading:a}=this.getState(),r=this.shortcut("getStyledClasses"),l=!!e.uploadMethod.needsFieldContext,c=!!t,d=!c&&a,u=a?"".concat(n["c"].label.merge(hi("Uploading"),o)).concat(i,"%"):null,p=!c&&!a&&e.fileName;return gi({key:"messaging",class:r("upload-container__text")},[(a||l)&&pi("span",{key:"file-icon",classes:r({"file-icon":true})},[s.renderVDom()]),c&&t,d&&u,l&&p&&e.fileName])},renderFieldUpload(){const{_dragging:e,_uploading:t,editable:o,deletable:i,fileController:n,fieldComponents:s}=this.getState(),a=!!n.fileId,r=(a||t)&&!e,l=!r&&o,c=a&&o&&i,d=a&&!c,u=!a&&o,p=this._cpi,g=this.shortcut("getStyledClasses");return gi({key:"field-upload",classes:g({"filename-uploader":true}),afterCreate:p.afterCreateDropzone},[r&&p.renderMessaging(),l&&p.renderDragText(),c&&s.menuButton.renderVDom(),d&&s.downloadButton.renderVDom(),u&&s.uploadButton.renderVDom()])},afterCreateDropzone(e){const t=this.shortcut("set"),o=this._cpi,i=this.getState(),n=(e,o)=>{e.preventDefault();t("_draggingOver",o)},s=(e,o)=>{e.preventDefault();t("_dragging",o)};t({[yi]:e});if(i.fileController.isNewRow)return;e.addEventListener("dragenter",e=>n(e,true));e.addEventListener("dragover",e=>{e.dataTransfer.dropEffect="copy";n(e,true)});e.addEventListener("dragleave",e=>n(e,false));e.addEventListener("drop",e=>{n(e,false);o.handleUpload(e)});window.addEventListener("dragenter",e=>s(e,true));window.addEventListener("dragover",e=>s(e,true));window.addEventListener("dragleave",e=>s(e,false));window.addEventListener("drop",e=>s(e,false))},onClickDelete(){const{fileController:e,deleteFileInstance:t,[mi]:o}=this.getState();if(t){t.set("disabled",true)}e.deleteFile({startHook:()=>{this.set({messageOverride:hi("Deleting")})},endHook:e=>{let i=0;o.value=null;if(e&&e.message){this.set({messageOverride:e.message});i=2e3}this.delay(i).then(()=>this.set({messageOverride:null}));if(t){t.set("disabled",false)}}})},onClickDownload(){const e=this.get("fileController"),t=e.fileName;this._cpi.fetchFileUrl().then(e=>{n["c"].dataSource.utils.downloadWithLink(t,e)})},fetchFileUrl(){const e=this.get("fileController"),t=e.uploadMethod;return t.getSrc({context:{id:e.fileId},component:this,paramString:"",dataSource:e.dataSource})},onClickUpload(){const e=this.get(mi);e&&e.click()},uploadFile(e){const t=this._cpi,o=this.getState(),i=o.fileController;return i.uploadFile(e,{startHook:t.uploadStart,endHook:t.uploadEnd,progressHook:t.uploadProgress})},handleUpload(e){e.preventDefault();const t=e.dataTransfer?e.dataTransfer.files:e.target.files,o=this.getState(),i=this._cpi;o.fileController.handleUpload(t,{startHook:i.uploadStart,endHook:i.uploadEnd,progressHook:i.uploadProgress})},uploadStart(e={}){this.set({_uploading:true,uploadingFileName:e.fileName,percentLoaded:0})},uploadProgress(e){const t=Math.round(e.loaded/e.total*100);this.set({percentLoaded:t})},uploadEnd(e){if(e&&e.message){if(e&&e.message){this.getChildComponents().push(bi._floatingComponentFactory.createToast(e.message,{styleSettingsVariant:"error",clickToDismiss:true},this))}}this.set({percentLoaded:100});this.get("fileController").uploadFinished(e);this.publish("uploadComplete",[e]);this.delay(2e3).then(()=>this.set({_uploading:false,messageOverride:null,percentLoaded:null}))},getMIMEType(){const e=this.get("fileController"),t=e.fileName,o=t&&t.split(".").pop().toLowerCase(),i=o&&di["c"][o];return"sk-webicon-ink-filetypes:"+(i||di["c"].attachment)},updateFileIconInstance(){const e=this._cpi;this.get("fileIconInstance").set("handle",e.getMIMEType())},updateErrorInstance(){const{errorInstance:e,fileController:t}=this.getState();e.set("description",t.error)},initializeFileController(){const e=this.getState();return new bi.FileController({component:this,context:e.context,model:e.model,acl:e.acl,dataSource:e.datasource,idField:e.idField,field:e.field,saveTo:e.saveTo,storeAs:e.storeAs,editable:e.editable,deletable:e.deletable,fileName:e.fileName,maxFileSize:e.maxFileSize,enforceMaxFileSize:e.enforceMaxFileSize,displayAs:e.displayAs,description:e.description,url:e.url,snippetName:e.snippetName,autoRefreshModelsOnUpload:e.autoRefreshModels,uploadSuccessActions:e.uploadSuccessActions,uploadFailureActions:e.uploadFailureActions})},setDisplayAsComponents(){const e=this._cpi,t=this.getState(),{displayAs:o,uniqueId:i}=t,n=t.fileController,s=t.imageComponents,a=t.fieldComponents,r="".concat(i,"-upload"),l="".concat(i,"-download"),c="".concat(i,"-remove");fi.unregister(r,e.onClickUpload);fi.unregister(l,e.onClickDownload);fi.unregister(c,e.onClickDelete);if(s){s.image.unregister();s.editButton.unregister();s.deleteButton.unregister()}if(a){a.uploadButton.unregister();a.downloadButton.unregister();a.menuButton.unregister()}if(o===di["b"].FIELD){fi.register(r,e.onClickUpload);fi.register(l,e.onClickDownload);fi.register(c,e.onClickDelete)}this.set("imageComponents",o===di["b"].IMAGE?{image:this.createChildComponent({componentType:"skuid__image",model:n.model,context:t.context,defaultImage:t.defaultImage,datasource:n.dataSourceName,source:"attachment",field:t.idField}),editButton:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/imageButtons",icon:"sk-webicon-ink:edit",onClick:e.onClickUpload}),deleteButton:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/imageButtons",icon:"sk-webicon-ink:delete",onClick:e.onClickDelete})}:false);this.set("fieldComponents",o===di["b"].FIELD?{uploadButton:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/field",icon:"sk-webicon-ink:add",onClick:e.onClickUpload,tooltip:'<tooltip text="Upload" compact="true" />'}),downloadButton:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/field",icon:"sk-webicon-ink:download",onClick:e.onClickDownload,tooltip:'<tooltip text="Download" compact="true" />'}),menuButton:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/field",icon:"sk-webicon-ink:dots-vertical",actions:bi.makeXMLDoc('<actions>\n\t\t\t\t\t\t<action type="toggleMenu">\n\t\t\t\t\t\t\t<optionGroups>\n\t\t\t\t\t\t\t\t<optionGroup>\n\t\t\t\t\t\t\t\t\t<options>\n\t\t\t\t\t\t\t\t\t\t<option label="Upload">\n\t\t\t\t\t\t\t\t\t\t\t<actions>\n\t\t\t\t\t\t\t\t\t\t\t\t<action type="custom" snippet="'.concat(t.uniqueId+"-upload",'" />\n\t\t\t\t\t\t\t\t\t\t\t</actions>\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option label="Download">\n\t\t\t\t\t\t\t\t\t\t\t<actions>\n\t\t\t\t\t\t\t\t\t\t\t\t<action type="custom" snippet="').concat(t.uniqueId+"-download",'" />\n\t\t\t\t\t\t\t\t\t\t\t</actions>\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option label="Delete">\n\t\t\t\t\t\t\t\t\t\t\t<actions>\n\t\t\t\t\t\t\t\t\t\t\t\t<action type="custom" snippet="').concat(t.uniqueId+"-remove",'" />\n\t\t\t\t\t\t\t\t\t\t\t</actions>\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</options>\n\t\t\t\t\t\t\t\t</optionGroup>\n\t\t\t\t\t\t\t</optionGroups>\n\t\t\t\t\t\t</action>\n\t\t\t\t\t</actions>'))})}:false)}}}));var Ci={getStyleSettings(){return{rangeFilterSpacing:{type:"spacing",value:"@tk.spacing.s1"}}},getStyleSettingsVariantsChildren:()=>{return{skuid__autocomplete:{autocomplete:"default"},skuid__inputText:{search:"default"},skuid__select:{select:"default"},skuid__switch:{switch:"default"}}},getStyles(e){return{filter:{flex:"auto"},disabled:{pointerEvents:"none"},"range-picker":{display:"flex"},"range-picker--vertical":{flexWrap:"wrap",marginLeft:"-".concat(e.rangeFilterSpacing),marginBottom:"-".concat(e.rangeFilterSpacing),"& > $range-picker__picker":{paddingLeft:e.rangeFilterSpacing,paddingBottom:e.rangeFilterSpacing}},"range-picker__picker":{minWidth:"130px",flex:"1"},"range-picker__start--horizontal":{paddingRight:e.rangeFilterSpacing},"range-picker__start--vertical":{}}}};const ki={type:"array",childNode:{effect:{attributes:{action:{type:"picklist",default:"set",options:["set","activate","deactivate"]},condition:{type:"string"},value:{type:"string"}}}}};var Si={attributes:{uniqueId:{type:"string"},model:{type:"model"},type:{type:"picklist",required:true,options:["select","multiselect","daterange","numericrange","toggle","search"],default:"select"},conditionName:{type:"string"},conditionValue:{type:"string",default:""},conditionOperator:{type:"string"},startConditionName:{type:"string"},startConditionValue:{type:"string",default:""},endConditionName:{type:"string"},endConditionValue:{type:"string",default:""},label:{type:"string",default:""},picklistType:{type:"picklist",options:["select","menu","radio"]},conditionSource:{type:"picklist",options:["auto","manual"]},conditionField:{type:"string"},fieldtargetobjects:{type:"string"},instantFilters:{type:"boolean",default:true},instantSearch:{type:"boolean",default:false},limitOptions:{type:"number"},showAll:{type:"boolean",default:false},filterOffOptionLabel:{type:"string"},useSelectAllOption:{type:"boolean",default:false},disabled:{type:"boolean",default:false},displayAs:{type:"picklist",options:["radioOrCheckboxes"]},fields:{type:"array"},rememberInPersonalization:{type:"boolean",default:true},searchOptions:{type:"object"},searchMethod:{type:"picklist",default:"server",options:["server","client"]},filterMethod:{type:"picklist",default:"server",options:["server","client"]},layout:{type:"picklist",default:"horizontal",options:["horizontal","vertical","verticalAccordions","listHeader"]},tokenizeSearch:{type:"boolean"},searchPlaceholder:{type:"string"},searchFields:Qt,emptySearchBehavior:{type:"picklist",default:"query",options:["query","remove"]},useSOSL:{type:"boolean"},soslFields:{type:"picklist",default:"Name Fields",options:["Name Fields","All Fields","Email Fields","Phone Fields","Sidebar Fields"]},labelMode:{type:"picklist",default:"no",options:["auto","manual","no"]},conditionsToToggle:{type:"string"},createFilterOffOption:{type:"boolean",default:false},autocompleteThreshold:{type:"number"}},nodes:{sources:{type:"array",childNode:{source:{attributes:{effectsbehavior:{type:"picklist",options:["justdefault","defaultandothers"]},model:{type:"model"},prefix:{type:"string"},snippet:{type:"string"},suffix:{type:"string"},type:{type:"picklist",default:"manual",options:["manual","model","metadata","custom"]},labeltemplate:{type:"string"},valuetemplate:{type:"string"}},nodes:{options:{type:"array",childNode:{option:{attributes:{label:{type:"string"},type:{type:"picklist",default:"simple",options:["simple","complex"]},value:{type:"string"}},nodes:{effects:ki}}}},effects:ki}}}},positioning:{type:"node",attributes:{alignSelf:{type:"string"},minWidth:{type:"string"},maxWidth:{type:"string"},ratio:{type:"string"},width:{type:"string"}}},effects:ki},properties:{conditions:true,renderConditions:true},access:{cpi:{public:["toggleCollapsed","toggleShowAll","deactivateFilterConditions","resetToDefaultValue"]}}};const{$:wi,h:_i,utils:Ii,getBuilderProps:vi,$L:xi}=Object(n["d"])(),Ti=n["c"].constants.DATASOURCE.SEARCH_CONDITION,Oi=n["c"].constants.DATASOURCE.SEARCH_CONDITION_CLIENT,Ri="_dontEvaluateConditionsOnChange",Ei=["cancelled","loaded","saved","row.created","row.deleted","row.undeleted","row.updated"];function Pi(e){return e==="true"||e===true}n["a"].register("skuid__filter",Object.assign({},Ci,{schema:Si,init(e,t,o){if(t.type==="search"&&!t.conditionName&&t.model){if(t.searchMethod==="client"){this.set("conditionName",Oi)}else{this.set("conditionName",Ti)}}o.setTypeAndLabel();["filterMethod","label","labelMode","type","displayAs"].forEach(t=>{e.subscribeChange(t,o.setTypeAndLabel)})},renderVDom(e){const t=e.getState(),{filterRenderer:o,propHint:i,model:n}=t,s=e.shortcut("getStyledClasses");let{disabled:a}=t;if(n.hasChanged&&!a){e.set("disabled",true);a=true}return _i("div",Object.assign({key:e},vi(e,{propHint:i}),{classes:s({disabled:a})}),[_i("span",{key:"filter"},[o.renderVDom()])])},cpi:{preventDataUpdates(){this.set("doNotUpdateData",true,false)},allowDataUpdates(){this.set("doNotUpdateData",false,false)},setTypeAndLabel(){const e=this.shortcut("get"),t=this.shortcut("set"),o=this._cpi,{conditionName:i,conditionsToToggle:n,conditionOperator:s,conditionSource:a,endConditionName:r,filterMethod:l,labelMode:c,model:d,startConditionName:u,type:p}=this.getState(),g=o.getConditionFromName(i),h=o.getConditionFromName(u),b=o.getConditionFromName(r),f=n?n.split(",").map(e=>d.getConditionByName(e)):[],m=e=>{if(!e)return null;if(e.getType()==="skuid__filterSet")return e.getId();return m(e.getParentComponent())};let y=p==="search"?"filter--search":"";if(p!=="search"&&l==="client"){if(g)g.processOnClient=true;if(h)h.processOnClient=true;if(b)b.processOnClient=true;if(f.length){f.forEach(e=>e.processOnClient=true)}}if(a==="auto"&&p==="multiselect"){if(g)g.operator=s||"in";if(h)h.operator=s||"in";if(b)b.operator=s||"in"}if(c==="auto"&&(g||h)){t("_label",e("model").getField(h?h.field:g.field).label)}else if(c==="no"){t("_label","")}else if(c==="manual"||!c){this.registerMergeAttribute("label","_label")}t({collapsedAccordion:false,condition:g,endCondition:b,startCondition:h,toggleConditions:f,pendingConditionValuePairs:[],parentFilterSetId:m(this.getParentComponent())});const C=o.createFilterRenderer(p);if(["daterange","numericrange"].includes(p)){this.bind("disabled",C.get("startRangePicker"));this.bind("disabled",C.get("endRangePicker"))}else{this.bind("disabled",C)}t({propHint:y,filterRenderer:C})},getConditionFromName(e){if(!e){return false}const t=this._getCPI(),o=t.getConditionDetails(e,true),i=o&&o.condition;if(!i)return false;return i},getConditionDetails(e,t){const o=this.get("model"),i=[...o.conditions||[],...o.havings||[],...o.uiOnlyConditions||[]];let n,s,a,r;for(n in i){a=i[n];if(a.name===e){return{condition:a,isSubCondition:false}}if(t&&a.subConditions&&a.subConditions.length){for(s in a.subConditions){r=a.subConditions[s];if(r.name===e){return{condition:r,parent:a,isSubCondition:true}}}}}},activateCondition(e,t){e.activateCondition(t,{remember:this.get("rememberInPersonalization"),initiatorId:this.id()})},deactivateCondition(e,t){e.deactivateCondition(t,{remember:this.get("rememberInPersonalization"),initiatorId:this.id()})},deactivateFilterConditions(){let{condition:e,startCondition:t,endCondition:o,toggleConditions:i,model:n}=this.getState(),s=this._getCPI(),a=[e,t,o,...i||[]].filter(Boolean);this.set("pendingConditionValuePairs",[],false);let r=false;a.map(e=>{if(!e.inactive){r=true}s.deactivateCondition(n,e)});return r},handleToggleClick(e){const t=Pi(e),o=this.get("toggleConditions"),i=this.get("effects")||[],n=this._getCPI(),s={inactive:!t,type:"toggle"};n.setConditionValue(o,s);for(let e of i){if(t){n.applyEffect(e,{model:this.get("model")})}else{n.unApplyEffect(e)}}if(n.shouldApplyFilterImmediately()){n.applyPendingConditionValues();n.updateData()}},toggleCondition(e,t,o){const i=this._getCPI();if(!o.inactive){i.activateCondition(e,t)}else{i.deactivateCondition(e,t)}},applyPendingConditionValues(){const{emptySearchBehavior:e,filterRenderer:t,model:o,pendingConditionValuePairs:i,searchMethod:n,rememberInPersonalization:s}=this.getState(),a=this._getCPI(),r=i&&i.length;i&&i.map(i=>{const[r,l]=i;if(this.get("type")==="search"){const o=t.get("value"),{conditionName:i,model:s,searchFields:a,soslFields:r,tokenizeSearch:l,useSOSL:c}=this.getState();const d=s.buildSearchCondition(i,o,a,{tokenize:l,useSOSLSearch:!!c,SOSLFields:r,processOnClient:n==="client"});this.set("condition",d);if(o===""&&e==="remove"){s.emptyData()}return}if(l&&l.type==="toggle"){a.toggleCondition(o,r,l);return}if(a.isValidConditionValue(l)){o.setCondition(r,l,{remember:s,initiatorId:this.id()})}else{a.deactivateCondition(o,r)}});this.set("pendingConditionValuePairs",[],false);this.set("appliedConditionValuePairs",i,false);return r},isValidConditionValue(e){return e!==""&&e!==undefined&&!(Array.isArray(e)&&e.length===0)},hasValue(){const{type:e,condition:t,filterRenderer:o}=this.getState();if(t&&t.inactive)return false;switch(e){case"toggle":return!!o.get("checked");case"daterange":case"numericrange":return o._getCPI().hasValue();default:return!!o.get("value")}},setConditionValue(e,t,o={}){const{model:i,rememberInPersonalization:s,parentFilterSetId:a}=this.getState(),r=this._getCPI(),l=r.shouldBatchConditionChanges(),c=r.shouldApplyFilterImmediately();if(!Array.isArray(e)){e=[e]}let d=false;e.forEach(e=>{if(!t&&e&&e.inactive)return;if(t&&o.multi){if(typeof t==="string"&&Ii.isMultiValueOperator(e.operator)){t=t.split(";")}else if(Array.isArray(t)&&!Ii.isMultiValueOperator(e.operator)){t=t.join(";")}}d=true;if(c&&!l){if(t&&t.type==="toggle"){r.toggleCondition(i,e,t);return}if(r.isValidConditionValue(t)){i.setCondition(e,t,{remember:s,initiatorId:this.id()})}else{r.deactivateCondition(i,e)}}else{r.prepConditionValue(e,t)}});a&&n["c"].events.publish("condition.valueChanged:".concat(a));if(d&&c&&!l){return r.updateData(e)}},prepConditionValue(e,t){let o=this.get("pendingConditionValuePairs")||[];o.push([e,t]);this.set("pendingConditionValuePairs",o,false)},toggleCollapsed(){this.set("collapsedAccordion",!this.get("collapsedAccordion"))},toggleShowAll(){this.set("showAll",!this.get("showAll"))},getNoneSelectedText(){const{conditionSource:e,createFilterOffOption:t,filterOffOptionLabel:o}=this.getState();let i;if(e==="auto"||t){i=o||n["c"].$L("None_Selected")}return i},getConditionValue(e){const t=this.get("condition");return e?(t.values||[]).join(";"):t.value},updateData(){if(!this.get("doNotUpdateData")){const e=!this._getCPI().shouldUpdateDataClientSide();if(e){this.get("model").updateData(()=>this.publish("dataUpdated"));this.publish("_updateDataInitiated")}else{this.get("model").loadClientSide(()=>this.publish("dataUpdated"));this.publish("_updateDataInitiated")}}},shouldUpdateDataClientSide(){const{filterMethod:e,searchMethod:t,type:o,appliedConditionValuePairs:i=[]}=this.getState();if(this._getCPI().shouldBatchConditionChanges()){for(let e=0;e<i.length;e++){const[t]=i[e];if(!t.processOnClient){return false}}return true}if(o==="search"){return t==="client"}return e==="client"},effectsAreAllPresent(e,t=[]){const o=this._getCPI();const i={model:e};for(let s of t){const t=e.getConditionByName(s.condition,true);if(!t)return false;switch(s.action){case"set":{let a=n["c"].utils.mergeAsDataInContext(s.value||"",i);if(o.conditionForBoolean(t,e)){a=Pi(a)}if(t.type==="multiple"){if(!t.values||!t.values.length){return false}if(!t.values.includes(a)){return false}}else if(t.value!==a||t.inactive){return false}break}case"activate":{if(t.inactive){return false}break}case"deactivate":{if(!t.inactive){return false}break}default:{return false}}}return true},createFilterRenderer(e){const t=this._getCPI(),o=this.get("displayAs")!=="radioOrCheckboxes";switch(e){case"select":return o?t.createSelect():t.createCheckboxList();case"multiselect":return o?t.createSelect(true):t.createCheckboxList(true);case"daterange":return t.createRangePickers("DATE");case"numericrange":return t.createRangePickers("NUMBER","VALUE_STEPPER");case"toggle":return t.createToggle();case"search":return t.createSearch();default:throw Error('"'.concat(e,'" is not a valid filter type'))}},createToggle(){const e=this._getCPI(),t=this.get("model"),o=this.get("conditionsToToggle"),i=this.get("effects")||[],n=o?o.split(","):[],s=[...n,...i.map(e=>{return e.condition})].filter(Boolean),a=()=>{const o=this.get("toggleConditions"),n=(o||[]).findIndex(e=>!e||e.inactive===true)>-1;if(n){return false}return e.effectsAreAllPresent(t,i)},r=this.createChildComponent({componentType:"skuid__switch",styleSettingsVariant:"@parent/switch",checked:a()});r.subscribeChange("checked",()=>{if(this.get(Ri))return;e.handleToggleClick(r.get("checked"))});s.forEach(e=>this.storeSubscription(t.subscribe("condition.".concat(e,".modified"),()=>{this.set(Ri,true,false);r.set("checked",a());this.set(Ri,false,false)})));return r},createRangePickers(e,t){const o=this._getCPI(),i=this.shortcut("getStyledClasses"),{startCondition:s,endCondition:a,labelMode:r,layout:l,model:c,type:d,_label:u}=this.getState(),p=r!=="no",g=u?" "+u:"",h=d.match("date"),b=d.match("numeric"),f=h?"Start":"Min",m=h?"End":"Max",y="".concat(f).concat(g),C="".concat(m).concat(g),k=Ii.startsWith(l,"vertical"),S=o.shouldApplyFilterImmediately(),w=this.createChildComponent({componentType:"skuid__field",styleSettingsVariant:h?"@parent/datepickerField":"@parent/numericField",type:e,displayAs:t,label:p?y:null}),_=this.createChildComponent({componentType:"skuid__field",styleSettingsVariant:h?"@parent/datepickerField":"@parent/numericField",type:e,displayAs:t,label:p?C:null}),I=function e(){const{startRangePicker:t,endRangePicker:o}=this.getState();return _i("div",{key:"range pickers",classes:i({"range-picker":true,"range-picker--vertical":k})},[_i("div",{key:"start",classes:i({"range-picker__picker":true,"range-picker__start--horizontal":!k,"range-picker__start--vertical":k})},[t.renderVDom()]),_i("div",{key:"end",classes:i({"range-picker__picker":true})},[o.renderVDom()])])},v={resetToDefaultValue(){const{startRangePicker:e,endRangePicker:t}=this.getState();e._getCPI().resetToDefaultValue();t._getCPI().resetToDefaultValue()},hasValue(){const{startRangePicker:e,endRangePicker:t}=this.getState();return!!e.get("value")||!!t.get("value")}},x=(e,t,o)=>{if(h){const i=e.field;const s=i&&c.getField(i);if(!s||s.displaytype!=="DATETIME"){return t}try{if(o){const e=n["c"].time.getStartOfDateForUserTimezone(t);return n["c"].time.getSFDateTime(e)}else{const e=n["c"].time.getEndOfDateForUserTimezone(t);return n["c"].time.getSFDateTime(e)}}catch(e){}}return t},T=new Ao["c"](I,v);T.set({startRangePicker:w,endRangePicker:_});let O=s.value;let R=a.value;if(s.inactive===false&&s.value&&c.getField(s.field).displaytype==="DATETIME"){O=n["c"].time.isoStringToUserDateString(s.value)}if(a.inactive===false&&a.value&&c.getField(a.field).displaytype==="DATETIME"){R=n["c"].time.isoStringToUserDateString(a.value)}w.set("value",s.inactive===false?O:"");_.set("value",a.inactive===false?R:"");const E=(e,t)=>{return i=>{if(this.get(Ri))return;i=x(e,i,t);o.setConditionValue(e,i)}};if(b&&S){w.subscribeDebounceableChange("value",500,E(s,true));_.subscribeDebounceableChange("value",500,E(a,false))}else{w.subscribeChange("value",E(s,true));_.subscribeChange("value",E(a,false))}this.storeSubscription(c.subscribe("condition.deactivated",e=>{if(e.conditionName!==s.name&&e.conditionName!==a.name)return;this.set(Ri,true,false);T.cpi.resetToDefaultValue();this.set(Ri,false,false)}));return T},setSearchableFields(){const{model:e,searchMethod:t,searchFields:o}=this.getState();const i=function e(o){if(!o)return false;const i=o.displaytype in n["c"].ui.searchableDisplayTypes;const s=o.filterable;const a=t==="client";const r=o.type==="childRelationship";return i&&(s||a)||r&&a};let s=[];if(o&&o.length){s=o.map(t=>{const o=e.getField(t.field);if(!o)return false;o.searchOperator=t.operator;return i(o)?o:false})}else{s=e.fields.map(t=>{const o=e.getField(t.id);return i(o)?o:false})}s=s.filter(Boolean);this.set({searchFields:s})},createSearch(){const e=this._getCPI(),{condition:t,searchPlaceholder:o}=this.getState(),i=this.createChildComponent({componentType:"skuid__inputText",styleSettingsVariant:"@parent/search",placeholder:o,withButton:true,buttonIcon:"sk-webicon-ink:search",defaultValue:t&&!t.inactive?t.value:undefined});i.subscribeChange("value",e=>{this.set("pendingConditionValuePairs",[[undefined,e]],false)});e.setSearchableFields();return i},resetToDefaultValue(){const e=this.get("filterRenderer");e.cpi.resetToDefaultValue()},createSelect(e=false){let t;const o=this._getCPI(),{condition:i,conditionSource:n,model:s,autocompleteThreshold:a,sources:r}=this.getState(),l=s.getField(i.field),c=this.createChildComponent({componentType:"skuid__field",show:false,model:s,row:{},field:l,id:l.id,mode:"read"}),d=o.getConditionValue(e),u=i.inactive===false?d:"",p=i&&i.name,g=n==="manual",h=o.getNoneSelectedText(),b=()=>this.createChildComponent({componentType:"skuid__select",styleSettingsVariant:"@parent/select",multi:e,value:u,noneSelectedText:e?h:undefined}),f=()=>{o.getPicklistEntries(c).then(i=>{this.registered&&o.updatePicklistEntries(t,o.processEntries(i,e),e)})};if(g){const i=o.processEntries(o.getManualPicklistEntries(c),e);if(i.length>=a){t=o.createAutocompleteFilter(c,u,e,{optionGroups:[{options:i}]});o.updatePicklistEntries(t,i,e)}else{t=b();f()}let n={};(r||[]).forEach(e=>{if(e.type==="model"&&e.model){Ei.forEach(t=>this.storeSubscription(e.model.subscribe(t,f)))}if(e.type==="manual"){(e.options||[]).forEach(e=>{if(e.type==="simple"){if(p){n[p]=1}}else if(e.type==="complex"){(e.effects||[]).forEach(e=>{if(e.condition){n[e.condition]=1}})}else{throw Error("Malformed manual option")}})}if(p&&(e.effectsbehavior==="defaultandothers"||e.effectsbehavior==="justdefault")){n[p]=1}if(e.effectsbehavior==="defaultandothers"){(e.effects||[]).forEach(e=>{if(e.condition){n[e.condition]=1}})}});const l=Object.keys(n);l.forEach(e=>{this.storeSubscription(s.subscribe("condition.".concat(e,".modified"),f))})}else{this.storeSubscription(s.subscribe("condition.deactivated",e=>{if(i.name!==e.conditionName)return;o.resetToDefaultValue()}));if(l.displaytype==="REFERENCE"&&!Ii.endsWith(l.id,"RecordTypeId")){return o.createReferenceFilter(c,e)}t=b();f();if(a){o.getAutoPicklistEntries(c).then(i=>{if(!this.registered)return;const n=o.processEntries(i,e);if(n.length>=a){if(t)t.unregister();t=o.createAutocompleteFilter(c,u,e);this.set("filterRenderer",t);f();o.addPicklistValueChangeListener(t,e);t.registered&&this.bind("disabled",t)}})}}s.subscribeOnce("loaded",f);o.addPicklistValueChangeListener(t,e);return t},createCheckboxList(e=false){const t=this._getCPI(),{model:o,condition:i,limitOptions:n,useSelectAllOption:s,sources:a}=this.getState(),r=o.getField(i.field),l=this.createChildComponent({componentType:"skuid__field",show:false,model:o,row:{},field:r,id:r.id,mode:"read"}),c=t.getConditionValue(e),d=()=>{t.getPicklistEntries(l).then(o=>{this.registered&&t.updatePicklistEntries(p,t.processEntries(o,e),e)})};let u={componentType:e?"skuid__checkboxList":"skuid__radioList",styleSettingsVariant:e?"@parent/checkboxList":"@parent/radioList",limitOptions:n};if(e){u.multi=true,u.useSelectAllOption=s}const p=this.createChildComponent(Object.assign({},u,{value:i.inactive===false?c:""}));d();this.storeSubscription(o.subscribe("loaded",d));this.storeSubscription(o.subscribe("condition.deactivated",e=>{if(i.name!==e.conditionName)return;const t=this.get("filterRenderer");this.set(Ri,true,false);t.cpi.resetToDefaultValue();this.set(Ri,false,false)}));t.addPicklistValueChangeListener(p,e);this.subscribeChange("showAll",e=>{p.set("limitOptions",e?undefined:this.get("limitOptions"))});(a||[]).forEach(e=>{if(e.type!=="model"||!e.model)return;Ei.forEach(t=>this.storeSubscription(e.model.subscribe(t,d)))});return p},addPicklistValueChangeListener(e,t){const{condition:o,conditionSource:i}=this.getState(),n=this._getCPI();e.subscribeChange("value",e=>{if(this.get(Ri))return;if(i!=="manual"){return n.setConditionValue(o,e,{multi:t})}n.setManualConditionValue(o,e,{multi:t})})},setManualConditionValue(e,t,o={}){const{picklistEntries:i,createFilterOffOption:n,instantFilters:s,model:a}=this.getState(),r=!!o.multi,l=this._getCPI(),c=(t||"").toString().split(";"),d=[],u=[],p=[];let g=false;if(!t){if(r){l.setConditionValue(e,t,o);g=true}else if(!n){return}}(i||[]).forEach(e=>{e.isSelected=c.indexOf(e.value)>-1;if(e&&p.indexOf(e)===-1){p.push(e);if(e.isSelected){d.push(e)}else{u.push(e)}}});u.forEach(t=>{if(t.affectDefaultCondition){l.setConditionValue(e,"");l.prepDeactivateCondition(e);g=true}const o=t.source;if(o&&o.effects&&o.effects.length){o.effects.forEach(e=>{l.unApplyEffect(e)});g=true}});d.forEach(i=>{if(i.affectDefaultCondition){const i=l.conditionForBoolean(e,a);if(i)t=Pi(t);l.setConditionValue(e,t,o);g=true}const n=i.source;if(n&&n.effects&&n.effects.length){n.effects.forEach(e=>{l.applyEffect(e,n,o)});g=true}});if(g&&s){let e=l.applyPendingConditionValues();if(e){l.updateData()}}},prepDeactivateCondition(e){const t=this._getCPI();t.prepConditionValue(e,{type:"toggle",inactive:true})},prepActivateCondition(e){const t=this._getCPI();t.prepConditionValue(e,{type:"toggle",inactive:false})},applyEffect(e,t,o={}){const i=this.get("model"),s=this._getCPI(),a=i.getConditionByName(e.condition,true);if(a){if(e.action==="deactivate"){s.prepDeactivateCondition(a)}else if(e.action==="set"){let r,l={};if(t&&t.model)l.model=t.model;r=n["c"].utils.mergeAsDataInContext(e.value||"",l);if(a.type==="multiple"){s.setConditionValue(a,r)}else{if(s.conditionForBoolean(a,i)){r=Pi(r)}s.setConditionValue(a,r,o)}}else if(e.action==="activate"){s.prepActivateCondition(a)}}},unApplyEffect(e){const t=this.get("model"),o=this._getCPI(),i=t.getConditionByName(e.condition,true);if(!i){return}if(e.action==="deactivate"){o.prepActivateCondition(i)}else if(e.action==="activate"){o.prepDeactivateCondition(i)}else if(e.action==="set"){o.setConditionValue(i,"");o.prepDeactivateCondition(i)}},shouldBatchConditionChanges(){const{conditionSource:e,type:t}=this.getState();const o=e==="manual"||t==="toggle";const i=t==="multiselect"||t==="select"||t==="toggle";return o&&i},shouldApplyFilterImmediately(){const{instantFilters:e}=this.getState();return!!e},createReferenceFilter(e,t=false){const o=this._getCPI(),{condition:i,conditions:n,limitOptions:s,model:a,searchFields:r}=this.getState(),{field:l}=e.getState(),c=e.getCPI(),d=l.referenceTo||[],u=d.length&&d[0].objectName||l.rel,p=!!t===false&&o.getNoneSelectedText(),g=c.getReturnFieldsToUse(u),h=o.getConditionValue(t),{autocompleteInstance:b}=c.createReferenceAutocomplete({filtersXML:n,value:h,searchFields:r,pageSize:s,parentComponent:this,definition:{styleSettingsVariant:"@parent/autocomplete",multi:t,minCharactersInputtedBeforeSearch:0,buttonIcon:!t&&"sk-webicon-ink:close",fillWidth:false,buttonOnClick:()=>{o.setConditionValue(i,"");b.set("value","")},getOptions:async e=>{let t=await c.getOptions(e,u,g);return t.map(e=>({options:e.options.map(e=>({value:e.value&&e.value.referenceId,label:e.label}))}))},displayValue:h?xi("Loading"):null,displayValueProcessor:null,displayValuePromise(e){const t=this.getCPI(),o=this.get("menuInstance")&&this.get("menuInstance").get("optionGroups");if(!e&&e!==0){t.hideButton();return Ii.resolve(p||"")}t.showButton();if(o&&o[0]&&o[0].options){const t=o[0].options.find(t=>t.value===e);if(t)return Ii.resolve(t.label)}return Di(a,d,e).then(e=>{return e&&e[0]?e[0].label:"Invalid record"})}}});b.subscribeChange("value",e=>{if(this.get(Ri))return;o.setConditionValue(i,e,{multi:t})});return b},createAutocompleteFilter(e,t,o=false,i={}){const{condition:n,conditionSource:s,searchFields:a,autocompleteThreshold:r}=this.getState(),l=this._getCPI(),c=s==="manual",d=o===false&&l.getNoneSelectedText(),u=e.getCPI(),{autocompleteInstance:p}=u.createReferenceAutocomplete({searchFields:a,pageSize:r,parentComponent:this,definition:{styleSettingsVariant:"@parent/autocomplete",multi:o,value:t,minCharactersInputtedBeforeSearch:0,allowEmptySearch:d?true:false,buttonIcon:d?"sk-webicon-ink:close":null,optionGroups:i.optionGroups,buttonOnClick:()=>{l.setConditionValue(n,"")},displayValueProcessor(e){const t=this.getCPI();if(!e&&e!==0){t.hideButton();return d||""}if(c){const t=this.get("optionGroups"),o=t&&t[0]&&t[0].options,i=(o||[]).find(t=>t.value===e);if(i){e=i.label}}t.showButton();return e},getOptions:null}});return p},conditionForBoolean(e,t){let o=e.field;let i=t.getField(o);return i&&i.displaytype==="BOOLEAN"},updateManualPicklistSelectedValue(e,t=false){let{condition:o,picklistEntries:i,model:n,createFilterOffOption:s}=this.getState(),a=this._getCPI();const r=i||[];const l=[];for(let e in r){const i=r[e];if(i.affectDefaultCondition){if(parseInt(e)===0&&s&&!t){if(o.inactive||o.value===""){l.push({type:"none",node:i})}continue}if(o.inactive){continue}let r=i.value;const c=a.conditionForBoolean(o,n);if(t&&o.values&&o.values.length){for(let e of o.values){if(c){e=Pi(e)}if(e===i.value){l.push({node:i});break}}}else{let e=o.value;if(c){r=Pi(r);e=Pi(e)}if(r===e){l.push({type:"defaultCondition",node:i})}}}if(i.effects&&a.effectsAreAllPresent(n,i.effects)){l.push({type:"effects",node:i,effectCount:i.effects&&i.effects.length||0})}}let c;if(t){c=l.map(e=>{return e.node.value}).join(";")||""}else if(l.length){let e=-1;let t;for(let o of l){let i;if(o.type==="none"){i=0}else if(o.type==="defaultCondition"){i=1}else if(o.type==="effects"){i=1+o.effectCount}if(e<i){e=i;t=o.node}}c=t.value}this.set(Ri,true,false);e.set("value",c);this.set(Ri,false,false)},updatePicklistEntries(e,t,o){const i=this.get("conditionSource"),n=this._getCPI();e&&e._getCPI().setOptionGroups([{options:t}]);this.set("picklistEntries",t,false);if(i==="manual"){n.updateManualPicklistSelectedValue(e,o)}},processEntries(e,t=false){const o=this._getCPI(),i=t===false&&o.getNoneSelectedText(),n=(e||[]).map(e=>Object.assign({},e,{label:e.label,value:e.value,defaultValue:e.defaultValue,active:e.active}));i&&n.unshift({affectDefaultCondition:true,label:i,value:"",defaultValue:"",active:true});return n},getPicklistEntries(e){const t=this.get("conditionSource"),o=this._getCPI();if(t==="manual"){return Ii.resolve(o.getManualPicklistEntries(e))}return o.getAutoPicklistEntries(e)},getAutoPicklistEntries(e){const t=e.getCPI().getValidPicklistEntries();if(t.promise){return t.promise}return Ii.resolve(t.entries&&t.entries.length?t.entries:[])},getManualPicklistEntries(e){const{field:t,model:o}=e.getState();let i=this.get("sources"),s,a,r,l,c,d,u,p,g,h=o||{},b,f={createFields:true,registerFields:false},m=[];(i||[]).forEach(e=>{g=e.effectsbehavior;s=e.model||{};u={};b=e.effectsbehavior!=="justothers";if(g==="defaultandothers"||g==="justothers"){p=e.effects;if(p&&p.length){u.effects=p}}switch(e.type){case"model":(s.data||[]).forEach(t=>{const o=e.labeltemplate||"{{{"+Ii.getNameField(s.objectName)+"}}}",i=Ii.mergeAsText("row",o,f,s,t),n=e.valuetemplate||"{{{Id}}}",a=Ii.mergeAsText("row",n,f,s,t);m.push({label:i,value:a,active:true,affectDefaultCondition:b,source:u})});break;case"metadata":c=s.recordTypeInfos;l=Ii.mergeAsText("model",e.prefix||"",f,s);r=Ii.mergeAsText("model",e.suffix||"",f,s);d={};if(t.picklistEntries&&t.picklistEntries.length){t.picklistEntries.forEach(e=>{const t=e.value;if(!d[t]){m.push({label:l+(e.label||t)+r,value:t,affectDefaultCondition:b,source:u})}})}else if(c&&c.length&&Ii.endsWith(t.id,"RecordTypeId")){c.forEach(e=>{const t=e.recordTypeId;if(e.isAvailable&&(c.length===1||!e.isMaster)){if(!d[t]){m.push({label:l+e.name+r,value:t,affectDefaultCondition:b,source:u})}}})}break;case"custom":if(e.snippet){a=n["c"].snippet.get(e.snippet);a&&wi.each(a({model:e.model}),(e,t)=>{const o=t.label||t.value;m.push({label:o?Ii.mergeAsText("model",o,f,s):o,value:t.value?Ii.mergeAsText("model",t.value,f,s):t.value,active:t.active,affectDefaultCondition:b,source:u})})}break;default:(e.options||[]).forEach(e=>{let t,o,i;if(e.type==="simple"){o=e.value;if(typeof o==="undefined"){o=""}else if(Ii.isString(o)){o=Ii.mergeAsDataInContext(o,{model:h})}t=Ii.mergeAsText("global",e.label||o||"",f);m.push({label:t,value:o,affectDefaultCondition:true,source:u})}else{i=e.effects;t=o=Ii.mergeAsText("global",e.label||"",f);m.push({label:t,effects:i,value:t,source:{effects:i},affectDefaultCondition:false})}});break}});return m}}}));function Di(e,t,o){const i=e.getDataSource(),s=e.getDataSourceName(),a=[],r={},l=!Array.isArray(o)?[o]:[...o],c=(o,i)=>{const n=Mi(e,t,i);const s=o[n.keyPrefix],l=s?s[i]:false,c=r[n.keyPrefix].fields[0];if(!l.isDone){return false}else{a.push({label:l[c]||l.record[c]||"Invalid record",value:i});return true}};if(!l.length)return Ii.resolve([]);let d,u;l.forEach(o=>{d=Mi(e,t,o);u=r[d.keyPrefix];if(!u){u=r[d.keyPrefix]={objectType:d.targetObjName,dataSourceName:s,idField:d.keyField,fields:[i.getNameField(d.targetObjName)],records:[]}}u.records.push(o)});const p=n["c"].data.getSync(r);if(p){l.forEach(e=>c(p,e));return Ii.resolve(a)}const g=()=>{return n["c"].data.get(r).then(e=>{let t=true;l.forEach(o=>{if(!c(e,o)){t=false}});if(!t){return g()}return a})};return g()}function Mi(e,t,o){const i=e.getDataSource();let n,s,a,r;if(t.length>1){n=i.getValueKeyPrefix(o);r=t.find(e=>e.keyPrefix===n);s=r.objectName;a=r.keyField||"Id"}else{r=t[0];s=r.objectName;n=i.getValueKeyPrefix(o,s);a=r.keyField||i.getIdField(e)}return{keyPrefix:n,targetObjName:s,keyField:a}}var Ai={getStyleSettings(e){const{spacing:t}=e.getShortcuts(),o=Ci.getStyleSettings(e);return Object.assign({},o,{_filterStylesKeys:Object.keys(o),border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",separatorBorder:{label:"Vertical Separator Border",type:"BORDERTOP",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},padding:"@tk.spacing.s2",buttonSpacing:{type:"spacing",value:"@tk.spacing.s1"},filterSpacing:{type:"spacing",value:"@tk.spacing.s1"},rangeFilterSpacing:{type:"spacing",value:"@tk.spacing.s1"},label:{color:"@tk.utility.fontColor",fontWeight:"@tk.fontWeight.bold",spacing:{label:"Spacing above filter",value:"@tk.spacing.s1"}},accordionHeader:{color:"@palette.primary",fontWeight:"@tk.fontWeight.bold",spacing:{label:"Spacing above filter",value:"@tk.spacing.s1"}},accordionFooter:{color:"@palette.primary",fontWeight:"@tk.fontWeight.bold",marginTop:"@tk.spacing.s0_5"},search:{minWidth:t(25)},[H["o"]]:Ci.getStyleSettingsVariantsChildren({},e)})},getStyleSettingsVariantsChildren(e){return{skuid__button:{apply:"primary",reset:"default",moreFilters:"default"},skuid__filter:{default:Object.assign({},e),"range-picker":{filterSpacing:e.filterSpacing,rangeFilterSpacing:e.rangeFilterSpacing}}}},getStyles(e){return{"filter-set":{color:e.color,position:"relative"},"filter-set--disabled":{pointerEvents:"none"},container:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},"container--not-listHeader":Object.assign({},s(e.border),{borderRadius:e.borderRadius,padding:e.padding}),"container--list-header":{alignItems:"flex-end",border:"none",flexWrap:"wrap"},"container--vertical":{flexDirection:"column"},"filter-container":{display:"flex",minWidth:"80px","&:last-of-type":{paddingRight:0,paddingBottom:0}},"filter-container--horizontal":{paddingRight:e.filterSpacing},"filter-container--vertical":{paddingBottom:e.filterSpacing,width:"100%"},"filter-container--search":{minWidth:e.search.minWidth},"filter-container--search-not-vertical":{paddingRight:e.filterSpacing},"filter-container--select":{minWidth:"180px"},"filter-container--multiselect":{minWidth:"180px"},"filter-container--top-border":{padding:e.padding,"&:before":{content:'""',position:"absolute",borderTop:e.separatorBorder,left:0,right:0}},"filter-container--buttons":{alignSelf:"center",flex:"initial"},"filter-container__more-filters-wrapper":{flex:"0 0 auto",paddingRight:e.filterSpacing},"filter-container__more-filters-button":{},"buttons-container__buttons":{display:"flex"},"buttons__apply-button":{marginLeft:e.buttonSpacing},"filter-set__accordion-header":{display:"flex",flexDirection:"row",alignContent:"space-between",color:e.accordionHeader.color,fontWeight:e.accordionHeader.fontWeight,marginBottom:e.accordionHeader.spacing},accordionHeader__item:{flex:"auto"},"accordionHeader__item--last":{textAlign:"right"},"filter-set__filter":{display:"flex",flexDirection:"column",width:"100%"},"filter-set__filter--fullWidth":{width:"100%"},filter__label:{color:e.label.color,fontWeight:e.label.fontWeight,marginBottom:e.label.spacing},filter__footer:{color:e.accordionFooter.color,fontWeight:e.accordionFooter.fontWeight,marginTop:e.accordionFooter.marginTop},"filter__footer--text":{display:"inline-block",cursor:"pointer"},"filter-set__accordion-wrapper":{width:"100%"}}}};var Vi={attributes:{model:{type:"model"},layout:{type:"picklist",default:"horizontal",options:["horizontal","vertical","verticalAccordions","listHeader"]},resetButtonBehavior:{type:"picklist",default:"enable",options:["enable","render","hide"]},disabled:{type:"boolean",default:false},noMargin:{type:"boolean",default:false},noBorder:{type:"boolean",default:false},noSearchLabel:{type:"boolean",default:true},_ignoreHasFilterConditions:{type:"boolean",default:false}},nodes:{filtering:Zt,filters:{type:"array",childNode:{skuid__filter:"skuid__filter"}},positioning:{type:"node",attributes:{justifyContent:{type:"string"},alignItems:{type:"string"}}}},properties:{renderConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["applyAllPendingConditionValues"]}}};const{h:Fi,utils:Li,getBuilderProps:Bi}=Object(n["d"])();n["a"].register("skuid__filterSet",Object.assign({},Ai,{schema:Vi,init(e,t,o){const i=e.shortcut("set"),{layout:s}=t;o.initFilters();o.setResetButton();e.subscribeChange("resetButtonBehavior",o.setResetButton);n["c"].events.subscribe(["row.deleted","row.updated","cancelled","saved","saveHandled","model.saved","models.cancelled","models.saved"],o.toggleDisabledFilterSet).forEach(t=>{e.storeSubscription(t)});i({firstRender:true,menuButtonInstance:o.createMenuButton(),menuInstance:o.createMenuInstance()});if(s==="horizontal"){["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,Li.debounce(o.handleResizing,50))))}},renderVDom(e){const t=e.getState(),{uniqueId:o,layout:i,model:n,fittingIds:s}=t,a=e._getCPI(),r=e.shortcut("getStyledClasses");let{disabled:l}=t;if(n.hasChanged&&!l){e.set("disabled",true);l=true}return Fi("div",{key:e,id:o,classes:r({"filter-set":true,"filter-set--disabled":l}),afterCreate(t){e.set({_element:t},{renderOnChange:false});if(i==="horizontal"){setTimeout(a.handleResizing)}}},[a.renderFilters({fittingIds:s})])},cpi:{handleResizing(){if(!this.registered||!this.isVisible())return;let e,t;const o=this._getCPI(),i=this.get("_element"),n=i&&i.offsetWidth,s=()=>o.renderFilters({fittingIds:e,forSizing:true});if(!i)return;this.clearVNodeCache();e=Object(Ao["e"])(s,n);t=Object.keys(e).map(t=>e[t]);if(!t.every(Boolean)){this.clearVNodeCache();e=Object(Ao["e"])(s,n);t=Object.keys(e).map(t=>e[t]);this.set({fittingCount:t.filter(Boolean).length})}else{e=null}this.clearVNodeCache();o.updateMenuInstance(e);this.set({fittingIds:e,firstRender:false})},applyAllPendingConditionValues(){const{allFilterInstances:e,model:t}=this.getState();let o=false;let i=false;for(let t of e){const e=t._getCPI().applyPendingConditionValues();const n=t._getCPI().shouldUpdateDataClientSide();if(e){i=true;if(!n){o=true;break}}}this._getCPI().updateResetButtonState();if(!i){return Li.resolve()}if(o){return t.updateData()}else{return t.loadClientSide()}},toggleDisabledFilterSet(e){const t=this.get("model");if(t.id==e.modelId||e.models&&e.models[t.id]){this.set("disabled",t.hasChanged)}},renderFilters(e={}){const t=this.shortcut("getStyledClasses"),o=this._getCPI(),{allFilterInstances:i,applyButton:n,layout:s,menuButtonInstance:a,positioning:r,resetButton:l,uniqueId:c}=this.getState(),d=!r?null:r.justifyContent,u=!r?null:r.alignItems,{forSizing:p,fittingIds:g}=e,h=s==="vertical"||s==="verticalAccordions";return Fi("div",{key:"".concat(c).concat(p?"-sizing":""),classes:t({container:true,"container--not-listHeader":s!=="listHeader","container--list-header":s==="listHeader","container--vertical":h}),styles:{justifyContent:d,alignItems:u}},[i&&i.map(e=>{const{show:t,uniqueId:i}=e.getState();if(t===false||g&&!g[i]){return null}return o.getFilterContainerVDom(e)}),g&&Fi("div",{key:"more filters menu",id:c+"-menu","data-nocollapse":"true",classes:t({"filter-container":true,"filter-container__more-filters-wrapper":true})},[Fi("div",{key:"more filters button",afterCreate:!p&&o.setMenuElement,classes:t({"filter-container__more-filters-button":true})},[a.renderVDom()])]),(l||n)&&Fi("div",{key:"buttons wrapper",id:c+"-button","data-nocollapse":"true"},[o.getButtons()])])},getFilterContainerVDom(e,t=false){const o=this._getCPI(),i=this.shortcut("getStyledClasses"),{layout:n}=this.getState(),{positioning:s={},type:a,uniqueId:r}=e.getState(),{maxWidth:l,minWidth:c,ratio:d,width:u}=s,p=t||n==="vertical"||n==="verticalAccordions",g=typeof d==="undefined"?null:"".concat(d);return Fi("div",{id:r,key:e,classes:i({"filter-container":true,"filter-container--horizontal":!p,"filter-container--vertical":p,"filter-container--search":a==="search","filter-container--search-not-vertical":a==="search"&&!p,"filter-container--select":a==="select","filter-container--multiselect":a==="multiselect"}),styles:{alignSelf:s.alignSelf,flex:"".concat(g||"0"," 0 auto"),width:c==="100%"?"100%":u,maxWidth:l,minWidth:c==="100%"?null:c}},[n==="verticalAccordions"?o.getAccordionVDom(e):o.getFilterVDom(e)])},getButtons(){const{uniqueId:e,resetButton:t,applyButton:o,layout:i}=this.getState(),n=this.shortcut("getStyledClasses"),s=i==="horizontal"||i==="listHeader";return[Fi("div",{key:"border",classes:n({"filter-container--top-border":!s})}),Fi("div",{id:"".concat(e,"-").concat(name,"Button"),key:"button","data-nocollapse":"true",classes:n({"filter-container":true,"filter-container--buttons":true})},[Fi("div",[Fi("div",Object.assign({classes:n({"buttons-container__buttons":true})},Bi(this,{propHint:"filterSet__reset-button"})),[t&&t.renderVDom(),o&&Fi("div",{key:"apply-button",classes:n({"buttons__apply-button":true})},[o.renderVDom()])])])])]},getFilterFooter(e){const t=this.shortcut("getStyledClasses"),{limitOptions:o,showAll:i,displayAs:n}=e.getState(),s=o&&n==="radioOrCheckboxes";return s&&Fi("div",{key:"filter footer",class:t("filter__footer")},[Fi("div",{class:t("filter__footer--text"),onclick:e._getCPI().toggleShowAll},[i?"Less":"More"])])},getAccordionVDom(e){const{collapsedAccordion:t,_label:o}=e.getState(),i=this.shortcut("getStyledClasses"),s=this._getCPI(),a=n["c"].ui.getIconURLFromHandle("sk-webicon-ink:chevron-small-".concat(t?"down":"up"));return Fi("div",{key:"accordion wrapper",class:i("filter-set__accordion-wrapper")},[Fi("div",{key:"header",onclick:e._cpi.toggleCollapsed,classes:i({"filter-set__accordion-header":true})},[Fi("div",{key:"label",classes:i({accordionHeader__item:true})},[o]),Fi("div",{key:"icon",classes:i({accordionHeader__item:true,"accordionHeader__item--last":true})},[Object(p["a"])(a)])]),!t&&Fi("div",{key:e},[e.renderVDom(),s.getFilterFooter(e)])])},isRangeFilter(e){return!!(e||"").match("range")},getFilterVDom(e){const t=this.shortcut("getStyledClasses"),{_label:o,type:i}=e.getState(),n=this._getCPI(),s=!n.isRangeFilter(i)&&!!o,a=true;return Fi("div",{key:e,classes:t({"filter-set__filter":true,"filter-set__filter--fullWidth":this.get("layout")==="vertical"||i==="search"})},[s&&Fi("div",{classes:t({filter__label:true})},[o]),e.renderVDom(),a&&n.getFilterFooter(e)])},toggleMoreMenu(e){const t=this.get("menuInstance");e=e===true||e===false?e:undefined;t&&t.getCPI().toggle(e)},createMenuButton(){const e=this._getCPI(),t=this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/moreFilters",icon:"sk-webicon-ink:chevron-small-down",iconPosition:"right",label:"More Filters",disabled:this.get("disabled")});t.subscribe("click",e.toggleMoreMenu);this.bind("disabled",t);this.subscribeChange("fittingCount",e=>{t.set("label",e?"More Filters":"Filters")});return t},createMenuInstance(){return n["c"].utils._floatingComponentFactory.createMenu({show:false,submenuDirection:"left",menuOnRight:true,uniqueId:this.get("uniqueId")+"-menu"},this)},setMenuElement(e){this.get("menuInstance").getCPI().setTarget(e)},updateMenuInstance(e){let t=this.get("menuInstance"),o=[];const i=this.get("allFilterInstances"),n=this._getCPI();if(e){i.forEach(i=>{let s,a=i.get("uniqueId"),r;if(!e[a]){i.set("layout","vertical");s=(()=>n.getFilterContainerVDom(i,true));r=new Ao["c"](s);o.push(r);i.setParentComponent(t)}else{i.set("layout",i.definition.layout);i.setParentComponent(this)}});t.set("components",o,false)}},deactivateAllFilters(){const{allFilterInstances:e,model:t}=this.getState();let o=false;let i=false;e.map(e=>{const t=e._getCPI().shouldUpdateDataClientSide();e._getCPI().preventDataUpdates();const n=e._getCPI().deactivateFilterConditions();if(n){i=true;if(!t){o=true}}e._getCPI().resetToDefaultValue();e._getCPI().allowDataUpdates()});if(!i){return Li.resolve()}if(o){return t.updateData()}else{return t.loadClientSide()}},updateResetButtonState(){const{resetButtonBehavior:e,resetButton:t,allFilterInstances:o}=this.getState();if(!t)return;let i=false;for(let e of o){if(e._getCPI().hasValue()){i=true;break}}if(e==="render"){t.set("show",i)}else if(e==="enable"){t.set("disabled",!i)}},initFilters(){const e=this.get("filtering")||{},{model:t,layout:o,uniqueId:i,filters:s,allFilterInstances:a,applyButton:r,noSearchLabel:l,_ignoreHasFilterConditions:c}=this.getState(),d=this._getCPI(),{emptySearchBehavior:u,instantFilters:p,instantSearch:g,searchFields:h,searchMethod:b,searchPlaceholder:f,soslFields:m,tokenizeSearch:y,useSOSL:C,enableSearch:k,searchConditionName:S}=e,w="".concat(n["c"].$L("Search")," ").concat(t.labelPlural||t.label||t.id);let _=s?[].concat(s):[];const I=[];k&&_.push({conditionName:S,label:l?"":w,searchFields:h,type:"search"});(a||[]).forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));_&&_.forEach((e,s)=>{const{type:a,conditionName:r,startConditionName:l,endConditionName:k,labelMode:S,conditionsToToggle:_,conditionSource:v,uniqueId:x}=e,T=r||l||k||_||a==="search"||v==="manual",O=(c||T)&&this.createChildComponent(Object.assign({},e,{labelMode:S||"",componentType:"skuid__filter",styleSettingsVariant:d.isRangeFilter(a)?"@parent/range-picker":"@parent/default",model:t,uniqueId:x||"".concat(i,"__filter--").concat(s),instantFilters:p,searchMethod:b,layout:o,instantSearch:g,tokenizeSearch:y,searchPlaceholder:f?f:w,searchFields:h,emptySearchBehavior:u,useSOSL:C,soslFields:m}));if(!c&&!T){this.getParentPage().addProblem('Filter of type "'.concat(a,'" has no selected condition.'));return}this.bind("disabled",O);let R;if(a==="search"){this.set("searchFilter",O);if(p||o==="listHeader"){if(!g){const e=O.get("filterRenderer");e.subscribe("valueCommit",d.applyAllPendingConditionValues);e.get("inputButton").subscribe("click",d.applyAllPendingConditionValues)}else{R=n["c"].utils.debounce(d.applyAllPendingConditionValues,500,this);const e=O.get("filterRenderer");e&&e.subscribeChange("value",()=>{if(!O.get("doNotUpdateData")){R()}})}}}I.push(O)});this.set("allFilterInstances",I);if(o!=="listHeader"&&!r&&!p){const e=this.createChildComponent({componentType:"skuid__button",label:"Apply",styleSettingsVariant:"@parent/apply"});e.subscribe("click",d.applyAllPendingConditionValues);this.bind("disabled",e);this.set({applyButton:e})}},setResetButton(){const{layout:e,resetButtonBehavior:t}=this.getState(),o=this._cpi;let i=this.get("resetButton");if(i){i.unregister();i=undefined}if(e!=="listHeader"&&t!=="hide"){i=this.createChildComponent({componentType:"skuid__button",label:"Reset",styleSettingsVariant:"@parent/reset",show:t==="enable",disabled:t==="enable",onClick:o.deactivateAllFilters});i.storeSubscription(n["c"].events.subscribe("condition.valueChanged:".concat(this.getId()),()=>{o.updateResetButtonState()}))}this.set({resetButton:i});o.updateResetButtonState()}}}));const zi=n["c"].$L,{div:Ni}=Object(n["d"])();const ji="modelMessagesInstance";function Hi(){return{initModelMessagesInstance(){const e=this.get("model"),t=this._getCPI();this.storeSubscription(e.subscribe("cancelled",t.unregisterModelMessages));this.storeSubscription(e.subscribe("messages",t.onModelMessagesUpdate))},getModelMessagesDefinition(e){let t="warningStrong",o=zi("Warning","Warning");const i=j(e.messages).map(e=>{e.handled=true;if(e.severity==="ERROR"||e.severity==="FATAL"){t="errorStrong";o=zi("Error","Error")}return e.message});return{styleSettingsVariant:t,title:o,messages:i}},onModelMessagesUpdate(e){const t=this.get("uniqueId"),o=this._getCPI();if(e.initiatorId!==t){o.unregisterModelMessages();return}const{title:i,messages:n,styleSettingsVariant:s}=o.getModelMessagesDefinition(e);o.createModelMessagesInstance(i,n.join("\n"),s)},createModelMessagesInstance(e,t,o="warningStrong"){const i=this._getCPI();i.unregisterModelMessages();const n=t.length?this.createChildComponent({componentType:"skuid__messageBlock",allowHTML:false,styleSettingsVariant:o,title:e,description:t}):null;i.updateModelMessagesInstance(n)},renderModelMessagesInstance(e){const t=this.get(ji);return t&&t.get("show")!==false&&Ni({key:"messages",classes:e.classes},[t.renderVDom()])},updateModelMessagesInstance(e){this.set(ji,e)},unregisterModelMessages(){const e=this.get(ji),t=this._getCPI();if(e){e.unregister();t.updateModelMessagesInstance(null)}}}}var Wi={getStyleSettingsVariants(e){const t=Po.getStyleSettingsVariants(e).default;return{default:Object.assign({},t,{_fieldStylesKeys:Object.keys(t),saveCancelVerticalSpacing:"@tk.spacing.s6",row:{verticalSpacing:"@tk.spacing.s3",horizontalSpacing:{label:"Spacing Between Inputs",value:"@tk.spacing.s1_5"},horizontalSpacingPadding:{label:"Horizontal Padding",value:null},background:null,backgroundEven:null},section:{headerSpacing:"@tk.spacing.s3",verticalSpacing:"@tk.spacing.s6"},[H["o"]]:Po.getStyleSettingsVariantsChildren({},e)})}},getStyleSettingsVariantsChildren(e){return{skuid__header:{sectionHeader:"default"},skuid__field:{field:Object.assign({},e)}}},getStyles(e){const t=e.row.background||e.row.backgroundEven;return{form:{},row:{display:"grid",gridColumnGap:e.row.horizontalSpacing,paddingLeft:e.row.horizontalSpacingPadding,paddingRight:e.row.horizontalSpacingPadding,paddingTop:t&&"calc(".concat(e.row.verticalSpacing,"/2)"),paddingBottom:t&&"calc(".concat(e.row.verticalSpacing,"/2)"),"&:nth-child(odd)":{background:e.row.background},"&:nth-child(even)":{background:e.row.backgroundEven},"&:not(:last-child)":{paddingBottom:!t?"calc(".concat(e.row.verticalSpacing,"/2)"):null}},"row--not-first":{paddingTop:!t?"calc(".concat(e.row.verticalSpacing,"/2)"):null},"input-wrapper":{flex:"1"},"save-cancel-spacing":{height:e.saveCancelVerticalSpacing,width:"100%"},"section-header-spacing":{height:e.section.headerSpacing,width:"100%"},section:{margin:0,padding:0,border:"none"},"section--messages":{marginBottom:e.section.headerSpacing},"section--not-last":{marginBottom:e.section.verticalSpacing}}}};var Ui={attributes:{showSaveCancel:{type:"boolean",default:false},saveIcon:{type:"string"},cancelIcon:{type:"string"},showErrorsInline:{type:"boolean",default:true},showHeader:{type:"boolean",default:true},model:{type:"model"},row:{type:"object"},mode:{type:"picklist",options:["edit","read","readonly"],default:"edit"},labelPlacement:{type:"picklist",options:["top","beside"]},minLabelWidth:{default:"150px"},maxLabelWidth:{},flexRatioLabel:{default:"1"},minValueWidth:{default:"200px"},maxValueWidth:{},flexRatioValue:{default:"2"}},nodes:{sections:{type:"array",childNode:{section:{attributes:{show:{type:"boolean",default:true},showHeading:{type:"boolean",default:true},title:{type:"string"}},nodes:{rows:{type:"array",childNode:{row:{nodes:{fields:{type:"array",childNode:{skuid__field:"skuid__field",skuid__image:"skuid__image"}}}}}}},properties:{renderConditions:true,enableConditions:true}}}}},properties:{conditions:true,renderConditions:true,enableConditions:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["getFields"]}}};const{h:Gi,div:qi,utils:Yi}=Object(n["d"])();n["a"].register("skuid__form",Object.assign({},Wi,{schema:Ui,init(e,t,o){const i=e.shortcut("set"),{cancelIcon:n,conditions:s,context:a,mode:r,model:l,saveIcon:c,showSaveCancel:d}=t;if(!l){i("show",false);throw Error("Form: Model is required.")}if(s){i({conditions:e.createConditionsFromXml(s,{context:a})})}const u=t.sections||[];let p=t.row;if(!p){p=o.getRowToUse();i("row",p)}i("hasRow",!!p);u.forEach(t=>{t.rows=t.rows||[];if(t.renderConditions){const o=[];e.conditionallyDo(()=>{t.show=true;e.scheduleVirtualRender()},()=>{t.show=false;e.scheduleVirtualRender()},t.renderConditions,{eventSubscriptions:o});e.storeSubscription(o)}t._=t._||{};if(t.title&&t.showHeading){t._.headerInstance=e.createChildComponent({componentType:"skuid__header",styleSettingsVariant:"@parent/sectionHeader",title:t.title,model:l,context:a});e.bind("context",t._.headerInstance)}});if(r!=="readonly"&&d){i("saveCancelButtonGroup",Ao["a"].saveCancel(e,{modelId:l.id,saveIcon:c,cancelIcon:n,position:"left"}))}if(p){const e=l.getRecordForRow(p).isNew();if(a&&a.editModeForNewItems){i("editModeForNewItems",e)}o.createFieldInstances({isNewRow:e})}e.storeSubscription(l.subscribe("row.created",e=>{i("editModeForNewItems",e.editModeForNewItems)}));e.storeSubscription(l.subscribe("saved",()=>{o.changeMode(r,{autoToggleBackToRead:false,ignoreFocus:true})}));["cancelled","loaded","row.created","saved"].forEach(t=>l.subscribe(t,()=>{const{model:t,row:n}=e.getState();if(!n||!t.containsRow(n)){i("row",o.getRowToUse())}}));e.subscribeChange("context",t=>{const{model:o,row:i}=e.getState(),n=t&&t.model,s=t&&t.row;if(s&&n&&n===o&&o.getRowId(i)!==o.getRowId(s)){e.set("row",s)}});e.subscribeChange("mode",e=>{o.changeMode(e,{autoToggleBackToRead:false})});e.subscribeChange("row",o.switchFormRow);o.updateRowVisibility();o.initModelMessagesInstance()},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e._getCPI(),{mode:i,sections:n,saveCancelButtonGroup:s,hasRow:a}=e.getState();return qi({key:e,classes:t({form:true}),role:"form"},a&&[...n.map((e,s)=>{let a=-1;return e.show&&Gi(i==="edit"?"fieldset":"div",{key:e,classes:t({section:true,"section--not-last":s!==n.length-1})},[!!e._.headerInstance&&e._.headerInstance.renderVDom(),!!e._.headerInstance&&Gi("div",{key:"header spacing",class:t("section-header-spacing")}),s===0&&o.renderModelMessagesInstance({classes:t({"section--messages":true})}),e.rows.map(e=>{a+=e.show?1:0;const o=(e.fields||[]).filter(e=>e._&&e._.instance&&e._.instance.get("show")!==false);return e.show&&Gi("div",{key:e,classes:t({row:true,"row--not-first":a!==0}),styles:{gridTemplateColumns:"repeat(".concat(o.length,", 1fr)")}},o.map(e=>e._.instance.renderVDom()))})])}),!!s&&Gi("div",{key:"save cancel spacing",class:t("save-cancel-spacing")}),!!s&&s.renderVDom()])},cpi:Object.assign({},Hi(),{createFieldInstances(e={}){const t=this,o=t._getCPI(),{editModeForNewItems:i,mode:n,model:s,row:a,labelPlacement:r,minLabelWidth:l,maxLabelWidth:c,flexRatioLabel:d,minValueWidth:u,maxValueWidth:p,flexRatioValue:g}=t.getState(),h=e.isNewRow,b=h&&i?"edit":n;o.forEachFieldDefinition(e=>{if(e.componentType==="skuid__image"){e._=Object.assign({},e._,{instance:t.createChildComponent(Object.assign({},e,{model:s}))})}else{e._=Object.assign({},e._,{instance:t.createChildComponent(Object.assign({},e,{componentType:"skuid__field",styleSettingsVariant:"@parent/field",model:s,showLabel:true,row:a,mode:e.mode||b,labelPlacement:r,minLabelWidth:l,maxLabelWidth:c,flexRatioLabel:d,minValueWidth:u,maxValueWidth:p,flexRatioValue:g}))})}e._.instance.subscribeChange("show",o.updateRowVisibility)})},doNothing(){return false},forEachFieldDefinition(e){this._getCPI().forEachSectionAndRow((t,o)=>t.fields&&t.fields.forEach(i=>e(i,t,o)))},forEachSectionAndRow(e){this.get("sections").forEach(t=>{t.rows&&t.rows.forEach(o=>{e(o,t)})})},getFields(){const e=[];this._getCPI().forEachFieldDefinition(t=>t._&&t._.instance&&e.push(t._.instance));return e},getRowToUse(){const e=this.getState(),t=e.conditions,o=e.context,i=e.model,n=i.data;if(t&&t.length){const e=Yi.filterRowsByConditions(n,t,o,i);return e.length?e[0]:undefined}if(o&&o.model===i){if(o.row&&i.containsRow(o.row)){return o.row}else if(o.rows&&o.rows.length&&i.containsRow(o.rows[0])){return o.rows[0]}}if(n.length){return n[0]}},switchFormRow(e,t){const o=this,i=o._getCPI(),n=o.get("model"),s=t?n.getRowId(t):undefined,a=e?n.getRowId(e):undefined;if(t&&!e){i.forEachFieldDefinition(e=>{const t=e._.instance;delete e._.instance;t&&t.unregister()})}else if(e&&t){if(a!==s){i.forEachFieldDefinition(e=>e._.instance.set("rowId",a))}else{i.forEachFieldDefinition(t=>{t._.instance._cpi.updateRowAndValue(n.getFieldValue(e,t.name||t.id,true))})}}else if(e&&!t){i.createFieldInstances({isNewRow:true})}this.set("hasRow",!!e);i.updateRowVisibility();return e},updateRowVisibility(){this._getCPI().forEachSectionAndRow(e=>{e.show=e.fields&&!!e.fields.find(e=>e._&&e._.instance&&e._.instance.get("show")!==false)});this.scheduleVirtualRender()},changeMode(e,t){const o=this,i=o._getCPI(),n=o.get("mode"),s=["read","edit"];if(n==="readonly")return;let a;if(s.includes(e)){a=e}else{a=n==="edit"?"read":"edit"}o.set("mode",a);i.getFields().forEach(e=>e._cpi.toggleMode&&e._cpi.toggleMode(a,t));if(a==="edit"&&!t.ignoreFocus){const e=(i.getFields()||[]).find(e=>{const t=e.get("mode")==="edit",o=e.get("show")!==false;return t&&o});e&&e.cpi.focus&&e.cpi.focus()}}}),actions:{changeMode(e,t){const o=e.attr("mode");t._getCPI().changeMode(o,{autoToggleBackToRead:false})}},needsModelMetadata:true}));var $i={getStyleSettingsVariants:()=>{return{default:{minColor:"@palette.primary.-2",maxColor:"@palette.primary.3",backgroundColor:"@palette.white"}}},getStyles(e){return{"geochart-outer":{position:"relative"},geochart:{background:e.backgroundColor},drillup:{position:"absolute",left:"4px",top:"4px",zIndex:1}}}};var Ki={attributes:{model:{type:"string",required:true},maintitle:{type:"string"},maptype:{type:"string"},height:{type:"string"},mapgroup:{type:"string"},subtitle:{type:"string"},dlformat:{type:"string"},export:{type:"string"}},properties:{actions:true,buckets:true,colors:true,legend:true,renderConditions:true,serieslist:true,styles:true,styleVariantConditions:true},access:{cpi:{public:["updateStyles"]}}};const{h:Xi,div:Qi,$:Zi,utils:Ji}=Object(n["d"])();n["a"].register("skuid__geochart",Object.assign({},$i,{schema:Ki,init(e,t,o){const i=e.createChildComponent({componentType:"skuid__button",label:"Back",show:false});e.set({drillupButton:i,innerElement:Zi("<div>")});o.initChart()},renderVDom(e){const t=e._getCPI(),o=e.getState(),i=e.shortcut("getStyledClasses");return Qi({key:e,class:i("geochart-outer")},[Qi({afterCreate:t.setElement,afterUpdate:t.setElement}),Xi("div",{class:i("drillup")},[o.drillupButton.renderVDom()])])},cpi:{setElement(e){const{skuidVisChartInstance:t,element:o,innerElement:i}=this.getState();if(o!==e){this.set("element",e,{renderOnChange:false});e.appendChild(i[0]);const o=()=>{const e=this.get("skuidVisChartInstance").container.highcharts();e&&e.reflow()};if(!t){Ji.delay().then(()=>{this._getCPI().initChart();o()})}else{Ji.delay().then(o)}this.publish("innerElementAttached")}},getChartXml(){const e=n["c"].utils.makeXMLDoc,t=e('<skuidvis__geochart uniqueid="'.concat(this.get("uniqueId"),'-geochart"></skuidvis__geochart>'));["model","maintitle","maptype","height","mapgroup","subtitle","dlformat","export"].forEach(e=>{const o=this.get(e);o&&t.attr(e,o)});["serieslist","colors","legend","buckets"].forEach(e=>{const o=this.get(e);o&&t.append(o[0].outerHTML)});return t},initChart(){const{drillupButton:e,innerElement:t}=this.getState(),o=n["c"].themes.getStyleSettingsForComponent(this,{forceRegisterStyleSettings:true}),i=[o.minColor.value||o.minColor,o.maxColor||o.maxColor],s="<colors>"+(i||[]).map(e=>"<value>"+e+"</value>").join("")+"</colors>";t.empty();this.childComponents.forEach(t=>t!==e&&t.unregister());const a=this._cpi.getChartXml();a.find("colors").remove();a.attr("backgroundcolor",o.backgroundColor.value||o.backgroundColor);a.append(s);const r=this.createChildComponent(a,Zi(t),this.get("context"));this.set({skuidVisChartInstance:r})},updateStyles(){n["c"].themes.unregisterComponentStyles(this);this._getCPI().initChart()}}}));var en={getStyleSettings(){return{}},getStyles:()=>({"grid-wrapper":{display:"block",overflowY:"hidden"},"grid-wrapper--as-link":{textDecoration:"none !important"},grid:{display:"flex",flexWrap:"wrap"},"--full-height":{height:"100%",overflowY:"auto"}})};const tn=["auto","flex-start","center","flex-end","stretch","baseline"],on=["auto","flex-start","center","flex-end","stretch","baseline","space-around","space-between"],nn=["row","column"];var sn={attributes:{alignItems:{type:"picklist",default:"flex-start",options:tn},fullWidth:{type:"boolean",default:false},fullHeight:{type:"boolean",default:false},flexDirection:{type:"picklist",default:"row",options:nn},justifyContent:{type:"picklist",default:"flex-start",options:on},rowGutter:{type:"string"},columnGutter:{type:"string"}},nodes:{divisions:{type:"array",childNode:{division:"skuid__division"}}},properties:{interactions:true,renderConditions:true,enableConditions:true,styles:true,styleVariantConditions:true}};const{h:an,utils:rn,div:ln}=Object(n["d"])();n["a"].register("skuid__grid",Object.assign({},en,{schema:sn,init(e,t,o){const i=e.shortcut("set"),{interactions:n}=t,s=e.getThemeSettings();if(z(n)){const o=N(n);i({renderAsLink:true,rawUrl:o.url,target:o.target,url:rn.mergeAsTextInContext(o.url,t.context),rootElementTag:"a"});e.subscribeChange("context",e=>{this.set("url",rn.mergeAsTextInContext(this.get("rawUrl"),e))})}i({flexDirection:t.flexDirection,justifyContent:t.justifyContent,alignItems:t.alignItems,_columnGutter:s.spacing(t.columnGutter),_rowGutter:s.spacing(t.rowGutter)});e.subscribeChange("columnGutter",t=>e.set("_columnGutter",s.spacing(t)));e.subscribeChange("rowGutter",t=>e.set("_rowGutter",s.spacing(t)));o.createDivisions(t.divisions)},renderVDom(e){const t=e.shortcut("getStyledClasses"),{fullHeight:o,flexDirection:i,justifyContent:n,alignItems:s,_rowGutter:a,_columnGutter:r,_divisionInstances:l,renderAsLink:c,target:d,url:u}=e.getState();return an(c?"a":"div",{key:e,classes:t({"grid-wrapper":true,"grid-wrapper--as-link":c,"--full-height":o}),href:c&&u,target:c&&d},[ln({classes:t({grid:true,"--full-height":o}),styles:{flexDirection:i,justifyContent:n,alignItems:s,marginTop:"0",marginBottom:a?"-".concat(a):"0",marginLeft:r?"-".concat(r):"0",marginRight:r?"-".concat(r):"0",width:"calc(100% + ".concat(r,")")}},l.map(e=>e.renderVDom()))])},cpi:{createDivisions(e=[]){const{_divisionInstances:t=[],fullHeight:o,rowGutter:i,columnGutter:n,context:s}=this.getState();t.forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.set("_divisionInstances",e.map(e=>{const t=this.createChildComponent(Object.assign({},e,{componentType:"skuid__division",uniqueId:e.uniqueid||e.uniqueId||rn.generateUniqueId(),fullHeight:o,rowGutter:i,columnGutter:n,context:s}));this.subscribeChange("context",e=>t.set("context",e));return t}))}}}));var cn={getStyleSettingsVariants(){return{default:{_minHeightWithButtons:"@tk.spacing.s4",title:{color:{label:"Title Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.large",fontFamily:"@tk.fontFamily.primary",fontWeight:"@tk.fontWeight.bold",lineHeight:"@tk.lineHeight.roomy",margin:0,opacity:null,textDecoration:null},subtitle:{color:{label:"Subtitle Text Color",value:"@palette.neutral.2"},fontSize:"@tk.fontSize.body",fontFamily:"@tk.fontFamily.primary",fontWeight:null,lineHeight:"@tk.lineHeight.roomy",margin:null,opacity:null,textDecoration:null},separator:{size:{label:"Border Size",type:"borderSize",value:"@tk.borderSize.primary"},style:{label:"Border Style",type:"borderStyle",value:"@tk.borderStyle.primary"},color:{label:"Border Color",value:"@tk.utility.borderColor"},bottomSpacing:"@tk.spacing.s2"}},body:{title:{fontSize:"@tk.fontSize.body"},subtitle:{fontSize:"@tk.fontSize.small"},separator:{bottomSpacing:"@tk.spacing.s1"}}}},getStyleSettingsVariantsChildren(){return{skuid__buttonSet:{buttonSet:"default"}}},getStyles(e){return{header:{position:"relative",display:"flex",flexDirection:"column"},"header--subtitle":{position:"relative",color:e.subtitle.color,fontSize:e.subtitle.fontSize,fontFamily:e.subtitle.fontFamily,fontWeight:e.subtitle.fontWeight,lineHeight:e.subtitle.lineHeight,margin:e.subtitle.margin,opacity:e.subtitle.opacity,textDecoration:e.subtitle.textDecoration},"header--title":{color:e.title.color,fontSize:e.title.fontSize,fontFamily:e.title.fontFamily,fontWeight:e.title.fontWeight,lineHeight:e.title.lineHeight,margin:e.title.margin,opacity:e.title.opacity,textDecoration:e.title.textDecoration},"header--heading":{position:"relative",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center"},"header--heading--with-buttons":{minHeight:e._minHeightWithButtons},"header--with-separator":{borderBottom:"".concat(e.separator.size," ").concat(e.separator.style," ").concat(e.separator.color),paddingBottom:e.separator.bottomSpacing}}}};var dn={attributes:{model:{type:"model"},title:{type:"string"},titleTag:{type:"picklist",options:["h1","h2","h3","h4","h5","h6"],default:"h1"},subtitle:{type:"string"},separator:{type:"boolean",default:false}},nodes:{buttons:{type:"array",childNode:{skuid__button:"skuid__button"}},skuid__buttonSet:{type:"node",schema:"skuid__buttonSet"}},properties:{context:true,styles:true,conditions:true,enableConditions:true,renderConditions:true,styleVariantConditions:true}};const{h:un,div:pn}=Object(n["d"])();n["a"].register("skuid__header",Object.assign({},cn,{schema:dn,init(e,t){const o=e.shortcut("set"),{conditions:i,context:n,model:s,buttons:a,skuid__buttonSet:r}=t,l=a?{groups:[{buttons:a}]}:{},c=r||{},d=(a||r)&&e.createChildComponent(Object.assign({},l,{},c,{componentType:"skuid__buttonSet",styleSettingsVariant:"@parent/buttonSet",position:"left",model:s,context:n}));if(i){o({conditions:e.createConditionsFromXml(i)})}e.registerMergeAttribute("title","_title");e.registerMergeAttribute("subtitle","_subtitle");o({buttonSetInstance:d})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{titleTag:o,subtitle:i,buttonSetInstance:n,separator:s,_subtitle:a,_title:r}=e.getState();return pn({key:e,classes:t({header:true,"header--with-separator":s})},[!!i&&pn({key:"subtitle",class:t("header--subtitle")},[a]),pn({key:"title-wrapper",classes:t({"header--heading":true,"header--heading--with-buttons":!!n})},[un(o,{key:"title",class:t("header--title")},[r]),n&&n.renderVDom()])])}}));var gn=i(145);var hn={attributes:{handle:{type:"icon",required:true},title:{type:"string"},description:{type:"string"},asBlock:{type:"boolean"},alignBottom:{type:"boolean",default:true},matchFontSize:{type:"boolean"},hidden:{type:"boolean",default:false}},properties:{tooltip:true}};n["a"].register("skuid__icon",Object.assign({},gn["a"],{schema:hn,init(e,t,o){o.processHandle();e.subscribeChange("handle",o.processHandle);e.set({rootElementTag:"span"})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{matchFontSize:o,asBlock:i,alignBottom:n,xlinkHref:s,title:a,description:r,hidden:l}=e.getState();return Object(p["a"])(s,{title:a,description:r,classes:t({icon:true,"icon--match-font-size":o,"icon--as-block":i,"icon--align-bottom":n,"icon--hidden":l})})},cpi:{processHandle(){const e=this.get("handle")||"";this.set({xlinkHref:n["c"].ui.getIconURLFromHandle(e)})}}}));function bn(){return{updateStyles(){const e=(e,t)=>e==="custom"&&t?t:e?this.getThemeSettings().spacing(parseFloat(e)):undefined;let{background:t,maxHeightCustom:o,maxHeight:i,height:s,heightCustom:a,minHeight:r,minHeightCustom:l,heightStrategy:c,_zIndex:d}=this.getState(),u="background-image",p=[],g={},h=c==="fixed",b=!h?e(r,l):undefined,f=!h?e(i,o):undefined,m=h?e(s,a):undefined;t=t||{};if(t.type==="image"){const e=n["c"].dataSource.get(t.datasource),o=e&&e.getImageSource(t.source);if(o&&o.getSrc){p.push(o.getSrc({context:{},mergeSettings:{},dataSource:o.dataSource,url:t.url,prefix:"",definition:t}).then(function(e){if(e){g[u]="url(".concat(e,")")}else{g[u]=""}}).catch(function(){g[u]=""}))}else if(t.url){g[u]="url(".concat(t.url,")")}}this.set("inlineStyles",Object.assign({maxHeight:f,minHeight:b,height:m,zIndex:d,position:d?"relative":undefined},t.type?{"background-position":t.position||"auto","background-size":t.size||"center center","background-repeat":t.repeat||"no-repeat","background-attachment":t.attachment||"scroll","background-color":t.color||""}:{}));Promise.all(p).then(()=>{if(!this.registered)return;this.set("inlineStyles",Object.assign({},this.get("inlineStyles"),{},g));this.publish("stylesUpdated")})}}}var fn={getStyleSettings(){return{backgroundColor:null,border:null,padding:null,boxShadow:null,borderRadius:null,hover:{backgroundColor:null,border:null,boxShadow:null}}},getStyles(e){return{container:{display:"block",width:"100%",padding:0,margin:0},"container--button":{border:"none",backgroundColor:"transparent"},image:{display:"block",width:"100%",background:e.backgroundColor,border:e.border,padding:e.padding,boxShadow:e.boxShadow,borderRadius:e.borderRadius,"&:hover":{background:e.hover.backgroundColor,border:e.hover.border,boxShadow:e.hover.boxShadow}},"image--clickable":{cursor:"pointer"}}}};var mn={attributes:{alt:{type:"string"},behavior:{type:"picklist",default:"none",options:["none","link","button"]},datasource:{type:"string"},defaultImage:{type:"picklist",default:"org",options:["person","org"]},field:{type:"string"},fieldtargetobjects:{type:"string"},model:{type:"model"},namespace:{type:"string"},path:{type:"string"},resource:{type:"string"},resourceNamespace:{type:"string"},resourceContentType:{type:"string"},source:{type:"string"},url:{type:"string"},imageHeight:{type:"string"},imageWidth:{type:"string"},height:{type:"string"},heightCustom:{type:"string"},heightStrategy:{type:"picklist",options:["fixed","minMax"],default:"minMax"},minHeight:{type:"string"},minHeightCustom:{type:"string"},maxHeight:{type:"string"},maxHeightCustom:{type:"string"}},properties:{interactions:true,styles:true,conditions:true,enableConditions:true,renderConditions:true,styleVariantConditions:true}};const{h:yn,utils:Cn}=Object(n["d"])();n["a"].register("skuid__image",Object.assign({},fn,{schema:mn,init(e,t,o){const i=e.shortcut("set"),s=t.interactions,a=!!(s&&s.find('[type="tap"]').length);e.subscribeChange("context",o.fetchImage);e.subscribeChange("url",o.fetchImage);const r=new ue["a"](t,e);r.createModelSubscriptions(e,o.fetchImage);e.registerMergeText(t.alt,"_alt");o.fetchImage();o.updateStyles();if(z(s)){const o=N(s);i({renderAsLink:true,rawUrl:o.url,target:o.target,url:n["c"].utils.mergeAsTextInContext(o.url,t.context),nodeName:"a"});e.subscribeChange("context",e=>{this.set("url",n["c"].utils.mergeAsTextInContext(this.get("rawUrl"),e))})}else{i("nodeName",a?"button":"span")}i({hasClickInteractions:a})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_alt:o,hasClickInteractions:i,imageSrc:n,nodeName:s,renderAsLink:a,target:r,url:l}=e.getState(),c=e._getCPI(),d={key:"image__wrapper"};let u=e.get("imageWidth"),p=e.get("imageHeight");if(!p){const t=e.get("heightStrategy"),o=e.get("heightCustom"),i=e.get("height");if(t==="fixed"&&i){p=i==="custom"?o:"".concat(8*i,"px")}}const g=!p&&!u;p=g?undefined:p||"auto",u=g?undefined:u||"auto";return yn("div",{key:e},[yn(s,Object.assign({},d,{classes:t({container:true,"container--button":s==="button"}),href:a&&l,target:a&&r}),[!!n&&yn("img",{key:"image",afterCreate:c.imgUpdates,afterUpdate:c.imgUpdates,src:n,alt:o,classes:t({image:true,"image--clickable":i}),styles:{height:p,width:u}})])])},cpi:Object.assign({fetchImage(){const e=this.shortcut("set"),t=this.getState(),o=new ue["a"](t,this);e({imageController:o,row:o.getRow(),published:false},{renderOnChange:false});o.getImage().then(t=>this.registered&&e({imageSrc:t,imageLoaded:true}),()=>this.registered&&e({imageSrc:Cn.getDefaultImageUrl(t.defaultImage),imageLoaded:true}))},imgUpdates(){if(this.get("imageLoaded")&&!this.get("published")){this.publish("loaded");this.set("published",true,{renderOnChange:false})}}},bn())}));var kn={getStyleSettings(){return{padding:"@tk.spacing.s1",colorPicker:{backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderStyle.primary @tk.borderSize.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.light",gradientPadding:"@tk.spacing.s0_5 0 0 @tk.spacing.s0_5"}}},getStyles(e){return{"input-color":{display:"flex",alignItems:"center"},"@global":{".sk-colorpicker-popup":{backgroundColor:e.colorPicker.backgroundColor,border:e.colorPicker.border,borderRadius:e.colorPicker.borderRadius,boxShadow:e.colorPicker.boxShadow,position:"absolute",padding:e.padding,display:"table","& .sk-swatch-panel":{borderRight:"none","& .sk-colorpicker-cell":{border:"2px solid ".concat(e.colorPicker.backgroundColor),"& .sk-colorpicker-swatch":{borderRadius:e.colorPicker.borderRadius}}},"& .sk-gradient-panel":{padding:e.colorPicker.gradientPadding}},".sk-colorpicker-preview":{height:"18px",width:"18px",cursor:"pointer"},".sk-colorpicker-preview-wrapper":{height:"18px",width:"18px",marginBottom:"-6px",marginLeft:"5px",border:"1px solid black"},".sk-colorpicker-popup-contents":{display:"table-row"},".sk-colorpicker-popup-panel":{display:"table-cell",verticalAlign:"top"},".sk-swatch-panel":{paddingRight:"8px",borderRight:"1px solid black"},".sk-gradient-panel":{paddingLeft:"8px"},".sk-colorpicker-table":{display:"table"},".sk-colorpicker-table > .sk-colorpicker-row":{display:"table-row",height:"8px"},".sk-colorpicker-table > .sk-colorpicker-row > .sk-colorpicker-cell":{display:"table-cell",height:"8px",width:"8px"},".sk-colorpicker-table > .sk-colorpicker-row > .sk-colorpicker-cell > .sk-colorpicker-swatch":{height:"18px",width:"18px",cursor:"pointer",boxShadow:"0 0 0 0.2px #666"},".sk-gradient-panel > DIV":{display:"inline-block",whiteSpace:"nowrap"},".sk-colorpicker-gradient":{position:"relative",width:"150px",height:"150px",display:"table",boxShadow:"0 0 0 1px #666"},".sk-colorpicker-gradient-current-value":{position:"absolute",height:"10px",width:"10px",marginLeft:"-5px",marginTop:"-5px",border:"2px solid white",borderRadius:"50%",boxShadow:"0 0 1px 0px"},".sk-colorpicker-gradient-layer1":{width:"150px",height:"150px",backgroundImage:"linear-gradient(to right, #fff, rgba(204, 154, 129, 0))",filter:"progid:DXImageTransform.Microsoft.gradient(GradientType = 1, startColorstr='#FFFFFFFF', endColorstr='#00CC9A81')"},".sk-colorpicker-gradient-layer2":{width:"150px",height:"150px",backgroundImage:"linear-gradient(to top, #000, rgba(204, 154, 129, 0))",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#FF000000')"},".sk-colorpicker-hsl":{height:"150px",verticalAlign:"top",whiteSpace:"nowrap"},".sk-colorpicker-hsl > .sk-hsl-preview":{height:"11px",width:"82px",marginLeft:"12px",border:"1px solid #666"},".sk-colorpicker-hsl > .sk-colorpicker-slider":{display:"inline-block",height:"126px",width:"12px",marginTop:"10px",marginLeft:"12px",borderRadius:"0",borderColor:"#666",position:"relative"},".sk-colorpicker-hsl > .sk-colorpicker-slider > .ui-slider-handle":{height:"7px",width:"21px",border:"1px solid #666",borderRadius:0,cursor:"ns-resize",background:"transparent",margin:"0 0 -4px -4px",position:"absolute"},".sk-colorpicker-hsl > .sk-colorpicker-slider > .ui-slider-handle:before":{conent:"'foo'",display:"block",height:"5px",margin:"auto 0",backgroundColor:"#600"},".sk-colorpicker-hsl > .sk-colorpicker-slider .layer1, .sk-colorpicker-hsl > .sk-colorpicker-slider .layer2":{height:"126px"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_1":{height:"21px",backgroundImage:"linear-gradient(to bottom, #f00, #ff0)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#FF0000', endColorstr='#FFFF00')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_2":{height:"21px",backgroundImage:"linear-gradient(to bottom, #ff0, #0f0)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFF00', endColorstr='#00FF00')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_3":{height:"21px",backgroundImage:"linear-gradient(to bottom, #0f0, #0ff)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00FF00', endColorstr='#00FFFF')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_4":{height:"21px",backgroundImage:"linear-gradient(to bottom, #0ff, #00f)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00FFFF', endColorstr='#0000FF')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_5":{height:"21px",backgroundImage:"linear-gradient(to bottom, #00f, #f0f)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#0000FF', endColorstr='#FF00FF')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-h .layer1_6":{height:"21px",backgroundImage:"linear-gradient(to bottom, #f0f, #f00)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#FF00FF', endColorstr='#FF0000')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-s .layer2":{backgroundImage:"linear-gradient(to top, #808080, rgba(204, 154, 129, 0))",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#808080')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-l .layer2_1":{height:"63px",backgroundImage:"linear-gradient(to top, rgba(204, 154, 129, 0), #fff)",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#FFFFFFFF', endColorstr='#00CC9A81')"},".sk-colorpicker-hsl > .sk-colorpicker-slider.sk-hsl-l .layer2_2":{height:"63px",backgroundImage:"linear-gradient(to top, #000, rgba(204, 154, 129, 0))",filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr='#00CC9A81', endColorstr='#FF000000')"}}}}};var Sn={attributes:Object.assign({},f.attributes,{hideSwatch:{type:"boolean",default:true}})};const{div:wn,$:_n}=Object(n["d"])();n["a"].register("skuid__inputColor",Object.assign({},kn,{schema:Sn,init(e,t){const{value:o,fillWidth:i,disabled:n,placeholder:s}=t,a=e.shortcut("get");const r=e.createChildComponent({componentType:"skuid__inputText",value:o,fillWidth:i,disabled:n,placeholder:s});e.subscribeChange("value",e=>{_n(a("_element")).trigger("sk-colorselected",[e])});e.bind("value",r);e.storeSubscription(r.subscribe("focus",()=>a("colorPicker").show()));e.set({inputTextInstance:r})},renderVDom(e){const{inputTextInstance:t}=e.getState(),o=e._getCPI(),i=e.shortcut("getStyledClasses");return wn({key:e,afterCreate:o.afterCreate,class:i("input-color")},[t.renderVDom()])},cpi:{afterCreate(e){const t=this.getState(),o=this._getCPI(),i=n["c"].ui.Color.popup({appendTo:_n(e),container:_n(e),input:_n(e),color:t.value,hideSwatch:t.hideSwatch,clickCloseExceptionsSelector:"."+this.getStyledClasses("input-color"),onSelect:t=>{_n(e).trigger("sk-colorselected",[t]);o.onValueUpdate(t)}});this.set({_element:e,colorPicker:i})},onValueUpdate(e){this.set("value",e)}}}));var In={getStyleSettings(){return{spaceBetween:"@tk.spacing.s1",unitText:{color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body"}}},getStyles(e){return{"input-css":{},"custom-input":{marginTop:e.spaceBetween,display:"flex",alignItems:"center"},"input-css__input":{flex:1,marginRight:e.spaceBetween},"input-css__unit-text":{color:e.color,fontSize:e.unitText.fontSize}}}};var vn={attributes:Object.assign({},f.attributes,{showSelect:{type:"boolean",default:false}})};const{h:xn}=Object(n["d"])(),Tn=e=>({unit:(e||"").toString().split(/-?[0-9\.]+(e-([0-9]+\.))*/).join(""),number:parseFloat(e||"")});n["a"].register("skuid__inputCss",Object.assign({},In,{schema:vn,init(e,t){const o=e.shortcut("set"),i=Tn(t.value),n=!isNaN(i.number),s=n?i.number:undefined,a=n?i.unit:"px";e.set({number:s,unit:a});if(t.showSelect){const i=e.createChildComponent({componentType:"skuid__select",value:n?"custom":t.value,options:[{value:null,label:t.placeholder},{value:"initial",label:"None"},{value:"custom",label:"Custom"}],context:t.context});i.subscribeChange("value",e=>{if(e!=="custom")o("value",e);else o("value",null)});o({selectInstance:i})}const r=e.createChildComponent({componentType:"skuid__inputText",type:"number",value:s,placeholder:t.placeholder,context:t.context});let l=false;r.subscribeChange("value",e=>{if(l)return;const t=parseFloat(e),i=!isNaN(t)?"".concat(e).concat(a):null;l=true;o("value",i);l=false});this.subscribeChange("value",e=>{if(l)return;const{number:t,unit:i}=Tn(e);const n=!isNaN(t),s=n?t:e,a=n?i:"px";l=true;r.set("value",s);o({number:t,unit:a});l=false});o({inputTextInstance:r})},renderVDom(e){const{inputTextInstance:t,selectInstance:o,unit:i}=e.getState(),n=!o||o.get("value")==="custom",s=e.shortcut("getStyledClasses");return xn("div",{key:e,class:s("input-css")},[o&&xn("div",{key:"select"},[o.renderVDom()]),n&&xn("div",{key:"custom",class:s("custom-input")},[xn("div",{key:"input",class:s("input-css__input")},[t.renderVDom()]),xn("div",{key:"unit",class:s("input-css__unit-text")},[i])])])}}));var On={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.input",color:{label:"Text Color",value:"@tk.utility.fontColor"},fontSize:"@tk.fontSize.body",fontFamily:"@tk.fontFamily.primary",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.regular",padding:"@tk.spacing.s1",minHeight:t(6),focus:{borderColor:"@tk.utility.selectedBorderColor"},focusWithKeyboard:{boxShadow:"0 0 0 2px @tk.utility.focusColor"},disabled:{backgroundColor:"@palette.neutral.6",boxShadow:"@tk.shadow.input",opacity:"@tk.opacity.light"},warning:{borderColor:"@palette.error"},characterCount:{color:"@palette.neutral.3",fontSize:"@tk.fontSize.small",marginTop:"@tk.spacing.s1",warning:{color:"@palette.error.-2"}},placeholder:{color:"@palette.neutral.3",_fontStyle:false}}},getStyles(e){return{background:{backgroundColor:e.backgroundColor},"character-count":{color:e.characterCount.color,fontSize:e.characterCount.fontSize,marginTop:e.characterCount.marginTop},"character-count--warn":{color:e.characterCount.warning.color},"expanding-area":{position:"relative"},"right-align":{textAlign:"right"},textarea:{backgroundColor:"transparent",boxShadow:e.boxShadow,position:"relative",resize:"vertical","&:disabled":{boxShadow:e.disabled.boxShadow},"&::-webkit-input-placeholder":{color:e.placeholder.color,fontStyle:e.placeholder._fontStyle},"&::-moz-placeholder":{color:e.placeholder.color,fontStyle:e.placeholder._fontStyle,opacity:1},"&:-ms-input-placeholder":{color:e.placeholder.color,fontStyle:e.placeholder._fontStyle},"&.sk-focus-keyboard":{boxShadow:r(e.boxShadow,e.focusWithKeyboard.boxShadow)}},"textarea--without-rows":{overflow:"hidden",resize:"none",position:"absolute",bottom:0,left:0,top:0,height:"100%"},"textarea-and-pre":Object.assign({},s(e.border),{borderRadius:e.borderRadius,color:e.color,fontFamily:e.fontFamily,lineHeight:e.lineHeight,fontSize:e.fontSize,fontWeight:e.fontWeight,margin:0,minHeight:e.minHeight,outline:0,padding:e.padding,width:"100%",whiteSpace:"pre-wrap",wordWrap:"break-word","&:focus":{outline:"none",borderColor:e.focus.borderColor},"&:disabled":{boxShadow:e.disabled.boxShadow,backgroundColor:e.disabled.backgroundColor,opacity:e.disabled.opacity}}),"warning--highlight":{backgroundColor:"#ffe2de"},pre:{color:"transparent",display:"block",borderColor:"transparent",backgroundColor:e.backgroundColor,width:"100%"},"pre--with-rows":{position:"absolute",height:"100%",overflowY:"auto"},"with-warning":{borderColor:e.warning.borderColor,"&:focus":{borderColor:e.warning.borderColor,boxShadow:e.boxShadow}},"cke-sf1-fix":{position:"-webkit-sticky !important",top:"initial !important"},"textarea-and-pre--rich--disabled":{boxShadow:e.disabled.boxShadow,backgroundColor:e.disabled.backgroundColor,opacity:e.disabled.opacity},"textarea-and-pre--rich":{whiteSpace:"initial"}}}};var Rn={attributes:{asRichText:{type:"boolean"},maxCharactersToShow:{type:"number"},withButton:{type:"boolean",default:false},disabled:{type:"boolen",default:false},describedBy:{type:"string"},labeledBy:{type:"string"},showLengthCounter:{type:"boolean",default:false},rightAlign:{type:"boolen",default:false},placeholder:{type:"text",default:""},mode:{type:"picklist",options:["edit","read"],default:"edit"},value:{type:"string"},warning:{type:"boolean",default:false},displayRows:{type:"number"},inputId:{}},access:{cpi:{public:["focus"]}}};const{h:En,$:Pn}=Object(n["d"])();n["a"].register("skuid__inputTextArea",Object.assign({},On,{schema:Rn,init(e,t,o){const i=e.shortcut("set");i({numberOfCharacters:t.value?t.value.length:0,showCharacterWarningAt:t.maxCharactersToShow?t.maxCharactersToShow*.9:0,showCharacterWarning:t.numberOfCharacters>=t.showCharacterWarningAt,showLengthCounterId:n["c"].utils.generateUniqueId()});o.assignValueStrings();o.updateAriaDescribedBy();e.subscribeChange("describedBy",o.updateAriaDescribedBy);e.subscribeChange("showCharactersWarning",o.updateAriaDescribedBy);e.subscribeChange("value",o.assignValueStrings);t.asRichText&&e.subscribeChange("disabled",o.initCk)},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();if(o.asRichText)return i.renderRichText();return En("div",{key:e},[En("div",{class:t("expanding-area")},[En("div",{class:t("background")}),En("div",{classes:t({"textarea-and-pre":true,pre:true,"pre--with-rows":o.displayRows,"right-align":o.rightAlign}),afterCreate:t=>{e.set("preElement",t,{renderOnChange:false})}},[En("span",{key:"value-no-highlight"},[o.valueNoHighlight]),En("span",{key:"warning-highlight",class:t("warning--highlight")},[o.valueHighlight]),En("br")]),En("textarea",{id:o.inputId,classes:t({"textarea-and-pre":true,textarea:true,"textarea--without-rows":!o.displayRows,"with-warning":o.warning,"right-align":o.rightAlign}),disabled:o.disabled,value:o.value,placeholder:o.placeholder,oninput:i.onInput,onclick:i.onClick,onblur:i.onBlur,onfocus:i.onFocus,onkeydown:i.onKeyDown,afterCreate:i.afterCreate,afterUpdate:i.afterUpdate,rows:o.displayRows,onscroll:i.onTextAreaScroll,"aria-describedby":o["aria-describedby"]})]),o.showLengthCounter&&o.maxCharactersToShow?En("div",{id:o.showLengthCounterId,classes:t({"character-count":true,"character-count--warn":o.showCharacterWarning}),"aria-live":o.showCharacterWarning?"polite":undefined,"aria-label":"".concat(o.numberOfCharacters," out of ").concat(o.maxCharactersToShow," characters used")},["".concat(o.numberOfCharacters,"/").concat(o.maxCharactersToShow)]):undefined])},cpi:{afterUpdate(e){e[this.getState().disabled?"setAttribute":"removeAttribute"]("aria-disabled","true")},afterCreate(e){const{focusOnCreate:t,asRichText:o}=this.getState();this.set("inputElement",e,false);if(t){this.set("focusOnCreate",false,false);e.focus()}if(o){this._getCPI().initCk()}},focus(){const e=this.getState();if(e.inputElement&&document.contains(e.inputElement)&&window.getComputedStyle(e.inputElement).display!=="none"){e.inputElement.focus();this.set("focusOnCreate",false,false)}else{this.set("focusOnCreate",true,false)}},onInput(e){this.set("value",e.target.value)},onBlur(){if(this.state.ck)return;this.publish("blur")},onFocus(){this.publish("focus")},onKeyDown(e){this.publish("keydown",e)},onClick(e){e&&e.stopPropagation()},onTextAreaScroll(e){if(!this.get("displayRows"))return;const t=this.get("preElement");if(t)t.scrollTop=e.currentTarget.scrollTop},assignValueStrings(){const e=this.shortcut("set"),t=this.getState();e("numberOfCharacters",t.value?t.value.length:0);if(t.maxCharactersToShow&&t.numberOfCharacters>=t.showCharacterWarningAt){e({showCharacterWarning:true,valueNoHighlight:t.value.substring(0,t.maxCharactersToShow),valueHighlight:t.value.substring(t.maxCharactersToShow,t.value.length)})}else{e({showCharacterWarning:false,valueNoHighlight:t.value,valueHighlight:""})}},updateAriaDescribedBy(){const e=[],t=this.getState();if(t.describedBy){e.push(t.describedBy)}if(t.showLengthCounter){e.push(t.showLengthCounterId)}this.set("aria-describedby",e.join(" ")||undefined)},renderRichText(){const e=this,t=e.shortcut("getStyledClasses"),{value:o,disabled:i,ck:n}=e.getState(),s=e._getCPI(),a=n&&!i;return En("div",{key:e},[!a&&En("div",{key:"ck-placeholder",classes:t({"textarea-and-pre":true,"textarea-and-pre--rich":true,"textarea-and-pre--rich--disabled":i}),innerHTML:o,afterCreate:t=>e.set("ckPlaceholder",t)}),En("div",{key:"ck-wrapper",classes:t({"textarea-and-pre":true,"textarea-and-pre--rich":true}),afterCreate:s.afterCreate,onblur:s.onBlur,onfocus:s.onFocus,contenteditable:!i+"",styles:{display:a?"block":"none"}})])},initCk(){const{disabled:e,ck:t,inputElement:o,inputId:i}=this.getState();n["c"].utils.loadRichTextApi().then(s=>{if(t&&s.instances[t.name]){s.instances[t.name].destroy(false);this.unset("ck")}if(e)return;let a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);const r=i||n["c"].utils.rfc4122v4GUID();o.setAttribute("id",r);o.innerHTML=this.get("value");let l=s.inline(o,{allowedContent:true,disallowedContent:"style script iframe",toolbar:a?"Mobile":"FieldEditor"});let c=true;this.subscribeChange("value",e=>{if(c){l.setData(e)}});l.on("change",()=>{c=false;this.set("value",l.getData());c=true});l.on("blur",()=>this.publish("blur"));this.set("ck",l);this.publish("ckLoaded");if(n["c"].utils._oniOS()&&n["c"].utils._inIframe()){const e=()=>{Pn(".cke").last().insertAfter(Pn(o)).toggleClass(this.getStyledClasses("cke-sf1-fix"),true)};l.on("contentDom",e);Pn(o).on("click",e)}this.delay().then(()=>{if(this.get("focusOnCreate")){this.set("focusOnCreate",false,false);this.get("ckPlaceholder").style="display: none";o.style="display: block; position: relative;";o.focus()}})})}}}));var Dn={attributes:{inputId:{type:"string"},label:{type:"string"},description:{type:"string"},descriptionId:{type:"string"},messagesId:{type:"string"},disabled:{type:"boolean"},noMargin:{type:"boolean"},warning:{type:"boolean"},optional:{type:"boolean"},showOptional:{type:"boolean"},required:{type:"boolean"},mode:{type:"picklist",options:["read","edit"]},inlineHelpText:{type:"string",default:""},inlineHelpIcon:{type:"icon",default:"sk-webicon-ink:help"},showHelp:{type:"picklist",default:"true",options:["true","false","belowlabel"]},minWidth:{},maxWidth:{},flexRatio:{},placement:{}},properties:{renderConditions:true}};const{h:Mn,utils:An,skuid:Vn}=Object(n["d"])(),Fn=Vn.$L,Ln=Vn.ui,Bn=An.makeXMLDoc;n["a"].register("skuid__labelInput",Object.assign({},Eo,{schema:Dn,init(e,t,o){const i=e.shortcut("set");e.registerMergeAttribute("label","_label");e.registerMergeAttribute("inlineHelpText","_inlineHelpText");o.updateInlineHelpText();["_inlineHelpText","inlineHelpIcon","showHelp"].forEach(t=>e.subscribeChange(t,o.updateInlineHelpText));i({rootElementTag:"label"})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{showOptional:o,optional:i,required:n,_label:s,mode:a,inputId:r,minWidth:l,maxWidth:c,flexRatio:d,disabled:u,noMargin:g,warning:h,_inlineHelpText:b,helpIconInstance:f,showHelp:m,placement:y,descriptionId:C}=e.getState(),k=e._cpi,S=(o&&i||n)&&s&&a!=="read";return Mn("label",{key:e,for:r,styles:{minWidth:l,maxWidth:c,flex:d}},[Mn("div",{key:"label",classes:t({label:true,"label--disabled":u,"label--with-margin":!g,"label--beside":y==="beside"})},[Mn("span",{key:"warning",classes:t({"label--with-warning":h})},[h&&Object(p["a"])(Ln.getIconURLFromHandle("sk-webicon-ink:warning"),{classes:t({"warning-icon":true}),key:"warning icon"}),Mn("span",{key:"label"},[s]),f&&f.renderVDom()]),S&&Mn("span",{key:"necessity",class:t("necessity-addendum")},[" (".concat(n?Fn("Required","Required"):Fn("Optional","Optional"),")")])]),b&&Mn("div",{key:"help",classes:t({"inline-help-text":true,"just-for-screen-readers":m!=="belowlabel"}),id:C,"aria-hidden":"true"},[b]),k.renderMessages()])},cpi:{renderMessages(){const e=this.shortcut("getStyledClasses"),{messages:t,messagesId:o}=this.getState();if(!t)return;return Mn("div",{id:o},t.map((t,o)=>Mn("div",{key:"field-message-".concat(o),class:e("message")},[t.message])))},updateInlineHelpText(){let{helpIconInstance:e,inlineHelpIcon:t,_inlineHelpText:o,showHelp:i}=this.getState();e&&e.unregister();e=o&&i==="true"&&this.createChildComponent({componentType:"skuid__icon",handle:t,tooltip:Bn('<tooltip text="'.concat(An.encodeHTML(o),'" compact="true"/>')),alignBottom:false,styles:{spacing:{marginLeft:"s0_5"}}});this.set({helpIconInstance:e})}}}));var zn={attributes:{label:{type:"string"},description:{type:"string"},count:{type:"string"}}};const{h:Nn}=Object(n["d"])();n["a"].register("skuid__labelRadioCheckbox",Object.assign({},St,{schema:zn,init(e){const t=e.shortcut("set");t({rootElementTag:"span"})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{count:o,description:i,label:n}=e.getState();return Nn("span",{key:e},[Nn("span",{key:"option-label",class:t("optionLabel")},[Nn("span",{key:"label"},["".concat(n)]),o&&Nn("span",{key:"count",class:t("optionCount")},[" (".concat(o,")")])]),i&&Nn("div",{key:"description",class:t("description")},[i])])}}));var jn={type:"node",attributes:{datasource:{type:"string"},source:{type:"string"},model:{type:"string"},url:{type:"string"},resource:{type:"string"},resourceNamespace:{type:"string"},resourceContentType:{type:"string"},path:{type:"string"},size:{type:"picklist",options:["auto","cover","contain"],default:"auto"},attachment:{type:"picklist",options:["scroll","fixed"],default:"scroll"},repeat:{type:"picklist",options:["no-repeat","repeat-x","repeat-y","repeat"],default:"no-repeat"},position:{type:"picklist",options:["top left","top center","top right","center left","center center","center right","bottom left","bottom center","bottom right"],default:"center center"},color:{type:"string"},type:{type:"picklist",options:["image","color"]}}};var Hn={attributes:{sticky:{type:"boolean",default:false},isFooter:{type:"boolean",default:false}},nodes:{background:jn},properties:{components:true,renderConditions:true,styles:true,styleVariantConditions:true}};var Wn={getStyleSettingsVariants:()=>{return{default:{_zIndex:H["x"].HEADER}}},getStyles(e){return{header:{zIndex:e._zIndex,position:"absolute",top:0,left:0,right:0},"header--fixed":{position:"fixed"},footer:{zIndex:e._zIndex,position:"absolute",bottom:0,left:0,right:0},"footer--fixed":{position:"fixed"},"@global":{".sidebarCell + #bodyCell .sk-headerwrapper-fixed":{margin:"0 10px 0 240px"}}}}};const{div:Un}=Object(n["d"])();n["a"].register("skuid__layoutRegion",Object.assign({},Wn,{schema:Hn,init(e,t,o){const{components:i,context:s,isFooter:a}=t,r=e.shortcut("set"),l=e.createChildComponents(i,null,s),c=a?"footer":"header";let d=false;e.subscribeChange("sticky",o.determineScrollListener);o.determineScrollListener();o.updateStyles();if(!a){e.storeSubscription(n["c"].events.subscribe("ui.systemFeedbackUpdated",t=>{const{_isFixed:o,inlineStyles:i}=e.getState(),n=t.get("height");r({inlineStyles:Object.assign({},i,{top:o?n:"0px"})})}))}r({componentInstances:l,_isFixed:d,_class:c})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{componentInstances:o,_isFixed:i,_class:n,inlineStyles:s}=e.getState(),a=e._getCPI();return Un({key:e,afterCreate:a.afterCreate,classes:Object.assign({},t({[n]:true,["".concat(n,"--fixed")]:i}),{"sk-headerwrapper-fixed":i}),styles:s||{}},o.map(e=>e.renderVDom()))},cpi:Object.assign({afterCreate(e){this.set("_element",e,{renderOnChange:false});const t=this._getCPI(),{_addScrollListener:o,isFooter:i}=this.getState(),s=i?"padding-bottom":"padding-top";let a;const r=()=>this.delay().then(()=>{const i=this.getParentPage().getContentElement();if(e.offsetHeight&&a)clearInterval(a);i.css(s,e.offsetHeight);if(o){t.scrollListener()}});if(n["c"].utils.inPlatform(n["c"].constants.LIGHTNING)){const e=17;a=setInterval(r,e)}r()},scrollListener(){const{inlineStyles:e,isFooter:t}=this.getState(),o=this.getParentPage(),i=o.element,n=window.scrollY,s=i.offset(),a=parseFloat(document.body.style.paddingTop||0);if(t){const e=i.height(),t=window.innerHeight;this.set("_isFixed",n+t<s.top+e)}else{const t=n>s.top-a;this.set({_isFixed:t,inlineStyles:Object.assign({},e,{top:t?"".concat(a,"px"):"0px"})})}},determineScrollListener(){const e=this.getParentPage(),t=e.isInclude,o=this.get("sticky");let i=false;if(o===true&&t!==true&&!n["c"].utils.inPlatform(n["c"].constants.LIGHTNING)){i=true;window.addEventListener("scroll",this._cpi.scrollListener);this.subscribe("beforeUnregister",this._cpi.removeScrollListener)}else{this._cpi.removeScrollListener()}this.set({_addScrollListener:i})},removeScrollListener(){window.removeEventListener("scroll",this._cpi.scrollListener)}},bn())}));var Gn={getStyleSettingsVariants:(e,t)=>{return{default:{backgroundColor:null,columnSpacing:"@tk.spacing.s2",rowActionsSpacing:"@tk.spacing.s2",checkboxSpacing:"@tk.spacing.s2",itemSpacing:"@tk.spacing.s0_5",row:{backgroundColor:null,border:{borderTop:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},lastItemBorderBottom:{type:"borderBottom",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},borderRadius:null,boxShadow:null,margin:null,padding:"@tk.spacing.s2 0",hover:{backgroundColor:"@palette.neutral.7",border:null,borderRadius:null,boxShadow:null},selected:{backgroundColor:null,border:null,borderRadius:null,boxShadow:null}},primaryStyle:{color:{label:"Text Color",value:"@tk.utility.fontColor"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",lineHeight:"@tk.lineHeight.regular",selected:{color:{label:"Text Color",value:null},fontSize:null,fontWeight:null}},secondaryStyle:{color:{label:"Text Color",value:"@palette.neutral.3"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.regular",selected:{color:{label:"Text Color",value:null},fontSize:null,fontWeight:null}},tertiaryStyle:{color:{label:"Text Color",value:"@palette.neutral.3"},fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.small",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.regular",selected:{color:{label:"Text Color",value:null},fontSize:null,fontWeight:null}},header:Yt.getStyleSettingsVariants(e).default,footer:$t.getStyleSettingsVariants(e).default,[H["o"]]:Object.assign({},Yt.getStyleSettingsVariantsChildren({},e,t),{},$t.getStyleSettingsVariantsChildren({},e,t))}}},getStyleSettingsVariantsChildren(e){return{skuid__listHeader:{listHeader:Object.assign({},e.header,{[H["o"]]:e[H["o"]]})},skuid__buttonGroup:{rowActions:"default"},skuid__checkbox:{massActionCheckboxes:"default"},skuid__listFooter:{listFooter:Object.assign({},e.footer,{[H["o"]]:e[H["o"]]})},skuid__uiBlocker:{uiBlocker:"default"}}},getStyles(e){return{list:{backgroundColor:e.backgroundColor,fontSize:e.fontSize,color:e.color,position:"relative"},row:Object.assign({backgroundColor:e.row.backgroundColor},s(e.row.border),{borderRadius:e.row.borderRadius,boxShadow:e.row.boxShadow,margin:e.row.margin,padding:e.row.padding,display:"flex","&:last-child":{borderBottom:e.row.lastItemBorderBottom}}),"row--clickable":{cursor:"pointer","&:hover":Object.assign({backgroundColor:e.row.hover.backgroundColor},s(e.row.hover.border),{borderRadius:e.row.hover.borderRadius,boxShadow:e.row.hover.boxShadow})},"row--as-link":{textDecoration:"none !important"},row__column:{"&:not(:last-child)":{marginRight:e.columnSpacing}},"sub-item--primary":{color:e.primaryStyle.color,fontFamily:e.primaryStyle.fontFamily,lineHeight:e.primaryStyle.lineHeight,fontSize:e.primaryStyle.fontSize,fontWeight:e.primaryStyle.fontWeight},"sub-item--secondary":{color:e.secondaryStyle.color,fontFamily:e.secondaryStyle.fontFamily,lineHeight:e.secondaryStyle.lineHeight,fontSize:e.secondaryStyle.fontSize,fontWeight:e.secondaryStyle.fontWeight},"sub-item--tertiary":{color:e.tertiaryStyle.color,fontFamily:e.tertiaryStyle.fontFamily,lineHeight:e.tertiaryStyle.lineHeight,fontSize:e.tertiaryStyle.fontSize,fontWeight:e.tertiaryStyle.fontWeight},"sub-item-spacer":{width:"100%",height:e.itemSpacing},"row--selected":Object.assign({backgroundColor:e.row.selected.backgroundColor},s(e.row.selected.border),{borderRadius:e.row.selected.borderRadius,boxShadow:e.row.selected.boxShadow,"& $sub-item--primary":{color:e.primaryStyle.selected.color,fontSize:e.primaryStyle.selected.fontSize,fontWeight:e.primaryStyle.selected.fontWeight},"& $sub-item--secondary":{color:e.secondaryStyle.selected.color,fontSize:e.secondaryStyle.selected.fontSize,fontWeight:e.secondaryStyle.selected.fontWeight},"& $sub-item--tertiary":{color:e.tertiaryStyle.selected.color,fontSize:e.tertiaryStyle.selected.fontSize,fontWeight:e.tertiaryStyle.selected.fontWeight}}),"row-actions-wrapper--left":{paddingRight:e.rowActionsSpacing},"row__checkbox-wrapper":{marginRight:e.checkboxSpacing},spacer:{flex:"1"}}}};var qn={attributes:{model:{type:"model"},pageSize:{type:"number",default:10},showPageSizeSelect:{type:"boolean",default:true},rowActionsOnLeft:{type:"boolean",default:false},title:{type:"string"},showLoadMore:{type:"boolean",default:true},showListHeader:{type:"boolean",default:true},showListFooter:{type:"boolean",default:true},resetPaginationOnQuery:{type:"boolean",default:true}},nodes:{columns:{type:"array",childNode:{column:{type:"node",attributes:{widthBehavior:{type:"picklist",default:"fill",options:["fill","fixed"]},fillRatio:{type:"number",default:1},width:{type:"number",default:12},customWidthAmount:{type:"string",default:"64px"}},nodes:{items:{type:"array",childNode:{item:{attributes:{displayType:{type:"picklist",options:["avatar","field","icon","image","template","fieldLabel"]},displayStyle:{type:"picklist",options:["primary","secondary","tertiary"]},styleSettingsVariant:{type:"string"},fieldId:{type:"string"},name:{type:"string"},template:{type:"string"},url:{type:"string"},alt:{type:"string"},size:{type:"string"},fallback:{type:"string"},fallbackType:{type:"string"},isChildRel:{type:"boolean"},type:{type:"string"},delimiter:{type:"string"},fieldtargetobjects:{}}}}}}}}},filtering:Zt,filters:{type:"array",childNode:{skuid__filter:"skuid__filter"}}},properties:{styles:true,styleVariantConditions:true,conditions:true,renderConditions:true,interactions:true,actions:["rowActions","massActions"]},access:{cpi:{public:["goToPage"]}}};const{h:Yn,div:$n}=Object(n["d"])();n["a"].register("skuid__list",Object.assign({},Gn,{schema:qn,init(e,t,o){const{model:i,massActions:s,interactions:a,conditions:r,context:l}=t,c=e.shortcut("set"),d=!!(a&&a.find('[type="tap"]').length),u=!!(s&&s.children().length);if(!i){c("show",false);throw Error("List: Model is required.")}if(r){c({conditions:e.createConditionsFromXml(r,{context:l})})}const p=z(a);let g,h;if(p){const e=N(a);h=e.url;g=e.target}c("autoApplyInteractions",false);c({columnWidthExtrasCache:[],itemConfigCache:{},hasClickInteractions:d,hasMassActions:u,target:g,rawLinkUrl:h,renderAsLink:p});o.populateRowContents();o.initListHeader();o.initListFooter();o.initMassActionCheckboxHead();o.updateActions();const b=n["c"].utils.debounce(o.resolveModelChanges,H["r"]);["cancelled","loaded","saved","row.created"].forEach(function(t){e.storeSubscription(i.subscribe(t,b))});e.storeSubscription(i.subscribe("row.updated",t=>{e.get("uiPaginatedRows").uiRows.forEach(o=>{if(o.recordId===t.rowId){o.updateCellsDisplayInfo();e.scheduleVirtualRender()}})}));c({uiBlockerInstance:e.createChildComponent({componentType:"skuid__uiBlocker",styleSettingsVariant:"@parent/uiBlocker",model:i,inContainer:true})})},renderVDom(e){const{dragDropFragmentRow:t,getDragDropFragmentColumn:o,hasClickInteractions:i,hasMassActions:n,listFooterInstance:s,listHeaderInstance:a,massActionsCheckboxes:r,renderAsLink:l,rowActionsButtonGroups:c,rowActionsOnLeft:d,showListHeader:u,showListFooter:p,target:g,uiBlockerInstance:h,uiPaginatedRows:b}=e.getState(),f=e.shortcut("getStyledClasses"),m=e._getCPI();return $n({key:e,class:f("list")},[$n({key:"ui-blocker"},[h.renderVDom()]),u&&a&&a.renderVDom(),$n({key:"paginated-rows"},b.visibleRows.map((s,a)=>(a==0&&t?t:Yn)(l?"a":"div",{key:s,classes:f({row:true,"row--clickable":i,"row--selected":!!s.selected,"row--as-link":l}),afterCreate:m.applyInteraction.bind(e,s),href:l&&s.options&&s.options.url,target:l&&g},[n?$n({key:"mass-action-checkboxes",class:f("row__checkbox-wrapper")},[r[a].renderVDom()]):[],c&&d&&$n({key:"row-actions-left",class:f("row-actions-wrapper--left")},[c[a].renderVDom()]),...s.cells.map((e,t)=>{let i=e.items.map((t,o)=>{const i=$n({key:t,classes:m.getItemClass(e,o)},[o!==0&&$n({class:f("sub-item-spacer")}),t._component?t._component.renderVDom():e.renderItemAtIndex(o)]);if(a==0&&e.extras.itemSpoofers&&e.extras.itemSpoofers[o])return e.extras.itemSpoofers[o].renderVDom(i);return i});return $n({key:e,classes:f({row__column:true}),styles:{flex:e.extras.fillRatio,width:e.extras.width}},a==0&&e.extras.spooferLight&&o?[e.extras.spooferLight.renderVDom(o(t)("div",{},i))]:i)}),c&&!d&&$n({key:"right-row-actions"},[c[a].renderVDom()])]))),p&&s&&$n({key:"list-footer"},[s.renderVDom()])])},cpi:Object.assign({},oo(),{getMassActionCheckboxHead(){const e=this.get("listHeaderInstance");return e&&e.get("massActionCheckboxHead")},populateRowContents(){let{model:e,columns:t,pageSize:o,uiPaginatedRows:i,resetPaginationOnQuery:s,rawLinkUrl:a,_:r,itemComponents:l=[],enableBuilderCanvasMode:c}=this.getState(),d=r&&r.node,u=this._getCPI();l.forEach(e=>e.unregister());let p=u.getActiveRecords().map((o,i)=>new qt["a"]({recordId:e.getRowId(o),cells:t.map((t,s)=>{let a,r,p;if(c&&d&&n["c"].builder){r=d.querySelector("columns > column:nth-child(".concat(s+1,")"));a=n["c"].builder.core.createSpooferLight(r,this,"list__column",i);p=[]}const g=new Mo["a"]({items:t.items.map((e,t)=>{const a=u.getItemConfig(s,t,o);let c=Object.assign({},e,a.itemProps);if(a.componentDefinition){c.component=this.createChildComponent(a.componentDefinition);l.push(c.component)}if(r&&n["c"].builder){const e=n["c"].builder.core.createSpooferLight(r.querySelector("items > item:nth-child(".concat(t+1,")")),this,"list__item",i);p.push(e)}return c}),model:e,row:o},Object.assign({displayStyles:t.items.map(e=>e.displayStyle),spooferLight:a,itemSpoofers:p},u.getColumnWidthExtras(s)));g.updateDisplayInfo();return g}),options:{url:n["c"].utils.mergeAsTextInContext(a,{model:e,row:o})}}));this.set({uiPaginatedRows:new Gt["a"](p,i?i.pageSize:o,{pageIndex:i&&!s?i.pageIndex:0}),itemComponents:l})},getItemClass(e,t){if(!e.extras.displayStyles[t]){return this.getStyledClasses({"sub-item--primary":t==0,"sub-item--secondary":t==1,"sub-item--tertiary":t>1})}else{return this.getStyledClasses({"sub-item--primary":e.extras.displayStyles[t]==="primary","sub-item--secondary":e.extras.displayStyles[t]==="secondary","sub-item--tertiary":e.extras.displayStyles[t]==="tertiary"})}},applyInteraction(e,t){const{interactions:o,model:i,renderAsLink:s}=this.getState();if(!o)return;n["c"].interactions.disableInteractions(n["c"].$(t));n["c"].interactions.enableInteractions(n["c"].$(t),{interactionsDef:n["c"].$(o),component:this,context:{model:i,row:i.getRowById(e._recordId)},renderAsLink:s})},initListHeader(){const{model:e,massActions:t,actions:o,context:i,title:n,filtering:s,filters:a,showSaveCancel:r,saveIcon:l,cancelIcon:c,moreActionsButtonIcon:d,showListHeader:u,listHeaderInstance:p}=this.getState();if(!u||p)return;this.set("listHeaderInstance",this.createChildComponent({componentType:"skuid__listHeader",styleSettingsVariant:"@parent/listHeader",model:e,context:i,showTitle:true,title:n,showSaveCancel:r,saveIcon:l,cancelIcon:c,filtering:s,filters:a,massActions:t,actions:o,moreActionsButtonIcon:d}))},initListFooter(){const e=this,{listFooterInstance:t,model:o,showPageSizeSelect:i,showLoadMore:n,showListFooter:s,uiPaginatedRows:a}=this.getState();if(!s||t)return;const r=e.createChildComponent({componentType:"skuid__listFooter",styleSettingsVariant:"@parent/listFooter",showPageSizeSelect:i,uiPaginatedRows:a,model:o,showLoadMore:n}),l=this._getCPI();["pageSize","pageIndex","uiPaginatedRows"].forEach(t=>{e.bind(t,r);e.storeSubscription(r.subscribeChange(t,()=>{l.updateActions()}))});r.subscribeChange("pageSize",l.createComponentsForVisibleRows);e.set("listFooterInstance",r)},initMassActionCheckboxHead(){this._cpi.initListHeader();const{massActions:e,enableExport:t,massActionCheckboxHead:o,listHeaderInstance:i}=this.getState();if((!e||!e.children().length)&&!t){this.set("hasMassActions",false);return}if(i&&!o){this.set({hasMassActions:true});i.set({massActionCheckboxHead:Ao["a"].massActionCheckboxHead(i)});this._getCPI().addMassActionCheckboxHeadListener()}},clearColumnWidthExtrasCache(){this.set("columnWidthExtrasCache",[])},getColumnWidthExtras(e){const t=this.get("columnWidthExtrasCache");let o=t[e];if(o)return o;const{widthBehavior:i,fillRatio:n,width:s,customWidthAmount:a}=this.get("columns")[e];let r="";if(i==="fixed"){r=s===-1?a:r=this.getThemeSettings().spacing(s)}t[e]={widthBehavior:i,fillRatio:i==="fill"?n+"":"",width:r,customWidthAmount:a};return t[e]},clearItemConfigCache(){this.set("itemConfigCache",{})},getItemConfig(e,t,o){const i=this.get("itemConfigCache");let n=i["".concat(e,"__").concat(t)];if(n){if(!n.componentDefinition)return n;return{itemProps:n.itemProps,componentDefinition:Object.assign({},n.componentDefinition,{context:{model:this.get("model"),row:o}})}}const s=this.get("model");const{alt:a,displayType:r,fallback:l,fallbackType:c,fieldId:d,size:u,styleSettingsVariant:p,type:g,url:h}=this.get("columns")[e].items[t];let b={},f;switch(r){case"image":f={componentType:"skuid__image",url:h,alt:a,datasource:s.dataSourceName,source:"url",context:{model:s,row:o}};break;case"avatar":case"icon":f={componentType:"skuid__avatar",styleSettingsVariant:p,size:u||"medium",fallback:l,fallbackType:r==="icon"?"icon":c,url:h,alt:a,datasource:s.dataSourceName,source:"url",context:{model:s,row:o}};break;case"fieldLabel":b.template=s.getField(d).label;b.displayType="template";break;default:b.isChildRel=g==="CHILDREL"}let m={itemProps:b,componentDefinition:f};i["".concat(e,"__").concat(t)]=m;return m}}),actions:{goToPage:io}}));var Kn={attributes:{showPageSizeSelect:{type:"boolean",default:true},uiPaginatedRows:{type:"object"},model:{required:true},showLoadMore:{type:"boolean",default:true}},nodes:{},properties:{}};const{skuid:Xn,div:Qn,$L:Zn,h:Jn,utils:es,getBuilderProps:ts}=Object(n["d"])();n["a"].register("skuid__listFooter",Object.assign({},$t,{schema:Kn,init(e,t,o){const{uiPaginatedRows:i,model:n}=t,s=e.shortcut("set");const a=e.createChildComponent({componentType:"skuid__pagination",styleSettingsVariant:"@parent/pageIndices",start:1,finish:i.numPages});e.bind("pageIndex",a,"selectedIndex");o.initLoadMoreButton();o.updateViewingLabel();e.storeSubscription(n.subscribe("loaded",()=>{o.initLoadMoreButton();s("showLoadMoreButton",n.canRetrieveMoreRows);o.updateViewingLabel()}));e.subscribeChange("pageIndex",o.onChangePageIndex);e.subscribeChange("pageSize",o.onChangePageSize);e.subscribeChange("uiPaginatedRows",o.onChangeUiPaginatedRows);s({paginationInstance:a});o.initPagination()},renderVDom(e){const{pageSizeSelectInstance:t,paginationInstance:o,loadMoreButtonInstance:i,showLoadMoreButton:n,showLoadMore:s,viewingLabel:a,showPageSizeSelect:r}=e.getState(),l=e.shortcut("getStyledClasses");return Qn({key:e,class:l("list-footer")},[r&&t&&Qn(Object.assign({key:"page-size",class:l("list-footer__item")},ts(e,{propHint:"listFooter__page-size"})),[t.renderVDom()]),Qn({key:"spacer",class:l(["spacer"])}),s&&Qn({key:"load-more",class:l(["load-more-wrapper","list-footer__item"])},[Jn("span",{class:l("load-more__viewing-label")},[a]),n&&i&&i.renderVDom()]),o.get("indices").length>1&&Qn(Object.assign({key:"button-indices"},ts(e,{propHint:"listFooter__pagination"}),{class:l(["button-indices-wrapper","list-footer__item"])}),[o.renderVDom()])])},cpi:{onChangePageSize(e){const{paginationInstance:t,uiPaginatedRows:o}=this.getState();o.pageSize=e;t.set("finish",o.numPages);t.set("selectedIndex",0);this._getCPI().updateViewingLabel()},onChangePageIndex(e){this.get("uiPaginatedRows").pageIndex=e;this._getCPI().updateViewingLabel()},onChangeUiPaginatedRows(e){const{paginationInstance:t,pageSizeSelectInstance:o}=this.getState();t.set("finish",e.numPages);t.set("selectedIndex",e.pageIndex);o&&o.set("pageSize",e.pageSize);this._getCPI().updateViewingLabel()},updateViewingLabel(){let{model:e,uiPaginatedRows:t}=this.getState(),o=t.pageSize===Infinity?1:t.pageIndex*t.pageSize+1,i=o+t.visibleRows.length-1;if(i===0)o=0;this.set("viewingLabel",Xn.label.merge(Zn("Viewing_a_b_of_c"),o,i,t.uiRows.length)+(e.canRetrieveMoreRows?"+":""))},initLoadMoreButton(){const{showLoadMore:e,model:t,loadMoreButtonInstance:o}=this.getState();if(o||!e||!t.canRetrieveMoreRows)return;this.set({showLoadMoreButton:true,loadMoreButtonInstance:this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/loadMore",label:Zn("Load_More"),onClick:()=>t.loadNextOffsetPage(),enableConditions:es.makeXMLDoc('\n\t\t\t\t\t<enableConditions logictype="and" message="Cannot load data while there are pending changes">\n\t\t\t\t\t\t<condition type="fieldvalue" enclosevalueinquotes="false" fieldmodel="'.concat(t.id,'" sourcetype="modelproperty" nosourcerowbehavior="deactivate" sourceproperty="hasChanged" value="true" operator="!="/>\n\t\t\t\t\t</enableConditions>\n\t\t\t\t'))})})},initPagination(){const{showPageSizeSelect:e,pageSizeSelectInstance:t,uiPaginatedRows:o}=this.getState();if(!e||t)return;const i=this.createChildComponent({componentType:"skuid__select",styleSettingsVariant:"@parent/pageSize",fillWidth:false,value:o.pageSize,optionGroups:[{options:[{label:"5 rows",value:5},{label:"10 rows",value:10},{label:"25 rows",value:25},{label:"50 rows",value:50},{label:"All rows",value:Infinity}]}]});this.bind("pageSize",i,"value");this.set("pageSizeSelectInstance",i)}}}));var os={attributes:{showMessages:{type:"boolean",default:true},showMassActionCheckboxHead:{type:"boolean",default:false},showSaveCancel:{type:"boolean",default:false},showTitle:{type:"boolean",default:false},model:{type:"model"},saveIcon:{type:"string"},cancelIcon:{type:"string"},moreActionsButtonIcon:{type:"string",default:"sk-webicon-ink:dots-vertical"},title:{type:"string"},configButton:{type:"object"},filters:{type:"array"}},nodes:{filtering:Zt,moreActionsOptions:{type:"array",childNode:{option:{attributes:{label:{type:"string",required:true},onSelect:{type:"function",required:true}}}}}},properties:{actions:["actions","massActions"]}};const{div:is,$:ns,getBuilderProps:ss}=Object(n["d"])();const as=(e,t)=>{return[...ns(e).children()].find(e=>e.tagName===t)};const rs=(e,t)=>Object.assign({styleSettingsVariant:e.getAttribute("styleSettingsVariant")||undefined,label:e.getAttribute("label")||undefined,icon:e.getAttribute("icon")||undefined,actions:as(e,"actions"),tooltip:as(e,"tooltip"),renderConditions:as(e,"renderConditions")},t);n["a"].register("skuid__listHeader",Object.assign({},Yt,{schema:os,init(e,t,o){const{showMassActionCheckboxHead:i,showMessages:n}=t;o.initTitle();o.initSaveCancel();o.initFilters();o.initMassActions();o.initGlobalActions();if(i){this.set("massActionCheckboxHead",Ao["a"].massActionCheckboxHead(this))}o.initMoreActions();if(n){o.initModelMessagesInstance()}},renderVDom(e){const{showSaveCancel:t,saveCancelButtonGroup:o,massActionsButtonGroup:i,massActionCheckboxHead:n,showTitle:s,headingInstance:a,filterSetInstance:r,moreActionsButton:l,globalActionsButtonGroup:c}=e.getState(),d=e._getCPI(),u=t&&o,p=e.shortcut("getStyledClasses"),g=(t,o,i)=>is(Object.assign({key:o},ss(e,{noInteract:false,propHint:i}),{class:p("quadrant__action-wrapper")}),t);return is({key:e,class:p("list-header")},[is({key:"actionables",classes:p({section:true})},[is({key:"left-quadrant",classes:p({quadrant:true})},[a&&s?g([a.renderVDom()],"heading","listHeader__heading"):undefined,i||c?g([n&&n.renderVDom(),c&&c.renderVDom(),i&&i.renderVDom()],"actions"):undefined]),(u||l||r)&&is({key:"right-quadrant",classes:p({quadrant:true,"quadrant--right":true})},[u||l?g([u&&is(Object.assign({key:"save-cancel-wrapper"},ss(e,{propHint:"listHeader__save-cancel"})),[o.renderVDom()]),l&&is(Object.assign({key:"more-actions",afterCreate:e._getCPI().afterCreateMoreActionsButton},ss(e,{propHint:"listHeader__more-actions"})),[l.renderVDom()])]):undefined,r?g([r.renderVDom()],"filter-set-wrapper"):undefined])]),d.renderModelMessagesInstance({classes:p({section:true,"section--messages":true})})])},cpi:Object.assign({},Hi(),{afterCreateMoreActionsButton(e){const t=this.get("moreActionsMenu");if(t){t.getCPI().setTarget(e)}},initTitle(){const{showTitle:e,headingInstance:t,model:o,title:i,context:n}=this.getState();if(!e||!i||t)return;const s=this.createChildComponent({componentType:"skuid__text",styleSettingsVariant:"@parent/title",model:o,contents:i,context:n,enableBuilderCanvasMode:false});this.subscribeChange("context",e=>s.set("context",e));this.set("headingInstance",s)},initSaveCancel(){const{showSaveCancel:e,model:t,saveIcon:o,cancelIcon:i,context:n,saveCancelButtonGroup:s}=this.getState();if(!e||s)return;const a=Ao["a"].saveCancel(this,{modelId:t.id,saveIcon:o,cancelIcon:i,context:n});this.subscribeChange("context",e=>a.set("context",e));this.set("saveCancelButtonGroup",a)},initFilters(){const{context:e,filters:t,model:o,filterSetInstance:i}=this.getState(),n=this.get("filtering")||{};const s=t&&t.length;let a=s?[].concat(t):[];if(i||!n.enableSearch&&!s)return;const r=this.createChildComponent({componentType:"skuid__filterSet",styleSettingsVariant:"@parent/filterSet",model:o,layout:"listHeader",noMargin:true,filters:a,filtering:Object.assign(n,{instantFilters:true,instantSearch:true}),noSearchLabel:true,context:e});this.subscribeChange("context",e=>r.set("context",e));this.set("filterSetInstance",r)},initMassActions(){const{model:e,massActions:t,massActionsButtonGroup:o,uniqueId:i}=this.getState();if(!t||o)return;const s=t&&t.children().length;if(s<=0)return;const a=this.createChildComponent({_:{node:t[0]},componentType:"skuid__buttonGroup",styleSettingsVariant:"@parent/massActions",uniqueId:i+"-mass-actions-buttongroup",displayType:s<3?"detached":"combo",menuOnRight:true,disabled:true,buttons:n["c"].$.map(t.children(),e=>rs(e,{disabled:true})),context:{model:e,list:this.getParentComponent()}});this.set("massActionsButtonGroup",a)},initGlobalActions(){const{actions:e,globalActionsButtonGroup:t,model:o,uniqueId:i}=this.getState();if(!e||t)return;const s=e&&e.children().length;if(s<=0)return;const a=this.createChildComponent({_:{node:e[0]},componentType:"skuid__buttonGroup",styleSettingsVariant:"@parent/globalActions",uniqueId:i+"-global-actions-buttongroup",displayType:s<3?"detached":"combo",menuOnRight:true,buttons:n["c"].$.map(e.children(),rs),context:{model:o,list:this.getParentComponent()}});this.set("globalActionsButtonGroup",a)},initMoreActions(){const{moreActionsButtonIcon:e,moreActionsOptions:t,moreActionsButton:o}=this.getState();if(o||!t||!t.length)return;const i=this.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/kebab",icon:e,onClick:e=>{const t=s.getCPI();t.blur();t.toggle();if(e&&!e.x&&!e.y){t.focus()}}}),s=n["c"].utils._floatingComponentFactory.createMenu({show:false,menuOnRight:true,clickCloseExceptionsSelector:"#".concat(i.getUniqueId),optionGroups:[{options:t.map((e,t)=>{return{label:e.label,value:t}})}]},this);s.subscribe("closed.keyboard",()=>{this.get("moreActionsButton")._getCPI().focus()});s.subscribe("option.selected",e=>{t[e.value].onSelect()});this.set({moreActionsButton:i,moreActionsMenu:s})}})}));var ls={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{_zIndex:H["x"].HEADER,height:t(7),backgroundColor:"@tk.utility.backgroundColor",boxShadow:"none",padding:"@tk.spacing.s1 @tk.spacing.s2",alignItems:"center",justifyContent:"flex-start",border:{borderBottom:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"}}},getStyles(e){return{masthead:{position:"relative"},"masthead--height":{zIndex:e._zIndex,height:e.height},"masthead--fixed":{width:"100%"},"masthead-container":Object.assign({position:"relative",display:"flex",alignItems:e.alignItems,justifyContent:e.justifyContent,boxSizing:"border-box",backgroundColor:e.backgroundColor},s(e.border),{boxShadow:e.boxShadow,padding:e.padding}),"masthead-container--fixed":{position:"fixed",top:0,left:0,right:0}}}};var cs={attributes:{position:{type:"picklist",options:[{label:"Scrolls with page",value:""},{label:"Fixed",value:"fixed"},{label:"Fixed when at top",value:"relativeFixed"}]}},nodes:{divisions:{type:"array",childNode:{division:"skuid__division"}}},properties:{renderConditions:true,styles:true,styleVariantConditions:true}};const{h:ds}=Object(n["d"])();n["a"].register("skuid__masthead",Object.assign({},ls,{schema:cs,init(e,t,o){const i=e.shortcut("set");if(t.position==="relativeFixed"){window.addEventListener("scroll",o.scrollListener);e.subscribe("beforeUnregister",o.beforeUnregister)}o.setDivisions(t.divisions);e.subscribeChange("divisions",o.setDivisions);i({isFixed:t.position==="fixed"})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{isFixed:o,_divisionInstances:i,_setHeight:n}=e.getState(),s=e._getCPI();return ds("div",{key:e,classes:t({masthead:true,"masthead--height":n!==false,"masthead--fixed":o}),afterCreate:s.afterCreate},[ds("div",{key:"container",classes:t({"masthead-container":true,"masthead--height":n!==false,"masthead-container--fixed":o})},i.map(e=>e.renderVDom()))])},cpi:{afterCreate(e){this.set("_element",e)},beforeUnregister(){const e=this._getCPI();window.removeEventListener("scroll",e.scrollListener)},scrollListener(){const e=this.get("_element"),t=e.getBoundingClientRect();this.set("isFixed",t.top<=0)},setDivisions(e=[]){const{_divisionInstances:t=[],context:o}=this.getState();t.forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.set("_divisionInstances",e.map(e=>this.createChildComponent(Object.assign({},e,{componentType:"skuid__division",context:o}))))}}}));const us=" skuid err 001";n["a"].register("skuid__messagesUi",{schema:{properties:{actions:["conflictActions"]}},init(e,t){e.storeSubscription(n["c"].events.subscribe("models.messages",o=>{let i=(o.messages||[]).filter(e=>e.message.indexOf(us)>=0),s;if(i.length>0){s=i[0];s.message=s.message.replace(us,"");s.handled=true;n["c"].actions.runActionsNode(t.conflictActions.first(),e,{initiatorId:e.id(),$Error:s})}}))}});const ps=lo;var gs={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return Object.assign({},co.getStyleSettings(e),{_zIndex:H["x"].DYNAMIC,boxShadow:"none",width:t(80),backdrop:{color:{label:"Backdrop Color",value:"@palette.neutral.1"},opacity:"@tk.opacity.dark"}})},getStyleSettingsVariantsChildren(e){return{skuid__dialog:{modal:Object.assign({},e)}}},getStyles(e){return{wrapper:{position:"fixed",top:0,left:0,right:0,bottom:0,overflow:"auto"},backdrop:{position:"fixed",width:"100%",height:"100%",backgroundColor:e.backdrop.color,opacity:"0",transition:"opacity 250ms ease"},"backdrop--fade-in":{opacity:e.backdrop.opacity}}}};var hs={attributes:Object.assign({_forTheming:{type:"boolean",default:false}},uo.attributes,{enforceActionables:{type:"boolean",default:false},zIndex:{type:"number"}}),nodes:Object.assign({},uo.nodes),properties:{actions:["afterCloseActions","actions"],components:true,context:true,renderConditions:true,enableConditions:true,styleVariantConditions:true,styles:true},access:{cpi:{public:["close"]}}};const{utils:bs,h:fs,KEYCODES:ms}=Object(n["d"])(),ys=bs.increaseAndGetZIndex,{DIALOG_TRANSITION:Cs}=ps();n["a"].register("skuid__modal",Object.assign({},gs,{schema:hs,init(e,t,o){const i=e.shortcut("set"),{model:s,title:a,buttonsJustification:r,context:l,positionX:c,positionY:d,transition:u,height:p,width:g,fullScreen:h,buttons:b,afterCloseActions:f,actions:m,closeIcon:y,hideCloseIcon:C,_forTheming:k,zIndex:S,showCloseIcon:w,showHeader:_,showFooter:I}=t,v=e.createChildComponent({componentType:"skuid__dialog",styleSettingsVariant:"@parent/modal",model:s,context:l,title:a,closeIcon:y,hideCloseIcon:C,buttonsJustification:r,positionX:c,positionY:d,transition:u,height:p,width:g,fullScreen:h,onClose:o.afterDialogClose,showCloseIcon:w,showHeader:_,showFooter:I,actions:m,afterCloseActions:f,buttons:b,_forTheming:k});n["c"].events.publish("skuid__modal.rendered.global");i({_zIndex:S||ys(),dialogInstance:v,showFadeInClass:false});e.bind("components",v);e.bind("context",v);e.bind("title",v);e.bind("showHeader",v);e.bind("showFooter",v);e.bind("showCloseIcon",v);e.subscribeChange("components",()=>setTimeout(o.focusFirstAvailableElement,100));o.addKeyListener();e.delay(5).then(()=>{i({showFadeInClass:true})})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_zIndex:o,_forTheming:i,dialogInstance:n,enforceActionables:s,showFadeInClass:a}=e.getState(),r=e._getCPI();return fs("div",{key:e,afterCreate:r.afterCreate,classes:t({wrapper:true}),onkeydown:r.onKeyDown,styles:Object.assign({zIndex:o.toString()},i?{position:"relative",padding:"16px"}:{})},[fs("div",{key:"backdrop",classes:t({backdrop:true,"backdrop--fade-in":a}),onclick:s?null:r.onClickBackdrop,styles:i?{position:"absolute",top:"0",left:"0"}:{}}),n.renderVDom()])},cpi:{afterCreate(e){const t=this._getCPI();this.set("_el",e,{renderOnChange:false});this.delay(100).then(()=>t.focusFirstAvailableElement())},focusFirstAvailableElement(){const e=this.get("_el");if(e){const t=n["c"].ui.getFocusableElements(e);if(t[0]){t[0].focus()}else{document.activeElement.blur()}}},onClickBackdrop(e){const t=this.shortcut("getStyledClasses");if(e.target.className&&e.target.className.match(t("backdrop"))){this._getCPI().close()}},afterDialogClose(){const e=this.get("onClose");this.set({showFadeInClass:false,_isClosing:true});if(e)e();window.removeEventListener(this.keyEventName,this.keyListener);this.publish("close");return this.delay(Cs).then(()=>{this.unregister();n["c"].events.publish("skuid__modal.closed.global")})},close(){this.publish("close");if(this.get("_isClosing"))return;const e=this.get("dialogInstance");return e.getCPI().close()},addKeyListener(){this.keyEventName="keydown";this.keyListener=window.addEventListener(this.keyEventName,e=>{switch(e.keyCode){case ms.ESCAPE:if(!this.get("enforceActionables")){this._getCPI().close()}break;default:break}})}}}));var ks={getStyleSettings(){return{color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",letterSpacing:".8px",padding:"@tk.spacing.s2",border:{borderBottom:"@tk.borderSize.medium @tk.borderStyle.primary transparent"},menuSpacing:{label:"Menu Offset From Navigation",value:"@tk.spacing.s1"},iconSpacing:"@tk.spacing.s1",selected:{color:"@palette.neutral.1",backgroundColor:null,borderColor:"@tk.utility.selectedBorderColor"},hover:{backgroundColor:"transparent",color:"@palette.neutral.1",border:{borderBottom:"@tk.borderSize.medium @tk.borderStyle.primary @tk.utility.selectedBorderColor"}},focus:{boxShadow:"0 0 0 2px @tk.utility.focusColor"}}},getStyles(e){return{"navigation-item":Object.assign({display:"flex",alignItems:"center"},s(e.border),{fontSize:e.fontSize,fontWeight:e.fontWeight&&"".concat(e.fontWeight," !important"),letterSpacing:e.letterSpacing,padding:e.padding,color:e.color&&"".concat(e.color," !important"),cursor:"pointer",whiteSpace:"nowrap",textDecoration:"none !important",transition:"none !important","&:hover":Object.assign({backgroundColor:e.hover.backgroundColor&&"".concat(e.hover.backgroundColor," !important"),color:e.hover.color&&"".concat(e.hover.color," !important"),textDecoration:"none !important"},s(e.hover.border)),"&:focus":{boxShadow:e.focus.boxShadow,outline:"none",textDecoration:"none"},"&.sk-focus-keyboard":{boxShadow:e.focus.boxShadow,outline:"none"}}),"navigation-item--selected":{color:e.selected.color&&"".concat(e.selected.color," !important"),backgroundColor:e.selected.backgroundColor,borderColor:e.selected.borderColor},"navigation-item__icon-wrapper":{marginRight:e.iconSpacing,display:"flex"},"navigation-item__icon-wrapper--right":{marginLeft:e.iconSpacing,display:"flex","&:focus":{outline:"none"},"&.sk-focus-keyboard":{outline:"none",boxShadow:e.focus.boxShadow}},"menu-wrapper":{position:"absolute"},"menu-container":{position:"relative",top:e.menuSpacing}}}};const{MEDIA_QUERY_BREAKPOINTS:Ss}=H["y"];var ws={getStyleSettings(){return Object.assign({},ks.getStyleSettings())},getStyleSettingsVariantsChildren:e=>{return{skuid__menu:{menu:"default"},skuid__button:{collapseMenuNavigation:"borderless",dropDownType:"default"},skuid__navigationItem:{navItem:Object.assign({},e)}}},getStyles:()=>({"full-width":{flex:"1"},"--hidden":{visibility:"hidden"},navigation:{listStyle:"none",margin:0,padding:0,display:"flex",alignItems:"center"},"navigation--wrap":{flexWrap:"wrap"},"navigation--wrap-center-small":{["@media (max-width: ".concat(Ss.small,"px)")]:{flexDirection:"column"}},"navigation--wrap-center-medium":{["@media (max-width: ".concat(Ss.medium,"px)")]:{flexDirection:"column"}},"navigation-menu":{display:"block"}})};var _s={attributes:{alternateFormat:{type:"picklist",defaultValue:"wrap",options:["collapse","wrap"]},overflowToMenu:{type:"boolean",default:true},responsiveBreakpoint:{type:"picklist",defaultValue:"",options:["small","medium",""]},ariaLabel:{type:"string",default:"navigation toolbar"},href:{type:"string"},icon:{type:"string",default:"sk-webicon-ink:hamburger-menu"},label:{type:"string"},source:{type:"picklist",options:["sfapps","usermenu","apps","manual","sfappswithtabs","sftabs","sfusermenu"],default:"manual"},type:{type:"picklist",options:["horizontal","dropdown"],default:"horizontal"},fsBlock:{type:"boolean",default:false},_overrideWidth:{type:"string"}},properties:{renderConditions:true,styleVariantConditions:true,styles:true},nodes:{itemGroups:{type:"array",childNode:{itemGroup:{nodes:{items:{type:"array",childNode:{item:"skuid__navigationItem",properties:{renderConditions:true,selectedConditions:true,styleVariantConditions:true,actions:true,styles:true}}}}}}}}};const{h:Is,utils:vs,KEYCODES:xs}=Object(n["d"])(),{MEDIA_QUERY_BREAKPOINTS:Ts}=n["b"];n["a"].register("skuid__navigation",Object.assign({appendToProjector:true},ws,{schema:_s,init(e,t,o){const i=e.shortcut("set"),s=o.needsResponsiveDetection();let a,r,l,c,{source:d,itemGroups:u}=t;if(d!=="manual"){u=o.getPremadeItemGroups();i("itemGroups",u)}switch(t.type){case"dropdown":a=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/dropDownType",label:t.label,icon:"sk-webicon-ink:chevron-small-down",iconPosition:"right"});a.subscribe("click",o.toggleMenu);l=u?o.mapItemGroupsToOptionGroups(u):[];if(l.length){c=e.createChildComponent({clickCloseExceptionsSelector:"#".concat(a.get("uniqueId")),componentType:"skuid__menu",show:false,optionGroups:l,cursor:"pointer"});c.subscribe("closed",a.getCPI().focus)}break;default:a=e.createChildComponent({componentType:"skuid__button",icon:t.icon,styleSettingsVariant:"@parent/collapseMenuNavigation",iconPosition:"center",onClick:o.toggleMenu});c=vs._floatingComponentFactory.createMenu({clickCloseExceptionsSelector:"#".concat(a.get("uniqueId")),componentType:"skuid__menu",show:false,optionGroups:[],cursor:"pointer",menuOnRight:true},e);c.subscribe("closed",a.getCPI().focus);r=(u||[]).map(i=>({label:"",items:i.items.map(i=>{const n=e.createChildComponent(Object.assign(i,{componentType:"skuid__navigationItem",styleSettingsVariant:"@parent/navItem",navigationInstance:e,type:t.type}));n.subscribe("keydown",o.onKeyDownNavItem);n.subscribe("menuclosed",()=>o.updateFocus(0));n.subscribeChange("show",o.handleResizing);return n})}));break}i({focusedItemIndex:0,menuInstance:c,buttonInstance:a,itemGroupsInstances:r,rootElementTag:t.type==="horizontal"?"nav":"div",_initialResizeComplete:!s});if(s){["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,vs.debounce(o.handleResizing,50))))}},renderVDom(e){const{buttonInstance:t,fsBlock:o,menuInstance:i,type:n}=e.getState(),s=e._getCPI();if(n==="horizontal"){return s.renderHorizontal()}return Is("div",{key:e,afterCreate(t){e.set({_element:t})},"data-fs-block":o?"true":undefined},[t.renderVDom(),i.renderVDom()])},cpi:{needsResponsiveDetection(){const{alternateFormat:e,overflowToMenu:t,responsiveBreakpoint:o,type:i}=this.getState();if(i==="dropdown")return false;return t||e==="collapse"&&o},renderHorizontal(){const e=this,{ariaLabel:t,fsBlock:o,_initialResizeComplete:i}=e.getState(),n=e.shortcut("getStyledClasses"),s=e._getCPI();return Is("nav",{key:e,onfocus:s.updateFocus,tabindex:"0",role:"toolbar","aria-label":t,"data-fs-block":o?"true":undefined,classes:n({"full-width":true,"--hidden":!i}),afterCreate(t){e.set({_element:t});if(s.needsResponsiveDetection()){setTimeout(s.handleResizing)}}},[s.renderHorizontalNavigation(e.get("fittingIds"))])},renderHorizontalNavigation(e,t){const o=this,i=o.shortcut("getStyledClasses"),{overflowToMenu:n,alternateFormat:s,responsiveBreakpoint:a,itemGroupsInstances:r,menuInstance:l,buttonInstance:c}=o.getState();return Is("ul",{key:"navigation-ul",classes:i({navigation:true,"navigation--wrap":!n,"navigation--wrap-center-small":s==="wrap"&&a==="small","navigation--wrap-center-medium":s==="wrap"&&a==="medium"})},[r.map(t=>t.items.map(t=>{const o=t.get("uniqueId");if(!e||e[o]){return Is("li",{key:o,id:o},[t.renderVDom()])}})),(e||t)&&Is("li",{key:"navigation-menu",classes:i({"navigation-menu":true}),"data-nocollapse":"true",afterCreate(e){if(!t){l.getCPI().setTarget(e)}}},[c.renderVDom()])])},handleResizing(){if(!this.registered)return;const e=this._getCPI(),{_element:t,itemGroups:o,menuInstance:i,alternateFormat:n,responsiveBreakpoint:s,_overrideWidth:a}=this.getState(),r=a||document.body.clientWidth,l=a||Ts[s],c=()=>e.renderHorizontalNavigation(undefined,true);if(!t)return;this.set("_initialResizeComplete",true,{renderOnChange:false});let d=t.offsetWidth;if(n==="wrap"&&l){if(r<=l){return this.set("fittingIds",null)}}else if(n==="collapse"&&l){if(r<=l){d=0}}this.clearVNodeCache();let u=Object(Ao["e"])(c,d),p=Object.keys(u).map(e=>u[e]),g,h,b;this.clearVNodeCache();if(!p.every(Boolean)){p=Object.keys(u).map(e=>u[e]);g=p.filter(Boolean).length;h=o.map(e=>Object.assign({},e,{items:e.items.slice(g).map(e=>Object.assign({},e))}));b=e.mapItemGroupsToOptionGroups(h);i&&i.set("optionGroups",b)}else{u=null}this.set({fittingIds:u})},toggleMenu(e){const t=this.get("menuInstance")._getCPI();t.toggle();if(e.x+e.y===0){this.delay().then(()=>{t.focus()})}},mapItemGroupsToOptionGroups(e){const t=this;return e.map(e=>{const o={label:e.label};if(e.items){o.options=e.items.map(e=>{const o={uniqueId:e.uniqueId,styleSettingsVariant:e.styleSettingsVariant,label:e.label,icon:e.icon,actions:e.actions,selectedConditions:e.selectedConditions,renderConditions:e.renderConditions};if(e.itemGroups){o.skuid__menu={optionGroups:t._getCPI().mapItemGroupsToOptionGroups(e.itemGroups)}}return o})}return o})},updateFocus(e){e=isNaN(e)?0:e;const t=this.getState(),o=n["c"].$(t._element).find("ul > li > a"+", ul > li > a > *[role=button]"+", ul > li > *[role=button]"+", ul > li > *[role=button] > *[role=button]"),i=Math.max(0,Math.min(t.focusedItemIndex+e,o.length-1));if(o[i]!==document.activeElement){o[i].focus()}this.set("focusedItemIndex",i)},onKeyDownNavItem(e){switch(e.keyCode){case xs.LEFT:this._getCPI().updateFocus(-1);break;case xs.RIGHT:this._getCPI().updateFocus(1);break}},getPremadeItemGroups(){let e=n["c"].platform.getNavigationItemSourceTypes,t={},o=this.get("source");if(e){if(typeof e==="function"){e=e()}if(e&&e.length){e.forEach(function(e){if(e.value&&e.label){t[e.value]=e}})}}if(!t[o])return[];let i=t[o].items;if(i&&typeof i==="function"){i=i()}let s=e=>{return[{items:e.map(e=>{let t;if(e.items){if(typeof e.items==="function")t=s(e.items());else t=s(e.items)}return{label:e.label||"",actions:vs.makeXMLDoc('<actions><action type="redirect" url="'.concat(e.link?vs.encodeHTML(e.link):"",'"/></actions>')),itemGroups:t}})}]};return s(i||[])}}}));var Os={attributes:{label:{type:"string"},href:{type:"string"},navigationInstance:{type:"object"},selected:{type:"boolean",default:false},type:{type:"picklist",options:["horizontal"],default:"horizontal"},icon:{type:"string"}},nodes:{itemGroups:{type:"array",childNode:{itemGroup:{attributes:{label:{type:"string"}},nodes:{items:{type:"array",childNode:{item:"skuid__navigationItem"}}}}}}},properties:{renderConditions:true,selectedConditions:true,styleVariantConditions:true,actions:true,styles:true}};const{h:Rs,KEYCODES:Es,div:Ps}=Object(n["d"])();n["a"].register("skuid__navigationItem",Object.assign({},ks,{schema:Os,init(e,t){const o=e.shortcut("set");let i,s,a,r,l;e.registerMergeAttribute("label","_label");switch(t.type){case"horizontal":l=t.itemGroups?t.navigationInstance._getCPI().mapItemGroupsToOptionGroups(t.itemGroups):[];if(l.length){i=e.createChildComponent({componentType:"skuid__menu",styleSettingsVariant:"@parent/menu",show:false,optionGroups:l,closeOnOutsideClick:false,clickCloseExceptionsSelector:"#".concat(t.uniqueId),cursor:"pointer"});i.subscribe("closed",()=>{e.set("keyboardControlsEnabled",true)});i.subscribe("closed.keyboard",()=>this.publish("menuclosed"));r=e.createChildComponent({componentType:"skuid__icon",handle:"sk-webicon-ink:chevron-small-down"})}break}if(t.icon){a=e.createChildComponent({componentType:"skuid__icon",handle:t.icon})}const c=F(t.actions);let d;if(c){const o=B(t.actions);e.registerMergeText(o.url,"_href");d=o.target}o({dropdownIconId:n["c"].utils.generateUniqueId(),iconInstance:a,dropdownIconInstance:r,menuInstance:i,itemInstances:s,keyboardControlsEnabled:true,renderAsLink:c,target:d})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return Rs(o.renderAsLink?"a":"div",{key:e,classes:t({"navigation-item":true,"navigation-item--selected":o.selected}),tabindex:"-1",onclick:i.runActions,onmouseenter:i.onMouseOver,onmouseleave:i.onMouseLeave,onkeydown:i.onKeyDown,onfocus:i.onFocus,onblur:i.onBlur,href:o.renderAsLink&&o._href,target:o.renderAsLink&&o.target,role:!o.renderAsLink?"button":undefined},[o.iconInstance&&Rs("span",{key:"icon wrapper left",class:t("navigation-item__icon-wrapper")},[o.iconInstance.renderVDom()]),Rs("span",{key:"label"},[o._label]),o.dropdownIconInstance&&Rs("span",{key:"icon wrapper right",class:t("navigation-item__icon-wrapper--right"),id:o.dropdownIconId,tabindex:"-1",onkeydown:i.onKeyDownDropdownIcon,role:"button","aria-label":document.activeElement&&document.activeElement.id===o.dropdownIconId?"".concat(o.label," popup button"):"","aria-controls":o.menuInstance.get("uniqueId"),"aria-haspopup":"true","aria-expanded":"".concat(o.menuInstance.get("show"))},[o.dropdownIconInstance.renderVDom()]),o.menuInstance&&Ps({key:"menu",class:t("menu-wrapper")},[Ps({key:"menu container",class:t("menu-container")},[o.menuInstance.renderVDom()])])])},cpi:{onKeyDown(e){const t=this.getState();if(t.keyboardControlsEnabled){this.publish("keydown",e)}if(e.keyCode===Es.SPACE||e.keyCode===Es.ENTER){this._getCPI().runActions()}},onKeyDownDropdownIcon(e){const t=this.getState();if(e.keyCode===Es.SPACE||e.keyCode===Es.ENTER||e.keyCode===Es.DOWN){e.preventDefault();t.menuInstance&&t.menuInstance.getCPI().toggle(true);this.set("keyboardControlsEnabled",false);t.menuInstance.getCPI().focus()}},onFocusDropdownIcon(){this.set("showDropdownAriaLabel",true)},onBlurDropdownIcon(){this.set("showDropdownAriaLabel",false)},onMouseOver(){const e=this.get("menuInstance");e&&e.cpi.toggle(true)},onMouseLeave(){const e=this.get("menuInstance");e&&e.cpi.toggle(false)},runActions(e){const{context:t,renderAsLink:o}=this.getState();if(e){e&&e.stopPropagation();if(o&&(e.ctrlKey||e.metaKey))return;e.preventDefault()}const i=this.get("actions");if(i){n["c"].actions.runActionsNode(i,this,t)}}}}));var Ds={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.backgroundColor",fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",padding:0,links:{color:"@palette.primary",textDecoration:"underline",textDecorationColor:null,textDecorationStyle:null,backgroundColor:null,fontWeight:null,transition:null,hover:{color:"@palette.primary.2",textDecoration:null,textDecorationColor:null,textDecorationStyle:null,backgroundColor:null},visited:{color:null,textDecoration:null,textDecorationColor:null,textDecorationStyle:null,backgroundColor:null},active:{color:null,textDecoration:null,textDecorationColor:null,textDecorationStyle:null,backgroundColor:null}},_editButton:{fontFamily:"@tk.fontFamily.primary",backgroundColor:"@palette.neutral.3",color:"@palette.white",borderRadius:"@tk.borderRadius.primary",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.white",padding:"@tk.spacing.s1 @tk.spacing.s4 @tk.spacing.s1 @tk.spacing.s1",boxShadow:"@tk.shadow.heavy",width:t(10)},_editButtonContainer:{padding:"0 0 @tk.spacing.s1 @tk.spacing.s0_5"},progressBar:{color:"@palette.primary.1"},_blockUi:{fontWeight:"@tk.fontWeight.bold",fontFamily:"@tk.fontFamily.primary"},_icon:Object(p["b"])(e)}},getStyles:e=>({page:{position:"relative",padding:e.padding,backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,margin:0,fontSize:e.fontSize,"-webkit-tap-highlight-color":"rgba(0,0,0,0)","@media only screen and (-webkit-min-device-pixel-ratio: 1.3)":{"-webkit-font-smoothing":"subpixel-antialiased"},"@media only screen and (min-resolution: 120dpi)":{"-webkit-font-smoothing":"subpixel-antialiased"},"& li":{marginLeft:"initial",paddingLeft:"initial"},"& button":{margin:"initial"},"& a":{color:e.links.color,textDecoration:e.links.textDecoration,textDecorationColor:e.links.textDecorationColor,textDecorationStyle:e.links.visited.textDecorationStyle,fontWeight:e.links.fontWeight,backgroundColor:e.links.backgroundColor,transition:e.links.transition,"&:visited":{color:e.links.visited.color,textDecoration:e.links.visited.textDecoration,textDecorationColor:e.links.visited.textDecorationColor,textDecorationStyle:e.links.visited.textDecorationStyle,backgroundColor:e.links.visited.backgroundColor},"&:hover":{color:e.links.hover.color,textDecoration:e.links.hover.textDecoration,textDecorationColor:e.links.hover.textDecorationColor,textDecorationStyle:e.links.hover.textDecorationStyle,backgroundColor:e.links.hover.backgroundColor},"&:active":{color:e.links.active.color,textDecoration:e.links.active.textDecoration,textDecorationColor:e.links.active.textDecorationColor,textDecorationStyle:e.links.active.textDecorationStyle,backgroundColor:e.links.active.backgroundColor}},"& .fragment__icon":Object(p["c"])(e._icon).icon},"page--full-height":{minHeight:"100vh"},"edit-button__container":{position:"absolute",top:"70px",right:"0px",width:"16px",display:"none",overflowX:"hidden",padding:e._editButtonContainer.padding,zIndex:H["x"].EDIT_PAGE_BUTTON},"edit-button":{fontFamily:e._editButton.fontFamily,backgroundColor:e._editButton.backgroundColor,color:e._editButton.color,borderRadius:e._editButton.borderRadius,border:e._editButton.border,padding:e._editButton.padding,cursor:"pointer",boxShadow:e._editButton.boxShadow,width:e._editButton.width,boxSizing:"content-box",display:"flex",alignItems:"center"},"edit-button__label":{display:"inline-block",fontSize:"9pt",verticalAlign:"middle"},hidden:{fontSize:0,lineHeight:0},"sk-webicon":{height:"1.05em",width:"1.05em",display:"inline-block",fill:"currentColor",position:"relative",margin:"0px 1px",verticalAlign:"middle"},"@global":{".nx-page":{background:e.backgroundColor,boxSizing:"border-box",position:"relative","& *, & *::before, & *::after":{boxSizing:"border-box",lineHeight:"normal",transitionDuration:H["t"]?"0s !important":null},"& button":{margin:"initial"},"& svg":{"vertical-align":"unset"}},".skuid-platform":{margin:"0",padding:"0"},".skuid-body--no-margin-padding":{margin:"0",padding:"0"},"#nprogress":{"pointer-events":"none"},"#nprogress .bar":{background:e.progressBar.color,position:"fixed",zIndex:1031,top:0,left:0,width:"100%",height:"2px"},"#nprogress .peg":{display:"block",position:"absolute",right:"0px",width:"100px",height:"100%",boxShadow:"0 0 10px ".concat(e.progressBar.color,", 0 0 5px ").concat(e.progressBar.color),opacity:"1.0",transform:"rotate(3deg) translate(0px, -4px)"},".nprogress-custom-parent":{overflow:"hidden",position:"relative"},".nprogress-custom-parent #nprogress .bar":{position:"absolute"},".sk-headerwrapper":{position:"absolute",left:0,right:0,top:0,margin:0,boxSizing:"border-box"},".sk-headerwrapper.sk-headerwrapper-fixed":{position:"fixed",zIndex:100,backgroundClip:"content-box"},".blockUI.blockMsg":{fontWeight:e._blockUi.fontWeight,fontFamily:e._blockUi.fontFamily}}})};const{$:Ms}=Object(n["d"])();const As=()=>Ms(document.body),Vs=n["c"].utils,Fs=n["c"].events,Ls=Fs.Event,Bs="actionSequences",{EVENT_SCOPES:zs,MERGE_CONTEXTS:Ns,NATIVE:js,VISUALFORCE:Hs,CORDOVA:Ws}=n["b"],Us="preventUnloadIfUnsavedChanges",Gs="contentElement",qs="panelsElement",Ys="originalTopPadding";let $s;function Ks(e,t,o){if(!e._unsavedChangesHandler&&o){e._unsavedChangesHandler=true;Ms(window).on("beforeunload.skuid",function(){return e.getUnloadMessage(t)})}}function Xs(e,t){let o,i,s;const a=false;if(a&&!e.isInclude&&!e.isReplace&&t){if(n["c"].settings&&n["c"].settings.globalFeedback){i=n["c"].settings.globalFeedback("position");o=n["c"].settings.globalFeedback("enabled");s=n["c"].settings.site("runningOnForceSite")}if(o&&(!s||n["c"].utils.userInfo.isAuthenticated)&&!Ms(".sk-feedback").length){e.globalFeedback=new n["c"].globalFeedback.GlobalFeedback({position:i,pageComponent:e,element:As()})}}}function Qs(e,t){if(t==="true"||!ea(e))return false;const o=Vs.onPageBuilder(),i=e.getPageRecord(),s=i&&i.Id,a=Ms(e.getElement());let r,l,c;if(!o&&!Vs.inPlatform(Ws)){const t=e.shortcut("getStyledClasses");r=Ms("<div>").addClass(t("edit-button__container"));l=Ms("<div>").addClass(t("edit-button")).appendTo(r);l.attr("id","edit-button-".concat(i&&i.Name));c=n["c"].ui.createIcon("sk-webicon-ink:edit-page",{isWebIcon:true,primaryClassName:t("sk-webicon")});Ms(c).css("margin-right","4px").appendTo(l);Ms("<div>").addClass(t("edit-button__label")).text(n["c"].$L("Edit_Page")).appendTo(l);r.css("display","block").on("mouseover",function(){r.stop().animate({width:"90px"},400)}).on("mouseleave",function(){r.stop().animate({width:"16px"},400)}).on("click",function(){window.open(n["c"].platform.getPageComposeUrlById(s),"_blank")}).appendTo(a)}}function Zs(e,t){let o=e.systemFeedbackComponent;if(!o){const i=Ms("<div>").appendTo(t.getContentElement());o=e.systemFeedbackComponent=t.createChildComponent({componentType:"skuid__systemFeedback"},i)}}function Js(e,t){let o=e.getAllProblems(),i,s,a=t.getContentElement(),r,l,c=()=>i.hide(),d=()=>{if(Vs.runningTests()){n["c"].events.publish("showing.page.problems",l)}return i.show()},u=(e,o)=>{const i={};if(ea(t)&&e){r=e}if(o){l=o}[...r||[],...l||[]].forEach(e=>{if(!e.showToAdminOnly||t._getCPI().isUserPageAdmin()){i[e.message]=true}});const a=Object.keys(i);s.set({title:n["c"].label.merge(n["c"].$L("Skuid_Page_Problems_No_Click"),a.length),description:a.map((e,t)=>"".concat(t+1,": ").concat(e)).join("\n")});if(a.length)d();else c()};if(!e.problemsComponent){i=Ms("<div>").addClass("nx-page-problems-wrapper clearfix");s=t.createChildComponent({componentType:"skuid__messageBlock",styleSettingsVariant:"errorStrong",showClose:true,allowHTML:false,onClose(){l=[];r=[];c()},styles:{spacing:{marginTop:2,marginRight:2,marginLeft:2,marginBottom:2}}},i);Object.assign(e,{problemsWrapper:i,problemsComponent:s});a.prepend(i);t.subscribeChange("problems",e=>u(e));t.storeSubscription(n["c"].events.subscribe("models.saved",c));t.storeSubscription(n["c"].events.subscribe("models.cancelled",c));t.storeSubscription(n["c"].events.subscribe("models.messages",e=>{const t=j(e.messages);(t||[]).forEach(e=>{e.handled=true});u(null,t)}))}else{i=e.problemsWrapper}if(o.length){o.forEach(e=>t.displayProblem(e))}else{c()}}function ea(e){return e._getCPI().isUserPageAdmin()&&!e.isInclude&&!e.isReplace}function ta(e,t,o){let i=t._pageRecord?t._pageRecord.Name:"",s=n["c"].region.get("__header"+i),a=n["c"].region.get("__footer"+i),r=o.children("components").first().children(),l=o.children("interactions").first(),c=t.shortcut("getStyledClasses"),d=Ms(t.getElement()),u=t.getContentElement(),p=t.getPanelsElement(),g=o.attr("title"),h,b,f,m,y,C,k;if(Vs.inPlatform([js,Hs])&&g&&!t.isInclude){document.title=Vs.mergeAsText(Ns.GLOBAL,g)}if(t.get("loading.stopped")===true){Ms.holdReady(false);return}if((t.isReplace||t.isInclude)&&t.previousPageComponent){t.previousPageComponent.unrender().unregister({initiatorId:t.getId(),removeElement:false})}h={_parentPageId:t.id()};C=t.get("context");if(s){t.createChildComponents(s.xmlDefinition.children("components").first().children(),u,C,h)}t.createChildComponents(r,u,C,h);u.prepend('<div aria-hidden="true" class="'.concat(c("hidden"),'">🐙</div>'));u.append('<div aria-hidden="true" class="'.concat(c("hidden"),'">🐙</div>'));if(a){t.createChildComponents(a.xmlDefinition.children("components").first().children(),u,C,h)}e.updateProblemsWrapper();u.css("display","block");d.css("display","block");n["c"].events.publish("ui.resize");f=d.find(".nx-field > input:visible:not(.hasDatepicker)");f.first().focus();m=Ms('a.zen-trigger[title="Publisher Type Overflow Menu"]');y=m.next();m.click(function(){y.toggle()});y.click(function(){y.hide()});if(l.length){n["c"].interactions.enableInteractions(u,{interactionsDef:l,component:t})}d.append(u,p);k=true;const S=e=>{k=e.type==="mousedown";t.set("usingMouse",k,{renderOnChange:false})};const w=e=>{if(!k&&e.target&&e.target.classList){e.target.classList.add("sk-focus-keyboard")}};const _=e=>{if(e.target&&e.target.classList){e.target.classList.remove("sk-focus-keyboard")}};const I=(e,t)=>{d[0].addEventListener(e,t)};const v=()=>{I("keydown",S);I("mousedown",S);I("focusin",w);I("focusout",_)};v();if(!t.isInclude&&n["c"].platform.checkSessionExpiration&&!t.get("checking.session")&&n["c"].utils.userInfo.isAuthenticated&&t.getPageRecord().Id!=="Login"&&!n["c"].offline.networkDown()){t.set("checking.session",true);n["c"].utils.addSessionWarningCheck(n["c"].utils.userInfo.sessionExpireTime,n["c"].utils.userInfo.sessionAbsoluteExpireTime,t)}b={page:t,component:t};t.publish("page.rendered",b,{qualifyEventName:false,scope:zs.SKUID});t.publish("ui.reflow",b,{buffer:10,qualifyEventName:false,scope:zs.SKUID});Ms.holdReady(false);t.element.trigger("pageload")}const oa=(e,t,o,i)=>{return Promise.all(Ms.map(i,function(e){if(!e.isInitialized){if(e.isPreInitialized){e._finishInitialization()}else{e.initialize({createDefaultRowIfNeeded:false,cloneRowsIfNeeded:false,pageComponent:t})}}return e._createDefaultRowIfNeeded()})).then(function(){Ms.each(i,function(e,o){o._cloneRowsIfNeeded(t)});Ms.each(o,function(e,t){delete t.realToFakeIdMap});if(n["c"].utils._oniOS()&&n["c"].utils._inIframe()){Ms(function(){As().removeClass("sk-scrollfix-ios-body");Ms("html").removeClass("sk-scrollfix-ios-html");As().addClass("sk-scrollfix-ios-body");Ms("html").addClass("sk-scrollfix-ios-html")})}})};$s={getPageAPI(){return n["c"]},displayProblem(e){const t=this.get("problems")||[],o=e.message,i=e=>t.find(t=>t.message===e);if(!e.handled&&!i(o)){e.handled=true;t.push(e);this.set("problems",[...t]);return true}else{return false}},addProblem(e){if(n["c"].utils.isString(e)){e={message:e}}this.displayProblem(e);if(n["c"].utils.runningTests()){n["c"].events.publish("pageProblem.created",e)}},addProblems(e){if(e instanceof Array){e.forEach(e=>this.addProblem(e))}else{this.addProblem(e)}},rebuildPageProblems(e={}){const t=n["c"].page.getAllProblems(),o=this.problemsWrapper,i=e?e.justUpdateWrapper===true:false;if(o){if(!i){this.removeProblems()}if(t.length){if(!i){t.forEach(e=>{e.handled=false;this.displayProblem(e)})}o.show()}else{o.hide()}}},removeProblem(e){let t=this.get("problems"),o,i;if(t instanceof Array){for(i=t.length-1;i>=0;i--){if(t[i]===e){o=t.splice(i,1)[0];break}}}this.set("problems",[...t]);return o},removeProblems(){this.set("problems",[])},unregisterChildComponents(){this.childComponents.length&&this.childComponents.forEach(e=>e.unregister());this.getModels().forEach(e=>e.unregister());this.globalFeedback&&this.globalFeedback.unregister();n["c"].actions.runAction("closeAllPopups");return this},unregister(e={}){const t=this;let o=[];n["c"].page.rebuildPageProblems();if(e.initiatorId){const t=n["c"].component.getById(e.initiatorId);if(t){o=t.get(Bs).map(e=>e.getId())}}(t.get(Bs)||[]).forEach(function(e){if(!o.includes(e.getId())){e.unregister()}});n["c"].component.Component.prototype.unregister.call(t);if(n["c"].page.pageComponent===t){n["c"].events.unsubscribeAll();n["c"].runtime.unregisterPage()}},getPageRecord(){return this._pageRecord},getParameter(e){if(typeof e!=="string")return;let t=n["c"].page.getParameters(this);return e in t?t[e]:t[e.toLowerCase()]},getPageParameters(){let e=this._pageParameters;if(!e){e=this._pageParameters=n["c"].page._parametersByPage[this.id()]}return e},setPageParameters(e){let t=this,o=t._pageParameters;if(!o){o=t._pageParameters=n["c"].page._parametersByPage[t.id()]={}}Ms.extend(o,e);return t},getContentElement(){let e=this;if(!e.has(Gs)){e.set(Gs,Ms('<div class="nx-page-content">'))}return e.get(Gs)},getPanelsElement(){let e=this;if(!e.has(qs)){e.set(qs,Ms('<div class="nx-page-panels">'))}return e.get(qs)},getDynamicComponentsContainer(){const e=this.get("dynamicComponentsContainer")._getCPI().getContainer();return Ms(e)},getOriginalTopPadding(){let e=this,t;if(!e.has(Ys)){t=this.getContentElement();e.set(Ys,n["c"].utils.getCSSSizeObj(t.css("padding-top")||"0px"))}return e.get(Ys)}};n["a"].register("skuid__page",Object.assign({label:"Skuid Page"},Ds,{onlyRenderOnce:true,render(e,t,o){const i=t.attr("styleSettingsVariant");i&&o.set("styleSettingsVariant",i);let s=n["c"]?n["c"].page:null,a=o.shortcut("getStyledClasses"),r=o[Us]=t.attr("unsavedchangeswarning")==="yes",l=t.attr("globalfeedbackenabled")!=="false",c=t.attr("hideeditbutton"),d,u,p={},g=o._getCPI(),h=n["c"].utils.resolve,b,f,m,y,C,k;o.set({_themeSettings:n["c"].themeSettings.getThemeSettings(),isPageInclude:t.attr("isPageInclude")==="true"});n["c"].time.initializeMomentLocale(o);if(!document.getElementById("sk-meta-viewport")){Ms("head").append('<meta id="sk-meta-viewport" name="viewport" content="initial-scale=1, width=device-width'.concat(Vs.inPlatform(Ws)?", height=device-height, viewport-fit=cover":"",'">'))}Ms.extend(o,$s);d=o.getContentElement();u=o.getPanelsElement();let S=a("page");e.addClass(S);d.addClass(S);u.addClass(S);if(Vs.inPlatform(js)&&!o.get("isPageInclude"))d.addClass(a("page--full-height"));o.getModels=g.getModels;o.getModel=g.getModel;o.panel={create(e,t,i){const n=e.attr("uniqueid"),s=Ms("<div>").appendTo(u);p[n]=o.createChildComponents(e,s,i)[0];return p[n]},createFromAction(e,t,i){const n=e.children().first(),s=n.attr("uniqueid"),a=Ms("<div>").appendTo(u);p[s]=o.createChildComponents(n,a,i)[0];return p[s]},getById(e){return p[e]},_detachById(e){p[e]&&delete p[e]},getAll(){return Ms.extend({},p)},closeAll(){Ms.each(p,function(){this.close?this.close():this.getCPI().close()})}};Ks(s,o,r);if(t.children("background").length){o.set("background",n["c"].component.parseXML(t.children("background")[0],jn));o.subscribeChange("inlineStyles",e=>{d.css(e);if(Vs.inPlatform(js)&&e["background-color"]&&n["c"].component.getByType("skuid__page")[0]===o){Ms("html").css("background-color",e["background-color"])}});o._getCPI().updateStyles()}if(Vs.inPlatform(Hs)&&t.attr("showsidebar")==="false"&&t.attr("showheader")==="false"){As().addClass("skuid-body--no-margin-padding")}Qs(o,c);o.set("problems",[]);Js(s,o);Zs(s,o);Xs(o,l);o.set(Bs,n["c"].actionSequences.initializeActionSequences(o));f=t.children("models").children();if(f.length){f.each(function(){let e={_parentPageId:o.id()};if(o.isReplace){e.processOnClient=true}new n["c"].model.Model(Ms(this),e).register()})}if(o._pageRecord&&(!n["c"].page.modstamp||n["c"].page.modstamp<o._pageRecord.LastModifiedDate)){n["c"].page.modstamp=o._pageRecord.LastModifiedDate}b=[];y=o.getModels();C=[];k=[];Ms.each(y,function(e,t){t.initialize({preInitialization:true,createDefaultRowIfNeeded:false,cloneRowsIfNeeded:false,pageComponent:o});if(t.processOnClient&&(t.doQuery||!t.hasMetadataLoaded())){(t.loadAsync?k:b).push(t)}else{if(t.errors&&t.errors.length)o.addProblems(t.errors);C.push(t)}});n["c"].$.blockUI=n["c"].$.blockUI||g.blockUI;n["c"].$.unblockUI=n["c"].$.unblockUI||g.unblockUI;const w=o.createChildComponent({componentType:"skuid__dynamicComponentsContainer"},o.getContentElement());o.set({dynamicComponentsContainer:w});Ms.holdReady(true);const _=()=>oa(s,o,y,C);return n["c"].offline.populateMetadata().then(()=>{m=(b.length?n["c"].model.load(b,null,{pageComponent:o}):h()).then(_,_).then(function(){return o.registered&&ta(s,o,t)});Ms.each(k,function(){this.load(null,{pageComponent:o})});o.subscribeOnce("stop.loading",function(){o.set("loading.stopped",true);m.reject&&m.reject()});return m})},cpi:Object.assign({},bn(),{$M(e){let t=this._getCPI().getModels(e);if(t.length)return t[0]},getModel(e){return this._getCPI().$M(e)},getModels(e){let t=this.getId();return n["c"].model.list().filter(function(o){return o.getParentPageId()===t&&(e?o.id===e:true)})},$C(e){return this.getChildComponent(e)},getComponent(e){return this._getCPI().$C(e)},isUserPageAdmin(){return n["c"].page&&n["c"].page.editable&&!n["c"].page.runningOnForceSite},blockUI(e={}){let t=this.get("uiBlockers")||{},o=e.styleSettingsVariant||"default",i=t[o];if(!i){let e=Ms("<div/>").appendTo(this.getContentElement());i=this.createChildComponent({componentType:"skuid__uiBlocker",styleSettingsVariant:o},e);t[o]=i;this.set({uiBlockers:t})}i.set({text:e.text||e.message,subtext:e.subtext,showPlaceholder:e.showPlaceholder});if(e.timeout){const t=this.get("uiBlockerTimeout");t&&clearTimeout(t);this.set("uiBlockerTimeout",setTimeout(()=>{if(!this.registered)return;this._cpi.unblockUI()},e.timeout,false))}this.set("uiBlocked",true,false);i.getCPI().block()},unblockUI(){let e=this.get("uiBlockers");Object.values(e||{}).forEach(e=>e.cpi.unblock());this.set("uiBlocked",false,false)}})}));Fs.register([new Ls("page.rendered","Skuid Page: Rendered")]);var ia={getStyleSettings:e=>Ds.getStyleSettings(e),getStyles(e){return{"demo-wrapper":{},"demo-text":{fontWeight:"bold",marginBottom:"16px"},"demo-container":{display:"flex",position:"relative",overflow:"hidden"},demo:{padding:e.padding,backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,margin:0,fontSize:e.fontSize,flex:"1","& a":{color:e.links.color,textDecoration:e.links.textDecoration,textDecorationColor:e.links.textDecorationColor,textDecorationStyle:e.links.visited.textDecorationStyle,fontWeight:e.links.fontWeight,backgroundColor:e.links.backgroundColor,transition:e.links.transition,"&:visited":{color:e.links.visited.color,textDecoration:e.links.visited.textDecoration,textDecorationColor:e.links.visited.textDecorationColor,textDecorationStyle:e.links.visited.textDecorationStyle,backgroundColor:e.links.visited.backgroundColor},"&:hover":{color:e.links.hover.color,textDecoration:e.links.hover.textDecoration,textDecorationColor:e.links.hover.textDecorationColor,textDecorationStyle:e.links.hover.textDecorationStyle,backgroundColor:e.links.hover.backgroundColor},"&:active":{color:e.links.active.color,textDecoration:e.links.active.textDecoration,textDecorationColor:e.links.active.textDecorationColor,textDecorationStyle:e.links.active.textDecorationStyle,backgroundColor:e.links.active.backgroundColor}}},nprogress:{"pointer-events":"none"},bar:{background:e.progressBar.color,position:"absolute",zIndex:1031,top:0,left:0,width:"100%",height:"2px"},peg:{display:"block",position:"absolute",right:"0px",width:"100px",height:"100%",boxShadow:"0 0 10px ".concat(e.progressBar.color,", 0 0 5px ").concat(e.progressBar.color),opacity:"1.0",transform:"rotate(3deg) translate(0px, -4px)"}}}};var na={attributes:{},nodes:{},properties:{}};const{div:sa,h:aa}=Object(n["d"])(),ra=aa&&aa.bind(null,"a");n["c"].componentType.register("skuid__pageDemo",Object.assign({},ia,{schema:na,overrideStylesWith:"skuid__page",init(){},renderVDom(e){const t=e.shortcut("getStyledClasses");return sa({key:e,class:t("demo-wrapper")},[sa({class:t("demo-text")},["Page preview"]),sa({class:t("demo-container"),styles:{minHeight:"360px",boxShadow:"1px 1px 8px #AAA"}},[sa({class:t("demo")},["Page components will begin here",sa(["See your ",ra({href:"#"},["link styles"])," here."])]),sa({class:t("nprogress")},[sa({role:"bar",class:t("bar"),style:"transform: translate3d(-60%, 0px, 0px); transition: all 200ms ease 0s;"},[sa({class:t("peg")})])])])])}}));var la={getStyles(){},getStyleSettingsVariants:()=>{return{default:{}}}};var ca={attributes:{actionType:{type:"string"},includeType:{type:"string"},lazyLoad:{default:true,type:"boolean"},moduleName:{type:"string"},namespace:{type:"string"},objectType:{type:"string"},pageName:{type:"string"},queryString:{type:"string"},showLoadingIndicator:{default:true,type:"boolean"}},properties:{renderConditions:true},access:{cpi:{public:["load","unload"]}}};const{div:da,utils:ua}=Object(n["d"])();const pa="v2";n["a"].register("skuid__pageInclude",Object.assign({},la,{schema:ca,init(e,t,o){if(t.showLoadingIndicator!==false){e.set("spinner",e.createChildComponent({componentType:"skuid__placeholder",progressIndication:"radialIndeterminate",height:"50%",width:"100%"}))}if(t.lazyLoad!==true){o.load()}["includedPageComponent","includedPageElement"].forEach(t=>e.subscribeChange(t,()=>{const{includedPageComponent:t,includedPageElement:o}=e.getState();if(o&&t){o.appendChild(t.element[0]);e.scheduleVirtualRender();e.publish("pageInclude.rendered")}}));e.unregister=(()=>{o.unload();return n["c"].component.Component.prototype.unregister.call(e)});e.subscribeChange("show",e=>{e?o.load():o.unload()});e.subscribeChange("context",o.load)},renderVDom(e){const{includedPageComponent:t,loadingInProgress:o,showLoadingIndicator:i,spinner:n}=e.getState();return da({key:e,afterCreate:e._getCPI().afterCreate,afterUpdate:e._getCPI().afterCreate},[!t&&i!==false&&o&&n?n.renderVDom():undefined])},cpi:{afterCreate(e){const{lazyLoad:t,includedPageComponent:o,loadingInProgress:i}=this.getState(),n=this._getCPI();this.set("includedPageElement",e,{renderOnChange:false});if(t&&!o&&!i){n.load()}},load(){this.set("loadingInProgress",true);const{actionType:e,context:t,includeType:o,moduleName:i,namespace:s,objectType:a,pageName:r,queryString:l}=this.getState();const{deparam:c,inPlatform:d,mergeAsDataInContext:u,reject:p}=ua;const g={createFields:false};const h={isInclude:true,namespace:s,parameters:l?c(u(l,t,g)):{},wrapperId:this.id(),parentPageId:this.getParentPageId()};if(a&&e&&(o==="assignment"||!o)){if(d(n["c"].constants.NATIVE)){this.set("loadingInProgress",false);return p("Page Assignments are not available on Skuid Platform.")}h.pageName=JSON.stringify({actionType:e,objectType:a})}else if(r){h.pageName=r;if(i){h.module=i}}this.getCPI().unload();if(!h.pageName){this.set("loadingInProgress",false);return p("No page provided")}const b=ua.generateGUID();this.set("requestId",b,{renderOnChange:false});return n["c"].loader.load(h).then(e=>{if(!this.registered)return;const t=e.getPageAPI();this.adoptComponent(e,{updateParentPageId:false});if(ua.grab(t,"version","id")!==pa){this.getParentPage().addProblem("Including pages of different API versions is not supported. Doing so may result in unexpected behaviors and page errors.")}if(b!==this.get("requestId"))return;this.set({includedPageComponent:e,loadingInProgress:false});return e})},unload(){const{includedPageComponent:e}=this.getState();if(e){e.unregister();this.unset("includedPageComponent")}}},actions:{load(e,t){const o=t._getCPI();t.set("showLoadingIndicator",e.attr("showLoadingIndicator")!=="false",{renderOnChange:false});if(e.attr("loadInBackground")==="true"){o.load()}else{return o.load()}},loadNewPage(e,t,o){let i=t._getCPI(),n=t=>e.attr(t),s=n("includeType"),a=n("queryString"),r=n("showLoadingIndicator")!=="false",l=n("loadInBackground")==="true",c={createFields:false,registerFields:false},d={includeType:s,showLoadingIndicator:r};i.unload();if(a){d.queryString=ua.mergeAsDataInContext(a,o,c)}if(s==="assignment"){d.actionType=n("actionType");d.objectType=n("objectType")}else{let e=n("pageName");if(e&&e.indexOf("{{")>-1){e=ua.mergeAsDataInContext(e,o,c)}d.pageName=e;let t=n("module");if(t){d.moduleName=t}let i=n("namespace");if(i){d.namespace=i}}t.set(d,{renderOnChange:false});if(l){i.load()}else{return i.load()}},unload(e,t){return t.getCPI().unload()}}}));var ga={getStyles(){},getStyleSettingsVariants:()=>{return{default:{}}}};var ha={attributes:{label:{type:"string"}},properties:{renderConditions:true,styleVariantConditions:true,styles:true}};const{div:ba}=Object(n["d"])();n["a"].register("skuid__pageRegion",Object.assign({},ga,{schema:ha,init(e,t,o){const i=n["c"].region,s=i.setContent,a=i.setContentByIds,r=t.context,l=r&&r.inBuilder,c=t.uniqueId;if(!l){n["c"].region.list().forEach(t=>{let o=t.xmlDefinition;if(o.attr("regionid")===c){s(e,o.children("components").first());return false}})}e.unregisterChildComponents=function(){o.unregisterChildComponents(e.getChildComponents());return e};e.setContent=function(t){s(e,t.children("components").first());return e};e.setContentById=function(t){a(e.id(),t);return e}},renderVDom(e){return ba({key:e},e.getChildComponents().map(e=>e.renderVDom()))},cpi:{unregisterChildComponents(e){let t=e;if(!Array.isArray(t)){t=[e]}(t||[]).forEach(e=>this.unregisterChildComponent(e))}}}));const fa=700,ma="sk-placeholder-fadein-id",ya="".concat(ma,"1"),Ca="".concat(ma,"2"),ka="".concat(ma,"3"),Sa="".concat(ma,"4");var wa={getStyleSettingsVariants(e){const{spacing:t}=e.getShortcuts();return{default:{backdropColor:"@palette.neutral.6",color:"@palette.primary",radial:{size:t(6),borderSize:"@tk.spacing.s0_5",backdropColor:"rgba(0, 0, 0, .25)",animationMs:1650,borderStyle:"@tk.borderStyle.primary",swingDuration:1333,rotateDuration:1568},bar:{borderRadius:"@tk.borderRadius.primary",height:t(1),width:t(25),indeterminate:{}}},tiny:{radial:{size:t(2),borderSize:"2px"}}}},getStyles(e){const t=parseFloat(e.radial.size)+parseFloat(e.radial.borderSize)+"px",o=e.radial.borderSize,i={height:t,width:t,borderRadius:"50%",border:"".concat(o," ").concat(e.radial.borderStyle," ").concat(e.backdropColor),borderTop:"".concat(o," ").concat(e.radial.borderStyle," ").concat(e.color),display:"block",content:"''",position:"absolute"};return{"placeholder--top-margin":{marginTop:t,transition:"opacity ".concat(fa,"ms linear"),animation:"".concat(Sa," ").concat(fa,"ms linear")},"indicator-wrapper":{width:"100%",position:"relative",display:"flex",justifyContent:"center"},"radial-indeterminate":{position:"relative","&:before":Object.assign({animation:"".concat(ya," ").concat(e.radial.animationMs,"ms cubic-bezier(.1,.1,.9,.9) infinite both")},i),"&:after":Object.assign({animation:"".concat(Ca," ").concat(e.radial.animationMs,"ms cubic-bezier(.1,.1,.9,.9) infinite both")},i,{border:"".concat(o," ").concat(e.radial.borderStyle," rgba(0, 0, 0, 0)")})},"bar-indeterminate-backdrop":{position:"relative",flex:"auto",height:e.bar.height,display:"block",backgroundColor:e.backdropColor,borderRadius:e.bar.borderRadius,margin:"20px 0 20px 0",overflow:"hidden",width:e.bar.width,maxWidth:e.bar.width},"bar-indeterminate":{backgroundColor:e.color,"&:before":{display:"block",position:"absolute",content:"''",backgroundColor:"inherit",top:"0",left:"0",bottom:"0",animation:"".concat(ka," 2.5s ease-out infinite")}},"bar-determinate":{"-webkit-appearance":"none",border:"none",backgroundColor:e.backdropColor,color:e.color,height:e.bar.height,width:e.bar.width,borderRadius:e.bar.borderRadius,"&::-moz-progress-bar":{backgroundColor:e.color,borderRadius:e.bar.borderRadius},"&::-webkit-progress-value":{backgroundColor:e.color,borderRadius:e.bar.borderRadius},"&::-webkit-progress-bar":{backgroundColor:e.backdropColor,borderRadius:e.bar.borderRadius}},"bar--fillWidth":{width:"100%",maxWidth:"none"},"@global":{["@keyframes ".concat(ya)]:{"12.5%":{transform:"rotate(30deg)"},"25%":{transform:"rotate(70deg)"},"37.5%":{transform:"rotate(130deg)"},"50%":{transform:"rotate(180deg)"},"62.5%":{transform:"rotate(225deg)"},"75%":{transform:"rotate(270deg)"},"87.5%":{transform:"rotate(315deg)"},to:{transform:"rotate(360deg)"}},["@keyframes ".concat(Ca)]:{"25%":{transform:"rotate(40deg)"},"50%":{transform:"rotate(95deg)"},"65%":{transform:"rotate(145deg)"},to:{transform:"rotate(360deg)"}},["@keyframes ".concat(ka)]:{"0%":{left:"-25%",right:"100%"},"70%":{left:"110%",right:"-90%"},"100%":{left:"100%",right:"-90%"}},["@keyframes ".concat(Sa)]:{from:{opacity:"0"},to:{opacity:"1"}},"@keyframes fill-unfill-rotate":{"12.5%":{transform:"rotate(135deg)"},"25%":{transform:"rotate(270deg)"},"37.5%":{transform:"rotate(405deg)"},"50%":{transform:"rotate(540deg)"},"62.5%":{transform:"rotate(675deg)"},"75%":{transform:"rotate(810deg)"},"87.5%":{transform:"rotate(945deg)"},to:{transform:"rotate(1080deg)"}},"@keyframes left-spin":{from:{transform:"rotate(130deg)"},"50%":{transform:"rotate(-5deg)"},to:{transform:"rotate(130deg)"}},"@keyframes right-spin":{from:{transform:"rotate(-130deg)"},"50%":{transform:"rotate(5deg)"},to:{transform:"rotate(-130deg)"}},"@keyframes fade-out":{from:{opacity:"1"},to:{opacity:"0"}},"@keyframes container-rotate":{to:{transform:"rotate(360deg)"}}},"preloader-wrapper-wrapper":{margin:"auto",width:t},"preloader-wrapper":{display:"inline-block",position:"relative",width:t,height:t,"&$active":{animation:"container-rotate ".concat(e.radial.rotateDuration,"ms linear infinite")}},big:{},"spinner-layer":{position:"absolute",width:"100%",height:"100%",opacity:"0",borderColor:e.color},"gap-patch":{position:"absolute",top:"0",left:"45%",width:"10%",height:"100%",overflow:"hidden",borderColor:"inherit","& $circle":{width:"1000%",left:"-450%"}},circle:{borderRadius:"50%"},"circle-clipper":{display:"inline-block",position:"relative",width:"50%",height:"100%",overflow:"hidden",borderColor:"inherit","& $circle":{width:"200%",height:"100%",borderWidth:e.radial.borderSize,borderStyle:"solid",borderColor:"inherit",borderBottomColor:"transparent !important",borderRadius:"50%",animation:"none",position:"absolute",top:"0",right:"0",bottom:"0"},"&$left $circle":{left:"0",borderRightColor:"transparent !important",transform:"rotate(129deg)"},"&$right $circle":{left:"-100%",borderLeftColor:"transparent !important",transform:"rotate(-129deg)"}},left:{float:"left !important"},right:{float:"right !important"},active:{"& $circle-clipper$left $circle":{animation:"left-spin ".concat(e.radial.swingDuration,"ms cubic-bezier(0.4, 0, 0.2, 1) infinite both")},"& $circle-clipper$right $circle":{animation:"right-spin ".concat(e.radial.swingDuration,"ms cubic-bezier(0.4, 0, 0.2, 1) infinite both")},"& $spinner-layer":{opacity:1,animation:"fill-unfill-rotate ".concat(e.radial.swingDuration*4,"ms cubic-bezier(0.4, 0, 0.2, 1) infinite both")}}}}};var _a={attributes:{height:{type:"string",default:"48px"},width:{type:"string",default:"100%"},progressIndication:{type:"picklist",options:["radialDeterminate","radialIndeterminate","barDeterminate","barIndeterminate"]},barIndicatorsFillWidth:{type:"boolean",default:true},progressPercentage:{type:"number",default:0}},properties:{tooltip:true}};const{h:Ia,div:va}=Object(n["d"])(),xa=700;n["a"].register("skuid__placeholder",Object.assign({},wa,{schema:_a,init(){},renderVDom(e){const{height:t,width:o,progressIndication:i,progressPercentage:n,barIndicatorsFillWidth:s}=e.getState(),a=e._getCPI();return Ia("div",{key:e,styles:{height:t,width:o}},[a.getProgressIndicator(i,n,s)])},cpi:{exitAnimation(e,t){e.style.opacity=0;setTimeout(t,xa)},getProgressIndicator(e,t,o){const i=this.shortcut("getStyledClasses"),n=this._getCPI();switch(e){case"radialIndeterminate":return va({class:i("preloader-wrapper-wrapper")},[va({class:i(["preloader-wrapper","big","active"])},[va({class:i(["spinner-layer"])},[va({class:i(["circle-clipper","left"])},[va({class:i("circle")})]),va({class:i("gap-patch")},[va({class:i("circle")})]),va({class:i(["circle-clipper","right"])},[va({class:i("circle")})])])])]);case"radialDeterminate":return Ia("div",{class:i("indicator-wrapper"),exitAnimation:n.exitAnimation,innerHTML:n.renderRadialDeterminateSvg(t)});case"barIndeterminate":return Ia("div",{class:i("indicator-wrapper"),exitAnimation:n.exitAnimation},[Ia("div",{classes:i({"bar-indeterminate-backdrop":true,"bar--fillWidth":o})},[Ia("div",{class:i("bar-indeterminate")})])]);case"barDeterminate":return Ia("div",{class:i("indicator-wrapper"),exitAnimation:n.exitAnimation},[Ia("progress",{classes:i({"bar-determinate":true,"bar--fillWidth":o}),max:"100",value:t})]);default:return[]}},renderRadialDeterminateSvg(e){const t=n["c"].themes.getStyleSettingsForComponent(this),o=.5*(parseFloat(t.radial.size)+parseFloat(t.radial.borderSize)),i=o-o/10,s=2*i*Math.PI;let a=(100-e)/100*s;if(a<0){a=0}if(a>s){a=s}return'<svg style="transform: rotate(-90deg)" width="'.concat(2*o,'" height="').concat(2*o,'" viewport="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg">\n\t\t\t<circle\n\t\t\t\tstyle="transition: stroke-dashoffset 1s linear; stroke-width: ').concat(t.radial.borderSize,"; stroke: ").concat(t.color,';" \n\t\t\t\tr="').concat(i,'" cx="').concat(o,'" cy="').concat(o,'" fill="transparent" stroke-dasharray="').concat(s,'" stroke-dashoffset="').concat(a,'"></circle>\n\t\t\t</svg>')}}}));var Ta={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",size:t(2),label:St.getStyleSettings(),active:{boxShadow:"@tk.shadow.lightInset"},focus:{boxShadow:"@tk.shadow.warning"},hover:{boxShadow:null,border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor"},selected:{border:null,innerColor:"@tk.utility.backgroundColor",outerColor:"@palette.primary",outerWidth:t(.5)},disabled:{opacity:"@tk.opacity.light"}}},getStyleSettingsVariantsChildren(e){return{skuid__labelRadioCheckbox:{label:e.label}}},getStyles(e){return{disabled:{opacity:e.disabled.opacity},centered:{display:"block",textAlign:"center",width:"100%"},flex:{display:"flex",alignItems:"center"},"input-wrapper":{position:"relative",display:"inline-block"},"label-wrapper":{flex:1,cursor:"default","&:focus":{outline:"none"}},radio:Object.assign({position:"relative",backgroundColor:e.backgroundColor},s(e.border),{height:e.size,width:e.size,color:"transparent",fontSize:0,"&:hover":{boxShadow:e.hover.boxShadow},"&:focus":{outline:"none",boxShadow:e.focus.boxShadow},"&.sk-focus-keyboard":{boxShadow:e.focus.boxShadow,"&:hover":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.hover.boxShadow)}},"&:active":{outline:"none",boxShadow:e.active.boxShadow},borderRadius:"50%",transition:"border 100ms ease"}),"radio--active":{boxShadow:e.active.boxShadow,"&.sk-focus-keyboard":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.active.boxShadow),"&:hover":{boxShadow:"".concat(e.focus.boxShadow,",").concat(e.hover.boxShadow,",").concat(e.active.boxShadow)}}},"radio--selected":{backgroundColor:e.selected.innerColor,border:e.selected.outerWidth==="initial"?"initial":"".concat(e.selected.outerWidth," solid ").concat(e.selected.outerColor),transition:"none !important","&:after":Object.assign({content:'" "',position:"absolute",top:e.selected.outerWidth==="initial"?0:"-".concat(e.selected.outerWidth),right:e.selected.outerWidth==="initial"?0:"-".concat(e.selected.outerWidth),bottom:e.selected.outerWidth==="initial"?0:"-".concat(e.selected.outerWidth),left:e.selected.outerWidth==="initial"?0:"-".concat(e.selected.outerWidth)},s(e.selected.border),{borderRadius:"50%"})},"radio--hover":Object.assign({},s(e.hover.border))}}};var Oa={attributes:{selected:{type:"boolean",default:false},describedBy:{type:"text"},labeledBy:{type:"string"},isFirstInList:{type:"boolean",default:false},label:{type:"string"},showLabel:{type:"boolean",default:true},value:{type:"string"},description:{type:"string"},disabled:{type:"boolean",default:false},warning:{type:"boolean"},centered:{type:"boolean"},tabIndex:{type:"string",default:"0"},ariaLabel:{type:"string"}},properties:{tooltip:true},access:{cpi:{public:["toggle","focus"]}}};const{h:Ra,KEYCODES:Ea}=Object(n["d"])();n["a"].register("skuid__radio",Object.assign({},Ta,{schema:Oa,init(e,t){const o=e.shortcut("set"),i=t.label||(!t.showLabel?"":t.value);o({description:t.description||"",disabled:t.disabled||false,label:i,selected:t.selected||false,value:t.value,labelInstance:i?e.createChildComponent({componentType:"skuid__labelRadioCheckbox",styleSettingsVariant:"@parent/label",label:i,description:t.description}):undefined})},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();let n=o.tabIndex;if(!o.selected&&!o.isFirstInList||o.disabled)n="-1";return Ra("div",{key:e,classes:t({flex:!o.centered,centered:o.centered,disabled:o.disabled}),afterUpdate:i.afterUpdate},[Ra("div",{class:t("input-wrapper")},[Ra("div",{key:e,classes:t({radio:true,"radio--hover":!o.disabled&&o.hovered&&!o.selected,"radio--active":!o.disabled&&o.pressed,"radio--selected":o.selected}),tabindex:n+"",role:"radio","aria-checked":"".concat(o.selected),"aria-disabled":"".concat(o.disabled),"aria-describedby":o.describedBy,afterCreate:i.afterCreateInput,onclick:i.onClick,onkeydown:i.onKeyDown,onkeyup:i.unPress,onblur:i.onBlur,onmouseenter:i.onMouseEnterLabel,onmouseleave:i.onMouseLeaveLabel,onmousedown:i.onMouseDown,onmouseup:i.unPress},[o.label])]),o.labelInstance?Ra("div",{key:e,class:t("label-wrapper"),onmouseenter:i.onMouseEnterLabel,onmouseleave:i.onMouseLeaveLabel,onmousedown:i.onMouseDown,onmouseup:i.unPress,onclick:i.onClick,onblur:i.onBlur,tabindex:o.disabled?"":"-1"},[o.labelInstance.renderVDom()]):undefined])},cpi:{afterUpdate(){if(this.get("makeActive")){this.set({makeActive:undefined,pressed:false,hovered:false},{renderOnChange:false})}},afterCreateInput(e){if(this.get("focusOnCreate"))e.focus();this.set({inputElement:e,focusOnCreate:false},false)},focus(){const e=this.get("inputElement");if(e&&document.contains(e)){e.focus()}else{this.set({focusOnCreate:true},false)}},onClick(e){e&&e.stopPropagation();const t=this.getState();if(t.disabled)return;if(t.selected)return;this.set({selected:true,makeActive:true})},onBlur(){this.set("pressed",false);this.publish("blur")},onMouseEnterLabel(){if(this.get("disabled"))return;this.set("hovered",true)},onMouseLeaveLabel(){this.set({hovered:false,pressed:false})},onKeyDown(e){if(this.get("disabled"))return;if(e.keyCode===Ea.SPACE){e.preventDefault();this.set({pressed:true})}},onMouseDown(){if(this.get("disabled"))return;this.set({pressed:true})},toggle(){this._getCPI().onClick()},unPress(e){if(e.keyCode===Ea.SPACE&&this.get("pressed")){e.preventDefault();this._getCPI().onClick()}this.set("pressed",false)}}}));var Pa={getStyleSettings(e){return Object.assign({itemSpacing:"@tk.spacing.s2"},Ta.getStyleSettings(e),{_indentedItem:{marginLeft:"@tk.spacing.s2"}})},getStyleSettingsVariantsChildren(e){return{skuid__radio:{radio:Object.assign({},e)}}},getStyles(e){return{"radio-list":{listStyleType:"none",padding:0,margin:0,display:"flex"},"radio-list--list-element":{},"radio-list--vertical":{flexDirection:"column","& $radio-list--list-element":{marginBottom:e.itemSpacing,"&:last-child":{marginBottom:0}}},"radio-list--horizontal":{flexDirection:"row","& $radio-list--list-element":{marginRight:e.itemSpacing,"&:last-child":{marginRight:0}}},"radio-list--list-element--indented":{marginLeft:e._indentedItem.marginLeft}}}};var Da={attributes:{optionGroups:{type:"object"},showButtons:{type:"boolean",default:true},show:{type:"boolean",default:true},value:{type:"string",default:""},warning:{type:"boolean"},describedBy:{type:"string"},labeledBy:{type:"string"},disabled:{type:"boolean",default:false},limitOptions:{type:"number"},defaultValue:{type:"string",default:""},inputId:{},radioLayout:{type:"picklist",default:"column",options:["column","row"]},tabIndex:{type:"string"}},nodes:{options:{type:"array",childNode:{option:{attributes:{label:{type:"string"},value:{type:"string"},defaultValue:{type:"boolean"},active:{type:"boolean"}}}}}},access:{cpi:{public:["focus","resetToDefaultValue"]}}};const{h:Ma,KEYCODES:Aa}=Object(n["d"])();n["a"].register("skuid__radioList",Object.assign({},Pa,{schema:Da,init(e,t,o){const i=e.shortcut("set");o.processOptionGroups();i({updateOnCheckChange:true,selectedIndex:-1});e.subscribeChange("value",o.onValueChange)},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return Ma("ul",{key:e,classes:t({"radio-list":true,"radio-list--vertical":o.radioLayout==="column","radio-list--horizontal":o.radioLayout==="row"}),role:"radiogroup",onkeydown:i.onKeyDown,id:o.inputId,"aria-describedby":o.describedBy},o.optionGroups.map(e=>[e.labelInstance&&Ma("div",{key:e,class:t("radio-list--list-element")},[e.labelInstance.renderVDom()]),...e.options.map((i,n)=>(!o.limitOptions||n<o.limitOptions)&&Ma("li",{key:i,classes:t({"radio-list--list-element":true,"radio-list--list-element--indented":e.labelInstance})},[i.instance.renderVDom()]))]))},cpi:{processOptionGroups(){const e=this.getState();let t=e.optionGroups||[{options:e.options||[]}];const o=()=>{this.delay().then(()=>{if(!this.getElement().contains(document.activeElement)){this.publish("blur")}})};t.forEach(t=>{t.options.forEach((t,i)=>{const n=this.createChildComponent({componentType:"skuid__radio",styleSettingsVariant:"@parent/radio",isFirstInList:i===0,label:t.label,selected:this.get("value")===t.value,value:t.value,disabled:this.get("disabled")});this.bind("disabled",n);n.subscribeChange("selected",()=>{if(e.updateOnCheckChange){this.set({value:n.get("value")})}});n.subscribe("blur",o);t.instance=n})});this.set({optionGroups:t});this._getCPI().updateValue(e.value)},updateValue(e,t){const o=this.getState(),i=[];let s="",a="",r=-1,l=r;o.optionGroups.forEach(t=>{t.options.forEach(t=>{r+=1;i.push(t);const o=t.instance.get("value");if(o===e){s=o;a="".concat(t.instance.get("label")||o);l=r}})});this.set({displayValue:a||n["c"].$L("None_Selected"),selectedIndex:l,inputOptions:i});!t&&this.set("value",s!==""?s:e)},onValueChange(e){this.set("updateOnCheckChange",false);this.get("inputOptions").forEach(t=>{t.instance.set("selected",t.instance.get("value")===e)});this.set("updateOnCheckChange",true);this.publish("value",e);this._getCPI().updateValue(e,true)},changeValueByIndex(e){const t=this.getState(),o=t.selectedIndex,i=o+e;let n=-1;const s=t.optionGroups.some(e=>{return e.options.some(e=>{n+=1;if(n===i){e.instance._getCPI().onClick();e.instance.getCPI().focus();return true}return false})});if(!s){if(i<0)this._getCPI().changeValueByIndex(n);else this._getCPI().changeValueByIndex(-n)}},onKeyDown(e){switch(e.keyCode){case Aa.RIGHT:case Aa.DOWN:e.preventDefault();this._getCPI().changeValueByIndex(1);break;case Aa.LEFT:case Aa.UP:e.preventDefault();this._getCPI().changeValueByIndex(-1);break}},resetToDefaultValue(){this.set("value",this.getState().defaultValue)},setOptionGroups(e){this.set({optionGroups:e});this._getCPI().processOptionGroups()},focus(){const e=this.get("optionGroups"),t=n["c"].utils.getObjectProperty(e,"options.0.instance");if(t){t.getCPI().focus()}}}}));var Va={getStyleSettingsVariants:()=>{return{default:{}}},getStyleSettingsVariantsChildren(){return{skuid__autocomplete:{autocomplete:"default"}}},getStyles(){}};var Fa={attributes:{icon:{type:"string",default:"sk-webicon-ink:search"},limit:{type:"number"},minWidth:{type:"string"},placeholder:{type:"string"},preserveSearchTerm:{type:"boolean",default:false},searchLength:{type:"number",default:3},soslFields:{type:"picklist",default:"Name Fields",options:["Name Fields","All Fields","Email Fields","Phone Fields"]}},nodes:{objects:{type:"array",childNode:{object:{attributes:{datasource:{type:"string"},displayTemplate:{type:"string"},fields:{type:"string"},fieldsParam:{type:"string"},headerName:{type:"string"},headerIcon:{type:"string"},id:{type:"string"},param:{type:"string"},orderBy:{type:"string"},allowRawSosl:{type:"boolean"}},nodes:{fields:{type:"array",childNode:{field:{attributes:{id:{type:"string"}}}}}},properties:{actions:["resultActions"],conditions:true}}}}},properties:{styles:true,hotkeys:true,actions:["resultActions","selectActions"],renderConditions:true,styleVariantConditions:true}};const{$:La,utils:Ba}=Object(n["d"])(),za="NAME FIELDS",Na=n["b"].SALESFORCE;class ja{constructor(e=[],t={}){this.recordsLimit=t.recordsLimit;this.soslFields=t.soslFields;this.component=t.component;this.firstItemResult={};this.previousResults=[];this.requests={};this.objectComponents={};this.modelMap={};this.tableRequests={};this.objectMap={};e.forEach(e=>{let o=e.id,i=e.datasource||n["c"].platform.getDefaultDataSourceName(),s=e.orderBy,a="".concat(i,"__").concat(o),r=!!e.allowRawSosl,l=n["c"].dataSource.getDataSource(i),c={objectName:o,recordsLimit:this.recordsLimit&&this.recordsLimit+1},d=[],u=[];if(!this.requests[i]){this.requests[i]={searching:this.soslFields||za,includeMetadata:true}}if(!this.requests[i].returning){this.requests[i].returning={}}this.requests[i].dataSourceName=i;if(!this.objectComponents[i]){this.objectComponents[i]={}}this.objectComponents[i][o]=e;(e.fields||[]).forEach(e=>{d.push(e.id)});if(d.length){c.fields=d}if(r){c.allowRawSosl=r}if(e.conditions){if(e.conditions instanceof La){u=n["c"].component.createConditionsFromXml(e.conditions)}else{(e.conditions||[]).forEach(e=>u.push(new n["c"].model.Condition(e)))}}if(u.length){c.conditions=u}if(s){c.orderBy=s}const p=new n["c"].model.Model({id:"search__".concat(l.name,"__").concat(o,"--").concat(Ba.rfc4122v4GUID()),conditions:u,objectName:o,label:o,objectMapKey:a,fields:d.map(e=>({id:e})),dataSource:l,pathToContent:e.pathToContent}).initialize();c.objectMapKey=a;c.modelName=p.id;this.modelMap[p.id]=p;if(this.requests[i].dataSourceName===i){this.requests[i].returning[o]=c;this.tableRequests[a]={searching:this.soslFields||za,includeMetadata:true,returning:{[o]:c},dataSourceName:i}}const g=Ba.makeXMLDoc("<actions />");if(t.globalActions)g.append(t.globalActions.clone().children());if(e.resultActions)g.append(e.resultActions.clone().children());this.objectMap[a]={headerName:e.headerName,headerIcon:e.headerIcon,displayTemplate:e.displayTemplate,components:this.objectComponents[i],resultActions:g.children(),fields:d,conditions:u,orderBy:s}})}search(e){const t=[],o=Ba.Deferred();if(e===this.lastSearch&&this.previousResults.length){o.resolve(this.previousResults)}Object.keys(this.requests).forEach(o=>{const i=this.requests[o],s=n["c"].dataSource.getDataSource(i.dataSourceName),a=s.getDataSourceType();Object.keys(i.returning).forEach(e=>{const t=i.returning[e],o=this.modelMap[t.modelName];o.dataMap={};o.abandonRows(o.data)});i.query=e;Object.keys(this.tableRequests).forEach(t=>{this.tableRequests[t].query=e});if(a.search){const e=s.search(i,this.objectComponents[o],this.modelMap);if(e&&e.length){t.concat(e)}else{t.push(e)}}});this.lastSearch=e;Ba.settle(t).then(e=>this.validateResponses(e,this.component)).then(e=>o.resolve(this.parseSearchResults(e)));return o.promise()}validateResponses(e,t){if(!Array.isArray(e)){e=[e]}return e.filter(e=>{let o=e.results,i;if(!e.success){if(Array.isArray(o)){La.each(o,function(e,o){if(Ba.isString(o))t.addProblem(o);else{i=o.request.dataSource;t.addProblem("Data Source ".concat(i.name," failed to load the requested data."))}})}else if(Ba.isString(o)){t.addProblem(o)}else{i=o.request.dataSource;t.addProblem("Data Source ".concat(i.name," failed to load the requested data."))}}else if(e.success&&o.error){i=o.request.dataSource;if(i.dataSourceTypeName===Na&&i.name!==Na){t.addProblem("Salesforce Data Source ".concat(i.name," needs to have Skuid version 9.4 or greater installed."))}}else{return e.success}}).map(e=>e.results)}parseSearchResults(e){const t=[],o=[];this.firstItemResult={};e.forEach(e=>{if(Array.isArray(e)){e.forEach(e=>{e.results.forEach(t=>{t.dataSource=e.request.dataSource;o.push(t)})})}else{e.results.forEach(t=>{t.dataSource=e.request.dataSource;o.push(t)})}});o.forEach(({label:e,labelPlural:o,objectName:i,objectMapKey:n,modelName:s,records:a})=>{const r=this.objectMap[n],l=this.modelMap[s];if(!l.dataMap){l.dataMap={}}r.recordCount=a.length;r.label=a.length===1?e:o;a.forEach((e,o)=>{if(o===this.recordsLimit){return false}let s=r.displayTemplate,a=l.getRowId(e),c={label:a,value:a,type:n||i,model:l,row:e,headerName:r.headerName,headerIcon:r.headerIcon,resultActions:r.resultActions,context:{model:l,row:e}};l.data.push(e);l.dataMap[a]=e;if(!s){const e=l.getNameField();if(r.fields.indexOf(e)!==-1){s="{{".concat(e,"}}")}}c.label=Ba.mergeAsText("row",s,{createFields:false},l,e);t.push(c)});l.initialize()});this.previousResults=t;return t}}var Ha=ja;const{h:Wa,utils:Ua}=Object(n["d"])();n["a"].register("skuid__search",Object.assign({},Va,{schema:Fa,init(e,t,o){const i=e.shortcut("set"),n=new Ha(t.objects,{globalActions:t.resultActions,recordsLimit:t.limit,soslFields:t.soslFields,component:e}),s=e.createChildComponent({componentType:"skuid__autocomplete",styleSettingsVariant:"@parent/autocomplete",placeholder:t.placeholder,iconRight:t.icon,preserveSearchTerm:t.preserveSearchTerm,optionGroups:[],doNotFilter:true,getOptions:e=>o.getOptionsForMenu(e)});i({autocompleteInstance:s,searchController:n})},renderVDom(e){const t=e.getState(),o=e._getCPI(),i=t.minWidth?{minWidth:t.minWidth}:{};return Wa("div",{key:e,styles:i,afterCreate:o.afterCreate},[t.autocompleteInstance.renderVDom()])},cpi:{getOptionsForMenu(e){const t=this.getState(),o=this._getCPI(),i=this.shortcut("set"),n=t.searchController,s=t.autocompleteInstance.get("inputInstance"),a=e=>{i("searchResults",e);s.set("processing",false);return e};if(e&&e.length>=t.searchLength){s.set("processing",true);return n.search(e).then(e=>{const t=o.parseSearchResults(e);return a(t)})}else{return Ua.resolve(a([]))}},parseSearchResults(e){const t=[],o={};if(!e||!e.length){return t}e.forEach(e=>{if(!o[e.type]){o[e.type]={label:e.headerName,icon:e.headerIcon,options:[]};t.push(o[e.type])}o[e.type].options.push({label:e.label,value:e.value,actions:e.resultActions,context:e.context})});return t},afterCreate(e){const{hotkeys:t,uniqueId:o,autocompleteInstance:i,show:s}=this.getState();if(t&&t.length&&s!==false){n["c"].hotkeys.bind(t,o,()=>{i.getCPI().focus()},n["c"].$(e));this.subscribe("beforeUnregister",()=>{n["c"].hotkeys.unbind(o)})}}}}));var Ga={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{_paddingRight:"@tk.spacing.s3",backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body",_padding:"@tk.spacing.s1",textIndent:{type:"SPACING",value:"@tk.spacing.s1"},height:t(4),minWidth:t(8),focus:{border:null,boxShadow:"0 0 0 2px @tk.utility.focusColor"},hover:{border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.selectedBorderColor",boxShadow:"@tk.shadow.light"},active:{border:null,boxShadow:null},caret:{color:"@palette.primary",rightSpacing:"@tk.spacing.s1_5"},disabled:{opacity:"@tk.opacity.light"}}},getStyleSettingsVariantsChildren(){return{skuid__menu:{menu:"default"},skuid__checkboxList:{checkboxList:"default"}}},getStyles(e){return{"actual-value":{position:"absolute",padding:"0 ".concat(e._paddingRight," 0 ").concat(e.textIndent),margin:0,left:0,width:"100%",overflow:"hidden",textOverflow:"ellipsis"},caret:{color:e.caret.color,right:e.caret.rightSpacing,display:"grid",top:"50%",transform:"translate3d(50%,-50%, 0)",position:"absolute"},"hidden-value":{color:"transparent",whiteSpace:"initial !important"},"fill-width":{width:"100%"},select:Object.assign({display:"flex",height:e.height,alignItems:"center",backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,color:e.color,cursor:"pointer",minWidth:e.minWidth,padding:e._padding,paddingRight:e._paddingRight,fontSize:e.fontSize,userSelect:"none",position:"relative","&:hover":Object.assign({},s(e.hover.border),{boxShadow:e.hover.boxShadow}),"&:focus":Object.assign({outline:"none"},s(e.hover.border)),"&.sk-focus-keyboard":Object.assign({},s(e.focus.border),{boxShadow:e.focus.boxShadow}),"&:active":Object.assign({},s(e.active.border),{boxShadow:e.active.boxShadow,outline:"none"})}),"select-wrapper":{position:"relative"},"selected-value":{whiteSpace:"nowrap"},"z-index-above":{zIndex:"2"},disabled:{opacity:e.disabled.opacity,pointerEvents:"none"},"native-select":{width:"100%",height:"100%",position:"absolute",top:0,left:0,borderRadius:e.borderRadius,background:"transparent",border:"none",color:"transparent","&:focus":Object.assign({outline:"none"},s(e.hover.border)),"&.sk-focus-keyboard":Object.assign({},s(e.focus.border),{boxShadow:e.focus.boxShadow})}}}};var qa={attributes:{defaultValue:{type:"string"},disabled:{type:"boolean",default:false},describedBy:{type:"string"},labeledBy:{type:"string"},maxSelected:{type:"number",default:Infinity},multi:{type:"boolean",default:false},options:{type:"object"},optionGroups:{type:"object"},width:{type:"string"},fillWidth:{type:"boolean",default:true},rightAlign:{type:"boolen",default:false},selectedList:{type:"number",default:3},placeholder:{type:"text",default:""},tabIndex:{type:"string",default:"0"},useHtmlSelect:{type:"boolean"},value:{type:"string"},warning:{type:"boolean"},withButton:{type:"boolean"},focusOnToggle:{},displayValueProcessor:{},noneSelectedText:{type:"string"},inputId:{}},properties:{styles:true,styleVariantConditions:true},nodes:Object.assign({},R),access:{cpi:{public:["close","focus","resetToDefaultValue","unsetValue"]}}};const{h:Ya,KEYCODES:$a,utils:Ka}=Object(n["d"])();const Xa=2e3;let Qa;n["a"].register("skuid__select",Object.assign({},Ga,{schema:qa,init(e,t,o){const i=e.shortcut("set"),s=true;i("iconUrl",n["c"].ui.getIconURLFromHandle("sk-webicon-ink:chevron-small-down"));i("useHtmlSelect",t.useHtmlSelect||y());const a=this.get("useHtmlSelect");let r,l;if(t.multi){r=Ka._floatingComponentFactory.createMenu({uniqueId:Ka.generateUniqueId(),show:false,fillContainer:s,showButtons:false,clickCloseExceptionsSelector:"#".concat(t.uniqueId),styleSettingsVariant:"@parent/menu",optionGroups:t.optionGroups||[{options:t.options}],context:t.context,components:[{componentType:"skuid__checkboxList",styleSettingsVariant:n["c"].themes.getChildStyleVariantHandle(e,"skuid__checkboxList","checkboxList"),multi:true,value:t.value,useSelectAllOption:true,noneSelectedText:t.noneSelectedText,maxSelected:t.maxSelected}]},e);l=r.get("components")[0];e.bind("value",l);l.subscribeChange("displayValue",o.updateDisplayValueMulti);l.subscribeChange("value",o.updateDisplayValueMulti);e.subscribeChange("optionGroups",o.updateDisplayValueMulti);i({checkboxesInstance:l});o.updateDisplayValueMulti()}else{if(!a){r=Ka._floatingComponentFactory.createMenu({styleSettingsVariant:"@parent/menu",uniqueId:Ka.generateUniqueId(),show:false,fillContainer:s,checkSelected:true,clickCloseExceptionsSelector:"#".concat(t.uniqueId),optionGroups:o.getOptionGroups(),showButtons:false,value:t.value,isSelect:true,context:t.context},e);e.bind("value",r)}e.subscribeChange("value",o.updateDisplayValue);o.updateDisplayValue();e.subscribeChange("optionGroups",o.updateDisplayValue)}e.subscribeChange("value",t=>e.publish("value",t));e.registerMergeAttribute("displayValue","_displayValue");if(r){e.bind("focusOnToggle",r);e.subscribeChange("context",e=>r.set("context",e));i("longestOption",r.get("longestOption")+"--");r.subscribeChange("longestOption",e=>{i("longestOption",e+"--")});r.subscribeChange("show",o.showChange);e.bind("disabled",r);e.bind("optionGroups",r);r.subscribe("keyDown",e=>{if(e.keyCode===$a.TAB){o.resetSearchMenuOptions()}else{o.searchMenuOptions(e)}})}e.subscribe("keyDown",e=>{if(e.keyCode===$a.TAB){o.resetSearchMenuOptions()}else{o.searchMenuOptions(e)}});i({showMenu:false,menuInstance:r})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_displayValue:o,describedBy:i,disabled:n,fillWidth:s,iconUrl:a,inputId:r,labeledBy:l,longestOption:c,menuInstance:d,placeholder:u,tabIndex:g,useHtmlSelect:h,value:b,width:f}=e.getState(),m=e._getCPI(),y=o!==undefined?o:b&&b.length?b:u;return Ya("div",{key:e,classes:t({"select-wrapper":true,"fill-width":s,disabled:n})},[Ya("div",{key:"".concat(e._GUID,"-select"),id:r,class:t("select"),classes:t({"fill-width":s,"z-index-above":d?d.get("show"):false}),tabindex:n||!d?"-1":g+"",onfocus:()=>e.publish("focus"),onmousedown:m.onMouseDown,onkeypress:m.onKeyPress,onblur:m.onBlur,onkeydown:m.onKeyDown,afterCreate:m.afterCreate,afterUpdate:m.afterUpdate,role:"listbox","aria-labelledby":l,"aria-describedby":i,styles:f?{width:f}:{}},[Ya("span",{key:"actual-value",class:t(["selected-value","actual-value"])},[y]),Ya("span",{key:"hidden-value",class:t(["selected-value","hidden-value"])},[c||u]),Ya("span",{key:"caret",class:t("caret")},[Object(p["a"])(a)])]),h&&m.renderHtmlSelect()])},cpi:{afterCreate(e){const{menuInstance:t,useHtmlSelect:o,focusOnCreate:i}=this.getState();if(o)return;this.set("selectElement",e,false);t.cpi.setTarget(e);if(i){e.focus();this.set("focusOnCreate",false,false)}},afterCreateHtmlSelect(e){const t=this.getState();this.set("htmlSelectElement",e,false);if(t.focusOnCreate){e.focus();this.set("focusOnCreate",false,false)}},afterUpdate(e){if(this.get("selectElement")!==e){const t=this.getState();this.set("selectElement",e,{});t.menuInstance&&t.menuInstance.getCPI().setTarget(e)}},focus(){const{selectElement:e,htmlSelectElement:t,useHtmlSelect:o}=this.getState();let i=false;if(o){if(t&&document.contains(t)){t.focus();i=true}}else if(e&&document.contains(e)){e.focus();i=true}if(!i){this.set("focusOnCreate",true,false)}},close(){const{menuInstance:e,useHtmlSelect:t}=this.getState();if(t)return;e.getCPI().close()},onKeyPress(e){if(e.keyCode===$a.SPACE||e.keyCode===$a.ENTER){e.preventDefault()}},onKeyDown(e){const t=this.getState().menuInstance;if([$a.LEFT,$a.RIGHT,$a.UP,$a.DOWN].indexOf(e.keyCode)>-1){e.preventDefault();e.stopPropagation();this.set("focusOnToggle",true);if(t.get("show")){t._getCPI().onKeyDownOption(e)}else{t.getCPI().toggle(true);this._getCPI().highlightMenuOption()}}if(e.keyCode===$a.ENTER){if(this.get("searchChars")){t._getCPI().selectHighlighted(e);this._getCPI().resetSearchMenuOptions()}else{this.set("focusOnToggle",true);t.getCPI().toggle(true);this._getCPI().highlightMenuOption()}}if(e.keyCode===$a.TAB||!Ka.isUndefined(e.key)&&e.key.length===1){this.publish("keyDown",[e])}},onMouseDown(e){e&&e.stopPropagation();n["c"].events.publish("mousedown",[e,this]);this._cpi.onClick(e)},onClick(e){const{menuInstance:t}=this.getState();e&&e.stopPropagation();t&&t.getCPI().toggle(!t.get("show"));this.set("focusOnToggle",true);if(t&&t.get("show")){this._getCPI().highlightMenuOption()}},onBlur(e){this.delay().then(()=>{const t=this.get("menuInstance");if(!t||!t.getElement().contains(document.activeElement)){this.publish("blur",[e])}})},showChange(e){const t=this.getState();if(!e&&t.focusOnToggle){t.selectElement.focus()}},unsetValue(){this.set("value",undefined)},updateDisplayValueMulti(){const e=this.getState(),t=e.checkboxesInstance,o=(t.get("value")||"").toString().split(t.get("delimiter")).length;if(e.selectedList>=0&&o>e.selectedList){this.set("displayValue","".concat(o," selected"))}else{this.set("displayValue",t.get("displayValue"))}},updateDisplayValue(){let e;const{displayValueProcessor:t,value:o}=this.getState(),i=this._getCPI(),n=i.getOptionGroups(),s=e=>e.label||e.value,a=()=>{const t=Array.prototype.concat(...n.map(e=>e.options||[])).find(t=>{if(!t.value&&!e)e=t;return t.value==o||parseFloat(t.value)===o});if(t)return s(t);if(e)return s(e);if(o)return"".concat(o);return"- - - -"};this.set("displayValue",t?t.call(this,o):a())},resetToDefaultValue(){this.set("value",this.get("defaultValue"))},setOptionGroups(e){const t=this.get("menuInstance");if(t){t._getCPI().setOptionGroups.apply(this,arguments)}else{this.set("optionGroups",e)}},getOptionGroups(){const{options:e,optionGroups:t}=this.getState();if(t)return t;else if(e){return[{options:e.map(e=>({value:e.value,label:e.label,icon:e.icon,thumbnail:e.thumbnail,secondary:e.secondary,renderConditions:e.renderConditions,enableConditions:e.enableConditions}))}]}return[]},searchMenuOptions(e){const{menuInstance:t}=this.getState();if(!t.get("show")){t.getCPI().toggle(true)}let o=e.key,i=this.get("optionGroups")[0],n="".concat(this.get("searchChars")||"").concat(o).toLowerCase(),s=i.options.findIndex(e=>Ka.startsWith(e.label.toLowerCase(),n));if(s>-1){this.set("searchChars",n);clearTimeout(Qa);Qa=setTimeout(()=>{if(!this.registered)return;Qa=undefined;this.set("searchChars","")},Xa);t._cpi.highlight(s);t._cpi.focus()}},resetSearchMenuOptions(){const{menuInstance:e}=this.getState();if(Qa)clearTimeout(Qa);this.set("searchChars","");this.set("focusOnToggle",false);this.set("isSearchMenuReset",true);e.getCPI().toggle(false);e._getCPI().removeHighlight()},highlightMenuOption(){const{optionGroups:e,value:t,menuInstance:o}=this.getState();o.getCPI().highlight(e.reduce((e,o)=>{o.options.forEach((o,i)=>{if(o.value+""===t+"")e=i});return e},-1))},renderHtmlSelect(){const e=this.shortcut("getStyledClasses");const t=this.get("value"),o=this._cpi.getOptionGroups();const i=e=>e.map(e=>Ya("option",{key:e,value:e.value+"",selected:t==e.value},[(e.label||e.value)+""]));return o&&Ya("select",{key:"native select",class:e("native-select"),onchange:e=>this.set("value",e.target.value),value:t,afterCreate:this._getCPI().afterCreateHtmlSelect,afterUpdate:this._getCPI().afterCreateHtmlSelect,onfocus:()=>this.publish("focus"),onblur:()=>this.publish("blur")},[Ya("option",{key:"empty option",disabled:true,hidden:true,selected:true}),...o.length>1||o[0].label?o.map(e=>Ya(e.label?"optgroup":"_optgroup",{key:e,label:e.label||undefined},i(e.options))):i(o[0].options)])}}}));var Za={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{containerHeight:t(4),labelColor:"@tk.utility.fontColor",labelFontSize:"@tk.fontSize.small",track:{trackHeight:t(4),backgroundColor:"@tk.utility.borderColor",borderRadius:"@tk.borderRadius.rounded",selected:{backgroundColor:"@palette.primary"}},thumb:{backgroundColor:{label:"Thumb Color",value:"@tk.utility.backgroundColor"},border:"none",borderRadius:"@tk.borderRadius.rounded",boxShadow:"@tk.shadow.light",size:"19px",focus:{boxShadow:"0 0 0 2px @tk.utility.focusColor"}}}},getStyles(e){const t=t=>{if(t>63){return-3.5}else{return 4-parseFloat(e.track.trackHeight)/10}};const o=Object.assign({"-webkit-appearance":"none"},s(e.thumb.border),{height:e.thumb.size,width:e.thumb.size,borderRadius:e.thumb.borderRadius,backgroundColor:e.thumb.backgroundColor,boxShadow:e.thumb.boxShadow,pointerEvents:"all",marginTop:t(parseInt(e.track.trackHeight))+"px"}),i={"-webkit-appearance":"none",color:"transparent",borderColor:"transparent",backgroundColor:"transparent",outline:"none",padding:"0",border:"0",margin:"0",pointerEvents:"none",width:"100%"};return{"slider-container":{position:"relative",width:"100%",pointerEvents:"none",height:e.containerHeight,maxHeight:e.containerHeight},slider:Object.assign({},i,{height:"0px",maxHeight:"0px",cursor:"pointer",position:"absolute",flex:"auto","&::-webkit-slider-thumb":o,"&::-moz-range-thumb":Object.assign({},o,{marginTop:"-6px"}),"&::-ms-thumb":o,"&::-webkit-slider-runnable-track":i,"&::-moz-range-track":Object.assign({},i,{marginTop:"-4px"}),"&::-ms-track":i,"&.sk-focus-keyboard":{border:"0","&::-webkit-slider-thumb":{boxShadow:"".concat(e.thumb.focus.boxShadow)},"&::-moz-range-thumb":{boxShadow:"".concat(e.thumb.focus.boxShadow)},"&::-ms-thumb":{boxShadow:"".concat(e.thumb.focus.boxShadow)}},"&::-moz-focus-outer":{border:"0"}}),minMaxSlider:{pointerEvents:"none"},"slider__label-container":{position:"relative",width:"100%",fontSize:e.labelFontSize,color:e.labelColor,display:"flex"},"slider__label-min":{position:"relative",marginLeft:"".concat(parseFloat(e.thumb.size)/4,"px")},"slider__label-max":{position:"absolute",left:"auto",top:0,right:"".concat(parseFloat(e.thumb.size)/4,"px")},"track-container":{display:"flex",width:"100%",alignItems:"center",justifyContent:"center",position:"absolute"},track:{flex:"auto",pointerEvents:"none",maxWidth:"calc(100% - ".concat(parseFloat(e.thumb.size)/2,"px)"),whiteSpace:"nowrap"},track__section:{backgroundColor:e.track.backgroundColor,borderRadius:e.track.borderRadius,height:.2*parseFloat(e.track.trackHeight)+"px",display:"inline-block",pointerEvents:"none",maxWidth:"100%"},"track__section--selected":{backgroundColor:e.track.selected.backgroundColor,borderRadius:e.track.borderRadius},"track__section--first":{borderRadius:"".concat(e.track.borderRadius," 0 0 ").concat(e.track.borderRadius)},"track__section--last":{borderRadius:"0 ".concat(e.track.borderRadius," ").concat(e.track.borderRadius," 0"),backgroundColor:e.track.backgroundColor}}}};var Ja={attributes:{rangeMin:{type:"number",required:true},rangeMax:{type:"number",required:true},value:{type:"number"},step:{type:"number",default:1},describedBy:{type:"text"},labeledBy:{type:"string"},disabled:{type:"boolean",default:false},warning:{},defaultValue:{type:"number"},defaultMinValue:{type:"number"},defaultMaxValue:{type:"number"},behavior:{type:"picklist",options:["singleValue","range"],default:"singleValue"},inputId:{}},properties:{renderConditions:true,components:true}};const{h:er}=Object(n["d"])();n["a"].register("skuid__slider",Object.assign({},Za,{schema:Ja,init(e,t){const{behavior:o,rangeMin:i,rangeMax:n,defaultValue:s,defaultMinValue:a,defaultMaxValue:r}=t;if(o==="singleValue"){e.set({value:!isNaN(s)?s:n})}else if(o==="range"){e.set({minValue:!isNaN(a)?a:i,maxValue:!isNaN(r)?r:n})}},renderVDom(e){const{behavior:t,minValue:o,maxValue:i,value:n,rangeMin:s}=e.getState(),a=e._getCPI(),r=e.shortcut("getStyledClasses");let l,c;if(t==="singleValue"){l=s;c=n}if(t==="range"){l=o;c=i}return er("div",{key:e,class:r("slider-container")},[er("div",{key:"container",class:r("slider__label-container")},[er("div",{key:"label-min",class:r("slider__label-min")},[l+""]),er("div",{key:"label-max",class:r("slider__label-max")},[c+""])]),a.renderTrack()])},cpi:{renderTrack(){const e=this.getState(),{minValue:t,maxValue:o,behavior:i}=e,n=this.shortcut("getStyledClasses"),s={},a=this._getCPI();let{rangeMin:r,rangeMax:l,value:c}=e,d=Math.min(t,o),u=Math.max(t,o),p=Math.abs(r);if(isNaN(d)){d=r}if(isNaN(u)){d=l}c=parseInt(c);const g=l-r;if(r<0&&l>=0){d=d+p;u=u+p;r=r+p;l=l+p;c=c+p}if(i==="singleValue"){s.one=(c-r)*100/g;s.two=100-s.one}else{s.one=d*100/g;s.three=(l-u)*100/g;s.two=100-s.one-s.three}return er("div",{key:"track-container",classes:n({"track-container":true})},[er("div",{key:"track",classes:n({track:true})},[er("div",{key:"track-first",classes:n({track__section:true,"track__section--selected":i==="singleValue","track__section--first":true}),styles:{width:s.one+"%"}}),er("div",{key:"track-second",classes:n({track__section:true,"track__section--selected":i==="range","track__section--last":i==="singleValue"}),styles:{width:s.two+"%"}}),i==="range"&&er("div",{key:"track-third",classes:n({track__section:true,"track__section--last":true}),styles:{width:s.three+"%"}})]),i==="singleValue"?a.renderValueSlider():a.renderMinMaxSliders()])},renderValueSlider(){const{inputId:e,rangeMin:t,rangeMax:o,value:i,step:n,describedBy:s}=this.getState(),a=this._getCPI(),r=this.shortcut("getStyledClasses");return er("input",{key:"input",id:e,class:r("slider"),type:"range",min:t,max:o,step:n,oninput:a.singleValueChangeHandler,onchange:a.singleValueChangeHandler,value:i,"aria-describedby":s})},renderMinMaxSliders(){const{describedBy:e,uniqueId:t,rangeMin:o,rangeMax:i,minValue:n,maxValue:s,step:a,disabled:r}=this.getState(),l=this._getCPI(),c=this.shortcut("getStyledClasses");return[er("input",{key:"min-slider",id:t+"-1",classes:c({slider:true,minMaxSlider:true}),type:"range",min:o,max:i,step:a,disabled:r,oninput:l.minValueChangeHandler,onchange:l.minValueChangeHandler,value:n,"aria-describedby":e}),er("input",{key:"max-slider",id:t+"-2",classes:c({slider:true,minMaxSlider:true}),type:"range",min:o,max:i,step:a,disabled:r,oninput:l.maxValueChangeHandler,onchange:l.maxValueChangeHandler,value:s,"aria-describedby":e})]},singleValueChangeHandler(e){this.set("value",e.target.value)},minValueChangeHandler(e){const{maxValue:t,step:o}=this.getState(),i=parseInt(e.target.value);if(i<=t-o){this.set("minValue",i)}else{this.scheduleVirtualRender()}},maxValueChangeHandler(e){const{minValue:t,step:o}=this.getState(),i=parseInt(e.target.value);if(i>=t+o){this.set("maxValue",i)}else{this.scheduleVirtualRender()}}}}));var tr={getStyleSettingsVariants:()=>{return{default:{_zIndex:H["x"].DYNAMIC,backgroundColor:"@tk.utility.backgroundColor",boxShadow:"@tk.shadow.light",padding:"@tk.spacing.s1"}}},getStyles(e){return{"sliding-panel":Object.assign({position:"fixed",overflow:"auto",backgroundColor:e.backgroundColor},s(e.border),{boxShadow:e.boxShadow,transition:"all 250ms ease"}),"--top":{top:0,left:0,right:0,height:0,transform:"translate3d(0, -100%, 0)"},"--left":{top:0,left:0,bottom:0,width:0,transform:"translate3d(-100%, 0, 0)"},"--right":{top:0,right:0,bottom:0,width:0,transform:"translate3d(100%, 0, 0)"},"--bottom":{left:0,right:0,bottom:0,height:0,transform:"translate3d(0, 100%, 0)"},"--DSS":{position:"relative !important",minHeight:"300px"},"sliding-panel__contents":{padding:e.padding,height:"100%",width:"100%"}}}};var or={attributes:{title:{type:"string"},origin:{type:"picklist",default:"left",options:["left","right","top","bottom","DSS"]},size:{type:"csssize"},closeOnPageClick:{type:"boolean",default:true},showOnCreate:{type:"boolean",default:true},zIndex:{type:"number"}},properties:{actions:["afterCloseActions"],components:true,interactions:true,context:true},access:{cpi:{public:["toggle","open","close","isOpen","updateContext"]}}};const{div:ir,$:nr,utils:sr}=Object(n["d"])(),ar=sr.increaseAndGetZIndex;n["a"].register("skuid__slidingPanel",Object.assign({},tr,{schema:or,init(e,t,o){const i=e.shortcut("set"),n=t.origin==="top"||t.origin==="bottom",s=t.origin==="left"||t.origin==="right",a=n?t.size:"100%",r=s?t.size:"100%";i({_zIndex:ar(),panelHeight:a,panelWidth:r,isTopBottom:n,isLeftRight:s,_componentInstances:e.createChildComponents(t.components,null,t.context)});e.subscribeChange("context",t=>{e.getChildComponents().map(e=>e.set("context",t))});if(t.closeOnPageClick){const i="mousedown.".concat(t.uniqueId),n=()=>{let n="#".concat(t.uniqueId,", [data-te=skuid__dynamicComponentsContainer]");nr(document).on(i,t=>{if(!nr(t.target).parents(n).length&&!nr(t.target).is(n)){e.get("isVisible")&&o.close()}})},s=()=>{nr(document).off(i)};e.subscribeChange("isVisible",e=>{if(e){n()}else{s()}});e.subscribe("beforeUnregister",s)}},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_componentInstances:o,_zIndex:i,isVisible:n,origin:s,panelHeight:a,panelWidth:r,uniqueId:l}=e.getState(),c=e._getCPI();return ir({key:e,afterCreate:c.afterCreate,classes:t({"sliding-panel":true,["--".concat(s)]:true}),"data-slidingpanel-id":l,"data-slidingpanel-open":"".concat(n),styles:{width:r,height:a,transform:n?"translate3d(0, 0, 0)":undefined,zIndex:i.toString()}},[ir({class:t("sliding-panel__contents")},o&&o.map(e=>e.renderVDom()))])},cpi:{afterCreate(){if(this.get("showOnCreate")){this.delay().then(()=>this.set("isVisible",true))}},updateContext(e){this.set("context",e)},isOpen(){return this.get("isVisible")!==false},toggle(e=null){if(e===false||e===null&&this.get("isVisible")){this.set("isVisible",false)}else{if(!this.get("isVisible")){this.set("_zIndex",ar(),false)}this.set("isVisible",true)}n["c"].events.publish("ui.panel.toggled",{id:this.get("uniqueId")})},open(){this.cpi.toggle(true)},close(){const{context:e,afterCloseActions:t}=this.getState();this.cpi.toggle(false);if(t&&t.length){n["c"].actions.runActionsNode(t,this,e)}}}}));var rr={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{backgroundColor:"@tk.utility.borderColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.rounded",width:t(6),nub:{backgroundColor:{label:"Fill color",value:"@tk.utility.backgroundColor"},borderRadius:"@tk.borderRadius.rounded",shadow:"@tk.shadow.light",size:{label:"Size",type:"CSS_SIZE",value:t(3)}},text:{color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body",spacing:"@tk.spacing.s1"},activated:{backgroundColor:"@tk.utility.selectedBorderColor",borderColor:"@tk.utility.selectedBorderColor"},_focus:{boxShadow:"0 0 0 2px @tk.utility.focusColor"},disabled:{opacity:"@tk.opacity.light"}}},getStyles(e){return{"switch-wrapper":{position:"relative",display:"inline-flex",alignItems:"center"},"switch-wrapper--disabled":{opacity:e.disabled.opacity},"switch-wrapper__off-on":{marginLeft:e.text.spacing,fontSize:e.text.fontSize,color:e.text.color,cursor:"default"},switch:Object.assign({position:"relative",display:"inline-block",backgroundColor:e.backgroundColor,borderRadius:e.borderRadius,height:e.nub.size,width:e.width},s(e.border),{boxSizing:"content-box",transition:"all 100ms ease-in","&:focus":{outline:"none"},"&.sk-focus-keyboard":{boxShadow:e._focus.boxShadow}}),"switch--on":{backgroundColor:e.activated.backgroundColor,borderColor:e.activated.borderColor},"switch-nub":{position:"absolute",top:0,left:0,borderRadius:e.nub.borderRadius,height:e.nub.size,width:e.nub.size,backgroundColor:e.nub.backgroundColor,boxShadow:e.nub.shadow,boxSizing:"border-box",transition:"all 100ms ease-in"},"switch-nub--on":{left:"100%",transform:"translate3d(-100%,0,0)"}}}};var lr={attributes:{checked:{type:"boolean",default:false},describedBy:{type:"string"},labeledBy:{type:"string"},label:{type:"string"},value:{type:"string"},disabled:{type:"boolean",default:false},showOffOnText:{type:"boolean",default:false},warning:{type:"boolean"},defaultValue:{type:""},tabIndex:{},inputId:{}},access:{cpi:{public:["resetToDefaultValue"]}}};const{h:cr,KEYCODES:dr}=Object(n["d"])();n["a"].register("skuid__switch",Object.assign({},rr,{schema:lr,init(e,t){let o=e.shortcut("set");o({description:t.description||"",disabled:t.disabled,checked:t.checked,value:t.value})},renderVDom(e){let t=e.shortcut("getStyledClasses"),o=e.getState(),i=e._getCPI();return cr("div",{key:e,classes:t({"switch-wrapper":true,"switch-wrapper--disabled":o.disabled}),onclick:i.onClick,onkeydown:i.onKeyDown},[cr("span",{key:"switch",id:o.inputId,class:t("switch"),classes:t({"switch--on":o.checked}),tabindex:o.disabled?"-1":o.tabIndex||"0",role:"checkbox","aria-checked":o.checked+"","aria-disabled":o.disabled+"","aria-describedby":o.describedBy},[cr("span",{key:"nub",classes:t({"switch-nub":true,"switch-nub--on":o.checked})})]),o.showOffOnText&&cr("span",{key:"off-on",class:t("switch-wrapper__off-on")},[o.checked?"On":"Off"])])},cpi:{toggle(){const{checked:e,disabled:t}=this.getState();if(!t){this.set("checked",!e)}},onClick(e){e&&e.stopPropagation();this._getCPI().toggle();this.publish("click",[e,this])},onKeyDown(e){if(e.keyCode===dr.SPACE||e.keyCode===dr.ENTER){e.preventDefault()}if(e.keyCode===dr.SPACE){this._getCPI().toggle()}},resetToDefaultValue(){this.set({checked:this.getState().defaultValue})}}}));var ur={getStyleSettingsVariants:()=>{return{default:{_zIndex:H["x"].DYNAMIC,fontFamily:"@tk.fontFamily.primary",backgroundColor:"@palette.neutral",color:"@palette.white",padding:"@tk.spacing.s2",iconRight:"@tk.spacing.s2",success:{backgroundColor:"@palette.success",color:"@palette.white"},warning:{backgroundColor:"@palette.warning",color:"@palette.white"},error:{backgroundColor:"@palette.error",color:"@palette.white"}}}},getStyles(e){return{wrapper:{zIndex:e._zIndex,display:"flex",alignItems:"center",position:"fixed",top:0,left:0,right:0,height:0,overflow:"hidden",backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,color:e.color},"wrapper--default":{backgroundColor:e.backgroundColor,color:e.color},"wrapper--success":{backgroundColor:e.success.backgroundColor,color:e.success.color},"wrapper--warning":{backgroundColor:e.warning.backgroundColor,color:e.warning.color},"wrapper--error":{backgroundColor:e.error.backgroundColor,color:e.error.color},"close-icon":{position:"absolute",right:e.iconRight,cursor:"pointer","&:hover":{opacity:"0.8"}},contents:{flex:"1",textAlign:"center",padding:e.padding}}}};var pr={attributes:{height:{type:"string",default:"32px"},onClose:{type:"function"},closeIcon:{type:"string",default:"sk-webicon-ink:close"},showCloseIcon:{type:"boolean",default:false},message:{type:"function"},status:{type:"picklist",default:"default",options:["default","success","warning","error"]}},nodes:{},properties:{},access:{cpi:{public:["close","open","update"]}}};const{div:gr}=Object(n["d"])();n["a"].register("skuid__systemFeedback",Object.assign({},ur,{schema:pr,init(e,t){const o=e.shortcut("set");e.subscribeChange("showCloseIcon",i=>{o({closeIconInstance:i?e.createChildComponent({componentType:"skuid__icon",handle:t.closeIcon}):null})});o({defaultStatus:t.status,defaultShowCloseIcon:t.showCloseIcon,isOpen:false})},renderVDom(e){const{uniqueId:t,message:o,closeIconInstance:i,status:n,isOpen:s,height:a}=e.getState(),r=e.shortcut("getStyledClasses"),l=e._getCPI();return gr({key:e,id:t,afterCreate:l.afterCreate,afterUpdate:l.onUpdate,class:r(["wrapper","wrapper--".concat(n)]),styles:{height:s?a:0}},[i&&gr({key:"close-icon",class:r("close-icon"),onclick:l.onClickClose},[i.renderVDom()]),!!o&&gr({key:"contents",class:r("contents")},[o])])},cpi:{afterCreate(e){this.set("_element",e,{renderOnChange:false})},onClickClose(e){const t=this.getState(),o=this.getCPI();t.onClose?t.onClose(e):o.close()},onUpdate(){const{isOpen:e,height:t}=this.getState(),o=document.body,i=e?t:0;o.style.paddingTop=i;n["c"].events.publish("ui.systemFeedbackUpdated",[this])},open(e){const t=this.getState();this.set(Object.assign({status:t.defaultStatus,showCloseIcon:t.defaultShowCloseIcon,isOpen:true},e));return this},close(){this.set({isOpen:false});return this},update(e){this.set(e);return this}}}));var hr={getStyleSettings(){return{padding:0}},getStyles:e=>({"tab-content":{padding:e.padding}})};var br={attributes:{name:{type:"text",default:""},loadLazyPanels:{type:"boolean",default:false},icon:{type:"string"}},nodes:{onInitialShowActions:{type:"actions"},onShowActions:{type:"actions"}},properties:{renderConditions:true,components:true}};const{h:fr}=Object(n["d"])();n["a"].register("skuid__tabPanel",Object.assign({},hr,{schema:br,init(e,t,o){const i=e.shortcut("set"),n=e.createChildComponents(t.components,null,t.context),s=e.getParentComponent();if(t.onShowActions||t.onInitialShowActions||s){s.subscribe("tabActivated",o.onParentTabActivated)}i({_childComponents:n})},renderVDom(e){const{_childComponents:t}=e.getState(),o=e.shortcut("getStyledClasses");return fr("div",{key:e,class:o("tab-content")},t.map(e=>e.renderVDom()))},cpi:{onParentTabActivated(e){const{uniqueId:t,onShowActions:o,context:i,onInitialShowActions:s,initialShowActionsRun:a}=this.getState();if(e.id===t){if(s&&!a){n["c"].actions.runActionsNode(n["c"].$(s),this,i);this.set("initialShowActionsRun",true)}if(o)n["c"].actions.runActionsNode(n["c"].$(o),this,i)}}}}));var mr={getStyleSettings(){return{tabContainer:{borderRadius:"@tk.borderRadius.primary",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},tab:{backgroundColor:null,color:"@palette.primary",labelFontSize:"@tk.fontSize.body",border:{borderLeft:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderBottom:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},padding:"@tk.spacing.s2",iconSpacing:"@tk.spacing.s1",selected:{backgroundColor:null,color:"@tk.utility.fontColor",fontWeight:null}},accordion:{padding:"@tk.spacing.s2"},content:{padding:"@tk.spacing.s2"}}},getStyleSettingsVariantsChildren(e){return{skuid__tabPanel:{"tab-container":{padding:e.content&&e.content.padding}}}},getStyles(e){return{"--hidden":{visibility:"hidden"},"tab-set":Object.assign({position:"relative"},s(e.tabContainer.border),{borderRadius:e.tabContainer.borderRadius,overflow:"hidden"}),"tab-set__tablist-container":{"-ms-user-select":"none",userSelect:"none",cursor:"pointer",display:"flex",textAlign:"center",overflow:"auto"},"tablist-container__tab":Object.assign({flex:"auto",flexWrap:"nowrap",color:e.tab.color,backgroundColor:e.tab.backgroundColor,padding:e.tab.padding,fontSize:e.tab.labelFontSize,justifyContent:"center",whiteSpace:"nowrap"},s(e.tab.border),{borderRadius:"0 ".concat(e.borderRadius," 0 0"),"&:first-child":{borderLeft:"none"}}),"tablist-container__tab--active":{backgroundColor:e.tab.selected.backgroundColor,color:e.tab.selected.color,fontWeight:e.tab.selected.fontWeight,borderBottom:"none"},"tablist-container__tab--more":{display:"flex"},accordion:{display:"flex",flexDirection:"column"},accordion__header:{"-ms-user-select":"none",userSelect:"none",cursor:"pointer",color:e.tab.color,borderTop:e.border,borderRadius:"0 ".concat(e.borderRadius," 0 0"),display:"flex",flexDirection:"row",padding:e.accordion.padding,flex:"auto",justifyContent:"space-between"},"accordion__header--first":{borderTop:"0"},"accordion__header--last":{borderBottom:e.border},accordion__panel:{display:"none"},"icon--flipped":{transform:"scaleY(-1)"},"tab-icon":{marginRight:e.tab.iconSpacing}}}};var yr={attributes:{model:{type:"model"},rememberActiveTab:{type:"boolean"}},nodes:{tabs:{type:"array",childNode:{skuid__tabPanel:"skuid__tabPanel"}}},properties:{renderConditions:true,styleVariantConditions:true,styles:true},access:{cpi:{public:["setActiveTab","setActiveTabByIndex"]}}};const{h:Cr,utils:kr,div:Sr,span:wr}=Object(n["d"])(),_r=n["c"].ui.getIconURLFromHandle,Ir="FULL",vr="PARTIAL",xr="SINGLE";n["a"].register("skuid__tabContainer",Object.assign({},mr,{schema:yr,init(e,t,o){const i=e.shortcut("set");let s=e.getPersonalizationService().getSetting("activeTabId");if(s&&!t.rememberActiveTab){e.getPersonalizationService().deleteSetting("activeTabId");s=null}if(window.location.hash){s=window.location.hash.substring(1)}o.buildTabPanels();i({activeMode:Ir});if(s){o.setActiveTab(s)}else{o.selectFirstVisibleTab()}["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,kr.debounce(o.handleResizing,50))))},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.shortcut("set"),i=e._getCPI(),{activeMode:n,activeTabId:s,tabPanels:a,uniqueId:r,_modeDetermined:l}=e.getState(),c=n===Ir,d=a[s];return Sr({key:e,id:r,classes:t({"tab-set":true,"--hidden":l?false:true}),afterCreate(e){o({_element:e});setTimeout(i.handleResizing)}},[Sr({key:"tablist-container",classes:t({"tab-set__tablist-container":c,accordion:!c})},[i.renderActiveTabs()]),c&&Sr({key:"active-tab"},[d.component.renderVDom()])])},cpi:{buildTabPanels(){const{tabs:e,context:t}=this.getState(),o={};e.forEach(e=>{const i=this.createChildComponent(Object.assign({},e,{componentType:"skuid__tabPanel",styleSettingsVariant:"@parent/tab-container",context:t})),n=i.get("uniqueId");this.registerMergeText(e.name,"_labels:".concat(n));o[n]={uniqueId:n,name:e.name,icon:e.icon,component:i};i.subscribeChange("show",()=>{if(n===this.get("activeTabId")){this._cpi.selectFirstVisibleTab()}})});this.set({tabPanels:o,tabPanelIds:Object.keys(o)})},setActiveTabByIndex(e){const t=this.get("tabPanels")||[],o=Object.keys(t)[e];o&&this.getCPI().setActiveTab(t[o].uniqueId)},selectFirstVisibleTab(){const e=this.get("tabPanels"),t=this._getCPI();for(const o in e){if(e[o].component.get("show")!==false){return t.setActiveTab(o)}}},setActiveTab(e){const{activeTabId:t,rememberActiveTab:o,tabPanels:i}=this.getState(),s=this._getCPI();if(!i[e]){if(!t)return s.selectFirstVisibleTab();return}if(t!=e){this.publish("tabActivated",[{id:e,index:Object.keys(i).indexOf(e)}]);n["c"].events.publish("ui.reflow")}this.set("activeTabId",e);o&&this.getPersonalizationService().updateSettings({activeTabId:e})},handleTabClick(e){const t=e.currentTarget.id;if(t){this._getCPI().setActiveTab(t)}},renderActiveTabs(e){const t=this.getState(),o=this._getCPI(),i=this.shortcut("getStyledClasses"),n=_r("sk-webicon-ink:chevron-small-down"),s=[],a=t.tabPanels[t.activeTabId],r=t.tabPanelIds;r.forEach((l,c)=>{const d=t.tabPanels[l],u=t.tabPanels[l],g=l===t.activeTabId,h=d.icon&&_r(d.icon),b={onmousedown:t.onMouseDown&&(e=>t.onMouseDown(e)),onclick:o.handleTabClick,key:l,id:l},f=e||t.activeMode===Ir;if(u.component.get("show")===false)return;b.classes=i({"tablist-container__tab":f,"tablist-container__tab--active":f?g:false,accordion__header:!f,"accordion__header--first":!f?c===0:false,"accordion__header--last":!f?c===r.length-1:false});if(!f&&!e){s.push(Sr(b,[Sr({key:"tab name"},[h&&wr({key:"tab icon",class:i("tab-icon")},[Object(p["a"])(h)]),wr({key:"label"},[t["_labels:".concat(l)]])]),Sr({key:"icon flipped",classes:i({"icon--flipped":g})},[Object(p["a"])(n)])]));if(g){s.push(a.component.renderVDom())}}else{s.push(Sr(b,[h&&wr({key:"tab icon",class:i("tab-icon")},[Object(p["a"])(h)]),wr({key:"label"},[t["_labels:".concat(l)]])]))}});return s},determineMode(e){const{tabPanels:t,tabPanelIds:o}=this.getState(),i=o.filter(e=>t[e].component.get("show")!==false).length,n=Object.keys(e).map(t=>e[t]),s=n.filter(e=>e).length;if(i===s){return Ir}if(s<=1){return xr}if(i>s){return vr}},handleResizing(){if(!this.registered||!this.isVisible())return;const e=this._getCPI(),t=this.shortcut("getStyledClasses"),o=this.shortcut("set"),i=this.get("_element"),n=i&&i.offsetWidth,s=()=>Cr("div",{class:t("tab-set__tablist-container")},[e.renderActiveTabs(true)]);if(!i)return;this.clearVNodeCache();const a=Object(Ao["e"])(s,n),r=e.determineMode(a);this.clearVNodeCache();o({activeMode:r,_modeDetermined:true})}}}));var Tr={getStyleSettings(){return{tabContainer:{backgroundColor:null,border:{borderBottom:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"}},tab:{labelFontSize:"@tk.fontSize.body",color:"@palette.primary",backgroundColor:null,border:{borderBottom:"@tk.borderSize.medium @tk.borderStyle.primary transparent"},fontWeight:null,padding:"@tk.spacing.s1 @tk.spacing.s2",iconSpacing:"@tk.spacing.s2",hover:{color:"@palette.primary.-1",border:{borderBottom:"@tk.borderSize.medium @tk.borderStyle.primary @palette.neutral.5"}},selected:{color:"@tk.utility.fontColor",backgroundColor:null,fontWeight:null,border:{borderBottom:"@tk.borderSize.medium @tk.borderStyle.primary @tk.utility.selectedBorderColor"},hover:{color:"@palette.primary.-1"}}},content:{padding:"@tk.spacing.s2 0 0 0"}}},getStyleSettingsVariantsChildren(e){return{skuid__tabPanel:{"tab-set":{padding:e.content&&e.content.padding},"tab-set--tabless":{padding:0}}}},getStyles(e){return{"--hidden":{visibility:"hidden"},"tab-set":{borderWidth:"1px",position:"relative"},"tab-set__tablist-container":{"-ms-user-select":"none",position:"relative",userSelect:"none",backgroundColor:e.tabContainer.backgroundColor,display:"flex",textAlign:"center",overflow:"auto",alignItems:"baseline","&:before":Object.assign({position:"absolute",content:'" "',top:"0",left:"0",right:"0",bottom:"0"},s(e.tabContainer.border))},"tablist-container__tab":Object.assign({position:"relative",cursor:"pointer",flexWrap:"nowrap",padding:e.tab.padding,justifyContent:"center",whiteSpace:"nowrap",fontSize:e.tab.labelFontSize,fontWeight:e.tab.fontWeight,backgroundColor:e.tab.backgroundColor},s(e.tab.border),{color:e.tab.color}),"tablist-container__tab--inactive":{"&:hover":Object.assign({color:e.tab.hover.color},s(e.tab.hover.border))},"tablist-container__tab--active":Object.assign({backgroundColor:e.tab.selected.backgroundColor},s(e.tab.selected.border),{color:e.tab.selected.color,fontWeight:e.tab.selected.fontWeight}),"tablist-container__tab--more":{display:"flex"},"tablist-container__more-wrapper":{position:"absolute",right:"0"},tablist__select:{position:"relative"},"tab-icon":{marginRight:e.tab.iconSpacing},"expand-to-fill":{display:"grid"}}}};var Or={attributes:{model:{type:"model"},showTabs:{type:"boolean",default:true},rememberActiveTab:{type:"boolean"},tabsExpandToFill:{type:"boolean"}},nodes:{tabs:{type:"array",childNode:{skuid__tabPanel:"skuid__tabPanel"}}},properties:{renderConditions:true,styleVariantConditions:true,styles:true},access:{cpi:{public:["setActiveTab","setActiveTabByIndex","setActiveTabByLabel"]}}};const{h:Rr,utils:Er,div:Pr,span:Dr}=Object(n["d"])(),Mr=n["c"].ui.getIconURLFromHandle,Ar="FULL",Vr="PARTIAL",Fr="SINGLE";n["a"].register("skuid__tabSet",Object.assign({},Tr,{schema:Or,init(e,t,o){const i=e.shortcut("set");o.buildTabPanels();let s=e.getPersonalizationService().getSetting("activeTabId");if(s&&!t.rememberActiveTab){e.getPersonalizationService().deleteSetting("activeTabId");s=null}if(window.location.hash){s=window.location.hash.substring(1)}i({menuInstance:o.createMenuInstance(),selectInstance:o.createSelectInstance()});if(s){o.setActiveTab(s)}else{o.selectFirstVisibleTab()}["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,Er.debounce(o.handleResizing,50))))},renderVDom(e){const t=e._getCPI(),o=e.shortcut("getStyledClasses"),{dragDropFragment:i,uniqueId:n,showTabs:s,tabsExpandToFill:a,activeMode:r,activeTabPanelIds:l,_modeDetermined:c,activeTabId:d,tabPanels:u,selectInstance:p}=e.getState(),g=u[d];return Pr({key:e,id:n,classes:o({"tab-set":true,"--hidden":c?false:true}),afterCreate(o){e.set({_element:o});setTimeout(t.handleResizing)}},[r!==Fr&&s&&(i||Rr)("div",{key:"tablist-container",classes:o({"tab-set__tablist-container":true,"expand-to-fill":a}),styles:{gridTemplateColumns:"repeat(".concat(l.length,", 1fr)")}},[...t.renderActiveTabs(),r===Vr&&t.renderMoreContainer()]),r===Fr&&p.renderVDom(),Pr({key:"active-tab--"+d},[g&&g.component.renderVDom()])])},cpi:{buildTabPanels(){let{context:e,showTabs:t,tabs:o,tabPanels:i,activeTabId:n}=this.getState(),s={},a=o||[];i=i||{};const r=this._cpi;for(let e in i){i[e].component.unregister({avoidUnregisteringSpoofer:true})}a.forEach(o=>{const i=this.createChildComponent(Object.assign({},o,{componentType:"skuid__tabPanel",styleSettingsVariant:"@parent/"+(t?"tab-set":"tab-set--tabless"),context:e})),n=i.get("uniqueId");this.registerMergeText(o.name,"_labels:".concat(n));s[n]={uniqueId:n,name:o.name,icon:o.icon,component:i,renderConditions:o.renderConditions,enableConditions:o.enableConditions};i.subscribeChange("show",()=>{if(n===this.get("activeTabId")){r.selectFirstVisibleTab()}})});let l=Object.keys(i).indexOf(n),c=Object.keys(s);if(l<0)l=0;else if(l>=c.length)l=c.length-1;this.set({activeMode:Ar,tabPanelIds:c,activeTabPanelIds:c,moreContainerId:Er.generateUniqueId(),tabPanels:s});r.handleResizing()},selectFirstVisibleTab(){const e=this.get("tabPanels"),t=this._getCPI();for(const o in e){if(e[o].component.get("show")!==false){return t.setActiveTab(o)}}},setActiveTab(e){const{activeTabId:t,menuInstance:o,rememberActiveTab:i,tabPanels:s}=this.getState(),a=this._getCPI();if(!s[e]){if(!t)return a.selectFirstVisibleTab();else return}if(t!==e){this.publish("tabActivated",[{id:e,index:Object.keys(s).indexOf(e)}]);n["c"].events.publish("ui.reflow")}if(o){o.set("value",e);o.cpi.setOptionGroups(o.get("optionGroups"))}this.set("activeTabId",e);i&&this.getPersonalizationService().updateSettings({activeTabId:e})},setActiveTabByIndex(e){const t=this.get("tabPanels")||[],o=Object.keys(t)[e];o&&this.getCPI().setActiveTab(t[o].uniqueId)},setActiveTabByLabel(e){const t=this.get("tabPanels")||[],o=this.getState(),i=Object.keys(t).filter(t=>o["_labels:".concat(t)]===e)[0];i&&this.getCPI().setActiveTab(t[i].uniqueId)},handleTabClick(e){this._getCPI().setActiveTab(e.uniqueId)},toggleMoreMenu(e){const t=this.getState();e=e===true||e===false?e:undefined;t.menuInstance&&t.menuInstance.getCPI().toggle(e)},createMenuInstance(){const e=this._getCPI(),t=n["c"].utils._floatingComponentFactory.createMenu({show:false,cursor:"pointer",checkSelected:true,submenuDirection:"right",menuOnRight:false,clickCloseExceptionsSelector:"#".concat(this.get("moreContainerId")),context:this.get("context")},this);t.subscribe("option.selected",t=>{e.setActiveTab(t.value)});t.subscribe("closed",()=>{t.getCPI().blur()});this.subscribeChange("activeTabPanelIds",e=>{const{tabPanelIds:o,tabPanels:i}=this.getState(),n=o.filter(t=>e.indexOf(t)<0).map(e=>{const t=i[e];return{label:t.name,value:e,icon:t.icon,renderConditions:t.renderConditions,enableConditions:t.enableConditions}});t.set("optionGroups",[{options:n}])});return t},createSelectInstance(){const{activeTabId:e,tabPanelIds:t,tabPanels:o}=this.getState(),i=this._getCPI(),n=this.createChildComponent({componentType:"skuid__select",value:e,fillWidth:true,optionGroups:[{options:t.map(e=>({label:o[e].name,value:e,renderConditions:o[e].renderConditions,enableConditions:o[e].enableConditions}))}]});n.get("menuInstance")&&n.get("menuInstance").subscribe("option.selected",e=>{i.setActiveTab(e.value);n.set("value",e.value)});this.bind("activeTabId",n,"value");this.subscribeChange("activeMode",e=>{if(e===Fr){n._cpi.setOptionGroups(n.get("optionGroups"))}});return n},renderActiveTabs(e){const t=this.getState(),o=this._getCPI(),i=this.shortcut("getStyledClasses"),n=e||t.activeTabPanelIds;return n.map(e=>{const n=t.tabPanels[e],s=n.icon&&Mr(n.icon),a=e===t.activeTabId;return n.component.get("show")!==false&&Rr("div",{onmousedown:t.onMouseDown&&(e=>t.onMouseDown(e,n)),onclick:o.handleTabClick.bind(this,n),key:"tabpanel-wrapper--"+e,id:e,classes:i({"tablist-container__tab":true,"tablist-container__tab--active":a,"tablist-container__tab--inactive":!a})},[s&&Dr({key:"icon",class:i("tab-icon")},[Object(p["a"])(s)]),Dr({key:"label"},[t["_labels:".concat(e)]])])})},renderMoreContainer(e){const t=this._getCPI(),o=this.shortcut("getStyledClasses"),i=this.getState(),n=i.moreContainerId;return Rr("div",{key:"more-button",id:n,"data-nocollapse":"true",onclick:t.toggleMoreMenu,classes:o({"tablist-container__tab":true,"tablist-container__tab--more":true})},[Rr("div",{afterCreate:!e&&t.afterCreateMenu},["More "]),Object(p["a"])(Mr("sk-webicon-ink:chevron-small-down"))])},determineMode(e){const{tabPanels:t,tabPanelIds:o}=this.getState(),i=o.filter(e=>t[e].component.get("show")!==false).length,n=Object.keys(e).map(t=>e[t]),s=n.filter(e=>e).length;if(i===s){return Ar}if(s<=1){return Fr}if(i>s){return Vr}},handleResizing(){if(!this.registered||!this.isVisible())return;const e=this._getCPI(),t=this.shortcut("getStyledClasses"),o=this.shortcut("set"),{_element:i,tabPanels:n,showTabs:s,menuInstance:a,selectInstance:r}=this.getState(),l=i&&i.offsetWidth,c=(o,i)=>()=>Rr("div",{class:t("tab-set__tablist-container")},[...e.renderActiveTabs(o,true),i&&e.renderMoreContainer(true)]),d=e=>Object.keys(e).filter(t=>e[t]);if(!i)return;a&&a.getCPI().close();r&&r.getCPI().close();if(!s){return o({_modeDetermined:true})}this.clearVNodeCache();let u=Object(Ao["e"])(c(Object.keys(n)),l),p=d(u),g=e.determineMode(u);if(g===Vr){this.clearVNodeCache();u=Object(Ao["e"])(c(p,true),l);p=d(u);g=e.determineMode(u)}this.clearVNodeCache();o({activeTabPanelIds:p,activeMode:g,_modeDetermined:true})},afterCreateMenu(e){const t=this.get("menuInstance");t&&t.getCPI().setTarget(e)}}}));const Lr=["skuid__checkboxList","skuid__radioList"],Br=H["o"];var zr={getStyleSettings(e,t){const{spacing:o}=e.getShortcuts(),i=Po.getStyleSettingsVariants(e).default.readMode,n=Po.getStyleSettingsVariantsChildren({},e);Lr.forEach(e=>delete n[e]);return{readMode:i,_zIndices:{baseGrid:1,cell:1,cellInner:2,stickyColumn:3,stickyRow:4,stickyBoth:5,shadow:6,drawer:10,dragHandler:1e3},_focusColor:"@tk.utility.focusColor",_thButtonMinWidth:"@tk.spacing.s2",_thButtonSpacingLeft:"@tk.spacing.s1",_fieldWrapperWithEditIconSpacingRight:"@tk.spacing.s2",backgroundColor:"@tk.utility.backgroundColor",borderRadius:"@tk.borderRadius.primary",color:"@tk.utility.fontColor",fontFamily:"@tk.fontFamily.primary",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",rowHeight:o(6),headerRow:{backgroundColor:"@tk.utility.backgroundColor",borderBottom:{type:"BORDERBOTTOM",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},betweenCellsBorder:{type:"BORDERTOP",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},color:null,fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",textTransform:null},row:{color:{label:"Font Color",value:"@tk.utility.fontColor"},backgroundColor:"@tk.utility.backgroundColor",secondaryColor:{label:"Even Row Font Color (Optional)",value:null},secondaryBackgroundColor:{label:"Even Row Background Color (Optional)",value:null},betweenRowsBorder:{type:"BORDERTOP",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},betweenCellsBorder:{type:"BORDERTOP",value:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor"},frozenColumnBorder:{type:"BORDERRIGHT",value:"@tk.borderSize.medium @tk.borderStyle.primary @tk.utility.borderColor"},hover:{backgroundColor:null,borderColor:null},selected:{backgroundColor:"@palette.primary.3",borderColor:"@palette.primary.2"},deleted:{backgroundColor:"@palette.error.3",borderColor:"@palette.error.2"}},cell:{padding:"@tk.spacing.s1 @tk.spacing.s2 @tk.spacing.s1 @tk.spacing.s2",hover:{border:null,boxShadow:null}},rowNumbers:{backgroundColor:"@palette.neutral.7",minWidth:o(2),fontWeight:"@tk.fontWeight.regular"},drawer:{backgroundColor:"@tk.utility.backgroundColor",padding:"1px @tk.spacing.s1_5",iconColor:"@tk.utility.fontColor"},footerRow:{backgroundColor:"@tk.utility.backgroundColor",color:null,fontWeight:"@tk.fontWeight.bold",textTransform:null},editIcon:{color:{label:"Icon Color",value:"@palette.primary"},_right:"@tk.spacing.s1_5"},dragAndDropState:{borderSize:"@tk.borderSize.primary",draggingShadow:"@tk.shadow.light",color:{label:"Droppable Area Color",value:"@tk.utility.fontColor"}},frozenAreaAdjuster:{borderRadius:"@tk.borderRadius.primary",color:"@palette.primary",_width:"@tk.spacing.s1"},_inlineErrorMessage:{color:"@palette.error.-1",fontSize:"@tk.fontSize.body",spacing:"@tk.spacing.s1"},_focusCell:{boxShadow:"0 0 0 1px @tk.utility.focusColor inset, @tk.shadow.heavy"},header:Yt.getStyleSettingsVariants(e).default,footer:$t.getStyleSettingsVariants(e).default,[Br]:Object.assign({},n,{},Yt.getStyleSettingsVariantsChildren({},e,t),{},$t.getStyleSettingsVariantsChildren({},e,t))}},getStyleSettingsVariantsChildren(e,t){const{spacing:o}=t.getShortcuts();return{skuid__listHeader:{tableHeader:Object.assign({},e.header,{[Br]:e[Br]})},skuid__button:{"table-header":{backgroundColor:"transparent",border:"none",color:"@tk.utility.fontColor",height:o(2),width:o(2),padding:"0",hover:{backgroundColor:"transparent",border:"none",boxShadow:"none",color:"@palette.primary"},active:{backgroundColor:"transparent",boxShadow:"none",color:"@palette.primary"},selected:{backgroundColor:"transparent"}}},skuid__buttonGroup:{rowActions:"default"},skuid__checkbox:{massActionCheckboxes:"default"},skuid__listFooter:{tableFooter:Object.assign({},e.footer,{[Br]:e[Br]})},skuid__field:{field:Object.assign({},e)}}},getStyles(e){return{"table-component":{position:"relative"},"table-wrapper":{position:"relative",backgroundColor:e.backgroundColor,color:e.color,fontFamily:e.fontFamily,fontSize:e.fontSize,fontWeight:e.fontWeight},th__inner:{display:"flex",width:"100%",alignItems:"center"},th__inner__label:{flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontFamily:e.fontFamily},th__button:{minWidth:e._thButtonMinWidth,marginLeft:e._thButtonSpacingLeft},td__inner:{display:"flex",alignItems:"center",width:"100%"},"td__action-buttons-wrapper":{display:"inline-block"},"td--with-error":{boxShadow:"0 0 0 1px ".concat(e._inlineErrorMessage.color," inset, -1px -1px 0 1px ").concat(e._inlineErrorMessage.color," inset"),"&[aria-selected='true']":{overflow:"visible !important",alignItems:"baseline !important",padding:"0 !important",zIndex:10,"& $field-wrapper":{background:"white",display:"grid",gridTemplateRows:"auto auto",gridTemplateColumns:"1fr",gridRowGap:e._inlineErrorMessage.spacing},"& $td__inner":{padding:e.cell.padding&&"".concat(e.cell.padding," !important"),background:"white",boxShadow:e._focusCell.boxShadow,zIndex:"10"},"& $message":{display:"block"}}},"td--with-error--flipped":{"&[aria-selected='true']":{alignItems:"flex-end !important","& $field-wrapper":{gridTemplateAreas:'"first" "last"',"& > :nth-child(1)":{gridArea:"last"},"& > :nth-child(2)":{gridArea:"first"}}}},"td--drawer-icon-wrapper--open":{"&:after":{content:'""',position:"absolute",width:"100%",height:"1px",left:0,bottom:"-1px",backgroundColor:e.backgroundColor}},"field-wrapper":{width:"100%",overflow:"hidden",textOverflow:"ellipsis"},"field-wrapper--with-edit-icon":{marginRight:e._fieldWrapperWithEditIconSpacingRight},"td__edit-icon-wrapper":{color:e.editIcon.color,cursor:"pointer",position:"absolute",right:e.editIcon._right},"table-container":Object.assign({display:"grid",overflow:"auto"},s(e.border),{borderRadius:e.borderRadius}),grid:{display:"grid",position:"relative",zIndex:e._zIndices.baseGrid},"column-group--left":{},"column-group--left--last":{"&:before":{borderRight:e.row.frozenColumnBorder&&"".concat(e.row.frozenColumnBorder," !important")}},"column-group--center":{},"column-group--right":{},cell:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",transition:"width 250ms linear",textAlign:"left",padding:e.cell.padding,height:e.rowHeight,"&:focus":{outline:"none","&:before":{boxShadow:e._focusColor&&"inset 0 0 0 1px ".concat(e._focusColor," !important")}},"&:before":{content:'" "',position:"absolute",top:0,left:0,right:0,bottom:0,borderRight:e.row.betweenCellsBorder,borderBottom:e.row.betweenRowsBorder,pointerEvents:"none"},"&$cell--no-border-bottom":{"&:before":{borderBottom:"none"}},"&$cell--no-border-right":{"&:before":{borderRight:"none"}},"&$tfoot":{"&$column-group--center:before":{border:"none",borderTop:e.row.betweenRowsBorder},"&$column-group--left:before, &$column-group--right:before":{borderTop:e.row.betweenRowsBorder}},"&$column-group--right:before":{borderLeft:e.row.betweenCellsBorder},"&$cell--selected:before":{borderColor:e.row.selected.borderColor},"&$cell--selected-row-before:before":{borderBottomColor:e.row.selected.borderColor},"&$cell--deleted:before":{borderColor:e.row.deleted.borderColor},"&$cell--deleted-row-before:before":{borderBottomColor:e.row.deleted.borderColor},"&$cell--hovering:before":{borderColor:e.row.hover.borderColor},"&$cell--hovering-row-before:before":{borderBottomColor:e.row.hover.borderColor}},th:{color:e.headerRow.color,backgroundColor:e.headerRow.backgroundColor,fontWeight:e.headerRow.fontWeight,textTransform:e.headerRow.textTransform,fontSize:e.headerRow.fontSize,height:e.rowHeight,"&:hover $th__adjuster":{width:"5px"}},td:{fontFamily:e.fontFamily,backgroundColor:e.row.backgroundColor,color:e.row.color,overflow:"hidden","& $td__edit-icon-wrapper":{visibility:"hidden"},"&:hover $td__edit-icon-wrapper":{visibility:"visible"},"&:focus":{"& $td__edit-icon-wrapper":{visibility:"visible"}}},"td--even":{backgroundColor:e.row.secondaryBackgroundColor,color:e.row.secondaryColor},"td--drop-mode":{pointerEvents:"none"},tfoot:{color:e.footerRow.color,backgroundColor:e.footerRow.backgroundColor,fontWeight:e.footerRow.fontWeight,textTransform:e.footerRow.textTransform,height:e.rowHeight},"cell__inner-row-numbers":{justifyContent:"center",zIndex:e._zIndices.cellInner,position:"relative",minWidth:e.rowNumbers.minWidth,fontWeight:e.rowNumbers.fontWeight},"cell--row-number":{backgroundColor:e.rowNumbers.backgroundColor},"cell--selected":{backgroundColor:e.row.selected.backgroundColor},"cell--selected-row-before":{},"cell--deleted":{backgroundColor:e.row.deleted.backgroundColor},"cell--deleted-row-before":{},"cell--hovering":{backgroundColor:e.row.hover.backgroundColor},"cell--hovering-row-before":{},"cell--sticky-left":{position:"relative"},"cell--sticky-right":{position:"relative"},"cell--sticky-top":{position:"relative"},"cell--sticky-bottom":{position:"relative"},"table--use-sticky":{"& $cell--sticky-left":{position:"sticky",left:0,zIndex:e._zIndices.stickyColumn},"& $cell--sticky-right":{position:"sticky",right:0,zIndex:e._zIndices.stickyColumn},"& $cell--sticky-top":{position:"sticky",top:0,zIndex:e._zIndices.stickyRow,"&$cell--sticky-left, &$cell--sticky-right":{zIndex:e._zIndices.stickyBoth}},"& $cell--sticky-bottom":{position:"sticky",bottom:0,zIndex:e._zIndices.stickyRow,"&$cell--sticky-left, &$cell--sticky-right":{zIndex:e._zIndices.stickyBoth}},"& $shadow":{display:"block"}},shadow:{display:"none",position:"sticky",zIndex:e._zIndices.shadow,pointerEvents:"none",boxShadow:"none",opacity:"0",transition:"opacity 250ms ease"},"shadow--visible":{opacity:"1"},"shadow--right":{right:"0",boxShadow:"3px 0px 7px 6px rgba(0, 0, 0, 0.13)"},"shadow--left":{left:"0",boxShadow:"8px 0 7px -6px rgba(0,0,0,0.13)"},"shadow--left--no-frozens":{transform:"translateX(-100%)"},"--align-left":{textAlign:"left"},"--align-right":{textAlign:"right"},"--align-center":{textAlign:"center"},"cell--hidden":{visibility:"hidden"},"table-container--dragging":{userSelect:"none",cursor:"grabbing !important","& $column-freezer__inner":{cursor:"grabbing !important"}},"grid--cell-hovering":{"&:not($table-container--dragging) $cell":{"&:hover:after":{content:'" "',position:"absolute",top:0,right:"1px",bottom:"1px",left:0,pointerEvents:"none",border:e.cell.hover.border,boxShadow:e.cell.hover.boxShadow}}},"drawer-click-target":{position:"absolute",top:0,right:0,bottom:0,left:0,cursor:"pointer",zIndex:0,"&:focus":{outline:"none"},"&.sk-focus-keyboard":{boxShadow:"0 0 0 2px ".concat(e._focusColor," inset")}},"drawer-icon":{color:e.drawer.iconColor,fontSize:0,transition:".3s transform",zIndex:1,cursor:"pointer"},"drawer-icon--open":{transform:"rotate(90deg)"},drawer:{position:"relative",display:"none",maxWidth:"100%",overflow:"auto",zIndex:e._zIndices.drawer,backgroundColor:e.drawer.backgroundColor,borderBottom:e.border,padding:e.drawer.padding},"drawer--last-row":{borderBottom:"none"},"drawer--open":{display:"block"},"drawer-filler":{height:"auto",display:"none"},"drawer-filler--open":{display:"block"},"cell--moveable":{cursor:"grab"},"cell--cursor-grabbing":{cursor:"grabbing","& $th__adjuster":{display:"none"}},"cell--column-grabbed":{"& *":{opacity:.4}},"cell--with-column-dropper":{"&:after":{position:"absolute",content:'""',top:0,bottom:0,left:0,border:"2px solid ".concat(e.dragAndDropState.color)}},"cell--with-column-dropper--right":{"&:after":{position:"absolute",content:'""',top:0,bottom:0,right:0,border:"2px solid ".concat(e.dragAndDropState.color)}},"cell--column-adjusting":{cursor:"ew-resize","& *":{opacity:.4,cursor:"ew-resize"},"& $th__adjuster":{display:"none"}},"cell--adjusting-column-grabbed":{"& *":{opacity:"1 !important"}},th__adjuster:{position:"absolute",top:0,right:0,width:0,height:"100%",backgroundColor:e.dragAndDropState.color,transition:"width 100ms ease",cursor:"ew-resize"},"column-freezer":{position:"sticky",left:0,zIndex:7,pointerEvents:"none"},"column-freezer__inner":{position:"absolute",height:"calc(.6 * ".concat(e.rowHeight,")"),transform:"translate3d(-50%, -50%, 0)",backgroundColor:e.frozenAreaAdjuster.color,cursor:"grab",borderRadius:e.frozenAreaAdjuster.borderRadius,width:e.frozenAreaAdjuster._width,pointerEvents:"all",display:"none",zIndex:7},"column-freezer__revealer":{zIndex:6,position:"absolute",right:"1px",top:e.rowHeight,height:"calc(100% - ".concat(e.rowHeight,")"),transform:"translateX(50%)",width:"1px"},"adjustable-mouse-follower":{position:"fixed",border:"1px dashed ".concat(e.dragAndDropState.color),cursor:"e-resize",pointerEvents:"none",zIndex:"1",transform:"translate3d(-50%, 0, 0)"},"adjustable-mouse-follower--frozen":{border:"1px dashed ".concat(e.frozenAreaAdjuster.color)},"draggable-mouse-follower":{position:"fixed",backgroundColor:e.backgroundColor,zIndex:e._zIndices.dragHandler,transform:"translateY(-30%) rotate(-2deg)",pointerEvents:"none",boxShadow:e.dragAndDropState.draggingShadow,verticalAlign:"middle",borderLeft:"2px solid ".concat(e.dragAndDropState.color),fontSize:e.fontSize},"cell--no-border-bottom":{},"cell--no-border-right":{},"grid--cell-styling":{"& $cell":{"&:before":{content:'" "',position:"absolute",top:0,left:0,right:0,bottom:0,borderRight:e.row.betweenCellsBorder,borderBottom:e.row.betweenRowsBorder,pointerEvents:"none"},"&$cell--no-border-bottom":{"&:before":{borderBottom:"none"}},"&$cell--no-border-right":{"&:before":{borderRight:"none"}},"&$tfoot":{"&$column-group--center:before":{border:"none",borderTop:e.row.betweenRowsBorder},"&$column-group--left:before, &$column-group--right:before":{borderTop:e.row.betweenRowsBorder}},"&$column-group--right:before":{borderLeft:e.row.betweenCellsBorder},"&$cell--selected:before":{borderColor:e.row.selected.borderColor},"&$cell--selected-row-before:before":{borderBottomColor:e.row.selected.borderColor},"&$cell--deleted:before":{borderColor:e.row.deleted.borderColor},"&$cell--deleted-row-before:before":{borderBottomColor:e.row.deleted.borderColor},"&$cell--hovering:before":{borderColor:e.row.hover.borderColor},"&$cell--hovering-row-before:before":{borderBottomColor:e.row.hover.borderColor}},"& $th$cell":{"&:before":{borderRight:e.headerRow.betweenCellsBorder,borderBottom:e.headerRow.borderBottom},"&$column-group--right:before":{borderLeft:e.headerRow.betweenCellsBorder}}},message:{display:"none",color:e._inlineErrorMessage.color,fontSize:e._inlineErrorMessage.fontSize}}}};const{READONLY:Nr}=H["a"];var jr={attributes:{allowSortingByColumn:{type:"boolean",default:true},model:{type:"model"},mode:{type:"picklist",options:["read","readonly","edit"],default:"read"},showSaveCancel:{type:"boolean",default:true},saveIcon:{type:"string"},cancelIcon:{type:"string"},pageSize:{type:"number",default:10},heightStrategy:{type:"picklist",default:"fit",options:["fit","fixed"]},height:{type:"string"},heightCustom:{type:"string"},maxHeight:{type:"string"},maxHeightCustom:{type:"string"},minHeight:{type:"string"},minHeightCustom:{type:"string"},_minDataColumnWidth:{type:"number",default:56},showPageSizeSelect:{type:"boolean",default:true},enableDrawers:{type:"boolean",default:false},allowColumnHiding:{type:"boolean",default:false},allowColumnAdjusting:{type:"boolean",default:true},allowColumnOrdering:{type:"boolean",default:false},allowColumnFreezing:{type:"picklist",default:"never",options:["never","dragDrop","modal","dragDropAndModal"]},adaptiveColumns:{type:"boolean",default:false},moreActionsButtonIcon:{type:"string",default:"sk-webicon-ink:dots-vertical"},title:{type:"string"},rowActionsOnLeft:{type:"boolean",default:false},showRowNumbers:{type:"boolean",default:false},sortOnClient:{type:"boolean",default:false},enableExport:{type:"boolean",default:false},showLoadMore:{type:"boolean",default:true},showListHeader:{type:"boolean",default:true},showListFooter:{type:"boolean",default:true},resetPaginationOnQuery:{type:"boolean",default:true},_disablePersonalization:{default:false},numFrozenColumns:{default:0,type:"number"},showErrorsInline:{type:"boolean",default:true}},nodes:{fields:{type:"array",childNode:{field:"skuid__field"}},rows:{type:"array",childNode:{row:{attributes:{},nodes:{cells:{type:"array",childNode:{cell:{attributes:{displayValue:{type:"string"},displayComponent:{type:"component"}},properties:{}}}}}}}},drawer:{type:"node",attributes:{showDrawerIcon:{type:"boolean",default:true}},properties:{actions:["beforeLoad"],components:true}},exportProperties:{type:"node",attributes:{filename:{type:"string"},useTableColumns:{type:"boolean",default:true},loadAllRecords:{type:"boolean",default:false},appendRowIdColumn:{type:"boolean",default:true}},nodes:{columns:{type:"array",childNode:{column:{attributes:{headerType:{type:"picklist",options:["fieldlabel","apiname","custom"],default:"fieldlabel"},field:{type:"string"},type:{type:"picklist",default:"field",options:["field","template"]},label:{type:"string"},template:{type:"string"}}}}}}},filtering:Zt,filters:{type:"array",childNode:{skuid__filter:"skuid__filter"}}},properties:{styles:true,conditions:true,renderConditions:true,styleVariantConditions:true,actions:["rowActions","massActions","actions"]},access:{cpi:{public:["openConfigureModal","toggleDrawer","goToPage"],publicProperties:{model:Nr}}}};class Hr{constructor(){this.clear()}addColumnGroup(e){e=Object.assign({position:1,id:""},e);if(this.columnSections[e.position]){const t=this.columnSections[e.position];const o=t.rows;t.id=e.id||t.id;e.rows.forEach((i,n)=>{if(o[n]){o[n]=o[n].concat(i)}else{o[n]=i}t.config=Object.assign({},t.config,{},e)});t.headRowVNodes=[...t.headRowVNodes||[],...e.headRowVNodes||[]];t.summaryRow=[...t.summaryRow||[],...e.summaryRow||[]]}else{this.columnSections[e.position]=Object.assign({headRowVNodes:e.headRowVNodes||[],summaryRow:e.summaryRow||[]},e)}}clear(){this.rowVNodes=[];this.columnSections=[];this.numFrozenColumnsLeft=0;this.numFrozenColumnsRight=0}}const Wr="columnSettings";const Ur=Symbol("Private");class Gr{constructor(e){Object.assign(this,{[Ur]:{settings:{},ps:e},get:this.get.bind(this),getVisibleColumns:this.getVisibleColumns.bind(this),set:this.set.bind(this),updatePersonalizationService:this.updatePersonalizationService.bind(this)});if(!e)return;const t=e.getSettings();this[Ur].settings=t[Wr]||{}}get(e,t){const{settings:o}=this[Ur];if(!e&&!t)return o;if(o[e]){if(t){return o[e][t]}return o[e]}}getVisibleColumns(){const{settings:e}=this[Ur];return Object.values(e).filter(e=>!e.hidden)}set(e,t,o){const{settings:i}=this[Ur];i[e]=Object.assign({},i[e]||{},{[t]:o});this.updatePersonalizationService(i);return this}updatePersonalizationService(e){const{ps:t}=this[Ur];if(!t)return;t.updateSettings({[Wr]:e},{deepMerge:false})}}const qr=n["c"].utils,Yr="hidden";class $r{constructor(e){const{columnsSettings:t,fields:o,allowColumnHiding:i,allowColumnFreezing:s,uiPaginatedRows:a}=e.getState(),r=e._getCPI(),l=n["c"].dataSource.get("Ui-Only"),c=qr.generateUniqueId({prefix:"model"}),d="Column",u="isVisible",p="hideable",g="numFrozenColumns",h={id:d,displaytype:n["b"].DISPLAY_TYPES.TEXT,accessible:true,editable:false},b={id:u,label:"Visible",displaytype:n["b"].DISPLAY_TYPES.BOOLEAN,accessible:true,editable:true,showLabel:false},f={id:p,displaytype:n["b"].DISPLAY_TYPES.BOOLEAN,accessible:true,editable:true,showLabel:false},m={id:g,label:"Number of Columns to Freeze",displaytype:n["b"].DISPLAY_TYPES.INTEGER,accessible:true,editable:true,showLabel:false},y=new n["c"].model.Model({id:c,dataSource:l,preventUnloadIfUnsavedChanges:false,createRowIfNoneFound:false,doQuery:false,fields:[h,b,f,m]}).initialize().register(),C=[{id:d},{id:u,columnWidth:"33%",enableConditions:qr.makeXMLDoc('<enableConditions>\n\t\t\t\t\t\t<condition type="fieldvalue" operator="!=" fieldmodel="'.concat(c,'" sourcetype="fieldvalue" field="').concat(p,'" value="false"/>\n\t\t\t\t\t</enableConditions>'))}],k=[{label:"Apply",styleSettingsVariant:"primary",onClick:()=>n["c"].$M(c).save().then(()=>this.modal.getCPI().close())},{label:"Cancel",onClick:()=>this.modal.getCPI().close()}];const S=a.uiRows[0].cells.reduce((e,t)=>{if(t.extras.fieldComponent&&t.extras.fieldComponent.get("show")===false){e.push(t.fieldId)}return e},[]);o.filter(e=>!S.includes(e.id)&&e.hideable!=="false").map(e=>{const o=r.getLabel(e);return y.adoptRow({[d]:o,[u]:!t.get(o,Yr),[p]:e.hideable},{doAppend:true})});y.updateRow(y.getFirstRow(),{[g]:e.get("numFrozenColumns")});const w=[];if(s==="dragDropAndModal"||s==="modal"){w.push({componentType:"skuid__form",showSaveCancel:false,mode:"edit",model:y,sections:[{rows:[{fields:[{id:g}]}]}],styles:{spacing:{marginTop:1,marginBottom:2}}})}if(i){w.push({componentType:"skuid__labelInput",label:"Column Visibility",styles:{spacing:{marginBottom:1}}});w.push({componentType:"skuid__table",showSaveCancel:false,allowSortingByColumn:false,allowColumnAdjusting:false,showPageSizeSelect:false,pageSize:10,mode:"edit",model:y,fields:C,styles:{spacing:{marginTop:1,marginBottom:2}}})}this.modal=n["c"].utils._floatingComponentFactory.createModal({title:"Table Settings",buttons:k,components:w},{},e);this.modal.storeSubscription(y.subscribe("saved",()=>{y.data.map(e=>{if(!e[u]){t.set(e[d],Yr,true)}else{t.set(e[d],Yr,false)}});const o=e.get("fields").filter(e=>t.get(r.getLabel(e),Yr)!==true);const i=Math.min(o.length,y.getFieldValue(y.getFirstRow(),g));e.set({numFrozenColumns:i});e._cpi.handleUiReflow()}))}}const Kr=(e,t)=>{const o=new RegExp("\\b".concat(t,"\\b"));return o.test(e.className)?e:e.parentElement&&Kr(e.parentElement,t)};const Xr=(e,t,o=1,i=1)=>({"-ms-grid-column":"".concat(e),"-ms-grid-column-span":"".concat(o),"-ms-grid-row":"".concat(t),"-ms-grid-row-span":"".concat(i),gridColumnStart:"".concat(e),gridColumnEnd:"span ".concat(o),gridRowStart:"".concat(t),gridRowEnd:"span ".concat(i)});const Qr=(e,t=null)=>{return Array.apply(t,{length:e}).map(Function.call,Number)};var Zr=i(1);var Jr=i.n(Zr);const{utils:el,$L:tl,model:ol}=n["c"];class il{constructor(e,t,o){this.component=e;this.componentModel=e.get("model");this.selectedRows=t;this.selectedRowIds=t.map(e=>e.getId());this.selectedRecords=this.componentModel.getRecords().filter(e=>this.selectedRowIds.includes(e.id()));this.massModel=this.createModel(this.component);this.massRow=this.massModel.createRow({ignoreDefaults:true});this._uneditables=[];this._originalValues={};const i=o||e.get("fields"),n=this.getDisabledFields(this.selectedRows);this.massFields=this.getFieldsToDisplay(i,n);this.modal=this.createModal()}canFieldBeUpdatedOnRecord(e,t){return t&&(e.isNew()?t.createable&&this.componentModel.createable:t.editable&&this.componentModel.updateable)}createModel(e){const t="MassUpdateForTable_".concat(n["c"].utils.generateGUID()),o=e=>Object.assign({},e),i=e.get("model"),s=new ol.Model({id:t,dataSource:i.dataSource,fields:i.fields.map(o),conditions:i.conditions,objectName:i.objectName,createRowIfNoneFound:false,doClone:false,data:[],methods:i.methods}),a=s.getDataSourceType();a.coerceMassUpdate&&a.coerceMassUpdate(s);s.initialize();s.fields.forEach(e=>{e.createable=e.editable=true;return e}),s.createable=true;const r=this;s.updateRow=((e,t,o,i)=>{const a=e=>{if(Object.prototype.toString.call(e)!=="[object Object]")return;n["c"].$C("mass-update-form").getCPI().getFields().filter(t=>t.get("id")in e).forEach(t=>{let o=r._originalValues[t.get("id")],i=e[t.get("id")];o=o&&o.toString();t.get("editActionInstance").set("disabled",o===i)})};a(t);if(el.isString(t)===false){return n["c"].model.Model.prototype.updateRow.call(s,e,t,Jr.a.extend(o,{_ignoreMetadata:true}))}else{return n["c"].model.Model.prototype.updateRow.call(s,e,t,o,Jr.a.extend(i,{_ignoreMetadata:true}))}});return s}createModal(){const e=el._floatingComponentFactory.createModal({title:tl("Mass_Update_Selected_Rows"),buttons:[{label:tl("Apply","Apply"),styleSettingsVariant:"primary",onClick:()=>{this.processChanges();e.getCPI().close()}},{label:tl("Cancel","Cancel"),onClick:()=>e.getCPI().close()}],buttonsJustification:"left",components:[{componentType:"skuid__text",contents:"<em>".concat(this.getRowCountMessage(),"</em>"),styles:{spacing:{marginBottom:2}}},{componentType:"skuid__form",uniqueId:"mass-update-form",labelPlacement:"beside",mode:"edit",model:this.massModel,sections:[{rows:this.massFields.map(e=>{const t=this.selectedRecords[0].getRow()[e.id],o=this.selectedRecords.every(o=>o.getRow()[e.id]===t),i=o?t:undefined,n=o?"edit":"read",s=o?null:"-- Multiple values selected --",a=o?true:false,r=(e,t)=>{t&&t.stopPropagation();if(o){this.massModel.updateRow(this.massModel.getFirstRow(),e.get("id"),i);e.get("editActionInstance").set("disabled",true)}else{e._cpi.toggleMode(null,{focusWhenChanged:true,autoToggleBackToRead:false});if(e.get("mode")==="read"){this.massModel.updateRow(this.massModel.getFirstRow(),e.get("id"),this._originalValues[e.get("id")])}else{this.massModel.updateRow(this.massModel.getFirstRow(),e.get("id"),"")}}};if(o){this.massModel.updateRow(this.massModel.getFirstRow(),e.id,t)}this._originalValues[e.id]=i;return{fields:[Object.assign({},e,{editActionType:"button",editActionFunction:r,mode:n,maskedMessage:s,showEditActionInEditMode:true,editActionDisabled:a})]}})}],styles:{spacing:{marginBottom:2}}},{componentType:"skuid__text",contents:"<em>".concat(this.getUneditableFieldsMessage(),"</em>"),styles:{spacing:{marginBottom:2}}}]},{},this.component);return e}processChanges(){const e=[];const t=this;const o=this.componentModel;Object.keys(this.massRow).forEach(t=>{if(t!=="Id"&&t!=="Id15"&&t!=="__skuid_record__"){e.push({field:t,value:this.massRow[t]})}});if(!e.length)return;let i={},n,s;this.selectedRecords.forEach(e=>{i[e.id()]={}});e.forEach(({field:e,value:a})=>{if(a===null)return;n=o.getField(e);this.selectedRecords.forEach(o=>{if(t.canFieldBeUpdatedOnRecord(o,n)){i[o.id()][e]=a}});if(n&&n.displaytype&&n.displaytype==="REFERENCE"){s=this.massModel.getFieldValue(this.massRow,n.rel,true);this.selectedRecords.forEach(e=>{if(t.canFieldBeUpdatedOnRecord(e,n)){i[e.id()][n.rel]=s}})}});o.updateRows(i,{initiatorId:this.massModel.id})}getDisabledFields(e){const t=[];e.forEach(e=>{e.cells.forEach(e=>{if(e.evaluateIsDisabled()&&!t.includes(e.fieldId)){t.push(e.fieldId)}})});return t}getFieldsToDisplay(e,t){const o=[];const i=this;e.forEach(e=>{const n={fieldId:e.id,disabled:e.disabled,hidden:e.hidden||false},s=t.includes(n.fieldId),a=i.componentModel.getField(e.id),r=i.selectedRecords.findIndex(e=>i.canFieldBeUpdatedOnRecord(e,a))>-1;if(e.disabled&&!s){n.disabled=false}else if(!n.disabled&&s){n.disabled=true}if(n.hidden===false&&!n.userHidden&&!n.disabled&&r&&!e.readOnly){o.push(e)}else{this._uneditables.push(e.label||a.label)}});return o}getRowCountMessage(){return"Updating ".concat(this.selectedRows.length," row").concat(this.selectedRows.length>1?"s":"",".")}getUneditableFieldsMessage(){let e="";if(this._uneditables.length){const t=this._uneditables.length;if(t===1)e="The field ".concat(this._uneditables[0]," is not editable.");else if(t===2)e="The fields ".concat(this._uneditables[0]," and ").concat(this._uneditables[1]," are not editable.");else{let o=this._uneditables.slice(0,-1).join(", ")+", and "+this._uneditables[t-1];e="The fields ".concat(o," are not editable.")}}return e}}var nl=il;const{h:sl,div:al,$L:rl,utils:ll,getBuilderProps:cl}=Object(n["d"])(),dl=n["c"].ui.getIconURLFromHandle,ul=ll.htmlToElement,pl=n["b"].KEYCODES,gl={TEXTAREA:"TEXT"},hl="columnWidth",bl="columnMaxWidth",fl="hidden",ml="uniqueId",yl=ll._ie,Cl=[pl.UP,pl.DOWN,pl.LEFT,pl.RIGHT],kl=16;n["a"].register("skuid__table",Object.assign({},zr,{schema:jr,init(e,t,o){const i=e.shortcut("set");let s;const{_disablePersonalization:a,allowColumnFreezing:r,model:l,numFrozenColumns:c,context:d,conditions:u}=t;if(!l){i("show",false);throw Error("Table: Model is required.")}o.initFields();if(r!=="never"&&!a){const t=e.getPersonalizationService().getSetting("numFrozenColumns");e.set("numFrozenColumns",t!==undefined?t:c)}i({templateEditability:{},rowModeOverrides:{}});if(u){i({conditions:e.createConditionsFromXml(u,{context:d})})}o.initMassActionCheckboxHead();o.initListHeader();e.subscribeChange("context",o.populateRowContents);e.subscribeChange("context",t=>{if(u){i({conditions:e.createConditionsFromXml(u,{context:t})})}o.populateRowContents()});o.populateRowContents({updateHeadRowData:false});o.updateActions();o.initListFooter();o.updateSummaries();o.updateRowActionButtonGroups();["ui.reflow","ui.resize"].forEach(t=>e.storeSubscription(n["c"].events.subscribe(t,ll.debounce(()=>o.handleUiReflow(),50))));e.subscribeChange("mode",()=>{e.set("rowModeOverrides",[]);o.updateRowModes()});e.subscribeChange("_activeCell",(t,n)=>{e.get("lastFocusedFieldComponent")&&e.get("lastFocusedFieldComponent").set("showErrorIcon",true);if(t&&n){const e=n.split("-");const t=o.getCell(e[0],e[1]);t&&t.setAttribute("tabindex","-1")}if(!t)return;const s=t.split("-");const a=o.getCell(s[0],s[1]);if(!a)return;const r=a.getAttribute("data-cell-index");if(!r)return;const l=r.split("-");const c=o.getUiCellByDataCellIndex(l[0],l[1]);if(!c)return;c.extras.fieldComponent&&c.extras.fieldComponent.set("showErrorIcon",false);i({lastFocusedFieldComponent:c.extras.fieldComponent,lastActiveCell:n})});if(r==="dragDrop"||r==="dragDropAndModal"){let t=ul('<div class="'.concat(e.getStyledClasses("column-freezer__inner"),'" style="display="none"/>'));t.addEventListener("mousemove",o.onMouseMoveContainer);t.addEventListener("mousedown",o.onMouseDownColumnFreezer);const s=n["c"].utils._floatingComponentFactory.createTooltip(t,{text:"Drag to adjust the number of frozen columns",compact:true,position:"right",useTransition:false,delay:750},e);e.getParentPage().getContentElement().append(t);e.getParentPage().getContentElement().append(s.getElement());i({columnFreezerEl:t,freezerTooltip:s})}i({pageIndex:t.pageIndex||0,numPages:s,uiBlockerInstance:e.createChildComponent({componentType:"skuid__uiBlocker",model:l,inContainer:true}),cellContents:new Hr,cells:[[]],_drawers:{},_editIconUrl:dl("sk-webicon-ink:edit"),_drawerIconUrl:dl("sk-webicon-ink:chevron-small-right")});e.subscribeChange("columnsSettings",()=>o.handleUiReflow());e.subscribe("beforeUnregister",()=>{this.get("columnFreezerEl")&&this.get("columnFreezerEl").remove()})},renderVDom(e){const{listFooterInstance:t,listHeaderInstance:o,showListHeader:i,showListFooter:n,uiBlockerInstance:s}=e.getState(),a=e.shortcut("getStyledClasses"),r=e._getCPI();return sl("div",{key:e,classes:a({"table-component":true,"table--use-sticky":!yl})},[sl("div",{key:"ui-blocker"},[s.renderVDom()]),i&&o&&o.renderVDom(),sl("div",{key:"table-wrapper",classes:a({"table-wrapper":true})},[r.renderTable()]),n&&t&&t.renderVDom()])},cpi:Object.assign({},oo({isTable:true}),{afterCreateContainer(e){this.set("_elementContainer",e,false);e.addEventListener("mousemove",this._cpi.onMouseMoveContainer);e.addEventListener("mouseleave",this._cpi.onMouseLeaveContainer)},handleUiReflow(){const{_elementContainer:e,_minDataColumnWidth:t,columnsSettings:o}=this.getState();if(e){let i=e.getBoundingClientRect(),n=this._getCPI(),s=i.width,a=o.getVisibleColumns(),r=Object.keys(a).length,l=s/r;this.set({_applyMinWidth:l<t,_dataTableWidth:s});n.evaluateShadowNeeds()}this.scheduleVirtualRender()},onScrollData(e){const t=e.currentTarget.scrollLeft;this.set("_dataScrollLeft",t,{renderOnChange:false});this._getCPI().evaluateShadowNeeds()},evaluateShadowNeeds(){const{_elementContainer:e,_dataScrollLeft:t,_needLeftShadow:o,_needRightShadow:i}=this.getState(),n={};if((t||0)<=0){n._needLeftShadow=false}else if(!o){n._needLeftShadow=true}if((t||0)+e.clientWidth>=e.scrollWidth){n._needRightShadow=false}else if(!i){n._needRightShadow=true}this.set(n)},getHeightStyles(){const{heightStrategy:e,height:t,heightCustom:o,maxHeight:i,maxHeightCustom:n,minHeight:s,minHeightCustom:a}=this.getState(),r=this.getThemeSettings(),l={};if(e==="fixed"){l.height=t==="custom"?o:r.spacing(parseFloat(t))}else{l.minHeight=s==="custom"?a:r.spacing(parseFloat(s));l.maxHeight=i==="custom"?n:r.spacing(parseFloat(i))}return l},getColumnWidth(e,t){const{_minDataColumnWidth:o,headRowData:i,columnsSettings:n,adaptiveColumns:s}=this.getState(),a=this._getCPI(),r=t&&t.properties?a.getColumnIndex(t.properties["data-cell-index"]):null,l=r>=0?i.fields[r]:null,c=l?a.getLabel(l):null,d=t&&t.properties||{},u=d.columnMaxWidth,p=n.get(c,bl),g=p||u,h=d.columnWidth,b=n.get(c,hl),f=b||h;if(typeof r!=="number"){return yl?"auto":"0fr"}if(!s&&f){if(l&&l.fieldColumnWidth)return l.fieldColumnWidth;return parseFloat(f)>o?f:"".concat(o,"px")}else if(s&&g){return g}return s?"auto":"1fr"},renderTable(){const e=this.get("cellContents"),t=this._getCPI();e.clear();t.createRowNumberVNodes();t.createMassActionVNodes();t.createDrawerVNodes();t.createRowActionVNodes();t.createDataVNodes();const o=this.shortcut("getStyledClasses"),{_dropModeEnabled:i,headingInstance:n}=this.getState(),s=t.getColumnTotals(),a=t.getRowTotals();let r="",l="repeat(".concat(a.total,", min-content)");e.columnSections.forEach(e=>{e.headRowVNodes.forEach(o=>{r+=t.getColumnWidth(e,o)+" "})});return sl("div",{key:"table-container",classes:o({"table-container":true,"table-container--dragging":i,grid:true,"grid--cell-hovering":true,"grid--cell-styling":true}),afterCreate:t.afterCreateContainer,role:"grid","aria-labelledby":n&&n.get("uniqueId"),"aria-rowcount":a.total+"","aria-colcount":s.total+"",onkeydown:t.onTableKeyDown,onscroll:!yl&&t.onScrollData,ontouchmove:C,styles:Object.assign({"-ms-grid-columns":r,"-ms-grid-rows":l,gridTemplateColumns:r,gridTemplateRows:l},t.getHeightStyles())},[t.renderColumns()])},renderColumns(){let e=0,t=0;const o=this.shortcut("getStyledClasses"),i=this._getCPI(),{_activeCell:n,_drawers:s,_needLeftShadow:a,_needRightShadow:r,_dropModeEnabled:l,allowColumnFreezing:c,cellContents:d,columnsSettings:u,frozenColumnWidths:p=[],model:g,uiPaginatedRows:h}=this.getState(),b=this,f=h.visibleRows,m=d.columnSections,y=i.getColumnTotals(),C=i.getRowTotals(),k=g?g.getOrderObject():null;let S=false;return m.map((d,g)=>{const h=d.headRowVNodes.length,m=Qr(h);return m.map((m,w)=>{let _="".concat(w,"-").concat(g),I,v,x,T;const O=d.headRowVNodes[w],R=d.summaryRow&&d.summaryRow[w],E=i.getColumnIndex(O.properties["data-cell-index"]),P=w===h-1,D=g>0&&P,M=g===0,A=g===1,V=d.hasRowNumbers&&e===0,F={"column-group--left":M,"column-group--left--last":M&&P,"column-group--center":A,"column-group--right":g===2,"cell--sticky-left":M,"cell--sticky-right":g===2},L=(e,t,o)=>{if(yl)return;if(t!==1){e.style.left=p[o];return}const n=i.getCell(t,o-1),s=n?n.getBoundingClientRect().width+parseFloat(n.style.left||0):null;if(s){e.style.left=p[o]=s+"px"}};e+=1;t=1;if(M)S=true;if(A&&k){x=i.getFieldFromIndex(E);I=x.horizontalAlignment;_+=u.get(i.getLabel(x),ml);v=k.indexOf(x.fieldId);if(v>-1){T=k.list[v].suffix.match("ASC")?"ascending":"descending"}}const B={"--align-left":I==="left","--align-right":I==="right","--align-center":I==="center"};return[!yl&&g===2&&w===0&&[al({key:"shadow-right",classes:o({shadow:true,"shadow--right":true,"shadow--visible":r}),styles:Xr(e,1,1,C.total*2+1)}),al({key:"right-column-filler",styles:Xr(e,1,1,C.total*2+1)})],!yl&&A&&w===0&&[al({key:"shadow-left",classes:o({shadow:true,"shadow--left":true,"shadow--left--no-frozens":!S,"shadow--visible":a}),styles:Xr(1,1,e-1,C.total*2+1)}),(c==="dragDrop"||c==="dragDropAndModal")&&!l&&al({key:"column freezer",classes:o({"column-freezer":true,"shadow--left--no-frozens":!S}),styles:Xr(1,1,e-1,C.total*2+1)},[al({class:o(["column-freezer__revealer"]),afterCreate(e){b.set("revealerEl",e,false)}})])],i.renderHeaderCell({cell:O,colIndex:w,ariaColIndex:e,ariaRowIndex:t++,ariaSort:T,dataCellIndex:E,isActive:n==="".concat(t,"-").concat(e),key:_+"-header",colGroupIndex:g,columnGroup:d,columnTotals:y,classes:Object.assign({"cell--no-border-right":D,"cell--row-number":V},F,{},B),afterUpdate:M&&L}),...d.rows.map((o,a)=>{const r=f[a].recordId,l=s[r],c=o[w];let u=i.renderBodyCell({cell:c,key:_+"-"+a,ariaColIndex:e,ariaRowIndex:t,ariaReadOnly:c&&c.properties["data-readonly"],dataFsBlock:x&&x.fsBlock?"true":undefined,dataCellIndex:E,horizontalAlignment:I,isActive:n==="".concat(t,"-").concat(e),colIndex:w,rowIndex:a,colGroupIndex:g,columnGroup:d,columnTotals:y,classes:Object.assign({"cell--no-border-bottom":a===d.rows.length-1&&!l,"cell--no-border-right":D,"cell--row-number":V},F,{},B),afterUpdate:M&&L});t++;return u}),R&&i.renderSummaryCell({cell:R,key:_+"-summary",ariaColIndex:e,ariaRowIndex:t,isActive:n==="".concat(t,"-").concat(e),colGroupIndex:g,columnGroup:d,columnTotals:y,rowTotals:C,classes:Object.assign({"cell--no-border-right":D,"cell--row-number":V},F),afterUpdate:M&&L})]})})},renderHeaderCell(e){const{afterUpdate:t,ariaColIndex:o,ariaRowIndex:i,ariaSort:n,dataCellIndex:s,isActive:a,key:r,cell:l,columnGroup:c,colGroupIndex:d,colIndex:u,classes:p}=e,{_adjustingColumnIndex:g,_columnAdjusting:h,_dropModeEnabled:b,_grabbedColumnIndex:f,hoveredVisibleColumnIndex:m,allowColumnOrdering:y,renderRemoveField:C}=this.getState(),k=this.shortcut("getStyledClasses"),S=this._getCPI(),w=typeof s==="number",_=l&&l.properties||{},I=_&&parseInt(_["data-cell-col"]),v=w&&y?true:false;return sl("div",Object.assign({key:r,classes:k(Object.assign({th:true,cell:true,"cell--sticky-top":true},w?{"cell--with-column-dropper":b&&(m===I||I==0&&!m),"cell--moveable":v,"cell--with-column-dropper--right":b&&d===1&&!c.rows[0][u+1]&&m===I+1,"cell--cursor-grabbing":b,"cell--column-grabbed":b&&s===f,"cell--column-adjusting":h,"cell--adjusting-column-grabbed":h&&s===g}:{},{},p||{})),styles:Xr(o,i),onmousedown:v&&S.onMouseDownColumnHead,onmouseenter:S.onMouseEnterRow,onmouseleave:S.onMouseLeaveRow,onfocus:S.focusOnCellFromEvent,onblur:S.onBlurCellOrInput,tabindex:o===1?"0":"-1","data-cell-index":_["data-cell-index"]},cl(this,{noInteract:false,propHint:"column--field"}),{"aria-colindex":o+"","aria-rowindex":i+"","aria-selected":a?"true":null,"aria-sort":w?n:null,afterUpdate:t&&(e=>t(e,i,o)),afterCreate:u===0&&(e=>this.set("headerCellEl",e))}),[l,C&&C(e)])},renderBodyCell(e){const{afterUpdate:t,ariaColIndex:o,ariaRowIndex:i,ariaReadOnly:n,dataCellIndex:s,dataFsBlock:a,isActive:r,key:l,cell:c,rowIndex:d,colIndex:u,colGroupIndex:p,columnGroup:g,columnTotals:h,classes:b}=e,{_adjustingColumnIndex:f,_columnAdjusting:m,_dropModeEnabled:y,_grabbedColumnIndex:C,hoveredVisibleColumnIndex:k,_hoveringRowIndex:S,_drawers:w,uiPaginatedRows:_,model:I}=this.getState(),v=this.shortcut("getStyledClasses"),x=this._getCPI(),T=_.visibleRows,O=T[d+1],R=T[d].recordId,E=T[d].mode,P=w[R],D=c&&c.properties||{},M=D&&parseInt(D["data-cell-col"]),A=D["data-error"],V=typeof s==="number";return[sl("div",{key:l,classes:v(Object.assign({td:true,"td--with-error":A,"td--with-error--flipped":A&&!O,"td--drop-mode":y,"td--even":(d+1)%2===0,cell:true,"cell--hovering":S===i,"cell--hovering-row-before":S===i+1,"cell--selected":T[d].selected,"cell--selected-row-before":O&&O.selected,"cell--deleted":I&&I.isRowMarkedForDeletion(I.getRowById(R)),"cell--deleted-row-before":O&&I&&I.isRowMarkedForDeletion(O&&I.getRowById(O.recordId))},V?{"cell--with-column-dropper":y&&(k===M||M==0&&!k),"cell--with-column-dropper--right":y&&p===1&&!g.rows[0][u+1]&&k===M+1,"cell--column-grabbed":y&&s===C,"cell--column-adjusting":m,"cell--adjusting-column-grabbed":m&&s===f}:{},{},b||{})),styles:Object.assign({},Xr(o,d*2+2),{left:!yl&&p===0?"".concat(48*u,"px"):null}),ondblclick:E!=="readonly"?x.onDoubleClickCell:undefined,onmouseenter:x.onMouseEnterRow,onmouseleave:x.onMouseLeaveRow,onfocus:x.focusOnCellFromEvent,onblur:x.onBlurCellOrInput,tabindex:"-1","data-cell-index":D["data-cell-index"],"data-record-id":R+"","aria-colindex":o+"","aria-rowindex":i+"","aria-selected":r?"true":null,"aria-readonly":n,"data-fs-block":a,afterUpdate:t&&(e=>t(e,i,o))},[c]),p===1&&u===0&&sl("div",{key:"drawer-".concat(R),classes:v({drawer:true,"drawer--last-row":!O,"drawer--open":!!P}),"data-record-id":R+"",styles:Xr(1,d*2+3,h.total,1)},[P&&P.placeholder?P.placeholder.renderVDom():P&&P.components&&P.components.map(e=>e.renderVDom())]),p!==1&&sl("div",{key:"drawer-filler",classes:v(Object.assign({cell:true,td:true,"drawer-filler":true,"drawer-filler--open":!!P},b)),styles:Xr(o,d*2+3),afterUpdate:t&&(e=>t(e,i,o))})]},renderSummaryCell(e){const{afterUpdate:t,ariaColIndex:o,ariaRowIndex:i,isActive:n,key:s,cell:a,colGroupIndex:r,columnGroup:l,classes:c}=e,{_dropModeEnabled:d,hoveredVisibleColumnIndex:u}=this.getState(),p=a.properties,g=p&&parseInt(p["data-cell-col"]),h=l.id==="data"||l.id=="data-frozen",b=this.shortcut("getStyledClasses");return sl("div",{key:s,classes:b(Object.assign({cell:true,tfoot:true,"cell--no-border-bottom":true,"cell--sticky-bottom":true,"cell--with-column-dropper":d&&h&&u===g,"cell--with-column-dropper--right":d&&h&&r===1&&!l.rows[0][g+1]&&u===g+1},c||{})),styles:Xr(o,i*2+1),"aria-rowindex":i+"","aria-colindex":o+"","aria-selected":n?"true":null,afterUpdate:t&&(e=>t(e,i,o))},[a])},getColumnIndex(e){if(e){return parseInt(e.split("-").pop())}},getFieldFromIndex(e){if(e>=0){const t=this.get("headRowData");return t.fields[e]}},createDataVNodes(){const e=this.shortcut("getStyledClasses"),t=this._getCPI(),{_editIconUrl:o,_columnAdjusting:i,cellContents:n,headRowData:s,columnsSettings:a,allowColumnAdjusting:r,adaptiveColumns:l,hasSummaries:c,uiPaginatedRows:d,numFrozenColumns:u,showErrorsInline:g,uniqueId:h}=this.getState(),b={},f=[],m=[],y=r&&!l;let C=[],k=[],S=[],w=[];let _=d.uiRows[0];s.fields.forEach((o,i)=>{const n=t.getLabel(o),s=a.get(n,ml);let r=_&&_.cells[i],l=r&&r.extras.fieldComponent;if(!s)a.set(n,ml,ll.generateUniqueId());if(a.get(n,fl)||l&&l.get("show")===false){b[i]=true}else{(i<u?k:C).push(al({key:o,class:e("th__inner"),"data-cell-index":"head-".concat(i),"data-cell-col":"".concat(i),columnWidth:o.columnWidth,columnMaxWidth:o.columnMaxWidth},[al({key:"th inner label",classes:e({th__inner__label:true})},[o.label]),al({key:"th button",class:e("th__button")},[o.dropdownButton?o.dropdownButton.renderVDom():[]]),y&&!o.fieldColumnWidth&&al({key:"th adjuster",classes:e({th__adjuster:true}),bind:o,onmousedown:t.onMouseDownColumnHeadAdjuster})]));if(c){(i<u?w:S).push(al({key:o,"data-cell-index":"head-".concat(i),"data-cell-col":"".concat(i),columnWidth:o.columnWidth,columnMaxWidth:o.columnMaxWidth},[o.summarySelectComponent?o.summarySelectComponent.renderVDom():[]]))}}});this.set({hiddenColumnIndices:b,columnsSettings:a},false);d.visibleRows.forEach((n,s)=>{const a=[];const r=[];const l=n.mode;n.cells.forEach((n,c)=>{if(!b[c]){const d=n.evaluateIsDisabled(),b=n.extras,f=b.fieldComponent,m=f.get("mode")||l,y=b.fieldComponentDefinition||{},C=!i&&m==="read"&&!d&&b.editable||m==="edit"&&(n.displayType==="template"||n.htmlFormatted)&&b.editable,k=g&&f&&f.get("messages")&&f.get("messages").length;(c<u?r:a).push(sl("div",Object.assign({key:n,classes:e({td__inner:true}),"data-cell-index":"".concat(s,"-").concat(c),"data-cell-col":"".concat(c),"data-readonly":d?"true":null,"data-error":k,columnWidth:b.columnWidth,columnMaxWidth:b.columnMaxWidth},cl(this)),[sl("div",{key:"field wrapper",classes:e({"field-wrapper":true,"field-wrapper--with-edit-icon":!!C}),title:n.displayText,"data-fs-block":y.fsBlock?"true":undefined},[f&&[f.renderVDom(),(f.get("messages")||[]).map(t=>sl("div",{key:"".concat(h,"-message-").concat(s,"-").concat(c),class:e("message")},[t.message]))]]),C&&sl("span",{key:"icon wrapper",classes:e({"td__edit-icon-wrapper":true}),onclick:t.onClickEditIcon,"data-cell-index":"".concat(s,"-").concat(c)},[Object(p["a"])(o)])]))}});u&&f.push(r);m.push(a)});if(u>0){n.addColumnGroup({headRowVNodes:k,summaryRow:S,rows:f,position:0,id:"data-frozen"})}n.addColumnGroup({headRowVNodes:C,summaryRow:S,rows:m,id:"data"})},createRowActionVNodes(){const e=this.shortcut("getStyledClasses"),{cellContents:t,rowActionsButtonGroups:o,rowActionsOnLeft:i,hasSummaries:n,uiPaginatedRows:s,hiddenDivWidth:a}=this.getState();if(!o)return;let r=-1;o.forEach(e=>{if(e.getElement()&&e.getElement().clientWidth>r){r=e.getElement().clientWidth}});if(r){if(r!==a){this.set("hiddenDivWidth",r,{renderOnChange:false})}}else if(a!==undefined)r=a;const l=[sl("div",{class:e("cell--hidden"),styles:{width:r+"px"}})];const c=s.visibleRows.map((t,i)=>[sl("div",{key:"rowaction__inner--".concat(i),class:e("td__inner")},[sl("div",{class:e("td__action-buttons-wrapper")},[o[i].renderVDom()])])]);t.addColumnGroup({headRowVNodes:l,summaryRow:n&&[sl("div",{class:e("cell--hidden"),styles:{width:r+"px"}})],rows:c,position:i?0:2})},createRowNumberVNodes(){const e=this.shortcut("getStyledClasses"),t=this._getCPI(),{cellContents:o,showRowNumbers:i,pageIndex:n,hasSummaries:s,uiPaginatedRows:a}=this.getState();if(!i)return;const r=a.visibleRows,l=t.getPageStartIndex(n);const c=[sl("div",{key:"row-numbers"},[sl("div",{class:e(["td__inner","cell__inner-row-numbers","cell--hidden"])},["".concat(l+r.length)])])];const d=r.map((t,o)=>[sl("div",{key:"row-numbers"},[sl("div",{class:e(["td__inner","cell__inner-row-numbers"])},["".concat(l+o+1)])])]);o.addColumnGroup({headRowVNodes:c,summaryRow:s&&c,rows:d,position:0,hasRowNumbers:true})},createMassActionVNodes(){const e=this.shortcut("getStyledClasses"),{cellContents:t,hasMassActions:o,hasSummaries:i,massActionCheckboxHead:n,massActionCheckboxHeadSummaries:s,massActionsCheckboxes:a,uiPaginatedRows:r,enableExport:l}=this.getState();if((!o||!n)&&!l&&!i)return;const c=[sl("div",{key:"mass-action-head",classes:e({td__inner:true})},[n.renderVDom()])];const d=i&&[sl("div",{class:e(["td__inner","cell--hidden"])},[s.renderVDom()])];const u=r.visibleRows.map((t,o)=>[sl("div",{key:"mass-action-body",class:e("td__inner")},[a[o].renderVDom()])]);t.addColumnGroup({headRowVNodes:c,summaryRow:d,rows:u,position:0})},createDrawerVNodes(){const e=this.shortcut("getStyledClasses"),{_drawerIconUrl:t,_drawers:o,cellContents:i,drawer:n,enableDrawers:s,hasSummaries:a,uiPaginatedRows:r}=this.getState(),l=this._getCPI();if(!s||!n||!n.showDrawerIcon)return;const c=[sl("div",{key:"drawer-header",classes:e({"cell--hidden":true,td__inner:true})},[sl("div",{classes:e({"drawer-icon":true})},[Object(p["a"])(t)])])];const d=r.visibleRows.map(i=>{const n=o[i.recordId];return[sl("div",Object.assign({key:"drawer-body",classes:e({td__inner:true,"td--drawer-icon-wrapper--open":n})},cl(this,{propHint:"drawer"})),[sl("div",{class:e("drawer-click-target"),onclick:l.onClickDrawerToggler,onkeypress:l.onKeyPressDrawerToggler,"aria-label":"".concat(n?"close":"open"," drawer")}),sl("div",{classes:e({"drawer-icon":true,"drawer-icon--open":n}),onclick:l.onClickDrawerToggler},[Object(p["a"])(t)])])]});i.addColumnGroup({headRowVNodes:c,summaryRow:a&&c,rows:d,position:0})},onModelSaveCancel(){const e=this.getState();e.uiPaginatedRows.visibleRows.forEach(t=>{this._cpi.toggleUiRowMode(e.mode,t)})},populateRowContents(e={}){const t=this.getState(),o=this._getCPI(),i={},{model:s,pageSize:a,columnsSettings:r,uiPaginatedRows:l,resetPaginationOnQuery:c,templateEditability:d,mode:u,rowModeOverrides:p,showErrorsInline:g}=t;const h=o.getActiveRecords().map((a,c)=>{const h=s.getRowId(a),b=e.editModeForNewItems&&s.isNewRow(a),f=b&&e.editModeForNewItems?"edit":p[h]||u,m=l&&h&&l.getRowForRecord(h);if(m){i[h]=true}const y=m||new qt["a"]({mode:f,cells:(t.fields||[]).map(e=>{const t=e.readOnly?"readonly":f,i=s.getField(e.id),l=Object.assign({},e,{renderConditions:c!==0?null:e.renderConditions,uniqueId:ll.generateUniqueId(),componentType:"skuid__field",styleSettingsVariant:"@parent/field",useErrorIcon:g,inTable:true,tabIndex:"-1",mode:t,model:s,row:a,showLabel:false,typeOverrides:gl,showEditAction:false,styles:{tokens:(this.get("styles")||{}).tokens}}),u=o.getLabel(e),p=r.get(u,hl),h=r.get(u,bl),b=e.type==="COMBO";let m=e.displayAs||i.displaytype,y=n["c"].component.displayMethodRegistry.get(m),C=y.getReadModeStrategy({field:Object.assign({},e,{metadata:i})})==="component";if(b&&d[e.template]===undefined){const t=s.getRowMergeResult(a,e.template||"").fields;d[e.template]=!!(t&&t.length)}const k=!e.readOnly&&(i.editable||b&&d[e.template]),S=new Mo["a"]({fieldId:e.id,name:e.name,template:e.template,displayTemplate:e.displayTemplate,displayType:b?"template":undefined,enableConditions:e.enableConditions,model:s,row:a,isChildRel:e.type==="CHILDREL",delimiter:e.delimiter,htmlFormatted:i.htmlFormatted,redirectType:e.redirectType,rootUrl:e.rootUrl,page:e.page,route:e.route,linkWindow:e.window,linkParams:e.params},{mode:f,editable:k,isTemplate:b,fieldComponentDefinition:l,columnWidth:p||e.columnWidth,columnMaxWidth:h||e.columnMaxWidth,horizontalAlignment:e.horizontalAlignment,isComponentWhenInReadMode:C,isHtmlFormatted:i.htmlFormatted,tabIndex:"-1"});l.uiCell=S;return S}),recordId:h});if(m){m.cells.forEach(e=>{if(e.row!==a){e.row=a}let t=e.extras.fieldComponent;if(t&&t.get("row")!==a){t.set("row",a)}})}return y});if(l){l.uiRows.forEach(e=>{const t=i[e.recordId];if(!t){e.cells.forEach(e=>e&&e.extras.fieldComponent&&e.extras.fieldComponent.unregister())}})}const b=l&&!c||e.keepPageIndex;this.set("uiPaginatedRows",new Gt["a"](h,l?l.pageSize:a,{pageIndex:b?l.pageIndex:0}));let{firstFieldComponent:f}=o.createComponentsForVisibleRows();if(f&&e.editModeForNewItems){let{mode:e,model:t,row:o}=f.getState();if(e==="edit"&&t&&o&&t.isNewRow(o)){f.cpi.focus()}}if(e.updateHeadRowData!==false){o.updateSummaries()}},updateRowModes(e={}){const{mode:t,rowModeOverrides:o,uiPaginatedRows:i}=this.getState();i.visibleRows.forEach((i,n)=>{const s=i.recordId,a=n===0&&e.editModeForNewItems?"edit":o[s]||t;this._cpi.toggleUiRowMode(a,i)})},toggleUiRowMode(e,t){t.cells.forEach(t=>{const o=t.extras.fieldComponent;if(o){o.cpi.toggleMode(e,{autoToggleBackToRead:false})}})},toggleRowModeAction(e,t){const o=this._getCPI(),{_elementContainer:i,mode:n,model:s,rowModeOverrides:a,uiPaginatedRows:r}=this.getState(),l=s.getRowId(t),c=r.getRowForRecord(l),d=a[l]||n;if(!e){if(d==="read"){e="edit"}else{e="read"}}if(e!==d){this.set("rowModeOverrides",Object.assign({},a,{[l]:e}),false);o.toggleUiRowMode(e,c);if(e==="edit"){const e=i.querySelector('[data-record-id="'.concat(l,'"]'));e&&e.focus()}}return true},createComponentsForVisibleRows(){let e;this.get("uiPaginatedRows").visibleRows.forEach(t=>{t.cells.forEach(t=>{const o=t.extras,i=o.fieldComponentDefinition;if(!i||o.fieldComponent)return;const s=o.fieldComponent=this.createChildComponent(i);if((o.mode!=="edit"||o.isTemplate||o.isHtmlFormatted)&&!o.isComponentWhenInReadMode)return;s.subscribe("focus",()=>{const e=n["c"].$(s.getElement()).parents(".".concat(this.getStyledClasses("td")))[0];if(!e)return;this.set("_activeCell","".concat(e.getAttribute("aria-rowindex"),"-").concat(e.getAttribute("aria-colindex")))});s.subscribe("blur",this._getCPI().onBlurCellOrInput);if(!e){e=s}})});return{firstFieldComponent:e}},onDoubleClickCell(e){e&&e.stopPropagation();const t=e.currentTarget.children[0],o=t.getAttribute("data-cell-index");if(!o)return;const i=o.split("-"),n=this._getCPI(),s=n.getUiCellByDataCellIndex(i[0],i[1]);const{mode:a}=this.getState();if(a==="edit"&&!s.htmlFormatted&&s.displayType!=="template")return;if(s.evaluateIsDisabled()||!s.extras.editable)return;n.onEditCell(t,s,e.type)},onClickEditIcon(e){e&&e.stopPropagation();const t=e.currentTarget.getAttribute("data-cell-index").split("-"),o=this._getCPI(),i=o.getUiCellByDataCellIndex(t[0],t[1]);o.onEditCell(e.currentTarget,i,e.type)},onEditCell(e,t,o){if(cl(this))return;const i=this.getState(),n=this._getCPI(),s=n.getParentCellElement(e);if(t&&t.evaluateIsDisabled())return;if(t.htmlFormatted){n.createTemplateEditModal(e,"{{".concat(t.fieldId,"}}"),t.row);return}if(t.displayType==="template"){n.createTemplateEditModal(e,t.items[0]._template,t.row);return}let a=t.extras.fieldComponent;if(!a){t.extras.fieldComponent=a=this.createChildComponent(t.extras.fieldComponentDefinition)}if(i._fieldListener)a.unsubscribe(i._fieldListener);const r=a.subscribeChange("mode",e=>e==="read"&&n.focusOnCell(s));this.set("_fieldListener",r);if(a.get("mode")==="edit"){if(o==="dblclick")return;a._getCPI().toggleMode("read")}else{a._getCPI().toggleMode("edit",{focusWhenChanged:true})}},createTemplateEditModal(e,t,o){const i=this._getCPI();const n=Ao["b"].createTemplateEditModal(t,o,this.get("model"),{onClose(){const t=i.getParentCellElement(e);i.focusOnCell(t)}});this.getChildComponents().push(n)},getPageStartIndex(e){if(this.get("pageSize")===Infinity)return e;return this.get("pageSize")*e},getSelectedRows(){return this.get("uiPaginatedRows").uiRows.filter(e=>e.selected)},getSelectedRecords(){return this._getCPI().getSelectedRows().map(e=>this.get("model").getRowById(e.recordId))},getVisibleRecords(){const e=this.get("model");return this.get("uiPaginatedRows").visibleRows.map(t=>e.getRowById(t.recordId))},openConfigureModal(){return new $r(this)},getLabel(e){const t=this.get("model");if(e.label){const t="_labels:".concat(e.label),o=this.get(t);if(o!==undefined)return o;this.registerMergeText(e.label,t);return this.get(t)}return t.getField(e.id).label||e.id},unregisterDrawer(e){e.components.forEach(e=>e.unregister());e.subscription&&e.subscription.unsubscribe();e.placeholder&&e.placeholder.unregister()},closeAllDrawers(){const{_drawers:e}=this.getState(),t=this._getCPI();Object.keys(e).forEach(o=>{t.unregisterDrawer(e[o]);delete e[o]})},toggleDrawer(e){const t=this,{model:o,_drawers:i,drawer:s,_dataTableWidth:a}=t.getState(),r=t._getCPI(),l=o.getRowById(e),c={model:o,row:l};if(i[e]){r.unregisterDrawer(i[e]);delete i[e];t.scheduleVirtualRender();t.publish("drawerClosed")}else{let o=s.beforeLoad?n["c"].actions.runActionsNode(s.beforeLoad,this,c):ll.resolve();i[e]={placeholder:t.createChildComponent({componentType:"skuid__placeholder",height:this.getThemeSettings().spacing("s4")}),height:parseInt(this.getThemeSettings().spacing("s4"))+3};o.then(()=>{const o=t.createChildComponents(s.components,null,c);i[e].placeholder.unregister();i[e].components=o;delete i[e].placeholder;let n=Object(Ao["d"])(()=>sl("div",o.map(e=>e.renderVDom())),{width:a+"px"});i[e].height=n.getBoundingClientRect().height+3;n.remove();t.scheduleVirtualRender();t.publish("drawerOpened",[s])})}},onClickDrawerToggler(e){const t=this.getStyledClasses("cell");e&&e.stopPropagation();this._getCPI().toggleDrawer(Kr(e.currentTarget||e.target,t).getAttribute("data-record-id"))},onKeyPressDrawerToggler(e){const t=this.getStyledClasses("cell");if(e.keyCode===pl.SPACE||e.keyCode===pl.ENTER){e.preventDefault();this._getCPI().toggleDrawer(Kr(e.currentTarget,t).getAttribute("data-record-id"))}},onMouseDownColumnHeadAdjuster(e){e.stopPropagation();e.preventDefault();let t;const{columnsSettings:o,headRowData:i}=this.getState(),n=this.shortcut("getStyledClasses"),s=this.shortcut("set"),a=this._getCPI(),r=e.currentTarget||e.target,l=r.getBoundingClientRect(),c=Kr(r,n("th")),d=c.getBoundingClientRect(),u=a.getColumnIndex(c.getAttribute("data-cell-index")),p=a.getLabel(i.fields[u]);a.createFollower(l.top,l.left,e=>{t=e-d.left},e=>{s({_columnAdjusting:null,_adjustingColumnIndex:null});if(e!=="mouseleave"&&t){o.set(p,hl,"".concat(t,"px"))}});s({_columnAdjusting:true,_adjustingColumnIndex:u})},onMouseMoveContainer(e){const{_elementContainer:t,_dropModeEnabled:o,_columnAdjusting:i,allowColumnFreezing:n,columnFreezerEl:s,headerCellEl:a,revealerEl:r,freezerTooltip:l,hoveredCellInfo:c={},hoveredVisibleColumnIndex:d}=this.getState(),u=this.shortcut("getStyledClasses");if((n==="dragDrop"||n==="dragDropAndModal")&&s&&r){const n=r.getBoundingClientRect();const c=t.getBoundingClientRect();if(!i&&!o&&Math.abs(n.x-e.x)<kl/2){let t=this._cpi.getFollowerOffset();s.style.top="".concat(ll.clamp(e.y,a.getBoundingClientRect().bottom+kl/2,c.bottom-kl)+t.y,"px");s.style.left="".concat(Math.min(n.x,c.right)+t.x,"px");s.style.display="block";l.cpi.show()}else{l.cpi.hide();s.style.display="none"}}if(!o)return;const p=e.x;const g=Array.from(t.querySelectorAll(".".concat(u("th")))||[]).find(e=>{const t=e.getBoundingClientRect();return p>=t.left&&p<=t.right});if(!g)return;const h=g.getBoundingClientRect();const b=p-h.left;const f=b>g.getBoundingClientRect().width/2;let m=parseInt((g.getAttribute("data-cell-index")||"").split("-")[1]);const y=f?m+1:m;this.set({hoveredCellInfo:{index:m,pastMidpoint:f},hoveredVisibleColumnIndex:y},{renderOnChange:false});if(c.index!==m||c.pastMidpoint!==f||d!==y){this.scheduleVirtualRender()}},onMouseLeaveContainer(){const{allowColumnFreezing:e,columnFreezerEl:t}=this.getState();if((e==="dragDrop"||e==="dragDropAndModal")&&t){t.style.display="none"}},onMouseDownColumnFreezer(e){e.stopPropagation();e.preventDefault();const{_elementContainer:t,_disablePersonalization:o}=this.getState(),i=this.shortcut("set"),n=this._getCPI(),s=this.shortcut("getStyledClasses"),a=t.getBoundingClientRect();i({_dropModeEnabled:true,hoveredVisibleColumnIndex:-1});let r=n.getFollowerOffset();let l=ul('<div class="'.concat(s("column-freezer__inner"),'"/>'));Object.assign(l.style,{display:"block","pointer-events":"none",left:"".concat(e.clientX+r.x,"px"),top:"".concat(e.clientY+r.y,"px")});this.getParentPage().getContentElement().append(l);n.createFollower(a.top,e.clientX,(e,o)=>{let i=n.getFollowerOffset();t.scrollLeft=0;Object.assign(l.style,{left:"".concat(e+i.x,"px"),top:"".concat(o+i.y,"px")})},e=>{const t=this.get("hoveredVisibleColumnIndex");l.remove();i({_dropModeEnabled:false});if(e==="mouseleave"||t===-1)return;i({numFrozenColumns:t});if(!o){this.getPersonalizationService().updateSettings({numFrozenColumns:t},{deepMerge:false})}},{additionalClasses:s("adjustable-mouse-follower--frozen")})},createFollower(e,t,o,i,n={}){const{_elementContainer:s}=this.getState(),a=this.shortcut("getStyledClasses"),r=s.getBoundingClientRect();let l=ul('<div class="'.concat(a("adjustable-mouse-follower"),'"/>')),c,d=(e,t)=>{l.style.left="".concat(e,"px");o(e,t)};l.classList.add(n.additionalClasses),Object.assign(l.style,{top:"".concat(e,"px"),left:"".concat(t,"px"),height:"".concat(r.height,"px")});this.getParentPage().getContentElement().append(l);const u=e=>d(e.clientX,e.clientY),p=()=>c("mouseleave"),g=()=>c("mouseup");s.addEventListener("mousemove",u);s.addEventListener("mouseleave",p);s.addEventListener("mouseup",g);c=(e=>{s.removeEventListener("mousemove",u);s.removeEventListener("mouseleave",p);s.removeEventListener("mouseup",g);l.remove();i(e)})},getFollowerOffset(){if(ll.inPlatform(n["b"].LIGHTNING)){const e=this.getParentPage().getElement().getBoundingClientRect();return{x:-e.x,y:-e.y}}else{return{x:window.scrollX,y:window.scrollY}}},onMouseDownColumnHead(e){const{_elementContainer:t,_disablePersonalization:o}=this.getState(),i=this.shortcut("getStyledClasses"),n=this._getCPI(),s=this.shortcut("set"),a=e.currentTarget||e.target,r=a.cloneNode(true),l=ul('<div class="'.concat(i("draggable-mouse-follower"),'"/>')),c=(e,t)=>{l.style.left="".concat(e+8,"px");l.style.top="".concat(t,"px")};let d;r.style.left="0";l.appendChild(r);let u=n.getColumnIndex(a.getAttribute("data-cell-index"));s("hoveredVisibleColumnIndex",-1);c(e.clientX,e.clientY);let p=false;const g=e=>{e.preventDefault();if(!p){s({_dropModeEnabled:true,_grabbedColumnIndex:u,_targetColumnIndex:u,hoveredVisibleColumnIndex:-1});this.getParentPage().getContentElement().append(l);p=true}e.preventDefault();c(e.clientX,e.clientY)};const h=()=>d;const b=()=>{if(!this.get("_dropModeEnabled")){d();return}const{headRowData:e,fields:t,uiPaginatedRows:i,_activeCell:s,_elementContainer:a,hoveredCellInfo:r={}}=this.getState();let l=r.index;if(r.pastMidpoint){if(l<u){l++}}else{if(l>u){l--}}if(l!==u){let r=t[u];t.splice(u,1);t.splice(l,0,r);r=e.fields[u];e.fields.splice(u,1);e.fields.splice(l,0,r);i.uiRows.forEach(e=>{let t=e.cells[u];e.cells.splice(u,1);e.cells.splice(l,0,t)});if(s){const e=s.split("-");const t=a.querySelector('[aria-rowindex="'.concat(e[0],'"][aria-colindex="').concat(e[1],'"]'));if(t){const o=l-u;const i=(t.getAttribute("data-cell-index")||"").split("-"),n=parseInt(i[1]||-1),s=i[0]||-1;if(n===u){this.set("_activeCell","".concat(e[0],"-").concat(parseInt(e[1])+o))}else if(n>l){this.set("_activeCell","".concat(s,"-").concat(n+1))}}}this.publish("fields.reordered",[u,l]);if(!o){const e=this.getPersonalizationService(),o=t.map(e=>n.getLabel(e));e.updateSettings({fieldsOrder:o},{deepMerge:false})}this.scheduleVirtualRender()}d()};t.addEventListener("mousemove",g);t.addEventListener("mouseleave",h);t.addEventListener("mouseup",b);d=(()=>{t.removeEventListener("mousemove",g);t.removeEventListener("mouseleave",h);t.removeEventListener("mouseup",b);l.remove();s({_dropModeEnabled:false,_grabbedColumnIndex:null,_targetColumnIndex:null})})},createMassUpdateModal(){const{columnsSettings:e,fields:t}=this.getState(),o=this._getCPI(),i=o.getSelectedRows(),n=t.filter(t=>e.get(o.getLabel(t),fl)!==true);new nl(this,i,n)},updateSummaries(){const{columnsSettings:e,headRowData:t,model:o}=this.getState(),i=this._getCPI();const s=ll.userInfo.defaultCurrency;t.fields.forEach(t=>{const{countBlanks:a,decimalPlaces:r,defaultSummary:l,fieldId:c,fieldName:d,label:u,summaries:p}=t;if(!p||!p.length)return;let{summarySelectComponent:g}=t;const h=[{options:p.map(e=>{const t=i.getSelectedRecords(),l=d||c;let u=n["c"].aggregations.aggregate(e,o,l,{countBlanks:a,rows:t.length?t:i.getActiveRecords()});const p=o.getField(c);const g=n["c"].component.displayMethodRegistry.get(p.displaytype);const h=g.getDisplayInformation(u,{decimalPlaces:r,fieldId:c,model:o,recordCurrency:s});return{value:e,label:"".concat(ll.capitalizeFirst(e),": ").concat(h.displayText)}})}];if(!g){g=t.summarySelectComponent=this.createChildComponent({componentType:"skuid__select",value:l,optionGroups:h,tabIndex:"-1"});g.subscribeChange("value",t=>{e.set(u,"defaultSummary",t)})}else{let e=g._getCPI();e.setOptionGroups(h);e.updateDisplayValue()}})},getUiCellByDataCellIndex(e,t){const o=this.getState(),i=parseInt(e,10),n=parseInt(t,10),s=o.uiPaginatedRows.visibleRows[i];return s&&s.getCell(n)},getUiCellByAriaIndex(e,t){const o=this.getState(),i=this._getCPI(),n=i.getColumnTotals(),s=i.getRowTotals(),a=parseInt(e,10)-1-s.header,r=parseInt(t,10)-1-n.group[0],l=o.uiPaginatedRows.visibleRows[a];return l&&l.getCell(r)},getColumnTotals(){const e=this.get("cellContents"),t={total:0,group:[0,0,0]};e.columnSections.forEach(e=>{const o=e.headRowVNodes.length;t.total+=o;t.group[e.position]=o});return t},getRowTotals(){const e=this.getState(),t={header:1,data:e.uiPaginatedRows.visibleRows.length,summaries:e.hasSummaries?1:0,drawers:Object.keys(e._drawers).length};t.total=Object.values(t).reduce((e,t)=>e+t,0);return t},getParentCellElement(e){const t=this._getCPI();if(e&&!e.hasAttribute("aria-colindex")){return t.getParentCellElement(e.parentElement)}return e},getCell(e,t){const o=this.getState();if(!o._elementContainer)return null;if(!e&&!t){if(o._activeCell){const i=o._activeCell.split("-");e=Math.parseInt(i[0]);t=Math.parseInt(i[1])}else{e=1;t=1}}if(isNaN(e)||isNaN(t))return null;return o._elementContainer.querySelector('[aria-rowindex="'.concat(e,'"][aria-colindex="').concat(t,'"]'))},getDataCell(e,t){const o=this.getState();if(!o._elementContainer)return null;return o._elementContainer.querySelector('[data-cell-index="'.concat(e,"-").concat(t,'"]'))},focusOnCellFromEvent(e){this._cpi.focusOnCell(e.currentTarget)},focusOnTableCell(e,t){this._cpi.focusOnCell(this._cpi.getCell(e,t))},focusOnDataCell(e,t){const o=this._cpi.getDataCell(e,t);this._cpi.focusOnCell(o)},focusOnCell(e){if(!e)return;const t=e.getAttribute("aria-rowindex"),o=e.getAttribute("aria-colindex");e.setAttribute("tabindex","0");e.focus();this.set("_activeCell","".concat(t,"-").concat(o),false)},onBlurCellOrInput(e){if(!this.get("_elementContainer").contains(e.relatedTarget)){this.set("_activeCell",null,false)}},onTableKeyDown(e){const t=this._getCPI(),o=this.getState(),i=document.activeElement,s=t.getParentCellElement(i);if(!s)return;const a=s&&s.getAttribute("data-record-id"),r=a&&o.rowModeOverrides[a],l=r||o.mode,c=i===s,d=Cl.indexOf(e.keyCode)>-1,u=e.keyCode===pl.ENTER,p=e.keyCode===pl.ESCAPE,g=e=>e&&e.extras&&e.extras.editable;let h=parseInt(s.getAttribute("aria-rowindex"),10),b=parseInt(s.getAttribute("aria-colindex"),10),f;if(c&&d){t.performArrowKeyAction(e,s,h,b)}else if(c&&u){e.preventDefault();f=t.getUiCellByAriaIndex(h,b);if(f){const e=g(f);if(l==="read"&&e||l==="edit"&&(f.displayType==="template"||f.htmlFormatted)&&e){t.onEditCell(s,f);return}}const o=n["c"].ui.getFocusableElements(s);o[0]&&o[0].focus()}else if(p){e.stopPropagation();f=t.getUiCellByAriaIndex(h,b);if(l==="read"&&g(f)){t.onEditCell(s,f)}else{t.focusOnTableCell(h,b)}}},performArrowKeyAction(e,t,o,i){e.preventDefault();const n=this._getCPI(),s=n.getRowTotals(),a=n.getColumnTotals();let r;switch(e.keyCode){case pl.LEFT:do{i=i>1?i-1:i;r=n.getCell(o,i)}while(!r&&i>=0);break;case pl.RIGHT:do{i+=1;r=n.getCell(o,i)}while(!r&&i<=a.total);break;case pl.UP:do{o=o>1?o-1:o;r=n.getCell(o,i)}while(!r&&o>=0);break;case pl.DOWN:do{o+=1;r=n.getCell(o,i)}while(!r&&o<=s.total);break}n.focusOnTableCell(o,i)},onMouseEnterRow(e){this.set({_hoveringRowIndex:parseInt(e.target.getAttribute("aria-rowindex"))})},onMouseLeaveRow(){this.set({_hoveringRowIndex:null})},handleReferenceFieldExport(e,t,o){const i=this._getCPI();const n=t.searchTemplate||t.displayTemplate;const s=[];s.push({id:t.id,name:t.name||t.id,label:i.getLabel(t),template:t.template});const a=ll.getFieldRelationshipName(e.id,e);if(!n){const t=o.getDataSource();const i=e.ref&&t.getNameField(e.ref);const n=i&&o.getField(a+"."+i);if(n){s.push(n)}return s}const r=ll.extractFieldsFromTemplate(n,{ignoreGlobals:true});if(!r||!r.length){return s}r.forEach(e=>{const t=o.getField(a+"."+e);if(t){s.push(t)}});return s},exportData(){let e=ll.mergeAsTextInContext,t={},o=this._getCPI(),{exportProperties:i,model:s,fields:a,conditions:r}=this.getState();if(s.hasChanged){ll._floatingComponentFactory.createToast("Cannot export unsaved data.",{styleSettingsVariant:"warning"});return ll.resolve()}if(!i.useTableColumns){let o=i.columns;t.fields=o.map(t=>{let o=t.type,i=t.field,n=o==="field"?s.getField(i):null,a={id:i,name:i},r;if(n){a.displaytype=n.displaytype;a.type=n.type;a.referenceTo=n.referenceTo;a.ref=n.ref}a.template=t.template;r=t.label;a.label=e(r||"",{model:s});return a})}else{t.doNotAppendRowIdColumn=!i.appendRowIdColumn;t.fields=[];a.forEach(e=>{const i=s.getField(e.id);if(i&&i.displaytype==="REFERENCE"){const n=o.handleReferenceFieldExport(i,e,s);t.fields=t.fields.concat(n);return}t.fields.push({id:e.id,name:e.name||e.id,label:o.getLabel(e),template:e.template})})}let l=i.filename;if(l)t.fileName=e(l,{model:s});const c=o.getSelectedRecords();if(c.length){t.rows=c}if(r&&r.length){t.additionalConditions=r}if(s.canRetrieveMoreRows&&i.loadAllRecords&&!c.length){let e=ll.Deferred();const o=this.getParentPage()._cpi;o.blockUI({message:rl("Retrieving_data_for_export")});s.loadAllRemainingRecords({stepCallback(e,t){o.blockUI({message:n["c"].label.merge(rl("Retrieving_records_a_to_b"),e,t)})},finishCallback(i){s.exportData(t);o.blockUI({message:n["c"].label.merge(rl("All_records_exported_to_CSV"),i)});setTimeout(function(){o.unblockUI()},1500);e.resolve()}});return e.promise()}else{return s.exportData(t)}},initFields(){let e=this,{_disablePersonalization:t,allowColumnOrdering:o,allowSortingByColumn:i,model:s,sortOnClient:a}=e.getState(),r=e._getCPI(),l=e.getPersonalizationService(),c=l.getSettings(),d=!t&&c.fieldsOrder||[];let{headRowData:u={fields:[]},fields:p=[]}=e.getState();let g=new Gr(!t&&l);const h=[];p.forEach(e=>{if(e.summaries&&e.summaries.length){h.push(e.name||e.id)}});e.set("hasSummaries",h.length>0);if(o){p.forEach((e,t)=>{const o=d.indexOf(r.getLabel(e));e.order=o>-1?o:t});p=p.sort((e,t)=>e.order-t.order)}p.forEach(e=>delete e.order);e.set("fields",p);if(s){const t=e.get("fields");u={fields:t.map(t=>{const o=r.getLabel(t),l=s.getOrderObject();if(t.hideable==="trueHideByDefault"&&g.get(o,fl)===undefined){g.set(o,fl,true)}let c;if(i&&(s.getField(t.id).sortable||a||t.orderField)){c=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/table-header",tabIndex:"-1",icon:"sk-webicon-ink:chevron-double",iconPosition:"center",tooltip:'<tooltip text="Sort table" compact="true" />',onClick(){const e={clientSide:n["c"].offline.networkDown()?true:a,serverOrderData:l};const o=t.orderField?s.getField(t.orderField):t;s.toggleOrdering(o,e,()=>{})}});e.subscribeChange("modelHasChanged",e=>{c.set("disabled",e)})}return{label:o,fieldId:t.id,fieldName:t.name,fieldColumnWidth:t.columnWidth,fieldColumnMaxWidth:t.columnMaxWidth,columnWidth:g.get(o,hl)||t.columnWidth,columnMaxWidth:g.get(o,bl)||t.columnMaxWidth,horizontalAlignment:t.horizontalAlignment,summaries:t.summaries,decimalPlaces:t.decimalPlaces,defaultSummary:g.get(o,"defaultSummary")||t.defaultSummary||t.summaries&&t.summaries[0],dropdownButton:c}})};const o=ll.debounceImmediate(r.resolveModelChanges,H["r"]);["cancelled","loaded","saved","row.created"].forEach(function(t){e.storeSubscription(s.subscribe(t,o))});e.storeSubscription(s.subscribe("saved",e=>{if(e.totalsuccess)r.onModelSaveCancel()}));e.storeSubscription(s.subscribe("cancelled",r.onModelSaveCancel));e.storeSubscription(s.subscribe("row.updated",t=>{e.set("modelHasChanged",s.hasChanged);const o=Object.keys(t.updates);const i=t.model.getRowId(t.row);let n=false;e.get("uiPaginatedRows").visibleRows.forEach(t=>{if(t.recordId===i){t.updateCellsDisplayInfo();e.scheduleVirtualRender();if(h.length>0&&o.find(e=>h.includes(e))){n=true}}});n&&r.updateSummaries()}));["row.deleted","row.undeleted"].forEach(t=>{e.storeSubscription(s.subscribe(t,()=>{e.scheduleVirtualRender()}))});e.set({columnsSettings:g,headRowData:u})}},initListHeader(){const{model:e,massActions:t,actions:o,context:i,title:n,filtering:s,filters:a,showSaveCancel:r,saveIcon:l,cancelIcon:c,moreActionsButtonIcon:d,showListHeader:u,listHeaderInstance:p}=this.getState();if(!u||p)return;const g=this._getCPI(),h=g.getMoreActionsOptions();const b=this.createChildComponent({componentType:"skuid__listHeader",styleSettingsVariant:"@parent/tableHeader",model:e,context:i,showTitle:true,title:n,showSaveCancel:r,saveIcon:l,cancelIcon:c,filtering:s,filters:a,massActions:t,actions:o,moreActionsButtonIcon:d,moreActionsOptions:h});this.subscribeChange("context",e=>b.set("context",e));this.set("listHeaderInstance",b)},getMoreActionsOptions(){const{allowColumnHiding:e,enableExport:t,allowColumnFreezing:o}=this.getState();return[...e||o==="dragDropAndModal"||o==="modal"?[{label:"Table Settings",onSelect:this._getCPI().openConfigureModal}]:[],...t?[{label:rl("Export_Data"),onSelect:this._getCPI().exportData}]:[]]},initListFooter(){const e=this,{listFooterInstance:t,model:o,showPageSizeSelect:i,showLoadMore:n,showListFooter:s}=this.getState();if(!s||t)return;const a=e.createChildComponent({componentType:"skuid__listFooter",styleSettingsVariant:"@parent/tableFooter",showPageSizeSelect:i,uiPaginatedRows:e.get("uiPaginatedRows"),model:o,showLoadMore:n}),r=this._getCPI();["pageSize","pageIndex","uiPaginatedRows"].forEach(t=>{e.bind(t,a);e.storeSubscription(a.subscribeChange(t,()=>{r.updateActions()}))});a.subscribeChange("pageSize",r.createComponentsForVisibleRows);a.subscribeChange("pageIndex",()=>{r.createComponentsForVisibleRows();r.updateSummaries()});e.set("listFooterInstance",a)},initMassActionCheckboxHead(){const{hasSummaries:e,massActions:t,enableExport:o,massActionCheckboxHead:i,massActionCheckboxHeadSummaries:n}=this.getState();if((!t||!t.children().length)&&!o&&!e){this.set("hasMassActions",false);return}this.set("hasMassActions",true);if(!n&&e){this.set("massActionCheckboxHeadSummaries",this.createChildComponent({componentType:"skuid__checkbox",tabIndex:"-1",centered:true}))}if(!i){this.set({massActionCheckboxHead:Ao["a"].massActionCheckboxHead(this)})}this._getCPI().addMassActionCheckboxHeadListener()}}),actions:{drawer(e,t,o){t.getCPI().toggleDrawer(o.model.getRowId(o.row))},massUpdate(e,t){t._getCPI().createMassUpdateModal()},openConfigureModal(e,t){t.getCPI().openConfigureModal()},changeMode(e,t){const o=e.attr("mode"),i=t.get("mode");if(i==="readonly")return;let n;if(!o||o==="toggle"){n=i==="read"?"edit":"read"}else{n=o}t.set("mode",n);if(n==="edit"){t._getCPI().focusOnDataCell(0,0)}},toggleModeRow(e,t,o){if(!o.row)return;t._cpi.toggleRowModeAction(e.attr("targetMode"),o.row)},goToPage:io},needsModelMetadata:true}));var Sl={getStyleSettingsVariants:()=>{const e={color:"@tk.utility.fontColor",fontWeight:"@tk.fontWeight.bold",fontFamily:"@tk.fontFamily.primary"};return{default:{color:{label:"Text Color",value:"@tk.utility.fontColor"},fontWeight:"@tk.fontWeight.regular",fontSize:"@tk.fontSize.body",lineHeight:"@tk.lineHeight.roomy",fontFamily:"@tk.fontFamily.primary",textTransform:null,letterSpacing:null,textDecoration:"none",bolded:{fontWeight:"@tk.fontWeight.bold"},list:{lineHeight:"@tk.lineHeight.spacious"}},small:Object.assign({},e,{fontSize:"@tk.fontSize.small"}),medium:Object.assign({},e,{fontSize:"@tk.fontSize.medium"}),increased:Object.assign({},e,{fontSize:"@tk.fontSize.increased"}),large:Object.assign({},e,{fontSize:"@tk.fontSize.large"}),extraLarge:Object.assign({},e,{fontSize:"@tk.fontSize.extraLarge"}),huge:Object.assign({},e,{fontSize:"@tk.fontSize.huge"}),gigantic:Object.assign({},e,{fontSize:"@tk.fontSize.gigantic"})}},getStyles:e=>({text:{color:e.color,fontFamily:e.fontFamily,fontWeight:e.fontWeight,fontSize:e.fontSize,lineHeight:e.lineHeight,textTransform:e.textTransform,letterSpacing:e.letterSpacing,textDecoration:e.textDecoration,margin:0,"& li":{lineHeight:e.list.lineHeight},"& b":{fontWeight:e.bolded.fontWeight}},"salesforce-accommodations":{"& ul, menu, dir":{display:"block","list-style-type":"disc",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:"40px"},"& ol":{display:"block",listStyleType:"decimal",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:"40px"},"& li":{display:"list-item"},"& ul ul, ol ul":{listStyleType:"circle"},"& ol ol ul, ol ul ul, ul ol ul, ul ul ul":{listStyleType:"square"},"& dd":{display:"block",marginInlineStart:"40px"},"& dl":{display:"block",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:0,marginInlineEnd:0},"& dt":{display:"block"},"& ol ul, ul ol, ul ul, ol ol":{marginBlockStart:0,marginBlockEnd:0},"& h1":{display:"block",fontSize:"2em",marginBlockStart:"0.67em",marginBlockEnd:"0.67em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& h2":{display:"block",fontSize:"1.5em",marginBlockStart:"0.83em",marginBlockEnd:"0.83em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& h3":{display:"block",fontSize:"1.17em",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& h4":{display:"block",marginBlockStart:"1.33em",marginBlockEnd:"1.33em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& h5":{display:"block",fontSize:".83em",marginBlockStart:"1.67em",marginBlockEnd:"1.67em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& h6":{display:"block",fontSize:".67em",marginBlockStart:"2.33em",marginBlockEnd:"2.33em",marginInlineStart:0,marginInlineEnd:0,fontWeight:"bold"},"& p":{display:"block",marginBlockStart:"1em",marginBlockEnd:"1em",marginInlineStart:0,marginInlineEnd:0}}})};var wl={attributes:{_doNotMerge:{type:"boolean",default:false},allowHTML:{type:"boolean",default:true},contents:{type:"string",default:""},model:{type:"model"},tag:{type:"string",default:"div"}},properties:{styles:true,conditions:true,enableConditions:true,renderConditions:true,styleVariantConditions:true}};const{h:_l,$:Il}=Object(n["d"])();n["a"].register("skuid__text",Object.assign({},Sl,{schema:wl,init(e,t,o){const{allowHTML:i,conditions:n}=t,s=e.shortcut("set");if(n){s({conditions:e.createConditionsFromXml(n)})}if(!t._doNotMerge){e.subscribeChange("mergedContents",o.updateText);e.registerMergeAttribute("contents","mergedContents",{allowHTML:i,asText:!i})}},renderVDom(e){const t=e.shortcut("getStyledClasses"),{tag:o,allowHTML:i,mergedContents:n,uniqueId:s,displayNone:a}=e.getState(),r=e._getCPI();return _l("div",{key:e,id:s},[_l(o||"div",{key:"text-area",classes:t({text:true,"salesforce-accommodations":true}),styles:{display:a?"none":undefined},afterCreate:i?r.afterCreate:undefined},!i&&[n])])},cpi:{afterCreate(e){this.set("_element",e,false);this._cpi.updateText();if(this.get("renderCKEditor")){this.get("renderCKEditor")(e)}},updateText(){const{_element:e,allowHTML:t,mergedContents:o}=this.getState();if(t){Il(e).empty().append(o)}}}}));var vl={getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:{_zIndex:H["x"].TOAST,backgroundColor:"@palette.neutral",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.neutral",borderRadius:"@tk.borderRadius.primary",boxShadow:null,color:"@palette.white",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.spacious",maxWidth:t(40),minWidth:t(25),spacingFromPage:"@tk.spacing.s2",messagePadding:"@tk.spacing.s2",hover:{backgroundColor:null,border:null,boxShadow:null,color:null}},error:{backgroundColor:"@palette.error",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.error"},warning:{backgroundColor:"@palette.warning",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.warning"}}},getStyles:e=>({toast:Object.assign({zIndex:e._zIndex,position:"fixed",left:e.spacingFromPage,bottom:0,backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,color:e.color,transition:"transform 250ms ease, bottom 250ms ease",transform:"translateY(100%)",maxWidth:e.maxWidth,minWidth:e.minWidth,boxShadow:e.boxShadow,"&:hover":Object.assign({backgroundColor:e.hover.backgroundColor},s(e.hover.border),{boxShadow:e.hover.boxShadow,color:e.hover.color})}),"--DSS":{position:"relative",left:0,bottom:0,transform:"none"},"toast--slide-in":{transform:"translateY(0)",bottom:e.spacingFromPage},"toast--fade-out":{opacity:0},"toast--clickable":{"&:hover":{cursor:"pointer"}},toast__message:{fontSize:e.fontSize,lineHeight:e.lineHeight,padding:e.messagePadding,whiteSpace:"pre-wrap"}})};var xl={attributes:{_forTheming:{type:"boolean",default:false},message:{type:"string"},clickToDismiss:{type:"boolean",default:false},duration:{type:"number",default:4}},properties:{context:true},access:{cpi:{public:["close"]}}};const{div:Tl}=Object(n["d"])();n["a"].register("skuid__toast",Object.assign({},vl,{schema:xl,init(e){e.registerMergeAttribute("message","_message")},renderVDom(e){const t=e.shortcut("getStyledClasses"),{uniqueId:o,clickToDismiss:i,slideIn:n,fadeOut:s,_message:a,_forTheming:r}=e.getState(),l=e._getCPI();return Tl({key:e,id:o,classes:t({toast:true,"--DSS":r,"toast--clickable":i,"toast--slide-in":n,"toast--fade-out":s}),afterCreate:l.afterCreate,onclick:i&&l.close},[Tl({classes:t({toast__message:true})},[a])])},cpi:{afterCreate(){const e=this._getCPI(),{duration:t,_forTheming:o}=this.getState();if(o)return;this.delay(1).then(()=>this.set("slideIn",true));if(t){this.delay(t*1e3).then(()=>e.close())}},close(){this.set("fadeOut",true);this.delay(500).then(()=>this.unregister())}}}));const Ol=250;var Rl={getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:{backgroundColor:"@palette.neutral",border:"@tk.borderSize.primary @tk.borderStyle.primary @palette.neutral",borderRadius:"@tk.borderRadius.primary",boxShadow:"@tk.shadow.heavy",color:{label:"Text Color",value:"@palette.white"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",lineHeight:"@tk.lineHeight.spacious",opacity:"@tk.opacity.dark",padding:"@tk.spacing.s2",maxWidth:t(44),_caret:{position:{type:"spacing",value:"-".concat(t(5/8))},size:{type:"spacing",value:"@tk.spacing.s1"}},compact:{fontSize:"@tk.spacing.s1_5",lineHeight:"@tk.lineHeight.roomy",padding:"@tk.spacing.s1 @tk.spacing.s1_5"}},light:{backgroundColor:"@palette.white",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",boxShadow:"@tk.shadow.heavy",color:{label:"Text Color",value:"@palette.neutral.3"},opacity:1}}},getStyles:e=>({tooltip:{position:"absolute",color:e.color,padding:e.padding,fontSize:e.fontSize,fontWeight:e.fontWeight,lineHeight:e.lineHeight,opacity:0,maxWidth:e.maxWidth,pointerEvents:"none",transition:"opacity ".concat(Ol,"ms ease")},"tooltip--transition":{transition:"opacity ".concat(Ol,"ms ease")},"tooltip--compact":{fontSize:e.compact.fontSize,lineHeight:e.compact.lineHeight,padding:e.compact.padding},"tooltip--visible":{opacity:1,pointerEvents:"all"},"tooltip-backdrop":{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:e.backgroundColor,border:e.border,borderRadius:e.borderRadius,boxShadow:e.boxShadow,opacity:e.opacity},"-DSS":{position:"relative",opacity:1,zIndex:1,"& $caret":{left:"5px"}},caret:{position:"absolute",transform:"rotate(45deg)",backgroundColor:e.backgroundColor,border:e.border,height:e._caret.size,width:e._caret.size},"caret--top":{bottom:e._caret.position,borderLeft:"none",borderTop:"none"},"caret--bottom":{top:e._caret.position,borderRight:"none",borderBottom:"none"},"caret--left":{right:e._caret.position,borderLeft:"none",borderBottom:"none"},"caret--right":{left:e._caret.position,borderRight:"none",borderTop:"none"},content:{position:"relative"}})};var El={attributes:{_forTheming:{type:"boolean",default:false},delay:{type:"number",default:0},target:{type:"element"},text:{type:"string"},compact:{type:"boolean",default:false},position:{type:"picklist",options:["top","bottom","left","right"],default:"top"},useTransition:{type:"boolean",default:true}},properties:{context:true},access:{cpi:{public:["show","hide","close"]}}};const{h:Pl,$:Dl,utils:Ml}=Object(n["d"])(),Al=Ml.increaseAndGetZIndex;n["a"].register("skuid__tooltip",Object.assign({},Rl,{schema:El,init(e,t){const o=e.shortcut("set"),i=t.target instanceof Dl?t.target[0]:t.target;o({_zIndex:Al(),target:i});i&&i.setAttribute("aria-describedby",e.getId());e.registerMergeAttribute("text","_text")},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_forTheming:o,_text:i,_zIndex:n,compact:s,position:a,visible:r,useTransition:l}=e.getState();return Pl("div",{key:e,afterCreate:e._getCPI().afterCreate,classes:t({tooltip:true,"tooltip--transition":l,"tooltip--compact":!!s,"tooltip--visible":!!r,"-DSS":!!o}),"aria-hidden":r?"false":"true",role:"tooltip",styles:{zIndex:r?n.toString():null}},[Pl("div",{classes:t({"tooltip-backdrop":true})},[Pl("div",{classes:t({caret:true,"caret--top":a==="top","caret--bottom":a==="bottom","caret--left":a==="left","caret--right":a==="right"})})]),Pl("div",{classes:t({content:true})},[i])])},cpi:{afterCreate(e){this.set("element",e,false)},show(){const{delay:e,target:t}=this.getState();this._getCPI().positionTooltip(t);this.set("hovering",true);this.delay(e).then(()=>{if(this.get("hovering")){this.set({_zIndex:Al(),visible:true})}})},hide(){this.set({hovering:false,visible:false});return this.delay(Ol).then(()=>this)},close(){this.set({hovering:false,visible:false})},positionTooltip(e){const t=this.getState(),o=this.element[0],i=o.childNodes[0].childNodes[0],n=o.getBoundingClientRect(),s=i.getBoundingClientRect(),a=e.getBoundingClientRect(),r=12,l=document.body.offsetWidth>window.outerWidth?document.body.offsetWidth:window.outerWidth,c=document.body.offsetHeight>window.outerHeight?document.body.offsetHeight:window.outerHeight,d=n.width/2,u=n.height/2,p=s.height/2,g=a.width/2,h=a.height/2,b=this.getParentPage({root:true}).getDynamicComponentsContainer(),f=b&&b.length?b[0].getBoundingClientRect():{top:0,left:0},m=(a.top||0)-(f.top||0),y=(a.left||0)-(f.left||0),C={left:{top:m+h-u,left:y-n.width-r},right:{top:m+h-u,left:y+a.width+r},top:{top:m-n.height-r,left:y+g-d},bottom:{top:m+a.height+r,left:y+g-d}},k=e=>"".concat(e,"px");let S=C[t.position];switch(t.position){case"left":case"right":if(t.position==="left"){if(S.left<0){S.left=C.right.left;this.set("position","right")}}else{if(S.left+n.width>l){S.left=C.left.left;this.set("position","left")}}o.style.left=k(S.left);if(S.top<-f.top){S.top=m+r}if(S.top+n.height>c){S.top=c-n.height}o.style.top=k(S.top);i.style.top=k(m+h-p-S.top);break;case"top":case"bottom":if(t.position==="top"){if(S.top<-f.top){S.top=C.bottom.top;this.set("position","bottom")}}else{if(S.top+n.height>c){S.top=C.top.top;this.set("position","top")}}o.style.top=k(S.top);if(n.width>l){o.style.left=k(r);o.style.right=k(r);o.style.maxWidth=null;i.style.left=k(y+g-p-r)}else{if(S.left<0){S.left=y}if(S.left+n.width>l){S.left=y+a.width-n.width}o.style.left=k(S.left);i.style.left=k(y+g-p-S.left)}break}}}}));const Vl=150;function Fl(){return{FADE_IN_OUT_TIME:Vl}}var Ll={getStyleSettingsVariants(){return{default:{_zIndex:H["x"].UI_BLOCKER,backgroundColor:"@palette.white",opacity:"@tk.opacity.medium",textPadding:"@tk.spacing.s1",text:{fontSize:"@tk.fontSize.medium",fontWeight:"@tk.fontWeight.bold"},subtext:{fontSize:"@tk.fontSize.body"},placeholder:{color:"@palette.primary"}},dark:{backgroundColor:"@palette.neutral",opacity:"@tk.opacity.dark",text:{color:"@palette.white"},subtext:{color:"@palette.white"},placeholder:{color:"@palette.white"}}}},getStyleSettingsVariantsChildren(e){return{skuid__text:{text:Object.assign({},e.text),subtext:Object.assign({},e.subtext)},skuid__placeholder:{spinner:{color:e.placeholder&&e.placeholder.color}}}},getStyles:e=>({"ui-blocker":{zIndex:e._zIndex,position:"fixed",top:0,right:0,bottom:0,left:0,opacity:0,transition:"opacity ".concat(Vl,"ms")},"ui-blocker--in-container":{position:"absolute"},"ui-blocker-backdrop":{position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:e.backgroundColor,opacity:e.opacity},"ui-blocker--show":{opacity:1},"ui-blocker--invisible":{visibility:"hidden"},"text-wrapper":{color:"white",position:"absolute",width:"100%",textAlign:"center",top:"40%",justifyContent:"center",padding:e.textPadding},"-DSS":{zIndex:"2",position:"relative",height:"400px",visibility:"visible",opacity:1}})};var Bl={attributes:{_blocked:{type:"boolean",default:false},_forTheming:{type:"boolean",default:false},model:{type:"model"},text:{type:"string"},subtext:{type:"string"},showPlaceholder:{type:"boolean"},inContainer:{type:"boolean"}},access:{cpi:{public:["block","unblock"]}}};const{div:zl}=Object(n["d"])(),{FADE_IN_OUT_TIME:Nl}=Fl();n["a"].register("skuid__uiBlocker",Object.assign({},Ll,{schema:Bl,init(e,t,o){const i=e.shortcut("set"),{model:s}=e.getState();o.updateTextComponents();o.updatePlaceholder();e.subscribeChange("text",o.updateTextComponents);e.subscribeChange("subtext",o.updateTextComponents);e.subscribeChange("showPlaceholder",o.updatePlaceholder);if(s){e.storeSubscription(s.subscribe("load-initiated",()=>{if(n["c"].component.getByType("skuid__page")[0].get("uiBlocked"))return;o.block();t.enableDrawers&&o.closeAllDrawers()}));e.storeSubscription(s.subscribe("loaded",()=>{o.unblock()}));e.storeSubscription(s.subscribe("loaded-with-error",()=>{o.unblock()}))}i({invisible:true})},renderVDom(e){const t=e.shortcut("getStyledClasses"),{_blocked:o,invisible:i,textInstance:n,subtextInstance:s,placeholderInstance:a,showPlaceholder:r,inContainer:l,_forTheming:c}=e.getState();return zl({key:e,classes:t({"ui-blocker":true,"ui-blocker--in-container":l,"ui-blocker--show":o,"ui-blocker--invisible":i,"-DSS":c})},[zl({class:t("ui-blocker-backdrop"),key:"backdrop"}),(n||s)&&zl({key:"text-wrapper",class:t("text-wrapper")},[r&&a&&a.renderVDom(),n&&n.renderVDom(),s&&s.renderVDom()])])},cpi:{block(){this.set("_blocked",true);this.set("invisible",false)},unblock(){this.set("_blocked",false);this.delay(Nl).then(()=>{if(!this.get("_blocked")){this.set("invisible",true)}})},updateTextComponents(){let{text:e,textInstance:t,subtext:o,subtextInstance:i,context:n}=this.getState();if(e){if(!t){t=this.createChildComponent({componentType:"skuid__text",styleSettingsVariant:"@parent/text",allowHTML:false,contents:e,styles:{spacing:{marginBottom:"s1"}},context:n});this.bind("text",t,"contents");this.bind("context",t);this.set("textInstance",t)}}if(o){if(!i){i=this.createChildComponent({componentType:"skuid__text",styleSettingsVariant:"@parent/subtext",allowHTML:false,contents:e,context:n});this.bind("subtext",i,"contents");this.bind("context",i);this.set("subtextInstance",i)}}},updatePlaceholder(){if(!this.get("placeholderInstance")){this.set("placeholderInstance",this.createChildComponent({componentType:"skuid__placeholder",progressIndication:"radialIndeterminate",styleSettingsVariant:"@parent/spinner",styles:{spacing:{marginBottom:"s4"}}}))}}}}));var jl={getStyleSettings(){return{buttonSpacing:"@tk.spacing.s1"}},getStyleSettingsVariantsChildren(){return{skuid__button:{button:"circularWithBorder"},skuid__inputText:{input:"default"}}},getStyles(e){return{inputWrapper:{flex:"1",display:"inline-block"},buttonDown:{marginRight:e.buttonSpacing},buttonUp:{marginLeft:e.buttonSpacing},valueStepper:{display:"flex"}}}};var Hl={attributes:{disabled:{type:"boolean",default:false},id:{type:"string"},iconLeft:{type:"string"},iconRight:{type:"string"},step:{type:"number",default:1},min:{type:"number"},max:{type:"number"},rightAlign:{type:"boolean",default:false},placeholder:{type:"text"},defaultValue:{type:"number"},value:{type:"number",required:true},describedBy:{type:"string"},labeledBy:{type:"string"},warning:{type:"boolean",default:false},inputId:{}},access:{cpi:{public:["stepValue","resetToDefaultValue"]}}};const{h:Wl}=Object(n["d"])();n["a"].register("skuid__valueStepper",Object.assign({},jl,{schema:Hl,init(e,t,o){const i=e.shortcut("set"),n=()=>!e.get("disabled")&&t.max!==undefined?e.get("value")>=t.max:e.get("disabled"),s=()=>!e.get("disabled")&&t.min!==undefined?e.get("value")>=t.min:e.get("disabled"),a=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/button",icon:"sk-webicon-ink:add",disabled:n()}),r=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/button",icon:"sk-webicon-ink:subtract",disabled:s()}),l={componentType:"skuid__inputText",styleSettingsVariant:"@parent/input",value:"".concat(t.value),type:"number",warning:t.warning,describedBy:t.describedBy,rightAlign:t.rightAlign,step:t.step,placeholder:t.placeholder,inputId:t.inputId};let c;if(t.min!==undefined)l.min=t.min;if(t.max!==undefined)l.max=t.max;c=e.createChildComponent(l);e.bind("disabled",c);e.bind("describedBy",c);e.subscribeChange("disabled",e=>{if(e===true){a.set("disabled",true);r.set("disabled",true)}else{a.set("disabled",n());r.set("disabled",s())}});a.subscribe("click",()=>{o.stepValue(true)});r.subscribe("click",()=>{o.stepValue(false)});e.bind("value",c);i({step:t.step||1,value:t.value||0,buttonUp:a,buttonDown:r,textInput:c});c.subscribeChange("value",o.updateDisabled)},renderVDom(e){const t=e.shortcut("getStyledClasses"),o=e.getState();return Wl("div",{key:e,class:t("valueStepper")},[Wl("span",{key:"down",class:t("buttonDown")},[o.buttonDown.renderVDom()]),Wl("span",{key:"input",class:t("inputWrapper")},[o.textInput.renderVDom()]),Wl("span",{key:"up",class:t("buttonUp")},[o.buttonUp.renderVDom()])])},cpi:{stepValue(e){const t=this.getState(),o=parseFloat(t.value),i=isNaN(o)?0:o,n=i+t.step*(e?1:-1);t.textInput.set("value",n)},updateDisabled(){const e=this.getState();if(e.min!==undefined){e.value=Math.max(e.min,e.value);e.buttonDown.set("disabled",e.value<=e.min)}if(e.max!==undefined){e.value=Math.min(e.max,e.value);e.buttonUp.set("disabled",e.value>=e.max)}},resetToDefaultValue(){const{defaultValue:e,textInput:t}=this.getState();t.set("value",e)}}}));var Ul={getStyleSettingsVariants(){return{default:{_webkitFontSmoothing:"antialiased",_mozOsxFontSmoothing:"grayscale",backgroundColor:"@tk.utility.backgroundColor",border:"@tk.borderSize.primary @tk.borderStyle.primary @tk.utility.borderColor",borderRadius:"@tk.borderRadius.primary",sectionItem:{border:null,padding:null,color:{label:"Text Color",value:"@palette.neutral.1"},fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold",textTransform:null,letterSpacing:null},navigationItem:{border:null,padding:"@tk.spacing.s1 @tk.spacing.s2",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",borderRadius:null,color:{label:"Text Color",value:"@tk.utility.fontColor"},hover:{backgroundColor:"transparent",border:null,borderRadius:null,fontWeight:null,color:{label:"Text Color",value:"@palette.neutral.-1"}},selected:{backgroundColor:"transparent",fontWeight:null,border:null,borderRadius:null,color:{label:"Text Color",value:"@palette.primary"},hover:{backgroundColor:"transparent",border:null,color:{label:"Text Color",value:"@palette.primary.-1"}}}},topLevelNavigationItem:{padding:"@tk.spacing.s1 @tk.spacing.s2",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.bold"},_focusShadow:"0 0 0 2px @tk.utility.focusColor"},borderless:{border:"none"}}},getStyles:e=>({"vertical-navigation":Object.assign({backgroundColor:e.backgroundColor},s(e.border),{borderRadius:e.borderRadius,boxSizing:"border-box",fontWeight:e.navigationItem.fontWeight,fontSize:e.navigationItem.fontSize,height:"100%",userSelect:"none","-ms-user-select":"none","-webkit-font-smoothing":e._webkitFontSmoothing,"-moz-osx-font-smoothing":e._mozOsxFontSmoothing}),"label--with-icon":{position:"relative"},"label--with-icon--right":{justifyContent:"space-between"},"icon-wrapper":{transition:"transform 100ms"},"icon-wrapper--rotated":{transform:"rotate(90deg)"},"label-wrapper":Object.assign({cursor:"pointer"},s(e.navigationItem.border),{fontSize:e.navigationItem.fontSize,fontWeight:e.navigationItem.fontWeight,borderRadius:e.navigationItem.borderRadius,color:e.navigationItem.color,display:"block","& > a":{color:e.navigationItem.color,textDecoration:"none !important",transition:"none !important","&:hover":{backgroundColor:e.navigationItem.hover.backgroundColor&&"".concat(e.navigationItem.hover.backgroundColor," !important"),color:e.navigationItem.hover.color}},"&:hover":Object.assign({backgroundColor:e.navigationItem.hover.backgroundColor&&"".concat(e.navigationItem.hover.backgroundColor," !important")},s(e.navigationItem.hover.border),{borderRadius:e.navigationItem.hover.borderRadius,fontWeight:e.navigationItem.hover.fontWeight,color:e.navigationItem.hover.color}),"&:focus":{outline:"none",boxShadow:e._focusShadow},"&$label-wrapper--selected":Object.assign({},s(e.navigationItem.selected.border),{borderRadius:e.navigationItem.selected.borderRadius,fontWeight:e.navigationItem.selected.fontWeight,backgroundColor:e.navigationItem.selected.backgroundColor&&"".concat(e.navigationItem.selected.backgroundColor," !important")})}),"section-wrapper":Object.assign({},s(e.sectionItem.border),{padding:e.sectionItem.padding,color:e.sectionItem.color,fontSize:e.sectionItem.fontSize,textTransform:e.sectionItem.textTransform,letterSpacing:e.sectionItem.letterSpacing,fontWeight:e.sectionItem.fontWeight,display:"block","&:focus":{outline:"none",boxShadow:e._focusShadow}}),"label-wrapper--selected":{},label:{display:"flex",alignItems:"center",textDecoration:"none",padding:e.navigationItem.padding,"&:focus":{outline:"none"}},"label-wrapper--top-level":{cursor:"pointer",fontSize:e.topLevelNavigationItem.fontSize,fontWeight:e.topLevelNavigationItem.fontWeight,"&$label":{padding:e.topLevelNavigationItem.padding},"&:first-child":{borderTop:"none"}},"label--selected":{color:e.navigationItem.selected.color&&"".concat(e.navigationItem.selected.color," !important"),"&:hover":Object.assign({backgroundColor:e.navigationItem.selected.hover.backgroundColor&&"".concat(e.navigationItem.selected.hover.backgroundColor," !important")},s(e.navigationItem.selected.hover.border),{color:e.navigationItem.selected.hover.color&&"".concat(e.navigationItem.selected.hover.color," !important")})},hidden:{display:"none"}})};var Gl={attributes:{href:{type:"string"},label:{type:"string"},source:{type:"picklist",options:["sfapps","usermenu","apps","manual","sfappswithtabs","sftabs","sfusermenu"],default:"manual"},selected:{type:"boolean"},iconOnRight:{type:"boolean",default:true},type:{type:"picklist",options:["section","action"]},showSubNav:{type:"boolean",default:false}},nodes:{items:{type:"array",childNode:{item:"skuid__verticalNavigation"}}},properties:{renderConditions:true,selectedConditions:true,styleVariantConditions:true,styles:true,actions:true}};const{h:ql,div:Yl,KEYCODES:$l}=Object(n["d"])();const Kl=n["c"].ui.getIconURLFromHandle("sk-webicon-ink:chevron-small-right");n["a"].register("skuid__verticalNavigation",Object.assign({},Ul,{schema:Gl,init(e,t,o){let{items:i}=t,s=e.shortcut("set"),a,r;if(window.location.hash){a=window.location.hash.substring(1)}let l=[];if(t.source!=="manual"){i=o.getPremadeItemGroups()}const c=t=>{t.forEach(t=>{t.id=t.uniqueId||n["c"].utils.generateGUID()+"";t.selected=!!t.selected;e.registerMergeText(t.label,"_labels:".concat(t.id));const o=F(t.actions);if(o){const o=B(t.actions);this.registerMergeText(o.url,"_href");e.registerMergeText(o.url,"_hrefs:".concat(t.id));t.isLink=true;t.target=o.target?"_".concat(o.target):""}if(t.renderConditions){e.conditionallyDo(()=>{t.conditionallyShow=true;e.scheduleVirtualRender()},()=>{t.conditionallyShow=false;e.scheduleVirtualRender()},t.renderConditions)}if(t.selectedConditions){e.conditionallyDo(()=>{t.selected=true;e.scheduleVirtualRender()},()=>{t.selected=false;e.scheduleVirtualRender()},t.selectedConditions)}l.push(t);t.items&&c(t.items);if(a&&t.id===a){r=t}})};c(i);s({items:i,allItems:l,selectedSections:{},rootElementTag:"nav"});r&&o.onClickItem(r)},renderVDom(e){const{items:t}=e.getState(),o=e._getCPI(),i=e.shortcut("getStyledClasses");return Yl({key:e},[ql("nav",{key:"navigation container",class:i("vertical-navigation")},[o.renderSubSections(t,0,{show:true})])])},cpi:{renderSubSections(e,t,o={}){const i=this.getState(),{uniqueId:n,iconOnRight:s}=i,a=this._getCPI(),r=this.shortcut("getStyledClasses");return Yl({key:o,id:o.id,role:"list",classes:r({hidden:!o.show})},e.map(e=>{const o=e.items&&!!e.items.length,l=o&&"".concat(n,"__").concat(e.id,"__subitems");const c=e.type==="section",d=c?"span":e.isLink?"a":"div";return e.conditionallyShow!==false&&[ql("li",{key:e,tabindex:"0","aria-expanded":o?!!e.showSubNav+"":undefined,role:"button",classes:r({"label-wrapper":!c,"section-wrapper":c,"label-wrapper--top-level":!c&&!t,"label-wrapper--selected":!c&&e.selected}),onclick:a.onClickItem.bind(null,e),onkeydown:a.onKeyDown.bind(null,e),"data-item-id":e.id+"","aria-controls":l,styles:{"padding-left":this.getThemeSettings().spacing(2.5*t)}},[ql(d,{key:"label wrapper",classes:r({label:true,"label--selected":!c&&e.selected,"label--with-icon":o,"label--with-icon--right":o&&s}),tabindex:"-1",target:e.target,href:i["_hrefs:".concat(e.id)]},[!!o&&!s&&Object(p["a"])(Kl,{classes:r({"icon-wrapper":true,"icon-wrapper--rotated":e.showSubNav})}),ql("span",{key:"label"},[i["_labels:".concat(e.id)]]),!!o&&s&&Object(p["a"])(Kl,{classes:r({"icon-wrapper":true,"icon-wrapper--rotated":e.showSubNav})})])]),o&&[a.renderSubSections(e.items,t+1,{id:l,show:e.showSubNav})]]}))},onKeyDown(e,t){if(t.keyCode===$l.SPACE||t.keyCode===$l.ENTER){this._getCPI().onClickItem(e,t,true)}},onClickItem(e,t,o=false){if(e.conditionallyShow===false)return;if(e.isLink&&t&&(t.ctrlKey||t.metaKey))return;t&&t.preventDefault();if(e.items){e.showSubNav=!e.showSubNav}else{const i=e.isLink;if(t&&i&&o){t.currentTarget.children[0].dispatchEvent(new MouseEvent("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey}))}if(e.actions){const{context:t}=this.getState();n["c"].actions.runActionsNode(e.actions,this,t)}if(!i||i&&t&&!t.metaKey&&!t.ctrlKey){this.get("allItems").forEach(e=>{e.selected=false});e.selected=true}}this.scheduleVirtualRender()},getPremadeItemGroups(){let e=n["c"].platform.getNavigationItemSourceTypes,t={},o=this.get("source");if(e){if(typeof e==="function"){e=e()}if(e&&e.length){e.forEach(function(e){if(e.value&&e.label){t[e.value]=e}})}}if(!t[o])return[];let i=t[o].items;if(i&&typeof i==="function"){i=i()}let s=e=>{return e.map(e=>{let t;if(e.items){if(typeof e.items==="function")t=s(e.items());else t=s(e.items)}return{label:e.label||"",actions:n["c"].utils.makeXMLDoc('<actions><action type="redirect" url="'.concat(e.link||"",'" /></actions>')),items:t}})};return s(i||[])}}}));var Xl={getStyleSettings(e){const{spacing:t}=e.getShortcuts();return{navigationButtons:{spacing:{label:"Spacing between buttons",value:"@tk.spacing.s1"},backgroundColor:null,padding:null,border:null,borderRadius:null},stepIndicators:{backgroundColor:"@tk.utility.borderColor",height:t(1),width:t(1),borderRadius:"@tk.borderRadius.rounded",spacingBetweenDots:"@tk.spacing.s1",active:{backgroundColor:"@palette.primary"}},content:{padding:"@tk.spacing.s2 0"}}},getStyles:e=>({"step-buttons":Object.assign({position:"relative",display:"flex",backgroundColor:e.navigationButtons.backgroundColor,padding:e.navigationButtons.padding},s(e.navigationButtons.border),{borderRadius:e.navigationButtons.borderRadius}),"step-buttons--justify-separate":{justifyContent:"space-between"},"step-buttons--justify-left":{},"step-buttons--justify-right":{justifyContent:"flex-end"},"step-buttons--justify-center":{justifyContent:"center"},"step-button":{marginRight:e.navigationButtons.spacing,"&:last-child":{marginRight:0}},"indicators-wrapper":{position:"absolute",width:"100%",height:"100%",left:"0",top:"0",pointerEvents:"none",flex:"1",display:"flex",justifyContent:"center",alignItems:"center"},indicator:{backgroundColor:e.stepIndicators.backgroundColor,height:e.stepIndicators.height,width:e.stepIndicators.width,borderRadius:e.stepIndicators.borderRadius,marginLeft:e.stepIndicators.spacingBetweenDots,"&:first-child":{marginLeft:"0"}},"indicator--active":{backgroundColor:e.stepIndicators.active.backgroundColor},"step-components":{flex:"1",padding:e.content.padding}})};var Ql={getStyleSettingsVariants:e=>{const{spacing:t}=e.getShortcuts();return{default:Object.assign({stepLabels:{color:"@tk.utility.fontColor",fontSize:"@tk.fontSize.body",fontWeight:"@tk.fontWeight.regular",padding:"@tk.spacing.s1"},stepConnectors:{spacing:{type:"spacing",value:"@tk.spacing.s1"},color:{label:"Line Color",value:"@tk.utility.borderColor"},thickness:{label:"Line Thickness",type:"CSS_SIZE",value:"1px"},size:{label:"Vertical Connector Width",type:"spacing",value:"@tk.spacing.s4"}},content:{padding:"@tk.spacing.s2 0"}},Xl.getStyleSettings(e),{_verticalConnectorMinHeight:t(8)})}},getStyleSettingsVariantsChildren(e){return{skuid__button:{stepButtons:"circularWithBorder"},skuid__wizardStep:{step:Object.assign({},e)}}},getStyles(e){return{"step-labels":{display:"flex"},"step-connector":{flex:"1",alignSelf:"center",boxSizing:"border-box",marginRight:e.stepConnectors.spacing,height:e.stepConnectors.thickness,backgroundColor:e.stepConnectors.color},"step-label":{display:"flex",alignItems:"center",boxSizing:"border-box",whiteSpace:"nowrap"},"step-label--selected":{},"step-label__label":{fontSize:e.stepLabels.fontSize,fontWeight:e.stepLabels.fontWeight,padding:e.stepLabels.padding,color:e.stepLabels.color},"step-content":{display:"flex",flexDirection:"column",flex:"1",maxWidth:"100%",height:"100%"},"vertical-step":{"& $step-content":{padding:e.content.padding,paddingTop:"0"}},"step-container":{display:"flex"},"vertical-connector":{flex:"0 0 ".concat(e.stepConnectors.size),width:e.stepConnectors.size,padding:"".concat(e.stepConnectors.spacing," 0")},"vertical-connector__inner":{width:e.stepConnectors.thickness,height:"100%",minHeight:e._verticalConnectorMinHeight,backgroundColor:e.stepConnectors.color,margin:"0 auto"}}}};var Zl=i(42);var Jl={attributes:{direction:{type:"picklist",default:Zl["a"].HORIZONTAL,options:[Zl["a"].HORIZONTAL,Zl["a"].VERTICAL]},hideStepLabels:{type:"boolean",default:false},disableStepButtons:{type:"boolean",default:false},currentStep:{type:"number",default:1},isResponsive:{type:"boolean",default:true},height:{type:"string"},maxHeight:{type:"string"},showStepIndicators:{type:"boolean",default:true},_forceShowStepIndicators:{type:"boolean",default:false}},nodes:{steps:{type:"array",childNode:{step:"skuid__wizardStep"}}},properties:{enableConditions:true,renderConditions:true,styleVariantConditions:true,styles:true},access:{cpi:{public:["navigate","navigateByIndex"]}}};const{div:ec,utils:tc}=Object(n["d"])();n["a"].register("skuid__wizard",Object.assign({},Ql,{schema:Jl,init(e,t,o){o.updateSteps();e.subscribeChange("steps",o.updateSteps);e.subscribeChange("currentStep",t=>{const o=t-1;e.get("stepsInstances").forEach((e,t)=>e.labelButton.set("selected",t===o))});e.subscribeChange("disableStepButtons",t=>{e.get("stepsInstances").forEach(e=>e.labelButton.set("disabled",t))});if(t.isResponsive&&t.direction===Zl["a"].HORIZONTAL&&!t.hideStepLabels){const t=tc.debounce(o.handleResizing,100);["ui.reflow","ui.resize"].forEach(o=>e.storeSubscription(n["c"].events.subscribe(o,t)))}},renderVDom(e){const{direction:t,height:o,maxHeight:i,hideStepLabels:n}=e.getState(),s=e._getCPI();return ec({key:e,afterCreate:s.afterCreate,styles:{height:o,maxHeight:i}},t===Zl["a"].HORIZONTAL?[!n&&s.renderHorizontalStepLabels(),s.renderStepComponents()]:[s.renderVerticalSteps()])},cpi:{renderHorizontalStepLabels(){const e=this.shortcut("getStyledClasses"),t=this._getCPI(),o=this.getState();return ec({key:"step-labels--horizontal",classes:e({"step-labels":true})},o.stepsInstances.map((i,n)=>[n!==0?ec({key:"connector-".concat(n),id:"".concat(o.uniqueId,"-connector-").concat(n),class:e("step-connector")}):null,t.renderStepLabel(i,n)]))},renderStepComponents(){const e=this.shortcut("getStyledClasses"),{stepsInstances:t,currentStep:o}=this.getState(),i=this._getCPI(),n=t[o-1];return ec({key:o,class:e("step-content"),afterCreate:i.afterCreateComponents},[n.stepInstance.renderVDom()])},renderVerticalSteps(){const e=this.shortcut("getStyledClasses"),t=this._getCPI(),o=this.getState(),i=o.stepsInstances.length;return ec({key:"step-labels--vertical"},o.stepsInstances.map((n,s)=>ec({key:s,class:e("vertical-step")},[t.renderStepLabel(n,s),ec({key:s,class:e("step-container")},[ec({class:e("vertical-connector")},[s+1<i?ec({class:e("vertical-connector__inner")}):null]),s+1===o.currentStep?t.renderStepComponents():null])])))},renderStepLabel(e,t){const o=this.shortcut("getStyledClasses"),i=this.getState();return ec({key:e.uniqueId,id:"".concat(i.uniqueId,"-step-label-").concat(e.uniqueId),classes:o({"step-label":true,"step-label--selected":t+1===i.currentStep})},[e.labelButton.renderVDom(),ec({classes:o({"step-label__label":true})},[i["_labels:".concat(e.id)]])])},navigate(e,t){const{stepsInstances:o}=this.getState(),i=o.findIndex(t=>t.id===e||t.uniqueId==e);if(i===-1)return;this.cpi.navigateByIndex(i,t)},navigateByIndex(e,t){if(e===-1)return;this.set("currentStep",e+1);this.get("projector").renderNow();const o=this.get("_elementComponents"),i=n["c"].ui.getFocusableElements(o);i[0]&&i[0].focus({preventScroll:true});if(t){let t=this.getElement().querySelectorAll(".".concat(this.getStyledClasses("step-label")))[e];if(!t)t=this.getElement().querySelectorAll(".".concat(this.getStyledClasses("step-content")))[0];t&&t.scrollIntoView({scrollMode:"if-needed",behavior:"smooth"})}},afterCreateComponents(e){this.set("_elementComponents",e,{renderOnChange:false})},afterCreate(e){this.set("_element",e,false)},handleResizing(){const e=this.get("_element");if(!e)return;this.clearVNodeCache();const t=this._getCPI(),o=()=>n["c"].$.extend(true,{},t.renderHorizontalStepLabels()),i=Object(Ao["e"])(o,e.offsetWidth),s=Object.keys(i).map(e=>i[e]);this.clearVNodeCache();this.set("direction",!s.every(Boolean)?Zl["a"].VERTICAL:Zl["a"].HORIZONTAL)},updateSteps(){const e=this,{context:t,currentStep:o,disableStepButtons:i,steps:s,stepsInstances:a=[],showStepIndicators:r,_forceShowStepIndicators:l}=e.getState();const c={};a.forEach(e=>c[e.id]=e);let d=(s||[]).map((s,a)=>{e.unregisterMergeText("_labels:".concat(s.stepId));e.registerMergeText(s.stepLabel,"_labels:".concat(s.stepId));let d=c[s.stepId];if(d){delete c[s.stepId];return d}let u=n["c"].utils.rfc4122v4GUID();const p=e.createChildComponent({componentType:"skuid__wizardStep",styleSettingsVariant:"@parent/step",_:s._,components:s.components,context:t,buttons:s.buttons,showStepIndicators:r,alignButtons:l?"separate":s.alignButtons,parentWizard:this});const g=e.createChildComponent({componentType:"skuid__button",styleSettingsVariant:"@parent/stepButtons",label:a+1+"",tooltip:s.tooltip,selected:a+1===o,enableConditions:s.enableConditions,renderConditions:s.renderConditions,disabled:i,onClick:t=>{t&&t.stopPropagation();e._cpi.navigate(u)}});this.subscribeChange("context",e=>{p.set("context",e);g.set("context",e)});return{id:s.stepId,uniqueId:u,stepInstance:p,labelButton:g}});Object.keys(c).forEach(e=>{c[e].stepInstance.unregister({avoidUnregisteringSpoofer:true});c[e].labelButton.unregister()});e.set({stepsInstances:d})}},actions:{navigateToStep(e,t){const o=e.attr("stepId"),i=t.getCPI();if(o){i.navigate(o,e.attr("scrollStepLabelIntoView")==="true")}}}}));var oc={attributes:{showStepIndicators:{type:"boolean",default:true},stepId:{type:"string"},stepLabel:{type:"string"},alignButtons:{type:"picklist",default:"left",options:["left","right","center","separate"]},parentWizard:{}},nodes:{buttons:{type:"array",childNode:{button:"skuid__button"}}},properties:{components:true,enableConditions:true,renderConditions:true,tooltip:true}};const{div:ic}=Object(n["d"])();n["a"].register("skuid__wizardStep",Object.assign({},Xl,{schema:oc,init(e,t,o){o.createComponents();o.createButtons();e.subscribeChange("components",o.createComponents);e.subscribeChange("buttons",o.createButtons)},renderVDom(e){const{alignButtons:t,showStepIndicators:o,_componentInstances:i,buttonInstances:n}=e.getState(),s=e.shortcut("getStyledClasses"),a=t==="separate"&&o,r=e._cpi;return ic([ic({key:"step components",classes:s({"step-components":true})},i.map(e=>e.renderVDom())),ic({key:"step buttons",class:s("step-buttons--justify-".concat(t)),classes:s({"step-buttons":true})},n.map((e,t)=>e.get("show")!==false&&[a&&t===1&&r.renderStepIndicators(),ic({key:e,class:s("step-button")},[e.renderVDom()])]))])},cpi:{createComponents(){const{components:e=[],_componentInstances:t=[],context:o}=this.getState();t.forEach(e=>this.unregisterChildComponent(e));this.set({_componentInstances:e.map(e=>{const t=this.createChildComponent(e,null,o);this.subscribeChange("context",e=>t.set("context",e));return t})})},createButtons(){const{buttons:e=[],buttonInstances:t=[],context:o}=this.getState();t.forEach(e=>e.unregister({avoidUnregisteringSpoofer:true}));this.set("buttonInstances",e.map(e=>{const t=this.createChildComponent(Object.assign({},e,{componentType:"skuid__button",context:o}));this.subscribeChange("context",e=>t.set("context",e));return t}))},renderStepIndicators(){const e=this.get("parentWizard");const{stepsInstances:t,currentStep:o}=e.getState(),i=this.shortcut("getStyledClasses");return ic({key:"progress indicators",class:i("indicators-wrapper")},t.map((e,t)=>ic({key:"".concat(e.uniqueId," indicator"),classes:i({indicator:true,"indicator--active":t+1===o})})))}}}));var nc={getStyleSettingsVariants:()=>{return{default:{backgroundColor:null,border:null,padding:null,shadow:null,borderRadius:null,hover:{backgroundColor:null,border:null,shadow:null}}}},getStyles(e){return{hidden:{fontSize:0,lineHeight:0},wrapper:Object.assign({overflowY:"auto",background:e.backgroundColor},s(e.border),{padding:e.padding,borderRadius:e.borderRadius,boxShadow:e.shadow,"&:hover":Object.assign({background:e.hover.backgroundColor},s(e.hover.border),{boxShadow:e.hover.shadow})}),"wrapper--as-link":{display:"block",textDecoration:"none !important"},"wrapper--clickable":{cursor:"pointer"}}}};var sc={attributes:{maxHeight:{type:"string"},maxHeightCustom:{type:"string"},minHeight:{type:"string"},minHeightCustom:{type:"string"},height:{type:"string"},heightCustom:{type:"string"},_zIndex:{type:"string"},heightStrategy:{type:"picklist",options:["fixed","minMax"],default:"minMax"}},nodes:{background:jn},properties:{components:true,interactions:true,renderConditions:true,styleVariantConditions:true,styles:true}};const{h:ac}=Object(n["d"])();n["a"].register("skuid__wrapper",Object.assign({},nc,{schema:sc,init(e,t,o){const i=e.shortcut("set"),{components:s,context:a,interactions:r}=t;o.updateStyles();if(z(r)){const t=N(r);i({renderAsLink:true,rawUrl:t.url,target:t.target,url:n["c"].utils.mergeAsTextInContext(t.url,a),rootElementTag:"a"});e.subscribeChange("context",e=>{this.set("url",n["c"].utils.mergeAsTextInContext(this.get("rawUrl"),e))})}i({hasClickInteractions:!!(r&&r.find('[type="tap"]').length)});o.createComponents(s);e.subscribeChange("components",o.createComponents)},renderVDom(e){const t=e.shortcut("getStyledClasses"),{hasClickInteractions:o,inlineStyles:i,renderAsLink:n,target:s,uniqueId:a,url:r,_componentInstances:l=[]}=e.getState();return ac(n?"a":"div",{key:e,id:a,classes:t({wrapper:true,"wrapper--clickable":o,"wrapper--as-link":n}),ontouchmove:C,styles:i||{},href:n&&r,target:n&&s},[ac("div",{"aria-hidden":"true",class:t("hidden"),key:"octopodes-1"},["🐙"]),...l.map(e=>e.renderVDom()),ac("div",{"aria-hidden":"true",class:t("hidden"),key:"octopodes-2"},["🐙"])])},cpi:Object.assign({},bn(),{createComponents(e=[]){const{_componentInstances:t=[],context:o}=this.getState();t.forEach(e=>this.unregisterChildComponent(e));this.set({_componentInstances:e.map(e=>{const t=this.createChildComponent(e,null,o);this.subscribeChange("context",e=>t.set("context",e));return t})})}})}))},85:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var i=o(29);class n{constructor(e){if(e.cells){e.cells.forEach(e=>{if(!(e instanceof i["a"]))throw Error("Cells must all be of type UiCell")})}this._recordId=e.recordId;this._cells=e.cells||[];this._components=e.components||[];this._mode=e.mode;this.options=e.options}parseCells(e){return e.map(e=>e instanceof i["a"]?e:new i["a"](e))}getId(){return this._recordId}get recordId(){return this.getId()}set recordId(e){this._recordId=e}get components(){return this._components}set components(e){this._components=e}get cells(){return this._cells}set cells(e){this._cells=e}get mode(){return this._mode}set mode(e){this._mode=e}getCell(e){return this._cells[e]}get options(){return this._options}set options(e){this._options=e}get selected(){return this._selected}updateCellsDisplayInfo(){this.cells.forEach(e=>{e&&e.updateDisplayInfo()})}toggleSelected(e){if(e===undefined){this._selected=!this._selected;return}this._selected=e}}},86:function(e,t,o){"use strict";o.d(t,"a",function(){return i});class i{constructor(e,t=Infinity,o={}){this._uiRows=e;this._pageSize=t;this._numPages=Math.ceil(e.length/this._pageSize);if(this._numPages>0&&o.pageIndex){this._pageIndex=Math.min(this._numPages-1,o.pageIndex)}else{this._pageIndex=0}this.updateRowIndexByRecordId();s(this)}getRowForRecord(e,t=true){const o=this._uiRowIndexByRecordId[e],i=o>=0&&this._uiRows[o];if(i&&i.recordId===e){return i}if(t!==true){return null}this.updateRowIndexByRecordId();return this.getRowForRecord(e,false)}updateRowIndexByRecordId(){this._uiRowIndexByRecordId={};(this._uiRows||[]).forEach((e,t)=>{this._uiRowIndexByRecordId[e.recordId]=t})}get uiRows(){return this._uiRows}get visibleRows(){return this._visibleRows}get numPages(){return this._numPages}get pageSize(){return this._pageSize}get pageIndex(){return this._pageIndex}set pageSize(e){this._pageSize=e;this._numPages=Math.ceil(this._uiRows.length/e);if(e===Infinity){this._pageIndex=0}s(this)}set pageIndex(e){if(this._numPages>0){this._pageIndex=Math.min(this._numPages-1,e)}else{this._pageIndex=0}s(this)}}function n(e){if(e._pageSize===Infinity)return 0;return e._pageSize*e._pageIndex}function s(e){const t=n(e);e._visibleRows=e._uiRows.slice(0,e._pageSize);e._visibleRows=e._uiRows.slice(t,Math.min(t+e._pageSize,e._uiRows.length))}}});return t});