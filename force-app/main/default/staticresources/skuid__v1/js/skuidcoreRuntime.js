!function(n){var i={};function a(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}a.m=n,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=295)}({12:function(e,t,n){"use strict";var C,k,S,s;C=skuid,k=C.$,S=C.utils,s=S.hasObjectProperty,C.componentType.register("image",{render:function(e,t,n){e.addClass((C.mobile?"sm":"sk")+"-image-wrapper");var i,a,o,r,s,d,l,c,u,p=n.context,f=n._getCPI(),h=t.attr("source"),m=t.attr("datasource")||t.attr("dataSource")||C.platform.getDefaultDataSourceName(),g=C.dataSource.get(m),v=g&&g.getImageSource(h),b=v&&(v.needsRecordContext||v.optionalRecordContext),w=function(){return null},y=n.get("imageElement"),x=!1;y&&e.empty(),p&&(c=p.model,u=p.row),b&&(i=t.attr("model"),o=C.$M(i),l=n.createConditionsFromXml(t,p),v.needsFieldContext&&(a=t.attr("field"))),!o&&p&&(o=p.model),o?w=c?c===o?function(){return u}:function(){return o.getRows(l,p)[0]}:function(){return o.getFirstRow()}:c&&(o=c,w=function(){return u||o.getFirstRow()}),d=t.children("interactions"),r=t.attr("behavior"),y=k("<img>").addClass("sm-image").attr("alt",t.attr("alt")?t.attr("alt"):""),"link"===r?(x=!0,s=k('<a href="#">').append(y),e.click(function(e){e.preventDefault()})):s="button"===r?(x=!0,k("<button>").append(y)):y,x&&d.length&&!e.parent().hasClass("nx-pagebuilder-component-body")&&(C.interactions.disableInteractions(e),C.interactions.enableInteractions(e,{interactionsDef:d,component:n})),y.css("visibility","hidden"),e.append(s),n.set({behavior:r,contextModel:c,contextRow:u,field:a,getRow:w,imageElement:y,imageSource:v,model:o}),f.draw(),b&&f.subscribeToEvents(),S.processStylesNode(t.children("styles").first(),y)},cpi:{draw:function(){var n=this,e=this.get("getRow")(),t=this.get("field"),i=this.get("imageSource"),a=this.get("imageElement"),o={},r=this.get("model");r&&(o.model=r),e&&(o.row=e),i&&i.getSrc&&i.getSrc({context:o,mergeSettings:{createFields:!1},dataSource:i.dataSource,fileField:t,xmlDef:n.xmlDefinition}).then(function(e){var t=n.get("cacheBuster");a.attr("src",e+(t?"?cacheBuster="+t:"")).css({display:"",visibility:"visible"}),n.publish("loaded")},function(){a.attr("src","").css({display:"none",visibility:"visible"}),n.publish("loaded")})},subscribeToEvents:function(){var n=this,e=n.get("model"),t=n.get("contextModel"),i=n.get("getRow"),a=i&&i(),o=[];function r(){var e;i&&(e=i()),e!==a&&n._getCPI().draw()}e&&o.push(e),t&&t!==e&&o.push(t),o.forEach(function(t){["cancelled","loaded","row.created","saved"].forEach(function(e){n.storeSubscription(t.subscribe(e,r))}),n.storeSubscription(t.subscribe("row.updated",function(e){n._getCPI().handleRowUpdates(e)}))})},handleRowUpdates:function(e){var t,n,i,a=this._getCPI().draw,o=this.get("getRow"),r=this.get("field");o&&e.row===o()&&(r?(n=(i=e.modelId&&C.$M(e.modelId))&&i.getField(r),i&&i.isRelationshipField(r)&&(t=i.getReferenceFieldNameFromRelationshipField(r)),(s(e.updates,r)||n.rel&&s(e.updates,n.rel)||t&&s(e.updates,t))&&a()):a())}}})},13:function(e,t,n){"use strict";!function(e){var y=e.$,x=e.utils.getCSSSizeObj;y.fn.reverse=Array.prototype.reverse;var n=function(c,u,p){c.addClass("clearfix");var f=p&&p.builder,e=function(){var e=y(window).height(),t=u.attr("offset"),n=x(t,{defaultUnit:"px"});n&&c.children().not(".nx-queue-header").css("height",e-n.number+n.unit)},t=u.attr("type"),d=u.children("panels").children(),h=p.context;if("custom"===t)d.each(function(e){var t,n=y(this),i=y("<div>").addClass("nx-panel").attr("data-index",e),a=y("<div>"),o=n.attr("uniqueid"),r=n.attr("cssclass"),s=x(n.attr("width"),{defaultUnit:"%"});e<d.children().length-1&&a.addClass("nx-panel-custom-inner"),null!==o&&i.attr("id",o),null!==r&&i.addClass(r),i.append(a).css({width:s.number+s.unit,display:"inline-block","vertical-align":"top"}),f||(p.createChildComponents(n.children("components").first().children(),a,h),"fixed"===u.attr("scroll")?(t=x(u.attr("height"),{defaultUnit:"px"}),i.css("height",t.number+t.unit).addClass("nx-panel-scroll-fixed")):"variable"===u.attr("scroll")&&i.addClass("nx-panel-scroll-variable")),c.append(i)}),f||"variable"!==u.attr("scroll")||(e(),y(window).resize(function(){e()}));else if("vertical"===t)d.each(function(e){var t=y(this),n=y("<div>").attr("data-index",e).addClass("nx-panel"),i=y("<div>"),a=t.attr("uniqueid"),o=t.attr("cssclass");null!==a&&n.attr("id",a),null!==o&&n.addClass(o),n.append(i),f||p.createChildComponents(t.children("components").first().children(),i,h),c.append(n)});else{var m=y(),g=y(),v=y(),b=0,w=0;d.each(function(e){var t,n=y(this),i=y("<div>").attr("data-index",e),a=y("<div>"),o=n.attr("type"),r=x(n.attr("width"),{defaultUnit:"px"}),s=r&&r.number||200,d=n.attr("uniqueid"),l=n.attr("cssclass");i.append(a),null!==d&&i.attr("id",d),null!==l&&i.addClass(l),"left"===o?(i.css({width:s+"px","padding-left":w+"px"}).addClass("nx-panel-left nx-panel"),a.addClass("nx-panel-left-inner"),w+=s,m=m.add(i)):"right"===o?(i.css("width",s+"px").addClass("nx-panel-right nx-panel"),a.addClass("nx-panel-right-inner"),b+=s,i.css("margin-left","-"+b+"px"),g=g.add(i)):(v=v.add(i),i.addClass("nx-panel-fluid"),a.addClass("nx-panel")),f||(p.createChildComponents(n.children("components").first().children(),a,h),"fixed"===u.attr("scroll")?(t=x(u.attr("height"),{defaultUnit:"px"}),i.css("height",t.number+t.unit).addClass("nx-panel-scroll-fixed")):"variable"===u.attr("scroll")&&i.addClass("nx-panel-scroll-variable")),c.append(i)}),f||"variable"!==u.attr("scroll")||(e(),y(window).resize(function(){e()})),v.children(".nx-panel").css({"margin-right":b+"px","margin-left":w+"px"}),c.append(v,m.reverse(),g)}};e.componentType.register("panelset",n),e.utils.registerPlugin("panelSet",{init:function(e,t){return n(this,e,t),this}})}(skuid)},295:function(e,t,n){"use strict";n.r(t);n(43),n(296),n(12),n(297),n(298),n(44),n(299),n(13),n(300),n(40),n(45),n(38),n(301),n(302),n(303),n(304),n(42),n(305),n(37),n(306),n(41),n(307),n(308),n(309),n(310),n(311),n(312)},296:function(e,t,n){"use strict";!function(f){var e,T=f.$,x=f.utils,I=f.ui,_="nx-basicfieldeditor",C=_+"-section",k=C+"-body",S="fx.easing",F="fx.duration",h={},M="data-sk-collapsed",t="ui-icon-triangle-1-",R=t+"s",D=t+"e",A="skuid.fieldEditor.section.collapsed",P="skuid.fieldEditor.section.expanded";function E(d){return function(e,r,s){e.children().each(function(e){var t=T(this),n=s+"_c"+e,i=T("<div>").addClass(_+"-column").data("guid",n),a=T.extend({},d,{eventSubscriptions:[]}),o=T.extend({},d);x.conditionallyRender(function(e){var l=e;return function(e,t,n){var i=l.event,a=e.attr("width"),o=l.component,r=e.attr("cssclass"),s=e.attr("uniqueid"),d=function(){e.children("sections").first().children().each(function(e){m(t,T(this),n+"_s"+e,l)})};t&&(t.empty(),l&&l.isResponsive?(t.addClass("sk-grid-division"),f.responsive.prepareDivision(t,{behavior:e.attr("behavior"),width:a,minWidth:e.attr("minwidth"),relativeSize:e.attr("ratio"),verticalAlign:e.attr("verticalalign"),columnGutter:l.columnGutter,rowGutter:l.rowGutter})):(t.removeClass("sk-grid-division"),f.responsive.prepareDivision(t,{behavior:"specified",width:a})),i?(t.hide(),d(),t.show({duration:o.get(F),easing:o.get(S),complete:function(){t.css("display","")}})):d(),r&&t.addClass(r),s&&t.attr("id",s),l.layoutClass&&t.addClass(l.layoutClass))}}(o),l,t,i,n,a),r.append(i)}),d&&d.isResponsive?(r.addClass("sk-grid"),f.responsive.prepareGrid(r,{columnGutter:d.columnGutter,rowGutter:d.rowGutter})):r.removeClass("sk-grid")}}function L(e,i,a,o){var t=T.Deferred();if(i){o&&o.isResponsive&&(f.responsive.unMakeGrid(i),i.removeClass("sk-grid"));var r=[];e.children("column").each(function(e){var t=T(this),n=i.children().eq(e);x.removeEventSubscriptions(n),r.push(l(t,n,a,o))}),x.removeEventSubscriptions(i),T.when.all(r).then(function(){i.empty(),t.resolve()})}return t.promise()}function l(e,i,a,o){var t=o.component,r=T.Deferred();return i&&i.animate({width:0},t.get(F),t.get(S),function(){i.css("width",""),o&&o.isResponsive&&f.responsive.unMakeDivision(i);var n=[];e.children("sections").first().children().each(function(e){var t=i.children().eq(e);x.removeEventSubscriptions(t),n.push(g(T(this),t,a,o))}),T.when.all(n).then(function(){i.empty(),r.resolve()})}),r.promise()}function m(e,t,n,i){var a=T("<div>").addClass(C+"-wrapper"),o=T.extend({},i,{model:i.model,row:i.row,eventSubscriptions:[]}),r=T.extend({},i,{eventSubscriptions:[]});x.conditionallyRender(function(y){return function(a,o,s){var d=y,r=d.component,l={duration:r.get(F),easing:r.get(S)},e=d.item,t=d.event,n=d.model,c=T("<div>").addClass(C),i=a.attr("title")||"",u=T("<div>").append(n.mergeRow(e.row,i,{noLink:!0})),p="false"!==a.attr("showheader")&&T("<div>").addClass(C+"-header").append(u),f=T("<div>").addClass(k),h=a.attr("collapsible"),m=a.attr("cssclass"),g=a.attr("uniqueid"),v=p&&"open"===h,b=p&&"collapsed"===h,w=function(){if(v||b){var e=T('<div class="ui-icon '+R+' sk-section-collapse-icon">').prependTo(p),t=o.attr(M),n=function(){f.show(l),o.attr(M,"false"),e.removeClass(D).addClass(R),r.publish(P)},i=function(){f.children().length?f.hide(l):f.hide(),o.attr(M,"true"),e.removeClass(R).addClass(D),r.publish(A)};p.on("click.skuid",function(){"true"===o.attr(M)?n():i()}).css("cursor","pointer"),t?"false"===o.attr(M)?n():i():b?i():n()}a.children("fields").first().children().each(function(e){var t,n=T(this),i=n.prop("nodeName"),a=n.attr("cssclass"),o=T("<div>"),r=T.extend({},d,{eventSubscriptions:[]});"columns"===i?(t=T.extend({},d,{isResponsive:"responsive"===n.attr("layoutmode"),columnGutter:n.attr("columngutter"),rowGutter:n.attr("rowgutter"),eventSubscriptions:[]}),o.addClass(_+"-columngroup"),x.conditionallyRender(E(t),L,n,o,s+"_cg"+e,r)):(t=T.extend({},d,{eventSubscriptions:[]}),o.addClass(_+"-item"),x.conditionallyRender(function(e){var S=e;return function(e,a,t){var o,n,i,r=S.item,s=S.model,d=r.list,l=d.editor,c=e.attr("id"),u=e.attr("name"),p=e.attr("type"),f=e.attr("showhelp"),h=e.attr("uniqueid"),m=s.getField(u||c),g="CHILDREL"===p,v=function(e,t,n,i){(o=new I.Field(e.row,t,n,i)).item=e,o.wrapperElement=a,o.labelElement=x,o.render(),e.registerField(o),a.attr("GUID",o._GUID).append(o.element)};if(a&&a.empty(),c&&!m)return!0;i="ARRAY"===m.displaytype,(n=I.getFieldOptionsFromXML(e,S)).parentComponentId=S.parentComponentId,f=void 0===f||"true"===f,n.uniqueId=h;var b=e.children("label"),w=n.label=b.length?b.text():m&&m.label||"",y=s.mergeRow(r.row,w),x=T("<div>").addClass(_+"-item-label "+S.layoutClass+("edit"===S.mode?" nx-basicfieldeditor-item-label-editing":"")).append(y);n.labelText=y.text(),m&&(m._id=t),(m&&m.required||"true"===e.attr("required"))&&(d.addRequiredField(m),x.addClass("required")),a.append(x);var C=m&&m.inlineHelpText;if(C&&(n.inlineHelpText=C,f)){var k=T("<div>").addClass("sk-icon sk-icon-help inline").css({"vertical-align":"top","margin-left":"4px"});k.skootip(C),x.append(k)}("COMBO"===p||g||i)&&(n.template=e.children("template").first().text(),n.editModeBehavior=e.attr("editmodebehavior"),(l=new I.Editor(T("<div>"),{showHeader:!1,showMessages:!1})).registerModel(s),l.handleChange=l.handleCancel=l.handleSave=function(){o.render()},"custompopup"===n.editModeBehavior&&(n.editModePopupXML=e.children("editmodepopup"),l.unregister=function(){I.Editor.prototype.unregister.call(this),this.editModePopup&&delete this.editModePopup}),(g||i)&&(n.delimiter=e.attr("delimiter"))),n.editable&&"readonly"!==n.mode&&function(e){return e&&!1!==e.editable&&null!==e.editable}(m)&&(n.addfocusbox=!0),(n.subscriptionElement=a)&&a.removeClass("ui-helper-hidden"),s.deferFieldRendering&&c&&s.fieldsMap[c].defer&&!r.row.__additionalRequestMade?(n.loading=!0,v(r,s,l,n),s.getDataSourceType().makeAdditionalQueries(s,r.row).then(function(e){var t=e.model;r.row=e.row,o.destroy(),delete n.loading,v(r,t,l,n)})):v(r,s,l,n)}}(t),N,n,o,s+"_f"+e,r)),a&&o.addClass(a),f.append(o)}),m&&o.addClass(m),g&&o.attr("id",g),p&&c.append(p),c.append(f),o.append(c)};o&&(o.empty(),t?(o.hide(),w(),o.show(l)):(w(),o.show()))}}(r),g,t,a,n,o),!0===i.isResponsive&&11===x._ie&&a.css({overflow:"auto"}),e.append(a)}function g(e,s,d,l){var t=l.component,n=T.Deferred(),i=t.get(F),a=t.get(S);return s&&s.hide({duration:i,easing:a,complete:function(){var r=[];e.children("fields").first().children().each(function(e){var t,n,i=T(this),a=i.prop("nodeName"),o=s.children().first().children("."+k).first().children().eq(e);x.removeEventSubscriptions(o),t="columns"===a?L:N,n="columns"===a?d:d+"_f"+e,r.push(t(i,o,n,l))}),T.when.all(r).then(function(){s.empty(),n.resolve()})}}),n.promise()}function N(e,t,n,i){var a,o=T.Deferred(),r=e.attr("id"),s=e.attr("name"),d="COMBO"===e.attr("type"),l=t.attr("GUID"),c=i.item,u=c.list,p=u.model,f=p.getField(s||r),h=t.children(".nx-field"),m=h.length?h.data("object"):0,g=e.children("renderconditions").first(),v=i.onUnrenderDataBehavior||!!g.length&&g.attr("onhidedatabehavior")||"keep";return m&&(m.editor&&m.editor.unregister&&m.editor!==u.editor&&m.editor.unregister(),m.unregister&&m.unregister()),!(!r||f)||(m&&m.editable&&(d?"custompopup"===m.options.editModeBehavior?(a=[],m.options.editModePopupXML.find('basicfieldeditor[model="'+p.id+'"]').find("field").each(function(){var e=T(this),t=e.attr("id");e.attr("name")||"true"===e.attr("readonly")||a.push(t)})):a=x.extractFieldsFromTemplate(m.options.template,{ignoreGlobals:!0}):r&&(a=r),"cancel"===v&&a&&p.cancelRowChanges(c.row,a,{initiatorId:n})),c.fieldsByGUID[l]&&c.fieldsByGUID[l].subComponents&&T.each(c.fieldsByGUID[l].subComponents,function(){this.unrender().unregister()}),f&&(f._id=n),(f&&f.required||"true"===e.attr("required"))&&u.removeRequiredField(f),t&&(t.addClass("ui-helper-hidden"),t.empty()),o.resolve(),o.promise())}h[S]="easeInOutQuart",h[F]=500,e={init:function(e,d){var t,s,n,i,a,o,l=this.addClass(_+" clearfix");if(l.data("object",l),l.empty(),l.mode=e.attr("mode")||"read",l.layoutClass=e.attr("layout")?"nx-layout-"+e.attr("layout"):"",l.model=f.$M(e.attr("model")),!l.model)return d.addProblem("Invalid Model '"+e.attr("model")+"' on Field Editor component. This Model's Id may have been changed, or the Model may have been deleted."),l;if(!1===l.model.accessible)return d.addProblem("You do not have permission to view records of the "+l.model.objectName+" object. Field Editor component could not be displayed."),l;(l.editor=new I.Editor(l,{showSaveCancel:"false"!==e.attr("showsavecancel"),saveIcon:e.attr("saveicon"),cancelIcon:e.attr("cancelicon"),buttonPosition:e.attr("buttonposition"),showErrorsInline:"true"==e.attr("showerrorsinline"),showErrorsOnHover:"true"==e.attr("showerroronhover")}),t=l.editor.createConditionsFromXml(e,d),d)&&(d.set(h),(s=d.context)&&(s.mode&&(l.mode=s.mode),n=s.model,i=s.row,a=s.list,t&&t.length||!l.model||!n||!(i||a&&a.getSelectedItems().length)||n!==l.model||(o={sourceType:"rowproperty",sourceProperty:"rowid"},i?(o.type="contextrow",o.operator="=",o.value=n.getRowId(i)):a&&(o.type="contextrows",o.operator="in",o.values=T.map(a.getSelectedItems(),function(e){return a.model.getRowId(e.row)})),t=[o])));var r=l.model.data.length<1,c="readonly"===l.mode||r&&!l.model.createable||!r&&!l.model.editable,u={label:"Standard View"},p=e.children();return u.render=function(a){var o=a.element,r=a.id();p.each(function(e){var t=T(this),n=t.prop("nodeName"),i={component:d,context:s,item:a,layoutClass:l.layoutClass,mode:a.mode||l.mode,model:l.model,parentComponentId:d.id(),row:a.row};"section"===n?m(o,t,r+"_s"+e,i):"columns"===n&&function(e,t,n,i){var a=T("<div>").css("clear","both"),o={},r={};r="responsive"===t.attr("layoutmode")?(o=T.extend({},i,{eventSubscriptions:[]}),T.extend({},i,{isResponsive:!0,columnGutter:t.attr("columngutter"),rowGutter:t.attr("rowgutter"),layoutClass:i.layoutClass,eventSubscriptions:[]})):T.extend({},i,{isResponsive:!1,eventSubscriptions:[]}),x.conditionallyRender(E(r),L,t,a,n,o),e.append(a)}(o,t,r+"_cg",i)})},u.renderComplete=function(e){var i,a,o,t=".nx-basicfieldeditor-item > .nx-field",n=t+" > .nx-fieldtext .focusbox",r="mouseenter.skuid mouseleave.skuid";if("read"===e.mode){i=function(t){var e,n,i=t.closest(".nx-item").find(".nx-field");T.each(i,function(){var e=T(this).data("object");e&&"edit"===e.mode&&(e.mode="read",e.render())}),a=t.parent().find(".nx-basicfieldeditor-item-label").addClass("nx-basicfieldeditor-item-label-editing"),x.registerBlurHandler(t,function(){var e=t.data("object");e&&!0!==e.disableBlur&&(e.mode="read",e.render(),a.removeClass("nx-basicfieldeditor-item-label-editing"))}),(e=t.data("object")).mode="edit",e.render(),(n=e.element.find(":input").first())&&n.focus()},o=function(e){var t=e.data("object"),n=t.options;if("COMBO"===n.type&&n.template){var i=t.model.getRowMergeResult(t.row,n.template,{allowHTML:n&&n.allowHTML,registerFields:!1});if(!i.fields||!i.fields.length)return!1}return t&&!1!==t.editable&&null!==t.editable&&"readonly"!==t.mode};e.element.off(r,t).off("dblclick.skuid",t).off("focus.skuid",n).on(r,t,function(e){var t=T(this),n=t.children(".nx-fieldtext");"mouseenter"===e.type?o(t)&&n.append(T("<div class='nx-edithover'>").append(T(I.createIcon("sk-icon-edit")).css("display","block")).click(function(e){i(t),e.stopPropagation()})):n.find("div.nx-edithover").remove()}).on("dblclick.skuid",t,function(){var e=T(this);"edit"!==function(e){var t=e.data("object");return t&&t.mode}(e)&&o(e)&&i(e)});var s=function(){e.element.on("focus.skuid",n,function(){var e=T(this),t=e.closest(".nx-field");t.parent().is(".nx-template")||(e.attr("data-preventaction")?e.removeAttr("data-preventaction"):o(t)&&i(t))})};"read"===d.xmlDefinition.attr("mode")?setTimeout(s):s()}else"edit"===e.mode&&e.element.off(r,t).off("dblclick.skuid",t).off("focus.skuid",n)},l.views={standard:u},l.list=new I.List(l.editor,l.model,{views:l.views,createRecords:!1,conditions:t,context:s,editRecords:!c,deleteRecords:!1,mode:l.mode,personalizationService:d.getPersonalizationService()}),l.model.registerList(l.list),l.list.render(),l.list.attach(),d.unregisterChildComponents=function(){var e=l.list.renderedItems;return x.size(e)&&T.each(e,function(e,a){var o=a.element,r=a.id(),s=[];p.each(function(e){var t=T(this),n=t.prop("nodeName"),i={component:d,item:a,layoutClass:l.layoutClass,mode:l.mode,model:l.model,row:a.row};"section"===n?s.push(g(t,o,r+"_s"+e,i)):"columns"===n&&s.push(L(t,o.children().first(),r+"_cg",i))}),T.when.all(s).then(function(){a.unregister()})}),d},d.unregister=function(){return f.component.Component.prototype.unregister.call(d),l.editor.unregister(),d},d.unrender=function(){var e=d.get(F);return d.set(F,0),f.component.Component.prototype.unrender.call(d),l.editor.unregister(),d.set(F,e),d},d.needsModelMetadata=function(){return!0},this}},x.registerPlugin("basicFieldEditor",e),f.componentType.register("basicfieldeditor",{render:function(e,t,n){e.basicFieldEditor(t,n)},actions:{changeMode:function(e,t){var n=e.attr("mode"),i=t.element.list,a=i&&i.mode;if(i&&"readonly"!==a){var o=void 0;(o="toggle"===n?"read"===a?"edit":"read":n)!==a&&(i.mode=o,t.definition.attr("mode",o),T.each(i.renderedItems,function(e,t){t.mode=t.defaultMode=o,t.refreshFields()}))}}}})}(skuid)},297:function(e,t,n){"use strict";!function(s){var u=s.$,p=s.utils;function d(e){return{model:e.model,row:e.dataRow,component:e.component}}function l(e){var t=e.model,n=e.conditions;return!!t&&(n&&n.length?t.getRows(n,e.component.context)[0]||!1:t.getFirstRow()||!1)}function f(i){var e=i.dataRow,t=l(i);e!==(i.dataRow=t)&&u.each(i.component.childComponents,function(e,t){if(t.unrender().conditionallyRender({context:d(i)}),"button"===t.getType()){var n=t.element;!1===n.data("rendered")&&n.css("display","none")}})}s.componentType.register("buttonset",{render:function(e,t,n){var i,a=t.attr("model"),o=e.model=s.$M(a),r=function(n,d,i){var l=s.ui.Editor,c=i.editor=new l(n,{buttonPosition:d.attr("position")});return n.model&&c.registerModel(n.model),c.createConditionsFromXml(d,i),c.handleSave=function(e,t){l.prototype.handleSave.call(c,e,t),e&&(p.isUndefined(t)&&(t={}),t.insertResults&&t.insertResults.length&&c.createConditionsFromXml(d,i),f(n),n.redirectAfterSave&&t.initiatorId&&t.initiatorId===c.id()&&n.redirectAfterSave())},c.handleCancel=function(){l.prototype.handleCancel.call(c),n.redirectAfterCancel&&n.redirectAfterCancel(),f(n)},c.handleChange=function(){var e=l.prototype.handleChange;e&&e.apply(c,arguments),f(n)},c.handleDataRefresh=function(){f(n)},c.handleMessages=function(e,t){var n=c,i=d.attr("msgcontainerid"),a=u.extend({},t);if(i&&t.initiatorId&&t.initiatorId===c.id()){var o=u("#"+i).data("component"),r=o&&o.editor,s=r&&p.isFunction(r.id)&&r.id();s&&(a.initiatorId=s,n=r)}n===c?l.prototype.handleMessages.apply(c,[e,t]):p.isFunction(n.handleMessages)&&n.handleMessages(e,a)},c}(e,t,n);return o&&!1===o.accessible&&n.addProblem("You do not have permission to view records of the "+o.objectName+" object. Button Set component could not be displayed."),e.addClass("sk-buttonset"),e.component=n,e.dataRow=l(e),i=n.createChildComponents(t.children("buttons").children("button"),u("<div>").addClass("sk-button-action").appendTo(u("<div>").addClass("sk-buttonset-group").prependTo(r.submitwrapper)),d(e),{options:{editor:r}}),u.each(i,function(e,t){!1===t.isRendered&&t.element.css("display","none")}),n.getButtons=function(){return i},n.getDataRow=function(){return e.dataRow},n.unregister=function(){return s.component.Component.prototype.unregister.call(n),r.unregister(),n},n.unrender=function(){return s.component.Component.prototype.unrender.call(n),r.unregister(),n},e}})}(skuid)},298:function(e,t,n){"use strict";var i,u;i=skuid,u=i.$,i.componentType.register("chatbotfulloverlay",{render:function(e,t,n){var i=t.examples,a=t.openingTitle||"Hi, tell me what I can do for you.",o=n._getCPI(),r=u("<div>").addClass("overlay__close sk-icon sk-icon-close").on("click",o.close),s=u('<div class="chatbot-container"/>'),d=u('<div class="chatbot-header"/>').text(a),l=u('<div class="chat-bars chat-bars--resting"/>').append(u("<span>"),u("<span>"),u("<span>")),c=u('<div class="examples"/>');e.addClass("sk-chatbot").append(r,s.append(d,l)),n.isProcessing=function(){l.removeClass("chat-bars--talking").addClass("chat-bars--resting")},n.isTalking=function(){l.removeClass("chat-bars--resting").addClass("chat-bars--talking")},n.updateTitle=function(e,t){(e||t)&&d.text(e)},n.removeExamples=function(){c.fadeOut()},i&&i.length&&s.append(c.append(u("<strong>Some things you can say:</strong>"),u.map(i,function(e){return u("<p>").text(e)}))),setTimeout(function(){e.addClass("slide-down")},5)},cpi:{close:function(){var e=this.element,t=this.get("conversationKillSwitch");e.removeClass("slide-down"),t&&t(),setTimeout(this.unregister.bind(this),1e3)},listeningHandler:function(){this.isTalking()},processingHandler:function(){this.updateTitle("",!0),this.isProcessing(),this.removeExamples()},textSubmissionHandler:function(e,t){var n=i.$.Deferred();if(this.updateTitle('"'+e+'"'),t)return setTimeout(function(){n.resolve()},2e3),n.promise()},responseHandler:function(e){this.updateTitle(e)},endOfConversationHandler:function(){var e=i.$.Deferred(),t=this._getCPI();return setTimeout(function(){t.close(),e.resolve()},2e3),e.promise()}}})},299:function(e,t,n){"use strict";var G,j,$,X,i,W,V,Y;G=skuid,j=G.$,$=G.constants,X=G.responsive,i=G.label,W=i.read,V=i.merge,Y=G.utils,G.componentType.register("deck",function(e,n,i){var r=i,s=n.attr("columngutter"),d=n.attr("rowgutter"),l=n.attr("behavior"),c=n.attr("width"),u=n.attr("minwidth"),p=n.attr("ratio"),f=n.attr("verticalalign"),t=n.attr("filtersposition"),a=n.attr("filterswidth"),h=n.children("interactions"),o=n.children("massactions"),m=n.children("actions"),g=n.attr("precision"),v="manual"===n.attr("setmaxwidth"),b=n.attr("maxwidth")||"300px",w="true"===n.attr("hideheader"),y="true"===n.attr("hidefooter"),x="true"===n.attr("searchbox"),C="false"!==n.attr("showsavecancel");w&&(C=x=!1),r.modelId=n.attr("model"),r.modelId&&(r.model=G.model.getModel(r.modelId));var k=n.children("components").first().children();r.childComponentDefinitions=k;var S={};if(r.model&&(S[r.model.id]=r.model),k.length&&j.each(k,function(){var e=j(this).attr("model");if(e){var t=G.model.getModel(e);t&&(S[e]=t)}}),i.set({heading:n.attr("heading"),showHeading:!0}),i.subscribeChange("showHeading",function(e){r.editor.element.find(".nx-editor-header-heading").toggleClass("sk-hidden",!e)}),r.model&&k&&k.length){if(r.editor=new G.ui.Editor(e,{showHeader:!w,showFooter:!y,showSaveCancel:C,buttonPosition:n.attr("buttonposition"),heading:i.get("heading")}),r.editor.header&&r.editor.header.css("display","flex"),j.each(S,function(e,t){r.editor.registerModel(t)}),r.conditions=r.editor.createConditionsFromXml(n,i),o.length){var T=$.MERGE_CONTEXTS.GLOBAL,I=$.MERGE_CONTEXTS.MODEL,_=r.model?I:T,F={createFields:!1,registerFields:!1},M=j("<div>");j.each(o,function(){var e=j(this).children("action"),t=j(this).attr("location"),n=j(this).attr("float"),i="bottom"==t?r.editor.footer:r.editor.header;"left"!=n&&"center"!=n||i.css("float",n),e.length&&j.each(e,function(){var t=j(this),e=t.attr("type");if("savecancel"==e)i.append(r.editor.savebutton,r.editor.cancelbutton);else if("custom"==e){var n=function(e,t,n){e.empty();var i=t.attr(n),a=Y.merge;if(void 0!==i)return _==I?e.append(a(I,i,F,r.model)):e.append(a(T,i,F)),e}(M,t,"label");j('<div style="margin-right: 4px;">'+n.text()+"</div>").skooButton({icon:t.attr("icon")}).appendTo(i).click(function(){var e=G.snippet.getSnippet(t.attr("snippet"));e&&e({component:r})})}})})}var R=i.context,D={label:"List View",itemNodeType:"article",beforeRender:function(){},renderComplete:function(){X.prepareGrid(E.contents,{columnGutter:s,rowGutter:d,layoutMode:"rigid",precision:g||2,minWidth:u})},render:function(a){var e=j.extend({},R,{row:a.row,model:r.model});function o(e){if(r.selectingItems){e.stopImmediatePropagation(),e.preventDefault();var t,n=a.element,i=!("true"===n.attr("aria-checked"));n.attr("aria-checked",i).toggleClass("selected",i),a.selected=i,t=r.list.getSelectedItems().length,r.editor.header.find(".nx-massactions")[1<=t?"show":"hide"]("fast"),r.numberSelectedText.text(V(W(1===t?"item_selected":"items_selected"),t))}}function t(){a.element.hammer({}),a.element.bind("tap",o)}a.childComponents=r.createChildComponents(k,a.element,e,{_controllingComponent:r.id()}),X.prepareDivision(a.element,{behavior:l,width:c,minWidth:u,maxWidth:v?b:"",relativeSize:p,verticalAlign:f,columnGutter:s,rowGutter:d}),a.element.addClass("sk-grid-division sk-card"),Y.processStylesNode(n.children("styles").first(),a.element),a.element.on("click.skuid-deck",o).on("keydown.skuid-deck",function(e){var t=j(e.target),n=E.element.children(".sk-deck").children(".sk-card"),i=n.index(t);if(!t.is(":input"))switch(e.which){case 39:case 40:e.preventDefault(),n[i+1]&&n[i+1].focus();break;case 37:case 38:e.preventDefault(),n[i-1]&&n[i-1].focus();break;case 0:case 13:case 32:o(e);break;case 27:q()}}),h.length&&h.children().length&&(G.ui.hammerJSLoaded?t():G.events.subscribeOnce("skuid.resources.hammerjsloaded",t),G.interactions.enableInteractions(a.element,{interactionsDef:h,component:i,context:e}))},destroy:function(e){var t=e.childComponents;t&&0<t.length&&t.forEach(function(e){return e.unregister()})}};r.views={standard:D};var A=n.children("searchfields").first(),P=A.children(),E=r.list=new G.ui.List(r.editor,r.model,{views:r.views,createRecords:!0,editRecords:!0,deleteRecords:!0,mode:"read",conditions:r.conditions,context:r.context,component:i,listFilters:n.children("filters"),delayFilterExecution:"false"===n.attr("instantfilters"),responsive:!0,pageSize:n.attr("pagesize"),alwaysResetPagination:"true"===n.attr("alwaysresetpagination"),personalizationService:i.getPersonalizationService(),showSearchBox:x,searchMethod:n.attr("searchmethod")||"server",useSOSLSearch:"true"===A.attr("usesosl"),SOSLFields:A.attr("soslfields"),tokenizeSearch:"true"===n.attr("tokenizesearch"),searchConditionName:n.attr("searchconditionname"),searchPlaceholderText:n.attr("searchplaceholdertext"),emptySearchBehavior:n.attr("emptysearchbehavior")||"query",filtersPosition:t,filtersWidth:a,showHeader:!w,showFooter:!y});if(r.model.registerList(E),r.selectingItems=!1,o&&o.children().length){var L=function(e,t,n){return r.createChildComponents(Y.makeXMLDoc('<button type="multi" label="'+e+'" secondary="'+(n?"true":"")+'"><actions><action type="custom" snippet="skuid.'+t+"."+r._GUID+'"/></actions></button>'))[0]},N=L(W("Select_Cards"),"selectcards"),H=L(W("Cancel"),"cancelselectcards",!0);N.element.css("margin-right","4px").addClass("sk-deck-selectcards"),H.element.css({"margin-right":"4px","margin-top":"8px"});var U,O=E.editor.header.find(".nx-editor-header-submitwrapper"),z=V(W("Items_Selected"),"0"),B=j("<div>");r.numberSelectedText=j('<span class="nx-editor-header-deck-numberselected">'+z+"</span>"),O.prepend(N.element),G.snippet.register("skuid.selectcards."+i._GUID,function(){var e=E.element.children(".sk-deck"),t=e.children(".sk-card");e.addClass("sk-deck-selecting").attr("role","listbox"),t.attr("role","option").attr("tabindex","0"),(U=O.children()).appendTo(B),O.append(r.numberSelectedText,H.element),r.selectingItems=!0,t.first().focus()});var q=function(){var e=E.element.children(".sk-deck"),t=e.children(".sk-card");e.removeClass("sk-deck-selecting").removeAttr("role"),t.removeClass("selected").removeAttr("role aria-checked tabindex"),B.append(H.element,r.numberSelectedText),O.append(U),r.editor.header.find(".nx-massactions").hide("fast"),r.numberSelectedText.text(z),r.selectingItems=!1,j.each(E.visibleItems,function(e,t){t.selected=!1})};G.snippet.register("skuid.cancelselectcards."+i._GUID,q)}P.length?P.each(function(){r.list.addSearchField(r.model.getField(this.getAttribute("field")),this.getAttribute("operator"))}):j.each(r.model.fields,function(){E.addSearchField(this)}),E.render(),G.actions._actionFunctions.initiateGlobalActions(m,i,{itemClass:"sk-card"}),G.actions._actionFunctions.initiateMassActions(o,i,{postSelectFunction:q}),E.contents.addClass("sk-deck sk-grid"),E.attach()}return i.unregister=function(){i.list&&i.list.unregister(),G.component.Component.prototype.unregister.call(i),G.snippet.unregister("skuid.selectcards."+i._GUID),G.snippet.unregister("skuid.cancelselectcards."+i._GUID)},r})},300:function(e,t,n){"use strict";var H,U,O,z,i,f;skuid,H=skuid.$,U=skuid.ui,O=skuid.utils,z=skuid.$L,i=skuid.actions._actionFunctions={},f=O.mergeAsTextInContext,H.extend(i,{getMassFunction:function(n,D,A){var e,t=n.attr("type"),P=D.list,i=A.label,a=A.tracker||{},o=P.mode,E=P.model,L=[],N=!1;switch(t){case"massupdate":(E.updateable||E.createable)&&"readonly"!==o&&a.numMassUpdates++<1&&(e=function(){var b,w=H("<div>").addClass("nx-basicfieldeditor nx-editor-contents"),i="MassUpdateForTable_"+D._GUID+"_"+(new Date).getTime(),y=new skuid.model.Model({_parentPageId:D.getParentPageId(),accessible:!0,createable:!0,conditions:E.conditions,createRowIfNoneFound:!1,data:[],dataSource:E.dataSource,doClone:!1,fields:E.fields,id:i,methods:E.methods,objectName:E.objectName,serviceUrl:E.serviceUrl,updateable:!0,verb:E.verb}),e=y.getDataSourceType(),x=[],C={},n=0,a=0,k=!1,S=!1,T=H.map(P.getSelectedItems(),function(e){return e.row}),o={},t=E.recordTypeInfos,I=[];if(e.coerceMassUpdate&&e.coerceMassUpdate(y),H.each(T,function(e,t){!t.RecordTypeId||t.RecordTypeId in o||(o[t.RecordTypeId]=1),E.isRowNew(t)?n++:a++}),!O.size(o)&&t&&t.length){var r=H.map(t,function(e){return{RecordTypeId:e.recordTypeId,RecordType:{Name:e.name}}}),s=[];H.each(E.conditions,function(e,t){!1===t.inactive&&-1<H.inArray(t.field,["RecordTypeId","RecordType.Name"])&&s.push(t)}),s.length&&H.each(O.filterRowsByConditions(r,s),function(){this.RecordTypeId in o||(o[this.RecordTypeId]=1)})}C.ValidRecordTypeIds=H.map(Object.keys(o),function(e){return e}),0<n&&(k=!0),0<a&&(S=!0),y.initialize(),b=y.createRow({ignoreDefaults:!0}),y.updateRow=function(e,t,n,i){var a,o;return a=t,o=n,x.filter(function(e){return e.id===a}).forEach(function(e){var t=H("#cancel_"+e.id);e.originalValue===o?t.hide():t.show()}),!1===O.isString(t)?skuid.model.Model.prototype.updateRow.call(y,e,t,H.extend(n,{_ignoreMetadata:!0})):skuid.model.Model.prototype.updateRow.call(y,e,t,n,H.extend(i,{_ignoreMetadata:!0}))};var d=function(e){var t,n,i,a,o,r,s,d,l,c,u=e.attr("id"),p=E.getField(u),f=!!S&&p.editable,h=!!k&&p.createable,m=u&&p&&(f||h)&&"true"!==e.attr("readonly"),g=e.attr("type");if("COMBO"!==g&&"CHILDREL"!==g||(m=!1),n=(t=e.children("label").first()).length?t.text():p&&p.label||"",!m)return I.push(n),!0;if(i=H("<div>").addClass("nx-basicfieldeditor-item nx-pagebuilder-property-item nx-mass-update"),a=H("<div>").addClass("nx-basicfieldeditor-item-label").text(O.mergeAsText("model",n,{createFields:!1},E)),d=H("<div>").addClass("nx-basicfieldeditor-item-value"),s=H("<div>").addClass("nx-basicfieldeditor-item-action"),(c=H("<a/>",{id:"cancel_"+u,text:"Cancel",title:"Cancel this change",style:"cursor: pointer;"})).hide().appendTo(s),(l=H("<a/>",{id:"edit_"+u,text:"Edit",title:"Set a value",style:"cursor: pointer;"})).hide().appendTo(s),i.append(a,d,s),o=H.extend(U.getFieldOptionsFromXML(e,{mode:"edit",model:E}),{label:n,register:!1,editable:!0}),F.renderOverride&&(o.renderOverride=F.renderOverride),(r=new U.Field(b,y,N,o)).required=!1,r.item=C,r.allSame=T.every(function(e){return e[r.id]===T[0][r.id]}),r.originalValue=r.allSame?T[0][r.id]:void 0,r.allSame&&y.updateRow(b,r.id,r.originalValue),r.render(),x.push(r),r.allSame)d.append(r.element),c.on("click",function(e){y.updateRow(b,r.id,r.originalValue,A),r.render(),r.element.find("input").focus(),e.stopPropagation()});else{var v=H("<div>").addClass("nx-field").append(H("<div>").addClass("nx-fieldtext").text("-- Multiple values selected --"));d.append(v),c.click(function(e){r.element.find("input").val(""),y.updateRow(b,r.id,r.originalValue,A),r.element.detach(),d.append(v),c.hide(),l.show(),e.stopPropagation()}),l.click(function(e){v.detach(),d.append(r.element),l.hide(),c.show(),y.updateRow(b,r.id,""),r.element.find("input").focus(),e.stopPropagation()}),l.show()}-1<H.inArray(r.id,_)&&L.push(r),w.append(i)},l=H("<div>").addClass("nx-basicfieldeditor-summary");w.append(l);var _=[];H.each(y.fields,function(e,t){t.needsEditor&&_.push(t.id)}),_.length&&(N=new skuid.ui.Editor(H("<div>"),{showHeader:!1,showMessages:!1}),y.registerEditor(N),N.handleChange=function(){H.each(L,function(e,t){t.render()})});var F,c,u=P.editor.element,p=H.map(P.renderedItems,function(e){if(e.selected)return e}),f=[];H.each(p,function(e,t){H.each(t.fields,function(e,t){var n=t.options.enableConditionsXML,i=[];n.length&&n.children().length&&(n.children().each(function(){i.push(new skuid.model.Condition(H(this)))}),O.areConditionsMet(i,{row:t.row,model:t.model,logicType:n.attr("logictype")})||(t.disabled=!0)),!0===t.disabled&&-1===H.inArray(t.id,f)&&f.push(t.id)})});for(var h=0;h<u._fieldsDefs.length;h++){F=H(u._fieldsDefs[h]),c=u._columnSettingsByUID[F.attr("uniqueid")];var m=-1===f.indexOf(c.fieldId);c.disabled&&m?(c.disabled=!1,F.renderOverride={override:!0,doRender:!0}):!1===c.disabled&&m?F.renderOverride={override:!0,doRender:!0}:c.disabled||m||(c.disabled=!0),!1!==c.hidden||c.userHidden||c.disabled?I.push(c.label):d(F)}var g="Updating "+T.length+" row"+(1===T.length?"":"s")+". ";l.text(g);var v="";if(I.length){var M=I.length;v=1===M?"The field "+I[0]+" is not editable. ":2===M?"The fields "+I[0]+" and "+I[1]+" are not editable. ":"The fields "+I.slice(0,-1).join(", ")+", and "+I[M-1]+" are not editable. ";var R=H("<div>").addClass("nx-basicfieldeditor-summary");w.append(R),R.text(v)}w.dialog({autoOpen:!0,title:z("Mass_Update_Selected_Rows"),resizable:!0,width:550,modal:!0,buttons:[{text:z("Apply"),click:function(){var e=P.getSelectedItems(),n={};if(H.each(b,function(e,t){"Id"!==e&&"Id15"!==e&&null!==t&&(n[e]=t)}),0<O.size(n)){var s={},t={};H.each(e,function(){s[E.getRowId(this.row)]={}}),H.each(n,function(i,a){var o=E.getField(i);if(H.each(e,function(e,t){var n=E.getRowId(t.row);o&&(E.isNewRow(t.row)?o.createable:o.editable)&&(s[n][i]=a)}),t[i]=1,o&&o.displaytype&&"REFERENCE"===o.displaytype){t[o.rel]=1;var r=y.getFieldValue(b,o.rel,!0);H.each(e,function(e,t){var n=t.row,i=E.getRowId(n);(E.isRowNew(n)?o.createable:o.editable)&&(s[i][o.rel]=r)})}}),E.updateRows(s,{initiatorId:i}),E.notifyEditorsOfDataRefresh()}H(this).dialog("destroy")}},{text:z("Cancel"),click:function(){H(this).dialog("destroy")}}]})});break;case"massedit":E.updateable&&"readonly"!==o&&a.numMassEdits++<1&&(e=function(){H.each(P.getSelectedItems(),function(){this.toggleEdit()})});break;case"massdelete":E.deleteable&&"readonly"!==o&&a.numMassDeletes++<1&&(e=function(){var e=P.getSelectedItems(),n=[],i=0,t="deleteRows";e.length&&(H.each(e,function(e,t){t.deleted&&i++,n.push(t.row)}),i===e.length&&(t="un"+t),E[t](n,{initiatorId:P._GUID}))});break;case"redirect":e=function(){O.redirect({list:P,model:E,url:n.attr("url"),window:n.attr("window"),title:i.text()})};break;case"custom":e=function(){var e=skuid.snippet.getSnippet(n.attr("snippet"));e&&e({model:E,list:P,action:n})};break;case"popup":e=function(){O.createPopupFromAction(n,{model:E,list:P,selectedItems:P.getSelectedItems(),component:D,rows:H.map(P.getSelectedItems(),function(e){return e.row})})};break;case"multi":e=function(){var e={model:E,list:P,initiatorId:P.editor._GUID},t=H.map(P.getSelectedItems(),function(e){return e.row});t.length&&(e.rows=t),skuid.actions.runActionsNode(n.children("actions").first(),D,e)}}return e},getGlobalFunction:function(e,t,n){var i,a=n.itemClass||"",o=t.list,r=o.model,s=o.editor,d=H(e),l=d.attr("type"),c=f(d.attr("label")||("createrow"==l?skuid.label.merge(z("Add_New"),r.label):""),{model:r});switch(l){case"redirect":i=function(){O.redirect({model:r,url:d.attr("url"),window:d.attr("window"),title:c})};break;case"createrow":i=function(){var e=o.newItem(r.createRow({initiatorId:o._GUID,doAppend:"append"==d.attr("appendorprepend"),additionalConditions:o.conditions}),{editModeForNewItems:!0});o.render({resetPagination:!0,refreshFields:!1});var t=e.element.find(":input:not(."+a+")").first();t&&t.focus()};break;case"custom":i=function(){var e=skuid.snippet.getSnippet(d.attr("snippet"));e&&e({model:r,list:o,component:t})};break;case"popup":i=function(){O.createPopupFromAction(d,{model:r,list:o,component:t})};break;case"multi":i=function(){skuid.actions.runActionsNode(d.children("actions").first(),t,{model:r,list:o,initiatorId:s._GUID})}}return i},initiateMassActions:function(e,d,t){t=t||{};var l=d.list,c=l.model,u=l.editor,p=t.postSelectFunction;if(u.header&&e&&e.length){var f=[],h=2,m={numMassDeletes:0,numMassUpdates:0,numMassEdits:0};e.children().each(function(){var e,t,n=H(this),i=n.attr("type"),a=n.attr("label"),o=n.attr("icon"),r=u._GUID+"_ma_"+h++,s=n.children("renderconditions");a||(a=z("massupdate"===i?"Mass_Update_Selected_Rows":"massedit"===i?"Toggle_Edit_Mode_on_Selected_Rows":"massdelete"===i?"Toggle_Selected_Rows_for_Deletion":"Action")),o||(o="massupdate"===i?"sk-icon-table-edit":"massedit"===i?"sk-icon-edit":"massdelete"===i?"sk-icon-delete":"sk-icon-magic"),t={label:(a=n._label=H("<div>").append(c.mergeModel(a))).text(),value:r,icon:o},(e=skuid.actions._actionFunctions.getMassFunction(n,d,{label:a,tracker:m}))&&skuid.hotkeys.bind(n.children("hotkeys").first(),r,function(){l.getSelectedItems().length&&e()},u.element),t.onSelect=function(){e&&e(),p&&p()},s.length&&s.children().length&&(t.renderConditionsXML=s),f.push(t)});var n=u.header.find(".nx-editor-header-actions");n.length||(n=H('<div class="nx-editor-header-actions">').appendTo(u.header.find(".nx-header-left"))),n.prepend(H("<div>").actionSelect({items:f,type:"button",uniqueId:e.attr("uniqueid"),displayAsActionSheetOnMobile:!0}).addClass("nx-actionbutton nx-massactions").css("display","none"))}},initiateGlobalActions:function(e,s,t){t=t||{};var n=s.list,d=n.model,l=n.editor,c=t.itemClass;if(l.header&&e&&e.length&&e.children().length){var u=[],p=2,i=function(e,t){if("false"!==e.attr("usefirstitemasdefault"))return!1;var n=e.attr("defaultlabel"),i=e.attr("defaulticon");return n&&(n=H("<div>").append(t.mergeModel(n))),{label:n?n.text():z("Actions"),value:"__default",icon:i||"sk-icon-config",isSelected:!0}}(e,d);i&&u.push(i),e.children().each(function(){var e,t=H(this),n=t.attr("type"),i=f(t.attr("label")||("createrow"==n?skuid.label.merge(z("Add_New"),d.label):""),{model:d}),a=l._GUID+"_"+p++,o={label:i,value:a,icon:f(t.attr("icon")||("createrow"==n?"sk-icon-add":""),{model:d},{createFields:!1})},r=t.children("renderconditions");e=skuid.actions._actionFunctions.getGlobalFunction(this,s,{component:s,itemClass:c}),o.onSelect=function(){e&&e()},r.length&&r.children().length&&(o.renderConditionsXML=r),e&&skuid.hotkeys.bind(t.children("hotkeys").first(),a,e,l.element),u.push(o)});var a=l.header.find(".nx-editor-header-actions");a.length||(a=H('<div class="nx-editor-header-actions">').appendTo(l.header.find(".nx-header-left"))),a.append(H("<div>").actionSelect({items:u,type:"button",displayAsActionSheetOnMobile:!0,uniqueId:e.attr("uniqueid")}).addClass("nx-actionbutton"))}}})},301:function(e,t,n){"use strict";var te,ne,ie,ae;te=skuid,ne=te.$,ie=te.$L,ae=ne(document.body),te.globalFeedback={GlobalFeedback:function(e){var t=te.component,n=te.events,c=te.model,i=te.snippet,a=te.utils,o=a.generateUniqueId,r=a.makeXMLDoc,s="Attachment",d="skuid__Feedback__c",l="skuid__Feedback_Response__c",u="Name",p="skuid__Type__c",f="skuid__Page__c",h="skuid__Page_Last_Modified_Date__c",m="skuid__Skuid_Version__c",g="skuid__Question_Type__c",v="skuid__Question_Text__c",b="skuid__Answer_Text__c",w="Name",y="Type__ui",x="Answer_Text__ui",C="aria-hidden",k="skuid.globalFeedback",S=k+".close",T=k+".toggle",I=k+".rendered",_=this.component=ne("<div />").addClass("sk-feedback").addClass("sk-pos-"+(e.position||"right")).attr(C,"true"),F=this.pageComponent=e.pageComponent,M=Z().Id,R=e.element||ae,D={cancelButton:ie("Cancel"),attachButton:ie("Global_Feedback_Attach_Button_Text"),closeButton:ie("Global_Feedback_Close_Button_Text"),submitButton:ie("Global_Feedback_Submit_Button_Text"),tabText:ie("Global_Feedback_Tab_Text"),tabIcon:ie("Global_Feedback_Tab_Icon"),breadcrumbStep1:"1. "+ie("Global_Feedback_Breadcrumb_Step_1"),breadcrumbStep2:"2. "+ie("Global_Feedback_Breadcrumb_Step_2"),typeText:ie("Global_Feedback_Type_Text"),fileText:ie("Global_Feedback_File_Button_Text"),fileHelpText:ie("Global_Feedback_File_Help_Text"),questionText:ie("Global_Feedback_Question_Text"),successEmphasizedText:ie("Global_Feedback_Success_Emphasized_Message"),successSecondaryText:ie("Global_Feedback_Success_Secondary_Message")},A='<span class="sk-fb-bc-slash">/</span>',P='<span class="sk-fb-bc-content active">'+D.breadcrumbStep1+"</span>"+A+'<span class="sk-fb-bc-screenshot">'+D.breadcrumbStep2+"</span>",E='<span class="sk-fb-bc-content">'+D.breadcrumbStep1+"</span>"+A+'<span class="sk-fb-bc-screenshot active">'+D.breadcrumbStep2+"</span>",L=o({prefix:"feedback"}),N=o({prefix:"feedback"}),H=o({prefix:"feedback"}),U=o({prefix:"feedback"}),O=[],z=o({prefix:"snippet"}),B=o({prefix:"snippet"}),q=o({prefix:"snippet"}),G=ne('<div class="sk-fb-form">'),j=a.runningTests()?0:1e3,$=void 0,X=void 0,W=void 0,V=void 0,Y=void 0,Q=void 0,K=!1;function J(){n.publish(T,[{pageId:M}])}function Z(){var e,t,n=te.platform.getEntityFieldNames("page");return t=F&&F._pageRecord?(e=F._pageRecord[n.id],F._pageRecord[n.updated_at]):(e=te.page.id,te.page.modstamp),{Id:e,modstamp:t}}function ee(){return te.platform.getDefaultDataSourceName()}R.append(_.append(ne('<div class="sk-fb-tab">').append(ne('<div class="sk-fb-tab-button">').append(ne("<span>").attr("class",D.tabIcon),ne("<span>").text(D.tabText))).click(function(){K?J():n.subscribeOnce(I,J)}),G)),ne.when(te.loader.service.loadDataSourceAndDependencies(ee()),a.delay(j)).then(function(){return $=function(e){return new c.Model({id:e,dataSourceName:ee(),preventUnloadIfUnsavedChanges:!1,objectName:d,createRowIfNoneFound:!1,needsMetadataLoad:!0,doQuery:!1,recordsLimit:1,fields:[{id:u},{id:p},{id:f},{id:h},{id:m}]}).initialize().register()}(L),X=function(e,t){return new c.Model({id:e,dataSourceName:ee(),preventUnloadIfUnsavedChanges:!1,objectName:l,createRowIfNoneFound:!1,needsMetadataLoad:!0,doQuery:!1,recordsLimit:1,fields:[{id:d},{id:b},{id:v},{id:g}],conditions:[new c.Condition({type:"modelmerge",model:t,field:d,mergeField:"Id",novaluebehavior:"noquery"})]}).initialize().register()}(N,L),W=function(e,t){return new c.Model({id:e,dataSourceName:ee(),preventUnloadIfUnsavedChanges:!1,objectName:s,createRowIfNoneFound:!1,doQuery:!1,recordsLimit:10,fields:[{id:w}],conditions:[new c.Condition({type:"modelmerge",field:"ParentId",operator:"=",model:t,mergefield:"Id",novaluebehavior:"noquery"})]}).initialize().register()}(H,L),c.load([$,X])}).then(function(){return Q=function(e,t){var n=te.dataSource.get("Ui-Only"),i=ne.extend({},t.fieldsMap.skuid__Type__c,{id:y}),a={id:x,displaytype:te.constants.DISPLAY_TYPES.TEXTAREA,accessible:!0,editable:!0};return new c.Model({id:e,dataSource:n,preventUnloadIfUnsavedChanges:!1,createRowIfNoneFound:!1,doQuery:!1,fields:[i,a]}).initialize().register()}(U,$),V=t.factory({definition:r('<wrapper cssclass="sk-fb-step1-wrapper"/>').append(r("<components/>").append(r('<template multiple="false" cssclass="sk-fb-breadcrumbs" allowhtml="true"/>').append(r("<contents/>").text(P)),r('<basicfieldeditor cssclass="sk-fb-tab-fields" model="'+U+'" showsavecancel="false" mode="edit" layout="above"/>').append(r("<columns/>").append(r('<column width="100%"/>').append(r("<sections/>").append(r('<section showheader="false"/>').append(r("<fields/>").append(r('<field id="'+y+'" required="true"/>').append(r("<label/>").text(D.typeText)),r('<field id="'+x+'" required="true" displayrows="6"/>').append(r("<label/>").text(D.questionText)))))))),r('<buttonset cssclass="sk-fb-tab-buttons" model="'+U+'"/>').append(r("<buttons/>").append(r('<button cssclass="sk-fb-save-button" type="multi" label="'+a.encodeHTML(D.submitButton)+'" window="self" rollbackonanyerror="true"/>').append(r("<actions/>").append(r('<action type="custom" snippet="'+q+'"/>'))),r('<button type="multi" label="'+a.encodeHTML(D.cancelButton)+'" secondary="true"/>').append(r("<actions/>").append(r('<action type="publish" event="'+S+'"/>'),r('<action type="custom" snippet="'+B+'"/>')))))),r('<renderconditions logictype="and"/>').append(r('<rendercondition type="blank" operator="=" fieldmodel="'+L+'" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="'+u+'" fieldtargetobjects="'+d+'" value="null" enclosevalueinquotes="false"/>')))}),G.append(V.element),K=!0,n.publish(I),a.delay(j)}).then(function(){return W.load()}).then(function(){Y=t.factory({definition:r('<wrapper cssclass="sk-fb-step2-wrapper"/>').append(r("<components/>").append(r('<template multiple="false" cssclass="sk-fb-breadcrumbs" allowhtml="true"/>').append(r("<contents/>").text(E)),r('<wrapper cssclass="sk-fb-uploader-wrapper"/>').append(r("<components/>").append(r('<pagetitle model="'+L+'" cssclass="sk-fb-uploader-title"/>').append(r("<maintitle/>").text(D.fileHelpText),r("<actions/>")),r('<file cssclass="sk-fb-uploader" storeas="record" displayas="filename" datasource="salesforce" filename="" snippetname="" model="'+L+'" label="'+a.encodeHTML(D.fileText)+'"/>').append(r("<uploadsuccessactions/>"),r("<uploadfailureactions/>"))),r("<styles/>").append(r('<styleitem type="background" bgtype="none"/>'),r('<styleitem type="border"/>'),r('<styleitem type="size"/>'))),r('<template cssclass="sk-fb-files" multiple="false" model="'+H+'"/>').append(r("<contents/>").text('<span class="sk-fb-filename">{{Name}}</span>')),r('<buttonset cssclass="sk-fb-tab-buttons" model="'+U+'"/>').append(r("<buttons/>").append(r('<button type="multi" label="'+a.encodeHTML(D.attachButton)+'" window="self" rollbackonanyerror="true"/>').append(r("<actions/>").append(r('<action type="custom" snippet="'+z+'"/>')),ne('<enableconditions logictype="and" />').append(ne('<condition type="fieldvalue" enclosevalueinquotes="true" fieldmodel="'+H+'" sourcetype="modelproperty" sourceproperty="hasRows"/>'))),r('<button type="multi" label="'+a.encodeHTML(D.closeButton)+'" secondary="true"/>').append(r("<actions/>").append(r('<action type="publish" event="'+S+'"/>'),r('<action type="custom" snippet="'+B+'"/>')))))),r('<renderconditions logictype="and"/>').append(r('<rendercondition type="blank" operator="!=" fieldmodel="'+L+'" sourcetype="fieldvalue" nosourcerowbehavior="skipandnorender" field="'+u+'" fieldtargetobjects="'+d+'" value="null" enclosevalueinquotes="false"/>')))}),G.append(Y.element),n.publish("skuid.globalFeedback.step2Rendered")}),O.push(n.subscribe(S,function(){_.attr(C,"true")}),n.subscribe(T,function(e){e.pageId===M&&_.attr(C,function(e,t){return"false"===t?"true":($.data.length||function(){var e={doAppend:!0,editModeForNewItems:!0};$.createRow(e),X.createRow(e),Q.createRow(e)}(),"false")})})),i.register(z,function(){ne(".sk-fb-step2-wrapper").html(ne('<p class="sk-fb-success">').append(ne("<strong>").text(D.successEmphasizedText),ne("<span> </span>"),ne("<span>").text(D.successSecondaryText))),setTimeout(function(){n.publish(S),i.get(B)()},1e3)}),i.register(B,function(){setTimeout(function(){Q.emptyData(),$.emptyData(),X.emptyData(),W.emptyData()},500)}),i.register(q,function(e){var t=e.model,n={},i={},a=$.getFirstRow(),o=X.getFirstRow(),r=t.getFieldValue(t.getFirstRow(),x,!0),s=Z(),d=s.Id,l=s.modstamp;r&&r.length&&(n[p]=t.getFieldValue(t.getFirstRow(),y),n[f]=d,n[h]=te.time.getSFDateTime(new Date(l)),n[m]=te.version.number,i[v]=D.questionText,i[b]=r,$.updateRow(a,n),X.updateRow(o,i),c.save([$,X],{rollbackOnAnyError:!0}))}),this.unregister=function(){ne.each(O,function(){n.unsubscribe(this)}),Q&&(V.unregister(),Y.unregister(),Q.unregister(),$.unregister(),X.unregister(),W.unregister(),i.unregister(z),i.unregister(B),i.unregister(q)),this.component.remove()},this.getModels=function(){return{Feedback:$,FeedbackResponse:X,FeedbackAttachments:W,UIModel:Q}},this.getModel=function(e){return this.getModels()[e]}}}},302:function(e,t,n){"use strict";var i,l,c,u;i=skuid,l=i.$,c=i.responsive,u=i.utils.processStylesNode,i.componentType.register("grid",{render:function(a,e,o){a.addClass("sk-grid");var r=e.attr("columngutter"),s=e.attr("rowgutter"),d=o.context;c.prepareGrid(a,{columnGutter:r,rowGutter:s}),u(e.children("styles").first(),o),e.children("divisions").children().each(function(){var e=l(this),t=l("<div>").addClass("sk-grid-division"),n=e.attr("uniqueid"),i=e.attr("cssclass");n&&t.attr("id",n),i&&t.addClass(i),c.prepareDivision(t,{behavior:e.attr("behavior"),width:e.attr("width"),minWidth:e.attr("minwidth"),relativeSize:e.attr("ratio"),verticalAlign:e.attr("verticalalign"),columnGutter:r,rowGutter:s}),u(e.children("styles").first(),t),o.createChildComponents(e.children("components").first().children(),t,d),a.append(t)})}})},303:function(e,t,n){"use strict";var g,v,b,i;g=skuid,v=g.$,b=g.utils,i={render:function(l,t,c){var a,o,r,s=c,e=t.attr("type"),u="false"!==t.attr("showloading"),p="visualforce"===e,f=c?c.context:{};function h(e){e.css("min-height","");var t,n=e.closest(".ui-dialog-content");n.length&&(t=n.dialog("option","position"),n.dialog("option","position",t)),s.isLoading=!1,s.isLoaded=!0,e.attr("data-rendered","true").data("rendered",!0),e.show(),c.publish("load.complete",{component:c,timestamp:(new Date).getTime()}),g.events.publish("skuid.includepanel.loadcomplete",{component:c,timestamp:(new Date).getTime()})}function m(){if(r)return r;if(l){var e=l.find(".nx-page").first();if(e&&e.data&&e.data("component"))return r=e.data("component")}}l.data("object",c).addClass("nx-include-panel"),t.attr("uniqueid")&&l.prop("id",t.attr("uniqueid")),p&&(i.onlyRenderOnce=!0),s.isLoaded=!1,s.isLoading=!1,c.getChildPageComponent=m,c.unrender=function(){return g.component.Component.prototype.unrender.call(c),l.hide(),c},c.unregisterChildComponents=function(){var e=m();return e&&e.unregister(),c},c.load=function(d){var n=this;function i(){h(l),d&&d()}if(s.isLoading=!0,c.publish("load.started",{component:c,timestamp:(new Date).getTime()}),p){var e=v("#"+t.attr("domid")).detach();v(function(){l.append(e.show())})}else a=(c.querystring?b.mergeAsDataInContext(c.querystring,f,{createFields:!1,pageComponent:c.getParentPage()})+"&":"")+"isinclude=true&",!c.objecttype||!c.actiontype||"assignment"!==c.includeType&&c.includeType?c.pagename&&(a+="page="+c.pagename+(c.modulename?"&module="+c.modulename:"")):a+="objecttype="+c.objecttype+"&actiontype="+c.actiontype,a.length&&(b.startsWith(a,"?")||b.startsWith(a,"&"))&&(a=a.substring(1,a.length)),b.inPlatform([g.constants.NATIVE,g.constants.LIGHTNING])?c.pagename?g.loader.load({isInclude:!0,pageName:c.pagename,namespace:c.namespace,parameters:b.deparam(a),previousPageComponent:m(),wrapper:l,parentPageId:c.getParentPageId()}).then(function(e){var t=e.getPageAPI();"v1"!==b.grab(t,"version","id")&&n.getParentPage().addProblem("Including pages of different API versions is not supported. Doing so may result in unexpected behaviors and page errors."),r=e,i()}).catch(i):i():(u&&v(function(){l.block({message:g.$L("Loading"),css:{top:"25px",left:"25px"}})}),o=(g.page.runningOnForceSite?g.page.currentSiteUrl:"/")+"apex/include?"+a,v.ajax({url:o}).done(function(e){var t,n,i,a=v(e),o=a&&a.length,r="script.sk-resource",s=[];o&&void 0!==window.InlineEditState&&a.filter('script[src*="sfdc/main.js"]').removeAttr("src"),o&&(v.ajaxSettings&&(v.ajaxSettings.hasOwnProperty("cache")&&(t=v.ajaxSettings.cache),v.ajaxSettings.cache=!0),i=a.find(r).addBack().filter(r),v.each(i,function(){var e=v(this).attr("src");s.push(b.loadJS(e))}),n=function(){c.unrender(),a=a.not(i),l.append(a),h(l),v.ajaxSettings&&(void 0!==t?v.ajaxSettings.cache=t:delete v.ajaxSettings.cache),d&&d()},s&&s.length?v.when.all(s).then(function(){n()},function(){n()}):n())}).fail(function(){v(function(){l.unblock()}),l.text("There was an error attempting to load the requested page.")}))},c.pagename=t.attr("pagename"),c.modulename=t.attr("module"),c.namespace=t.attr("namespace"),c.querystring=t.attr("querystring"),c.objecttype=t.attr("objecttype"),c.actiontype=t.attr("actiontype"),c.includeType=e,"true"===t.attr("lazyload")||s.isLoading||c.load()}},g.componentType.register("includepanel",i)},304:function(e,t,n){"use strict";!function(A){var P=A.$,E=A.utils,l=E.makeXMLDoc,c=E.encodeHTML,e=A.componentType.register,t=A.component,L=t.Component,R=t.factory,D=A.constants,n=D.ACTION_TYPES,N=n.REDIRECT,H=n.PAGE_REDIRECT,i=n.PLATFORM_ACTION,a="sk-navigation-item-selected",U=".sk-subnavigation",O="keydown.action.skuid",z="keydown.navigation.skuid",B="click.skuid",q="subnav.open",G="subnav.close",j="action.event.skuid",$=A.$.ui.keyCode;function X(e,t){return e===i&&"user-logout"===t.attr(i)}function W(e){try{return e.outerWidth(!0)}catch(e){return 52}}function V(e){var t=e.label,n=e.link,i=e.items,a=e.window,o=e.icon,r=e.toolTipIcon,s=e.snippet,d=l('<navigationitem label="'+c(t)+'"/>');return n?d.append(l('<actions><action type="'+N+'" window="'+(a||"self")+'" url="'+c(n)+'"></action></actions>')):s&&d.append(l('<actions><action type="custom" snippet="'+s+'"/></actions>')),o&&d.attr("icon",o),r&&d.attr("tooltipicon","true"),i&&"function"==typeof i&&(i=i()),i&&i.length&&d.append(l("<navigationitems/>").append(P.map(i,function(e){return V(e)}))),d}var Y={render:function(u,e,p){var t,n,i,a,o=Y,r=e.attr("icon"),s=e.attr("label"),d=e.attr("cssclass")||"",l="true"===e.attr("tooltipicon"),c=e.children("actions").first(),f=e.children("navigationitems").first(),h="true"===e.attr("maxheight")||"true"===e.closest("navigation").attr("maxheight");u.css("display",""),this.hasOwnProperty("tabIndex")&&this.element.attr("tabindex",this.tabIndex),p.getLabel||(p.getLabel=function(){return E.mergeAsTextInContext(s,p.context)},p.getIcon=function(){return E.mergeAsTextInContext(r,p.context)},p.isSelected=function(){return o.isSelected(p)},p.select=function(){o.select(p)},p.unSelect=function(){o.unSelect(p)},p.unrender=function(){return L.prototype.unrender.apply(p,arguments),u.css("display","none"),p.parentNav&&p.parentNav.setFirstAccessibleItem&&p.parentNav.setFirstAccessibleItem(p),p});var m=function(){return h?P(window).innerHeight()/2+"px":"inherit"},g=function(e){clearTimeout(F),e||(e={}),M=e.navWrapper||M;var t,n,i,a=0,o=p,r=u.closest(U),s=r.length&&r.is(".left"),d=M.is(":visible"),l=function(){p.publish("subnavOpened")};for(p.element.attr("aria-expanded","true");o.parentNav;)a++,o=o.parentNav;if(M.css("z-index",a+1),s?M.addClass("left"):M.removeClass("left"),!d){if(!M.find(".sk-subnavigation-inner").length){M.wrapInner(P("<div>").addClass("sk-subnavigation-inner").css({"max-height":m}));var c=M.closest(".sk-subnavigation-inner");c.length&&M.css({"margin-top":M.parent().offset().top-c.offset().top+"px"}),M.find(".sk-navigation-item").css("position","static")}M.show(),l()}t=P(window).width(),n=M.offset().left,i=M.width(),s?n<8&&M.removeClass("left"):t<n+i+8&&M.addClass("left"),d||M.css("display","none"),p.parentNav&&p.parentNav.closeItems&&p.parentNav.closeItems.length&&(P.each(p.parentNav.closeItems,function(){this.css("display","none")}),p.parentNav.closeItems=[]),M.show(),l()},v=function(e){var t,n=(e=e||{}).delay||500,i=e.navWrapper||M,a=p.parentNav;a&&((t=a.closeItems)||(t=a.closeItems=[]),t.push(i)),F=setTimeout(function(){if(i.hide(),p.element.attr("aria-expanded",!1),t&&t.length){var e=t.indexOf(i);-1!==e&&t.splice(e,1)}p.element.trigger("subnav.closed"),p.publish("subnavClosed")},n)},b=function(){M&&(M.is(":visible")?v({delay:1}):g())};if(u.addClass("sk-navigation-item").addClass(d).attr("tabindex",-1),r){var w=A.ui.createIcon(p.getIcon()),y="sk-navigation-item-icon inline";t=P(w).addClass(y),l&&(n=P(w).skootip(s).addClass(y+" withtip"))}if(s&&(i=P('<span class="sk-navigation-item-'+(r?"icon":"")+'label">'+p.getLabel()+"</span>")),c.length){var x,C,k,S,T=function(t,n,i){return function(e){e.stopPropagation(),n.select&&n.select(),A.actions.runActionsNode(t,n,i).always(function(){n.publish("actionComplete")})}}(c,p),I=c.children(),_=1===I.length;_&&(k=(x=I.first()).attr("type")),_&&([H,N].includes(k)||X(k,x))?(k===N?S=x.attr("url"):k===H?(C={},x.children("params").children().each(function(e,t){var n=P(t);C[n.attr("key")]=n.attr("value")}),S="route"===x.attr("redirecttype")?A.platform.getRouteNavigateUrl(x.attr("route"),x.attr("namespace"),C):A.platform.getPageNavigateUrl(x.attr("page"),x.attr("namespace"),C)):X(k,x)&&(S=A.platform.getLogoutUrl()),a=P("<a>").attr({tabindex:"-1",href:A.utils.mergeAsDataInContext(S,p.context,{createFields:!1,registerFields:!1}),target:x.attr("window")?"_"+x.attr("window"):""}),u.off(j).on(j,function(){P(this).children("a")[0].click()}),u.off(O).on(O,function(e){e.which!==$.ENTER&&e.which!==$.SPACE||P(this).trigger(j)}),u.off(B).on(B,"a",function(e){e.metaKey||e.ctrlKey||(e.preventDefault(),T(e))})):0===I.length?u.off(B).on(B,b):(u.attr("role","link"),u.off(B).on(B,T),u.off(j).on(j,function(e){T(e)}),u.off(O).on(O,function(e){e.stopPropagation(),e.which!==$.ENTER&&e.which!==$.SPACE||(e.preventDefault(),u.trigger(j))}))}else u.off(B).on(B,b);if(a?(t&&a.append(t,n),i&&a.append(i),u.append(a).attr("role","link")):(t&&u.append(t,n),i&&u.append(i)),f.length){var F,M=P("<div>").addClass("sk-subnavigation").hide(),R=f.children();if(R.length)p.createChildComponents(R,M,p.context,{parentNav:p,tabIndex:-1}),u.hover(g,v);u.attr({"aria-haspopup":!0,"aria-expanded":!1}).append(M),u.off(G).on(G,function(e,t){if(e.stopPropagation(),t=t||!1,v({navWrapper:M,delay:1}),t){var n=P(this).children(U).find(".sk-subnavigation:visible"),i=0<n.length;n.parent().trigger(G,i)}}),u.off(q).on(q,function(e,t){e.stopPropagation();var n=null;(t=t||!1)&&(n=M.children().first()),g({navWrapper:M}),n&&n.trigger("focus")})}if(A.page.tabToOverride===s&&p.select(),u.off(z).on(z,this.keybindingsHorizontal).on(z,function(e){var t,n,i,a=P(this);if((e.which===$.UP||e.which===$.DOWN)&&"navigation"!==p.parentNav.type()){e.stopPropagation(),e.preventDefault();var o=a.children(U),r=o.children();if(0<o.length&&0<r.length&&e.which===$.UP&&a.is(".top-level"))return void u.trigger(q,!0);0<o.length&&a.trigger(G),n=a.parent().children(),i=a.index(),e.which===$.UP&&i--,e.which===$.DOWN&&i++,i%=n.length,(t=n.eq(i)).trigger("focus"),0<t.children(U).length&&t.trigger(q)}}),p.parentNav&&p.parentNav.setFirstAccessibleItem&&p.parentNav.setFirstAccessibleItem(p),h){var D=p.get("reflowSubscription");D&&D.unsubscribe(),D=A.events.subscribe("ui.reflow",function(){P(".sk-subnavigation-inner").css({"max-height":m})}),p.set("reflowSubscription",D)}},keybindingsHorizontal:function(e){var t,n,i=P(this);if((e.which===$.ENTER||e.which===$.SPACE)&&0<P(this).children(U).children().length&&(P(this).trigger(q,!0),e.stopPropagation()),e.which===$.ESCAPE&&(e.preventDefault(),i.closest(".top-level").focus().trigger(G,!0)),e.which===$.TAB&&i.closest(".top-level").focus().trigger(G,!0),e.which===$.LEFT||e.which===$.RIGHT){e.stopPropagation(),e.preventDefault();var a=P(this).is(".top-level, .overflow"),o=0<P(this).children(U).length,r=P(this).parent().is(".left")?$.RIGHT:$.LEFT;if(a){n=(t=i.parent(".sk-navigation").first().children().filter(function(e,t){return"none"!==t.style.display})).index(i),n=(e.which===$.LEFT?n-1:n+1)%t.length;var s=t.eq(n);s.hasClass("overflow")&&(s=s.find(".sk-dropnav-dropdown-item").first()),s.trigger("focus"),o&&i.trigger(G,!0)}else if(o&&e.which===$.RIGHT)P(this).children(U).children().first().trigger("focus");else if(e.which===r){var d=P(this).closest(U).parent();d.trigger("focus"),d.trigger(G)}}},isSelected:function(e){return!!e.element.hasClass(a)},select:function(e){var t=e.element,n=e.parentNav,i=n&&n.getSelectedItem&&n.getSelectedItem();i&&i.unSelect(),t.hasClass(a)||t.addClass(a)},unSelect:function(e){e.element.removeClass(a)}},Q={render:function(s,e,n){var i,t,a,o,r,d,l,c,u=Q,p="true"===e.attr("allowexpandcollapse"),f="true"===e.attr("useicon"),h=e.attr("icon")||"sk-icon-menu",m=e.attr("source"),g="sfapps"===m,v=g?e.attr("customlabel"):e.attr("label"),b="false"!==e.attr("overflowtomenu"),w="true"===e.attr("maxheight"),y=e.attr("responsivebreakpoint"),x=e.attr("type"),C=n.navItems=[],k={},S=n.getPersonalizationService(),T=S.getSettings(),I=A.platform.getNavigationItemSourceTypes;function _(){var e,t=s.find('> .sk-navigation-item.top-level[data-rendered="true"]'),n=s.children(".sk-navigation-dropdown.overflow"),i=n.find(".sk-dropnav-dropdown > .sk-dropnav-dropdown-item").has('[data-rendered="true"]');if(n.appendTo(s).hide(),t.show(),i.hide(),(!y||(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0)>D.MEDIA_QUERY_BREAKPOINTS[y])&&(e=t.toArray().reduce(function(e,t){return e+W(P(t))},0)+(n.is(":visible")?W(n):0))>s.width())for(var a=t.length-1;0<=a;a--){var o=t.eq(a),r=i.eq(a);e<s.width()?(o.show(),r.hide()):(e-=W(o),o.hide(),r.show(),n.is(":hidden")&&(n.show(),e+=W(n)))}}I&&("function"==typeof I&&(I=I()),I&&I.length&&I.forEach(function(e){e.value&&e.label&&(k[e.value]=e)})),s.addClass("sk-navigation"),y&&s.addClass("sk-responsive-"+y),x?s.addClass("sk-navigation-"+x):s.addClass("sk-navigation-horizontal"),n.getSelectedItem||(n.getSelectedItem=function(){return u.getSelectedItem(n)},n.getItems=function(){return C},n.getRenderedItems=function(){return C.filter(function(e){return!0===e.isRendered})},n.setFirstAccessibleItem=function(){u.setFirstAccessibleItem(n)},n.getNavType=function(){return x},n.unrender=function(){return l&&l.unsubscribe(),L.prototype.unrender.apply(n,arguments),n._snippetId&&A.snippet.unregister("skuid.navigation."+n._snippetId),P.each(C,function(){this.unrender(),this.unregister()}),t&&t.unregister(),n},n.unregister=function(){return n.unrender(),L.prototype.unregister.apply(n,arguments)}),E.processStylesNode(e.children("styles").first(),n),m&&"manual"!==m?k[m]&&((o=k[m].items)&&"function"==typeof o&&(o=o()),o&&o.length&&(r=P.map(o,function(e){return V(e)})),r&&r.length&&w&&P.each(r,function(e,t){t.attr("maxheight","true")})):r=e.children("navigationitems").children(),"dropdown"===x&&(i=g&&r&&r.length?(c=v?E.mergeAsTextInContext(v,n.context):r.shift().attr("label"),[{content:P("<div>").addClass("sk-navigation-item").append(P("<div>").addClass("sk-navigation-item-label").text(c)),value:"__default",isSelected:!0,icon:f?h:""}]):[{content:P("<div>").addClass("sk-navigation-item").append(P("<div>").addClass("sk-navigation-item-label").text(E.mergeAsTextInContext(v||"",n.context))),value:"__default",isSelected:!0,icon:f?h:""}]);var F=1;if(P.each(r,function(){"vertical"===x&&P(this).attr("tooltipicon",!0);var e=R({definition:this,context:n.context}),t=e.element;e.parentNav=n,t.addClass("top-level"),C.push(e),!1===t.data("rendered")&&t.css("display","none"),"dropdown"===x?(i.push({content:e.element,value:F,onSelect:function(e,t){t&&t.event&&"keydown"===t.event.type&&e.content.trigger(j)},onFocus:function(){0<P(this).children(".sk-navigation-item").children(".sk-subnavigation").length&&P(this).children(".sk-navigation-item").trigger("focus")}}),F++):s.append(t)}),x||(y&&("collapse"===(a=e.attr("alternateformat")||"collapse")?((t=R({definition:e.clone().attr({type:"dropdown",useicon:"true"})})).element.addClass("collapse"),s.append(t.element)):"wrap"===a&&s.addClass("sk-navigation-wrapcentered")),b&&((d=R({definition:e.clone().attr("type","dropdown").attr("useicon","true")})).element.addClass("overflow"),s.append(d.element),d.element.on("actionselect.populate",_).off(z).on(z,Y.keybindingsHorizontal).find(".sk-dropnav-dropdown-item").first().attr("tabindex","-1"),_(),P(window).on("resize",_),l=A.events.subscribe("ui.reflow",_),n.storeSubscription(A.events.subscribe("skuid.tabset.onTabShow",function(e){var t=e&&e.panel,n=t&&t.attr("id");n&&s.closest("#"+n).length&&_()})))),"vertical"===x&&p&&h){n._snippetId||(n._snippetId=E.generateUniqueId()),A.snippet.register("skuid.navigation."+n._snippetId,function(){s.toggleClass("sk-navigation-collapsed"),S.updateSettings({navCollapsed:s.hasClass("sk-navigation-collapsed")})});var M=R({definition:V({label:A.$L("Expand_Collapse"),icon:h,snippet:"skuid.navigation."+n._snippetId,toolTipIcon:!0})});M.parentNav=n,M.element.addClass("top-level sk-navigation-item-expandcollapse"),C.push(M),s.prepend(M.element),T.navCollapsed&&s.addClass("sk-navigation-collapsed")}"dropdown"!==x?n.setFirstAccessibleItem():(s.actionSelect({items:i,baseClass:"sk-dropnav",preventLabelChangeOnSelect:!0,maxHeight:w,noAnimation:!0}),h&&(s.find(".sk-navigation-item-label").first().removeClass("sk-navigation-item-label").addClass("sk-navigation-item-iconlabel").before(s.find(".sk-dropnav-icon").first()),v||g||s.find(".sk-navigation-item-iconlabel").remove()))},getSelectedItem:function(e){for(var n,t=e;t.parentNavItem;)t=t.parentNavItem.parentNav;return function t(e){P.each(e,function(){if(!0===Y.isSelected(this))return n=this,!1;var e=this.subNav;return e&&e.navItems.length?t(e.navItems):void 0})}(t.navItems),n},setFirstAccessibleItem:function(e){for(var t=e.getItems(),n=!1,i=0;i<t.length;i++){var a=t[i],o=-1;!a.isRendered&&!a.isBeingRendered||n||(n=!(o=0)),a.element.attr("tabindex",o)}}};e("navigationitem",Y),e("navigation",Q)}(skuid)},305:function(e,t,n){"use strict";!function(x){var C=x.$,k=x.utils;function S(e){return{model:e.model,row:e.datarow,component:e}}function T(e){var t=!1,n=e.model,i=e.conditions;if(n)if(i&&i.length){var a=n.getRows(i,e.component.context);a.length&&(t=a[0])}else t=n.getFirstRow();return t}function I(e){var i,t=e.datarow,n=T(e),a=e.subTitleTemplate,o=e.titleTemplate;(e.datarow=n)!==t&&(i=S(e),C.each(e.component.childComponents,function(e,t){if(t.unrender().conditionallyRender({context:i}),"button"===t.getType()){var n=t.element;!1===n.data("rendered")&&n.css("display","none")}})),a.rows?a.rows.length=0:a.rows=[],o.rows?o.rows.length=0:o.rows=[],n&&(a.rows.push(n),o.rows.push(n)),a.render(),o.render()}var e={init:function(n,i){var e,f,t,h,a,m,o,r,s,d,g=this.addClass("nx-pagetitle"),l=n.attr("model"),c=n.children("maintitle"),u=n.children("subtitle"),p=n.attr("msgcontainerid");if(l&&(f=g.model=x.$M(l)),l&&!f)return i.addProblem("Invalid Model '"+l+"' on Page Title component. This Model's Id may have been changed, or the Model may have been deleted."),g;if(f&&!1===f.accessible)return i.addProblem("You do not have permission to view records of the "+f.objectName+" object. Page Title component could not be displayed."),g;t=g.actionsDef=n.children("actions"),g.buttons=[];var v=t.children('action[type="savecancel"]');function b(){h.unregister(),s.unregister(),d.unregister()}e=(h=g.editor=new x.ui.Editor(g,{showSaveCancel:v.length,saveIcon:v.attr("saveicon"),cancelIcon:v.attr("cancelicon")})).createConditionsFromXml(n,i),a=g.actionwrapper=C("<div>").css("display","inline-block").prependTo(h.submitwrapper),f&&h.registerModel(f),i&&(i.editor=h,(g.component=i).unregister=function(){return x.component.Component.prototype.unregister.call(i),b(),i},i.unrender=function(){return x.component.Component.prototype.unrender.call(i),b(),i}),m=g.datarow=T(g),h.handleSave=function(e,t){x.ui.Editor.prototype.handleSave.call(h,e,t),e&&(void 0===t&&(t={}),t.insertResults&&t.insertResults.length&&h.createConditionsFromXml(n,i),I(g),g.redirectAfterSave&&t.initiatorId&&t.initiatorId===h.id()&&g.redirectAfterSave())},h.handleCancel=function(){x.ui.Editor.prototype.handleCancel.call(h),g.redirectAfterCancel&&g.redirectAfterCancel(),I(g)},h.handleDataRefresh=function(){I(g)},h.handleChange=function(){var e=x.ui.Editor.prototype.handleChange;e&&e.apply(h,arguments),I(g)},h.handleMessages=function(e,t){var n=h,i=C.extend({},t);if(p&&t.initiatorId&&t.initiatorId===h.id()){var a=C("#"+p).data("component"),o=a&&a.editor,r=o&&"function"==typeof o.id&&o.id();r&&(i.initiatorId=r,n=o)}n===h?x.ui.Editor.prototype.handleMessages.apply(h,[e,t]):"function"==typeof n.handleMessages&&n.handleMessages(e,i)},o=u&&u.text(),r=c&&c.text(),s=g.subTitleTemplate=new k.TemplateComponent(C("<div>"),{allowHTML:!0,component:i,controllingComponent:g,context:i.context,conditions:e,isMultiRow:!1,model:f,onlyShowFirstRow:!0,templateBody:o}),d=g.titleTemplate=new k.TemplateComponent(C("<div>"),{allowHTML:!0,component:i,controllingComponent:g,context:i.context,conditions:e,isMultiRow:!1,model:f,onlyShowFirstRow:!0,templateBody:r}),o&&h.header.append(C("<div>").addClass("nx-pagetitle-subtitle").append(s.element)),r&&h.header.append(C("<div>").addClass("nx-pagetitle-maintitle").append(d.element));var w=[],y={savecancel:{render:function(e,t,n){var i=t.id(),a=e.children("savehotkeys").first(),o=e.children("cancelhotkeys").first(),r=a.length||o.length,s=h.savebutton,d=h.cancelbutton,l=n.doMerge(e.attr("saveLabel"),t.context),c=n.doMerge(e.attr("cancelLabel"),t.context),u="true"===e.attr("rollbackonanyerror");l&&s.find(".ui-button-text").text(l),c&&d.find(".ui-button-text").text(c);var p=e.children("models").first();p&&C.each(p.children("model"),function(){var e=x.$M(C(this).text());e&&h.registerModel(e)}),u&&(h.options.rollbackOnAnyError=!0),e.attr("afterSave")&&(g.redirectAfterSave=function(){k.redirect({row:m,model:f,url:e.attr("afterSave"),window:e.attr("window")})}),e.attr("afterCancel")?g.redirectAfterCancel=function(){k.redirect({row:m,model:f,url:e.attr("afterCancel"),window:e.attr("window")})}:s&&h.submitwrapper.append(s,d),r&&(x.hotkeys.unbind(i),a.length&&x.hotkeys.bind(a,i,function(){s.trigger("click")},s),o.length&&x.hotkeys.bind(o,i,function(){d.trigger("click")},d)),t.element.removeAttr("class")},unrender:function(){var e,t;h&&(e=h.savebutton,t=h.cancelbutton,e&&e.detach(),t&&t.detach())}}};return t.children().each(function(){var e=C(this),t=C("<div>").addClass("nx-pagetitle-action").css("display","inline-block").appendTo(a),n=x.component.factory({element:t,definition:e,type:"button",context:S(g),state:{options:{editor:h,customTypes:y}}}),i=n.element;!1===i.data("rendered")&&(i.css("display","none"),"savecancel"===e.attr("type")&&y.savecancel.unrender()),w.push(n)}),Array.prototype.push.apply(i.getChildComponents(),w),g.data("object",g),g}};k.registerPlugin("pageTitle",e),x.componentType.register("pagetitle",{render:function(e,t,n){e.pageTitle(t,n)}})}(skuid)},306:function(e,t,n){"use strict";!function(E){var L=E.$,c=E.ui,N=E.utils,H=N.makeXMLDoc,u="keydown.action.skuid",p=E.$.ui.keyCode;function U(o){var r=this,e=(o=o||{}).grandparent,t=o.parent,n=o.model,i=o.element,s="nx-queue";if(r.model=n,e.css({overflow:"hidden","overflow-x":"hidden","overflow-y":"hidden"}),t.css({position:"relative","padding-left":"0px","padding-right":"0px",height:"100%"}),r.element=i.addClass(s).data("object",r).appendTo(t),!o.hideHeader){var a=o.title?N.merge("row",o.title,{noLink:!0},n):"";r.header=L("<div>").addClass(s+"-header").attr({"aria-controls":i.prop("id")}),r.headerInner=L("<div>").addClass(s+"-header-inner").appendTo(r.header),r.titleBar=L("<div>").addClass(s+"-titlebar").appendTo(r.headerInner),(!0===o.showSearchBox||o.filtersXML&&o.filtersXML.children&&0<o.filtersXML.children().length)&&(r.titleIcon=L("<div>").attr({role:"button",tabindex:0}).addClass("ui-icon ui-icon-gear "+s+"-titleicon").on("click "+u,function(e){"click"!==e.type&&e.which!==p.ENTER&&e.which!==p.SPACE||r.settingsBar.toggle()}).appendTo(r.titleBar)),r.titleText=L("<div>").append(a).addClass(s+"-titletext").appendTo(r.titleBar);var d=L("<div>").addClass(s+"-settings clearfix");o.showSearchByDefault?r.settingsBar=d.appendTo(r.headerInner):r.settingsBar=d.hide().appendTo(r.headerInner),t.append(r.header)}t.append(r.element),r.editor=new c.Editor(r.element,{showSaveCancel:!1,showFooter:!o.hideFooter,showHeader:!o.hideHeader,buttonPosition:"block"});var l={render:function(t){var e=t.element.addClass(s+"-item"),n=L("<div>").addClass(s+"-item-inner").appendTo(e),i=o.tagRenderer,a=o.tagInteractions;i&&i(r.model,r.list,t,n),E.interactions.enableInteractions(e,{customInteractionsEvaluator:function(e){a&&a(t,e.validGestures)},component:o.component})}};(r.views={standard:l},r.list=new c.List(r.editor,r.model,{component:o.component,views:r.views,listFilters:o.filtersXML,conditions:o.editorConditions,context:o.context,showSearchBox:o.showSearchBox,showFooter:!o.hideFooter,showHeader:!o.hideHeader,useSOSLSearch:o.useSOSLSearch,SOSLFields:o.SOSLFields,searchMethod:o.searchMethod,searchConditionName:o.searchConditionName,emptySearchBehavior:o.emptySearchBehavior,tokenizeSearch:void 0===o.tokenizeSearch||o.tokenizeSearch,searchPlaceholderText:o.searchPlaceholderText,delayFilterExecution:o.delayFilterExecution,personalizationService:o.personalizationService}),r.model.registerList(r.list),r.list.render(),r.list.attach(),o.hideHeader)||r.editor.header.detach().appendTo(r.settingsBar)}L.extend(U.prototype,{unregister:function(){this.editor.unregister()},addSearchField:function(e,t){this.list.addSearchField(e,t)}}),L.extend(c,{Queue:U}),E.componentType.register("queue",{actions:{drawer:function(e,t,n){var i,a=n.item,o=e.children("drawer").first(),r=e.attr("openicon");if(a.drawers||(a.drawers=[]),a.drawerWrapper||(a.drawerWrapper=L('<div class="nx-item-drawer">'),a.drawerContent=a.drawerWrapper),!o)return null;L.each(a.drawers,function(){if(this.xmlDefinition&&o&&this.xmlDefinition[0].innerHTML===o[0].innerHTML)return i=this,!1}),i?i.init().toggle():(i=E.component.factory({definition:o,context:n||{}}),a.drawers.push(i),a.drawerWrapper.append(i.element),r&&a.queueIconContainer&&t.setIcon(a,r),i.handleIconChange=function(){if(r&&a.queueIconContainer)if(i.isOpen)t.setIcon(a,r);else{var e=!1;L.each(a.drawers,function(){if(this.isOpen)return!(e=!0)}),e||t.resetIcon(a)}})}},render:function(c,u,p){var f,h,m=u.attr("tagrendertype"),g=u.children("rendertemplate").text(),v=u.attr("rendersnippet"),b=u.attr("itemicon"),w="false"!==u.attr("searchbox"),y="true"===u.attr("showsearchbydefault"),x="true"===u.attr("hideheader"),C="true"===u.attr("hidefooter"),k=u.attr("clickactiontype"),S=u.attr("actionsnippet"),T=u.attr("actionpanel"),I=u.attr("actionurl"),_=u.attr("window"),a=u.attr("querystring"),o=u.attr("module"),F=u.attr("pagename"),M=E.$M(u.attr("model")),R=function e(t,n,i,a,o,r){!0!==L.fx.off&&t.animate(a,n,i,function(){!1===r()&&e(t,n,i,o,a,r)})};function D(e,t){var n={row:e,model:M},i=H("<action/>").attr({type:"updateIncludePanel",pagename:F,panelid:T,querystring:a,module:o});E.actions.runActionNode(i,p,n).done(function(){t&&t()})}function A(e){e.children(".nx-queue-loader").addClass(".nx-queue-loader-ended").animate({opacity:0},500,"linear",function(){L(this).remove()})}function P(e){A(e.element),f&&f.element&&f.element.find(".nx-queue-item-selected").removeClass("nx-queue-item-selected"),e.element.addClass("nx-queue-item-selected")}function e(){var e,t,n=c.parent(),i=n.parent(),a=c.prev(),o=p.createConditionsFromXml(u),r=u.children("searchfields").first(),s=r.children();i.is(".nx-panel")?(e=i,t=n):(e=L("<div>"),t=L("<div>").appendTo(e),a&&a.length?a.after(e):n.prepend(e)),h=function(e,i){if("none"===k);else if(function(e){A(c.find(".nx-queue-item"));var t=L("<div>").addClass("nx-queue-loader").html("&middot;&middot;&middot;");e.element.append(t),R(t,500,"linear",{opacity:.25},{opacity:1},function(){return t.is(".nx-queue-loader-ended")})}(e),"multi"===k||void 0===k){var a=H("<actions></actions>");if(u.children("actions").length)a=u.children("actions").first();else if(u.children("interactions").length){var t=u.children("interactions").first().clone();i=i.length?i:[i],L(t.children("interaction")).each(function(e,t){var n=(t=L(t)).attr("type")+("swipe"===t.attr("type")?t.attr("direction"):"");-1<i.indexOf(n)&&a.append(t.children())})}E.actions.runActionsNode(a,p,{model:M,item:e,row:e.row,list:e.list,initiatorId:f.editor._GUID}).always(function(){P(e)})}else switch(k){case"updatepanel":D(e.row,function(){P(e)});break;case"redirect":E.utils.redirect({row:e.row,model:M,url:I,window:_}),P(e);break;case"snippet":var n=E.snippet.get(S);n&&n({model:M,item:e}),P(e);break;default:P(e)}},f=new U({component:p,grandparent:e,parent:t,element:c,model:M,title:u.attr("title"),showSearchBox:w,hideHeader:x,hideFooter:C,searchMethod:u.attr("searchmethod")||"server",useSOSLSearch:"true"===r.attr("usesosl"),SOSLFields:r.attr("soslfields"),searchPlaceholderText:u.attr("searchplaceholdertext"),tokenizeSearch:"false"!==u.attr("tokenizesearch"),searchConditionName:u.attr("searchconditionname"),emptySearchBehavior:u.attr("emptysearchbehavior")||"query",delayFilterExecution:"false"===u.attr("instantfilters"),filtersXML:u.children("filters"),showSearchByDefault:y,tagRenderer:function(e,t,n,i){var a;if("template"===m)a=b?(n.queueIconContainer=L("<div>").css("float","left"),p.setIcon(n,b),i.append(n.queueIconContainer),L("<div>").addClass("nx-queue-item-inner-with-icon").appendTo(i)):i,g&&a.append(e.mergeRow(n.row,g||"",{noLink:!0}));else if(v){var o=E.snippet.get(v);o&&o({template:g,model:e,list:t,item:n,element:i})}},tagInteractions:h,editorConditions:o,context:p.context,personalizationService:p.getPersonalizationService()}),w&&(s.length?s.each(function(){var e=L(this);f.addSearchField(M.getField(e.attr("field")),e.attr("operator"))}):L.each(M.fields,function(){f.addSearchField(this)}));var d=u.attr("defaultitemparameter");if(!d&&u.find('interaction[type="onrender"] action[type="loadIncludePanel"]').length){var l=u.find('interaction[type="onrender"] action[type="loadIncludePanel"]');d=l.attr("defaultitemparameter"),T=l.attr("panelid"),F=l.attr("pagename")}T&&d&&E.page.params[d]&&M.keyPrefix===E.page.params[d].substr(0,3)&&D({Id:E.page.params[d]})}x&&(y=w=!1),a&&(N.startsWith(a,"?")||N.startsWith(a,"&"))&&(a=a.substring(1,a.length)),p.setIcon=function(e,t){e.queueIconContainer.empty(),e.queueIconContainer.append(L(E.ui.createIcon(N.mergeAsTextInContext(t,{row:e.row,model:e.list.model},{createFields:!1}))).css("float","left"))},p.resetIcon=function(e){p.setIcon(e,b)},p.unrender=function(){return f.header.remove(),E.component.Component.prototype.unrender.apply(p,arguments)},p.render=function(){return this.isRendered?this.rerender():E.component.Component.prototype.render.apply(p,arguments),this},p.unregister=function(){return E.component.Component.prototype.unregister.apply(p,arguments),f&&f.unregister(),E.component.Component.prototype.unregister.apply(p,arguments)},c.parent().length?e():c.on("attach",function(){e()})}})}(skuid)},307:function(e,t,n){"use strict";!function(S){var T=S.$,I=S.$L,_=S.dataSource,F=S.utils,s=S.ui.getRenderer,a=S.constants.SALESFORCE;function M(t,n,i){return function(e){e.stopPropagation(),S.actions.runActionsNode(t,n,i)}}function R(e,i){return T.isArray(e)||(e=[e]),e.filter(function(e){var n,t=e.results;if(e.success){if(!e.success||!t.error)return e.success;(n=t.request.dataSource).dataSourceTypeName===a&&n.name!==a&&i.addProblem("Salesforce Data Source "+n.name+" needs to have Skuid version 9.4 or greater installed.")}else T.isArray(t)?T.each(t,function(e,t){F.isString(t)?i.addProblem(t):(n=t.request.dataSource,i.addProblem("Data Source "+n.name+" failed to load the requested data."))}):F.isString(t)?i.addProblem(t):(n=t.request.dataSource,i.addProblem("Data Source "+n.name+" failed to load the requested data."))}).map(function(e){return e.results})}S.componentType.register("search",{render:function(e,c,u){var d,a,t,n,i,o,l=this,p=c.children("resultactions").children("action"),f=c.children("selectactions"),h=c.children("objects").first().children("object"),r="true"===c.attr("preventchange"),m=parseInt(c.attr("limit"),10)||5,g=parseInt(h&&h.attr("returnlimit"),10)||50,v={searching:c.attr("soslfields")||"NAME FIELDS",includeMetadata:!0},b={},w={},y={},x=u.objectMap={},C=u.modelMap={},k=[];h&&h.each(function(){var e=T(this),t=e.attr("id"),n=e.attr("datasource")||S.platform.getDefaultDataSourceName(),i=n+"__"+e.attr("id"),a=_.getDataSource(n),o=e.attr("orderby"),r={objectName:t,recordsLimit:m&&m+1},s=[],d=[];b[n]||(b[n]={searching:c.attr("soslfields")||"NAME FIELDS",includeMetadata:!0}),b[n].returning||(b[n].returning={}),b[n].dataSourceName=n,y[n]||(y[n]={}),y[n][t]=e,T.each(e.children("fields").first().children("field"),function(){s.push(T(this).attr("id"))}),s.length&&(r.fields=s),e.children("conditions").first().children().each(function(){d.push(new S.model.Condition(T(this)))}),d.length&&(r.conditions=d),o&&(r.orderBy=o);var l=new S.model.Model({id:"search__"+a.name+"__"+t,conditions:d,label:t,objectName:t,objectMapKey:i,fields:T.map(s,function(e){return{id:e}}),dataSource:a,pathToContent:e.attr("pathtocontent")}).initialize();r.objectMapKey=i,r.modelName=l.id,C[l.id]=l,b[n].dataSourceName===n&&(b[n].returning[t]=r,w[i]={searching:c.attr("soslfields")||"NAME FIELDS",includeMetadata:!0,returning:function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,r),dataSourceName:n}),x[i]={icon:e.attr("icon"),fields:s,conditions:d,actions:e.children("resultactions").children("action"),displayTemplate:e.attr("displaytemplate"),orderBy:o,headerName:e.attr("headername"),components:y[n]}}),(i=u.searchBox=s("AUTOCOMPLETE").edit({appendTo:e,parentElem:e,source:function(r,t,e,n){var s=[];if(v.query=r.term,r.term===a&&k.length)return t(k);T.each(b,function(e,t){var n=S.dataSource.getDataSource(t.dataSourceName),i=n.getDataSourceType(),a=n.name;if(T.each(t.returning,function(e,t){var n=C[t.modelName];n.dataMap={},n.registeredEditors={},n.registeredLists={},n.abandonRows(n.data)}),t.query=r.term,T.each(w,function(e,t){t.query=r.term}),i.search){var o=n.search(t,y[a],C);T.isArray(o)?s.concat(o):s.push(o)}}),e(),T.settle(s).then(function(e){return R(e,u)}).always(function(e){n();var c=[],i=[];return d={},T.each(e,function(e,n){T.isArray(n)?T.each(n,function(e,n){T.each(n.results,function(e,t){t.dataSource=n.request.dataSource,i.push(t)})}):T.each(n.results,function(e,t){t.dataSource=n.request.dataSource,i.push(t)})}),T.each(i,function(e,t){var r=t.objectName,s=t.objectMapKey,n=t.modelName,i=t.records,d=x[s],l=C[n];l.dataMap||(l.dataMap={}),d.recordCount=i.length,d.label=1===i.length?t.label:t.labelPlural,T.each(i,function(e,t){if(e===m)return!1;var n=d.displayTemplate,i=l.getRowId(t),a={label:i,value:i,type:s||r,model:l,row:t};if(l.data.push(t),l.dataMap[i]=t,!n){var o=l.getNameField();-1!==T.inArray(o,d.fields)&&(n="{{"+o+"}}")}a.label=F.mergeAsDataInContext(n,{model:l,row:t}),c.push(a)}),l.initialize()}),c.length||c.push({isNoRowsIndicator:!0}),a=r.term,t(k=c)})},menuRenderer:function(r,e){r.addClass("sk-search-results");var s=this,d="";1===e.length&&e[0].isNoRowsIndicator?e=[]:T.each(e,function(e,i){if(i.type!==d){var t=T('<li class="sk-search-result-header">'),a=i.type,c=x[a];c.icon&&t.append(S.ui.createIcon(c.icon,{webIconClass:"sk-search-result-header-webicon"}));var n=T('<span style="padding-left:6px;vertical-align:middle;">'+(c.headerName||i.model.dataSource.name+": "+(c.label||a))+" ("+(c.recordCount>m?m+"+":c.recordCount)+")</span>"),o=T('<a class="sk-view-link">').text("("+I("View")+")");o.on("click.skuid",function(){var s="__global_search",d=v.searching,e=i.model,t=e.objectName,l=new S.model.Model({id:"_TempSearchModel_"+(new Date).getTime(),fields:T.map(c.fields,function(e){return F.isObject(e)&&(e=e.id),{id:e}}),conditions:e.conditions,doQuery:!0,recordsLimit:g,orderByClause:c.orderBy||F.getNameField(a),label:e.label,labelPlural:e.label,objectName:t,objectMapKey:e.dataSource.name+"__"+t,dataSource:e.dataSource}),n=w[l.objectMapKey];n.returning&&n.returning[t]&&(n.returning[t].modelName=l.id,n.returning[t].recordsLimit=g),l.buildSearchCondition(s,v.query,c.fields||[],{useSOSLSearch:!0,SOSLFields:d}),S.$M(l.id)||l.initialize().register(),C[l.id]=l,T.when(l.dataSource.search(n,y[l.dataSource.name],C)).then(function(e){T.isArray(e)||(e=[e]);var n=[{results:e,success:!!e[0].results[0].records}];return l.getDataSourceType().getEntityMetadata({entities:[l],dataSource:l.dataSource,performingSearch:!0}).then(function(e){if(e=e[0],l.fieldsMap={},T.each(l.fields,function(t,n){e.fields?e.fields.map(function(e){n.id===e.id&&(l.fields[t]=e,l.fieldsMap[e.id]=e)}):(n.uiOnly=!0,n.label=F.capitalizeFirst(n.id),-1<n.id.indexOf(".")?n.displaytype="OBJECT":n.displaytype="TEXT",n.createable=n.editable=n.accessible=!0,l.fields[t]=n,l.fieldsMap[n.id]=n)}),e.fields)l.label=e.label,l.labelPlural=e.labelPlural;else{var t=l.label.split("/");l.label=F.capitalizeFirst(t[t.length-1]),l.labelPlural=F.capitalizeFirst(t[t.length-1])}return R(n,u)})}).always(function(e){var n,t=T.isArray(e[0])?e[0][0].results[0]:e[0].results[0],i=T("<div>").attr("title",c.label),a=T("<div>").css("min-height","300px").appendTo(i);if(l.data=t.records,T.each(t.records,function(e,t){var n=l.getRowId(t);l.recordsMap[n]=new S.model.Record(l,t,n)}),!S.mobile){n='<skootable model="'+l.id+'" pagesize="10" mode="readonly" searchbox="true" showsavecancel="false" createrecords="false" searchconditionname="'+s+'" tokenizesearch="true"><fields>',T.each(c.fields,function(e,t){F.isObject(t)&&(t=t.id),n+='<field id="'+t+'" allowordering="true"/>'}),n+="</fields>";var o=c.actions;(p.length||o.length)&&(n+="<rowactions>",p.each(function(){var e=T(this);e.attr("type")||e.attr("type","multi"),n+=e[0].outerHTML}),o.each(function(){var e=T(this);e.attr("type")||e.attr("type","multi"),n+=e[0].outerHTML}),n+="</rowactions>"),n+='<searchfields usesosl="true" soslfields="'+d+'"/></skootable>'}var r=S.component.factory({xmlDefinition:n});a.append(r.element),i.dialog({close:function(){i.dialog("close").remove(),r.unregister&&r.unregister(),l.unregister()},modal:!0,resizable:!0,width:"90%"}),u.publish("popup.created",{popupElement:i,component:u})})}),t.append(n,o),r.append(t),d=i.type}s._renderItemData(r,i)}),T('<div class="sk-search-summary">').html((e.length?e.length:"No")+" results found").removeClass("ui-menu-item").appendTo(r)},optionRenderer:function(e,t){var n=T('<li class="sk-search-result">'),i=T('<div class="sk-search-actions">'),a=x[t.type],o=t.label,r=t.type;p.length&&(p.each(function(){l.renderAction(T(this),{item:t,component:u,actionsWrapper:i})}),n.append(i));var s=a.actions;return s.length&&(s.each(function(){l.renderAction(T(this),{item:t,component:u,actionsWrapper:i})}),n.append(i)),void 0===d[r]&&(d[r]=n),n.append(T('<div class="sk-search-identifier">').text(o)),n.appendTo(e)},onChange:function(e,t){var n=t.item,i=T(e.target);if(f&&f.children().length)M(f,u,{model:n.model,row:n.row,initiatorId:u.getId()})(e);else for(var a=0;a<h.length;a++){if((T(h[a]).attr("datasource")+"__"+T(h[a]).attr("id")).match(n.type)){var o=T(h[a]).children("resultactions").children("action");if(0<o.length){var r=o.children("actions").first(),s={model:n.model,row:n.row,initiatorId:u.getId()};M(r,u,s)(e)}}}return i.val(n.label),!1},onFocus:function(e,t){return r?e.preventDefault():T(e.target).val(t.item.label),!1}})).focus(function(){i.autocomplete("search",i.val())}),t=c.children("focushotkeys").first(),n=e.attr("id"),t.length&&S.hotkeys.bind(t,n,function(){i.focus()},e),i.autocomplete("widget").menu("option","items","> :not(.sk-search-result-header,.sk-search-summary)"),l.setPlaceHolderText(u,{placeholderText:c.attr("placeholdertext")}),(o=c.attr("boxwidth")||"200px")&&i.css({"min-width":o}),e.addClass("sk-search").append(i)},setPlaceHolderText:function(e,t){var n=e.searchBox,i=t.placeholderText||"Search";"placeholder"in document.createElement("input")?n.attr("placeholder",i):(n.addClass("unchanged").val(i),n.focus(function(){n.hasClass("unchanged")&&n.val("").removeClass("unchanged")}).blur(function(){""===n.val()&&n.val(i).addClass("unchanged")}))},renderAction:function(e,t){var n,i,a,o,r=e.attr("icon"),s=e.attr("label"),d=T("<span>"),l=t.item,c=t.component,u=t.actionsWrapper,p=e.children("actions").first(),f=F.getContextToUse(c,T.extend({model:l.model,row:l.row,initiatorId:c.id()},c.context));p&&p.length&&(1===(a=p.children()).length&&"redirect"===a.first().attr("type")?(o=a.first(),i=T("<a>").attr({href:F.mergeAsTextInContext(o.attr("url"),f,{createFields:!1,registerFields:!1}),target:o.attr("window")?"_"+o.attr("window"):""}).append(d).on("click.skuid",function(e){e.stopPropagation()})):(n=M(p,c,f),d.off("click.skuid").on("click.skuid",n))),r?(d.append(S.ui.createIcon(r,{additionalClass:"inline"})),s&&d.prop("title",s)):s&&d.html(s),i?u.append(i):u.append(d)}})}(skuid)},308:function(e,t,n){"use strict";!function(ee){var e,te=ee.$,ne=ee.utils,ie=ee.ui,ae=ee.$L,oe=ne.mergeAsTextInContext,re=["load","tabshow","pageload","dialogopen","resize","orientationchange"],se="disabled",de="nx-skootable",le=de+"-data",ce=de+"-rowselect",ue=de+"-order-icon",pe=de+"-order-number",fe="ui-icon",he="ui-state-"+se,me="nx-visuallyhidden",ge="keydown.action.skuid",ve="click.skuid keydown.action.skuid",be=ee.$.ui.keyCode;function we(e){return e&&e.suffix?-1!=e.suffix.indexOf("ASC")?"triangle-1-n":"triangle-1-s":"carat-2-n-s"}e={init:function(e,H){var t,n,i,U=this.addClass(de),R=U.isResponsive="true"===e.attr("responsive"),a=e.attr("createrecordsicon")||"sk-icon-add";U.sortClientSide="true"===e.attr("sortonclient");var D=parseInt(e.attr("mobilebreakpoint"),10)||768;if(R&&U.addClass("sk-skootable-responsive"),U.empty(),U.data("object",U),U.mode=e.attr("mode")||"read",U.model=ee.$M(e.attr("model")),!U.model)return H.addProblem("Invalid Model '"+e.attr("model")+"' on Table component. This Model's Id may have been changed, or the Model may have been deleted."),U;if(!1===U.model.accessible)return H.addProblem("You do not have permission to view records of "+(U.model.objectName?"the "+U.model.objectName+" object":"this Model")+". Table Component could not be displayed."),U;U.createrecords="false"!==e.attr("createrecords")&&U.model.createable,U.showSearchBox="false"!==e.attr("searchbox"),U.searchMethod=e.attr("searchmethod")||"server",U.showExportButtons="true"===e.attr("showexportbuttons"),U.showSaveCancel="false"!==e.attr("showsavecancel"),U.hideConfigButton="true"===e.attr("hideconfigbutton"),U.allowColumnReordering="true"===e.attr("allowcolumnreordering"),U.hideHeader="true"===e.attr("hideheader"),U.hideFooter="true"===e.attr("hidefooter"),U.tokenizeSearch="true"===e.attr("tokenizesearch"),U.searchConditionName=e.attr("searchconditionname"),U.pageSize=e.attr("pagesize"),U.alwaysResetPagination="true"===e.attr("alwaysresetpagination"),U.viewsDef=e.children("views"),U.actionsDef=e.children("actions"),U.rowActionsDef=e.children("rowactions"),U.massActionsDef=e.children("massactions"),U.listFiltersDef=e.children("filters"),H&&(H.set({heading:e.attr("heading"),showHeading:!0}),H.subscribeChange("showHeading",function(e){U.editor.element.find(".nx-editor-header-heading").toggleClass("sk-hidden",!e)})),ee.offline.networkDown()&&(U.searchMethod="client"),U.hideHeader&&(U.showSearchBox=!1,U.showSaveCancel=!1),ee.events.subscribe("network.connected",function(){U.searchMethod=e.attr("searchmethod")||"server"}),ee.events.subscribe("network.disconnected",function(){U.searchMethod="client"}),ee.events.subscribe("salesforce.async.field.rendered",function(){U.skooTable("performPositioningUpdate")});var o=!(!U.massActionsDef||!U.massActionsDef.children().length);function r(){0<U.list.getSelectedItems().length&&te.each(U.list.getSelectedItems(),function(e,t){this.selected=!1,t.element.find("input."+ce).prop("checked",!1)}),U.tableheader.find(".checkcolumn > input").prop("checked",!1),P(),U.skooTable("performPositioningUpdate")}function s(){U.editor.header&&U.editor.header.find(".nx-massactions").css("display","none")}function A(){var m=U.model,g=[],t=ne.isMultiCurrencyOrganization,v=ne.userInfo.defaultCurrency;0<U.list.getSelectedItems().length?te.each(U.list.getSelectedItems(),function(e,t){g.push(t.row)}):g=U.list.getAllRows(),te.each(U.fieldsToCalculate,function(e,c){var u=c.objFieldData,p=u?u.displaytype:"TEXT",f=v,h=t&&"CURRENCY"===p;u&&u.accessible&&te.each(c.summaries,function(e,t){var n,i=c.cellelem.children(".nx-field").eq(e),a={},o=c.name||c.id,r=ee.aggregations.aggregate(t.type,m,o,{countBlanks:c.countBlanks,rows:g}),s=c.valueHorizontalAlignment;r||(r=0),h&&(c.hasCommonRowCurrency&&c.commonCurrency&&(f=c.commonCurrency)!==v&&(r=ne.convertCurrency(r,v,f)),a.CurrencyIsoCode=f),ie.getFieldRenderer(p,m.getDataSource()).read({element:i,metadata:u,model:m,row:a,id:u.id,name:u.name,options:{valueHorizontalAlignment:s,decimalPlaces:c.decimalPlaces}},r),t.summarizedValue=r;var d=(n=i.children(".nx-fieldtext").first()).html(),l='<span class="type">('+function(e){return ae["summary_"+e]||e}(t.type)+")</span>";n.html("right"===s?l+"&nbsp;"+d:d+"&nbsp;"+l),"right"===s&&i.addClass("halignright")})}),H.publish("summaries-calculated",U.fieldsToCalculate)}function P(){U.numSelected||(U.numSelected=te("<div>").addClass("nx-list-num-selected").appendTo(U.list.footercenter));var e=U.list.getSelectedItems().length;e?U.numSelected.text("("+(1==e?ee.label.merge(ae("Row_Selected"),1):ee.label.merge(ae("Rows_Selected"),e))+")").css("display","inline"):U.numSelected.css("display","none")}U.selectrecords=!U.hideHeader&&(o||U.showExportButtons),U.editor=new ie.Editor(this,{showSaveCancel:U.showSaveCancel,showHeader:!U.hideHeader,showFooter:!U.hideFooter,buttonPosition:e.attr("buttonposition"),cancelIcon:e.attr("cancelicon"),heading:H&&H.get("heading"),headingAbove:U.selectrecords||U.actionsDef&&U.actionsDef.children().length,saveIcon:e.attr("saveicon"),showErrorsInline:"true"===e.attr("showerrorsinline"),showErrorsOnHover:"true"===e.attr("showerroronhover")}),U.editor.header&&U.editor.header.css("display","flex"),U.editor.createConditionsFromXml(e,H),H?((U.component=H).unregister=function(){return ee.component.Component.prototype.unregister.call(H),U.editor.unregister(),i&&(te(window).off(i),i=null),H},H.unrender=function(){return ee.component.Component.prototype.unrender.call(H),U.editor.unregister(),i&&(te(window).off(i),i=null),H},H.needsModelMetadata=function(){return!0},H.unregisterChildComponents=function(){var n=U.list.element.children("thead").children("tr").children("th.actioncolumn").index()+1;return te.each(U.list.renderedItems,function(e,t){t.element&&t.element.children("td:nth-child("+n+")").children().children().each(function(){ne.removeEventSubscriptions(te(this))}),te.each(t.fields,function(){te.each(this.subComponents,function(){this.unrender().unregister()})})}),H},H.context&&H.context.mode&&(U.mode=H.context.mode)):U.uniqueId=ne.generateUniqueId(),U.editor.handleCancel=function(){ie.Editor.prototype.handleCancel.call(U.editor),r(),s(),0<U.fieldsToCalculate.length&&A(),U.list.footer&&U.list.footer.find(".nx-footer-btns").removeClass(se),U.tableheaderrow.find("."+fe).removeClass(he)},U.editor.handleSave=function(e,t){ie.Editor.prototype.handleSave.call(U.editor,e,t),e&&(r(),s(),U.list.footer&&U.list.footer.find(".nx-footer-btns").removeClass(se),U.tableheaderrow.find("."+fe).removeClass(he))},U.editor.handleChange=function(e){ie.Editor.prototype.handleChange.call(U.editor,e),0<U.fieldsToCalculate.length&&A(),e&&!1===e.hadPriorChanges&&(U.list.footer&&U.list.footer.find(".nx-footer-btns").addClass(se),U.tableheaderrow.find("."+fe).addClass(he));var t=0<te(document.activeElement).parents(".nx-skootable-floatsidebar").length;U.floatingSidebar&&(t?U.list.render():U.skooTable("makeFloatingSidebar")),U.floatingFooter&&U.skooTable("makeFloatingFooter")},U.updateOrdering=function(){t!==U.model.orderByClause&&(U.orderObject=U.model.getOrderObject(),te.each(O,function(){var e,t,n=te(this).attr("data-guid"),i=z[n],a=i.fieldId,o=i.fieldName,r=i.orderField;r&&(t=o?'name="'+o:'="'+a,e=U.tableheaderrow.children("[data-field"+t+'"]').children("."+ue),i&&i.fieldMetadata&&"REFERENCE"===i.fieldMetadata.displaytype&&(r=ne.getFieldReference(r,i.fieldMetadata)),e&&e.removeClass().addClass(ue+" "+fe+" "+fe+"-"+we(U.orderObject.map[r])))}))},U.editor.handleDataRefresh=function(){r(),s(),U.updateOrdering()};var O=U.fieldColumns=[],d=U.columnHeaders=[];t=U.model.orderByClause,U.orderObject=U.model.getOrderObject(),U.fieldsMetadataForExport=[],U.fieldsToCalculate=[],U.tablefooter=te("<tfoot>").addClass("nx-table-footer"),U.tablefooterrow=te("<tr>").appendTo(U.tablefooter),U.setupConfigPopup=function(){var b="_TempTableConfigModel"+H._GUID+"_",w=!1;return function(){var t,n,e,i,a,o,r,s,d,l,c,u=[],p=new ee.model.Model({id:b,_parentPageId:H&&H.getParentPageId(),fields:[{id:"ColumnName",label:ae("Column"),editable:!0,createable:!0,accessible:!0,sortable:!1},{id:"Visible",label:ae("Visible"),editable:!0,createable:!0,accessible:!0,sortable:!1,displaytype:ee.constants.DISPLAY_TYPES.BOOLEAN},{id:"DragHandle",label:"",editable:!0,createable:!0,accessible:!0,sortable:!1},{id:"UniqueId",label:"UniqueId",editable:!0,createable:!0,accessible:!0,sortable:!1}],dataSource:ee.dataSource.get("Ui-Only"),data:f,objectName:"Fields",doClone:!1}),f=[],h={};function m(e){e.find("tr").each(function(e,t){var n=te(t).data("uniqueid"),i=h[n]||{};i.order=e,h[n]=i}),U._reordered=!0}if(te.each(B,function(e){h[e]={label:this.label,hidden:this.hidden,order:this.order,userHidden:this.userHidden}}),p.initialize().register(),te.each(h,function(e){this.uniqueId=e,u.push(this)}),u.sort(function(e,t){return e.order-t.order}),te.each(u,function(e){!1===this.hidden&&void 0!==e&&p.createRow({doAppend:!0,editModeForNewItems:!0,additionalConditions:[{field:"DragHandle",value:""},{field:"ColumnName",value:this.label},{field:"Visible",value:!this.userHidden},{field:"UniqueId",value:this.uniqueId}]})}),s="tableconfig-"+ne.generateUniqueId(),d='<skootable showconditions="true" showsavecancel="false" showerrorsinline="false" searchmethod="server" searchbox="false" showexportbuttons="false" pagesize="all" createrecords="false" model="'+p.id+'" buttonposition="" mode="edit" allowscrollbars="true" uniqueid="'+s+'" instantfilters="true" emptysearchbehavior="query"><fields>'+(U.allowColumnReordering?'<field allowordering="true" id="DragHandle" readonly="true" columnwidth="9"/>':"")+'<field allowordering="true" id="UniqueId" readonly="true"/><field allowordering="true" id="ColumnName" readonly="true"/>'+(U.allowColumnShowHide?'<field allowordering="true" id="Visible" columnwidth="1"/>':"")+'</fields><rowactions/><views><view type="standard"/></views><renderconditions logictype="and"/></skootable>',o=ne.makeXMLDoc("<popup/>").attr("title",ae("Table_Settings")).append(ne.makeXMLDoc("<components/>").append(ne.makeXMLDoc(d))),R&&o.attr("width","90%"),a=ne.createPopupFromPopupXML(o,{},{modal:!0,title:ae("Table_Settings"),resizeImmediatelyAndIgnoreDifference:!0,close:function(){v(w=!1)}}),w=!0,r=ee.$C(s),l=U.allowColumnReordering?2:1,r.element.find("thead tr th:nth-child("+l+")").remove().end().find("tbody tr").each(function(){var e=te(this),t=e.find("td:nth-child("+l+")"),n=t.text();e.data("uniqueid",n),t.remove(),B[n].hideable||e.find("input[type=checkbox]")&&te(e.find("input[type=checkbox]")).prop("disabled",!0)}).end().find(".nx-field").removeClass("nx-modified").end().find(".nx-list-footer").hide(),U.allowColumnReordering){var g=r.element.find("tbody");te(g.find("tr")).attr({draggable:"true","aria-grabbed":"false","aria-dropeffect":"move"}),r.element.find("tbody tr td:first-child").each(function(){te(this).addClass("sort-handle").css("cursor","move").find(".nx-field").empty().append(te("<span>").addClass("ui-icon ui-icon-grip-solid-horizontal").css({color:"color: rgba(0, 0, 0, .2) !important"})).css({"text-align":"center",padding:"0 "}).attr("tabindex","0").on("keydown",function(e){var t,n=te(e.target);switch(38!==e.which&&40!==e.which||(e.preventDefault(),t=te(n.parents("tr"))),e.which){case 38:t.prev()&&t.insertBefore(t.prev());break;case 40:t.next()&&t.insertAfter(t.next())}t&&(m(n.parents("tbody")),t&&n.focus())})}),g.sortable({axis:"y",handle:".sort-handle",placeholder:{element:function(e){return te(e[0].outerHTML).css("opacity","0").show()},update:function(){}},helper:function(e,t){var n=t.children(),i=t.clone();return t.attr("aria-grabbed","true"),i.children().each(function(e){te(this).width(n.eq(e).width())}),i},stop:te.proxy(function(e){var t=te(e.target);m(t),t.find("tr").attr("aria-grabbed","false")},this)})}function v(e){(e=(w=!1)!==e)&&a.dialog("instance")&&a.dialog("destroy"),p.unregister(),n&&n.unregister(),r.unregister(),ee.events.unsubscribe(c),ee.snippet.unregister(t),ee.snippet.register(i)}t="skuid__applyTableConfigChanges_"+ne.generateUniqueId(),i="skuid__cancelTableConfigChanges_"+ne.generateUniqueId(),e='<buttonset model="'+b+'"><buttons><button type="multi" icon="sk-icon-save" label="'+ae("Apply")+'"><actions><action type="custom" snippet="'+t+'"/></actions></button><button type="multi" secondary="true" icon="sk-icon-cancel" label="'+ae("Cancel")+'"><actions><action type="custom" snippet="'+i+'"/></actions></button></buttons></buttonset>',(n=ee.component.factory({xmlDefinition:e})).element.appendTo(a),c=ee.events.subscribe("row.updated",function(e){e.modelId==b&&w&&(h[e.row.UniqueId].userHidden=!e.row.Visible)}),ee.snippet.register(t,function(){te.each(U._columnSettingsByUID,function(e){this.order=h[e].order,this.userHidden=h[e].userHidden}),y.updateSettings({columnSettingsByUID:U._columnSettingsByUID,reordered:U._reordered||x.reordered}),U.component.rerender(),(U.allowAdvancedScrolling||U.floatTableHeader||U.freezeLeftColumns)&&U.skooTable("performPositioningUpdate"),v()}),ee.snippet.register(i,function(){ee.snippet.unregister(i),v()})}};var l={nodeType:"table",contentsNodeType:"tbody",itemNodeType:"tr"};function v(e){return"click"===e.type||e.which===be.ENTER||e.which===be.SPACE}function E(i,a,e,o){a&&a.empty();var t=i.attr("type"),n=i.attr("label"),r=i.attr("icon"),s=o.model,d=o.item,l=d.row,c=!(window.sforce&&(sforce.console||sforce.one)),u=function(e,t){return c&&a.attr("role","link").wrap(te('<a class="inline">').attr({tabindex:-1,href:oe(e,{model:s,row:l},{createFields:!1,registerFields:!1}),target:t})).on(ge,function(e){e.stopPropagation(),e.which!==be.ENTER&&e.which!==be.SPACE||te(this).parent()[0].click()})};switch(n||(n=ae("edit"===t?"Edit_Row":"delete"===t?"Flag_For_Deletion":"Action")),r||(r="edit"===t?"sk-icon-edit":"delete"===t?"sk-icon-delete":"sk-icon-magic"),a.on(ve,function(e){e.stopPropagation()}),t){case"edit":s.updateable&&"readonly"!==o.mode&&a.attr("role","button").addClass("editrow").on(ve,function(e){if(v(e)){d.toggleEdit();var t=d.element.find(":input:not(."+ce+",."+me+")").first();t&&t.focus(),U.skooTable("performPositioningUpdate")}});break;case"delete":s.deleteable&&"readonly"!==o.mode&&a.attr("role","button").addClass("deleterow").on(ve,function(e){v(e)&&d.toggleDelete(!0)});break;case"redirect":var p=i.attr("url"),f=i.attr("window");u(p,f&&"_"+f)||a.attr("role","link").on(ve,function(e){v(e)&&ne.redirect({row:l,model:s,url:p,window:f,title:n})});break;case"custom":a.attr("role","button").on(ve,function(e){if(v(e)){var t=ee.snippet.get(i.attr("snippet"));t&&t({model:s,list:d.list,item:d})}});break;case"popup":a.attr("role","button").on(ve,function(e){if(v(e)){var t={model:s,row:l,list:d.list,item:d,component:o.component};ne.createPopupFromAction(i,t)}});break;case"drawer":a.attr("role","button").on(ve,function(e){if(v(e)){var t={model:s,row:l,list:d.list,item:d,button:a,component:o.component},n=ee.componentType.get("skootable").actions.drawer;n&&n(i,H,t)}});break;case"multi":var h,m,g=i.children("actions").first();g&&(h=g.children(),c&&1===h.length&&"redirect"===h.first().attr("type")&&(m=h.first(),f=m.attr("window"))),m?u(m.attr("url"),f&&"_"+f):a.attr("role","button").on(ve,function(e){v(e)&&ee.actions.runActionsNode(g,o.component,{item:d,row:l,model:s,list:d.list,button:a,initiatorId:U.editor._GUID})});break;default:a=!1}return a.attr("tabindex",0).data("iconClasses",void 0).append(ie.createIcon(oe(r,{row:l,model:s},{createFields:!1}),{additionalClass:"inline nx-skootable-buttonicon-visible"})).prop("title",oe(n,{row:l,model:s})),a}function L(e,t){if(t){t.attr("tabindex",-1).off("click.skuid").children("i").remove().empty();var n=t.data("uiTooltipId");n&&te("#"+n).remove()}}var c=U.makeTableCell=function(u,e){var p=te("<td>"),o=u.list.model,r=u.row,t=e;if(t.hasClass("actioncolumn")){var a=te("<div>").addClass("sk-action-field");if(U.rowActionsDef.length){var s=2,d=function(e,t,n){ne.conditionallyRender(E,L,e,t,n,{component:U.component,mode:U.mode,model:o,item:u,row:r})};U.rowActionsDef.children().each(function(){var e=te(this),t=e.attr("type"),n=U.editor._GUID+"_ra_"+s++,i=te("<div>").addClass("nx-skootable-buttonicon").data("guid",n);if("edit"===t&&!o[o.isRowNew(r)?"createable":"updateable"]||"delete"===t&&!o.deleteable)return!0;a.append(i),d(e,i,n)})}if(p.append(a.skootip()),R){var n=H.get("reflowActionSubscription_"+u._GUID);n&&n.unsubscribe(),n=ee.events.subscribe("ui.reflow",function(){if(window.innerWidth<D&&!p.find(".row-actions").length){var a=te('<div class="row-actions"><div class="row-actions-label"><div class="nx-field-label"><div class="nx-template">Actions</div></div><div class="nx-field action-dropdown-icon"><div class="nx-fieldtext"><span class="ui-icon fa-chevron-right sk-icon"></span></div></div></div><div class="row-action-fields"></div></div>'),t=a.find(".row-actions-label");U.rowActionsDef.children().each(function(){var e=te(this),t=e.attr("type"),n=U.editor._GUID+"_ra_"+s++,i=te("<div>").addClass("nx-skootable-buttonicon").data("guid",n);if("edit"===t&&!o[o.isRowNew(r)?"createable":"updateable"]||"delete"===t&&!o.deleteable)return!0;a.find(".row-action-fields").append(i),d(e,i,n),i.append(te("<span>").addClass("row-actiontext").text(i.attr("title")))}),p.append(a),t.on("click.skuid",function(){var e=a.find(".row-action-fields");e.hasClass("row-action-fields-open")?(t.find(".sk-icon").removeClass("fa-chevron-down").addClass("fa-chevron-right"),e.removeClass("row-action-fields-open")):(t.find(".sk-icon").removeClass("fa-chevron-right").addClass("fa-chevron-down"),e.addClass("row-action-fields-open"))})}else window.innerWidth>=D&&p.find(".row-actions").length&&p.find(".row-actions").remove()}),H.storeSubscription(n),H.set("reflowActionSubscription_"+u._GUID,n)}}else if(t.hasClass("checkcolumn")){if(U.selectrecords){var i=te('<input type="checkbox">').addClass(ce).prop("checked",u.selected).on("click.skuid",function(e){var t,n=te(this).prop("checked"),i=te(this).parents("tbody").first().find("tr > td > input."+ce),a=i.index(te(this)),o=U.list.contents.find("tr > td > input."+ce).get(a);te(o).prop("checked",n),te(o).closest("tr").data("object").selected=n,u.selected=n,t=U.list.getSelectedItems().length,U.editor.header.find(".nx-massactions")[1<=t?"show":"hide"]("fast"),e.shiftKey&&function(e,t){var n,i;i=e<t?(n=e,t):(n=t,e),U.list.contents.find("tr > td > input."+ce).filter(function(e){return n<=e&&e<=i}).each(function(){te(this).prop("checked",!0),te(this).closest("tr").data("object").selected=!0})}(U.lastSelected,a),P(),0<U.fieldsToCalculate.length&&A(),U.lastSelected=a;var r=i.length==i.filter(":checked").length;U.find("th.checkcolumn > input[type=checkbox]").prop("checked",r),U.skooTable("performPositioningUpdate")});if(p.append(i),R){var l=H.get("reflowCheckboxSubscription_"+u._GUID);l&&l.unsubscribe(),l=ee.events.subscribe("ui.reflow",function(){if(window.innerWidth<D&&!p.find(".mobile-checkbox").length){var e=i.clone(!0),t=te('<div class="mobile-checkbox">\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="nx-field-label"><div class="nx-template">Select</div></div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div class="nx-field"><div class="nx-fieldtext"></div></div>\n\t\t\t\t\t\t\t\t\t\t\t</div>');t.find(".nx-fieldtext").append(e),p.append(t)}else window.innerWidth>=D&&p.find(".mobile-checkbox").length&&p.find(".mobile-checkbox").remove()}),H.storeSubscription(l),H.set("reflowCheckboxSubscription_"+u._GUID,l)}}}else{var f,c,h,m=t.attr("data-guid"),g=z[m],v=g.xmlDefinition,b=v.attr("type"),w=U.model,y=te.extend({},g.fieldOptions),x=y.placeholder,C=g.fieldMetadata,k=C?C.displaytype:null,S="COMBO"===b,T="CHILDREL"===b,I="ARRAY"===k,_=u.list.editor,F=v.attr("cssclass"),M=function(e,t,n,i){(f=new ie.Field(e.row,t,n,i)).item=e,f.element.attr("GUID",f._GUID),e.registerField(f),f.render(),p.append(f.element)};F&&p.addClass(F),x&&(y.placeholder=ne.mergeAsText("row",x,{createFields:!0,registerFields:!1},w,u.row)),c=function(e,t){if(!B[e.attr("uniqueid")]||!B[e.attr("uniqueid")].userHidden){t.show(),y.mode="true"===e.attr("readonly")?"readonly":u.mode;var n=v.children("label").first(),i=y.label=n.length?n.text():C&&C.label||"",a=w.mergeRow(u.row,i),o=e.attr("id");y.labelText=a.text();var r=C&&C.inlineHelpText;if(r&&(y.inlineHelpText=r),(S||T||I)&&(y.editable=!0==S,y.template=v.children("template").first().text(),(_=new ie.Editor(te("<div>"),{showHeader:!1,showMessages:!1})).registerModel(w),_.handleChange=function(){f.render()},(T||I)&&(y.delimiter=v.attr("delimiter"))),w.deferFieldRendering&&o&&w.fieldsMap[o].defer&&!u.row.__additionalRequestMade?(y.loading=!0,M(u,w,_,y),w.getDataSourceType().makeAdditionalQueries(w,u.row).then(function(e){var t=e.model;u.row=e.row,f.destroy(),delete y.loading,M(u,t,_,y)})):M(u,w,_,y),R){var s="reflowLabelSubscription_"+e.attr("uniqueid")+"-"+u._GUID,d=H.get(s);d&&d.unsubscribe(),d=ee.events.subscribe("ui.reflow",function(){if(window.innerWidth<D&&!p.find(".nx-field-label").length){var e=te('<div class="nx-field-label"><div class="nx-template">'+f.label+"</div></div>");f.element.before(e)}else window.innerWidth>=D&&p.find(".nx-field-label").length&&p.find(".nx-field-label").remove()}),H.storeSubscription(d),H.set(s,d)}}},h=function(e,t,n,i){var a=f,o="COMBO"===e.attr("type"),r=e.attr("id"),s=t.children(".nx-field").first().attr("GUID"),d=[],l=e.children("renderconditions").first(),c=i.onUnrenderDataBehavior||!!l.length&&l.attr("onhidedatabehavior")||"keep";p.empty(),t.hide(),a&&a.editable&&(o?"custompopup"===a.options.editModeBehavior?a.options.editModePopupXML.find('basicfieldeditor[model="'+w.id+'"] field').each(function(){var e=te(this),t=e.attr("id");e.attr("name")||"true"===e.attr("readonly")||d.push(t)}):d=ne.extractFieldsFromTemplate(a.options.template,{ignoreGlobals:!0}):r&&(d=r),"cancel"===c&&d&&u.list.model.cancelRowChanges(u.row,d,{initiatorId:n})),u.fieldsByGUID[s]&&u.fieldsByGUID[s].subComponents&&te.each(u.fieldsByGUID[s].subComponents,function(){this.unrender().unregister()})},p.hide(),ne.conditionallyRender(c,h,v,p,v.attr("uniqueid"),{eventParentElement:H.element})}return p};l.render=function(n){U.lastSelected=-1,n.element.append(te.map(d,function(e,t){return c(n,te(e),t)})),R&&ee.events.publish("ui.reflow")},l.beforeRender=function(e){if(U.numSelected=null,U.showExportButtons){var t=te("<div>").addClass("nx-export-btn sk-icon-export sk-icon inline").on("click",function(){t.parent().is("."+se)||U.skooTable("exportData")}).skootip(ae("Export_Data"));te('<div class="nx-footer-btns">').css("line-height","20px").append(t).prependTo(e.footerleft)}0<U.fieldsToCalculate.length&&A()},l.renderComplete=function(e){if(U.tableheader.find(".checkcolumn").length){var n=!0;te.each(e.visibleItems,function(e,t){if(!t.selected)return n=!1}),U.tableheader.find(".checkcolumn > input[type=checkbox]").prop("checked",n)}P(),te.each(e.visibleItems,function(e,t){t.drawers&&te.each(t.drawers,function(){this.isOpen&&this.init()})}),U.skooTable("performPositioningUpdate")},l.setUp=function(e){e.element.addClass(le).attr({cellpadding:"0",cellspacing:"0"}),U.tableheader.prependTo(e.element),U.tableheaderrow.append(d);var t=0;if(0<U.fieldsToCalculate.length&&(U.tableheader.find(".checkcolumn").length&&t++,U.tableheader.find(".actioncolumn").length&&t++),0<U.fieldsToCalculate.length){for(var n=0;n<t;n++)U.tablefooter.children().first().prepend("<td>");U.tablefooter.appendTo(e.element)}},l.tearDown=function(){U.tableheader.detach()};var p={render:function(e){var t,n=e.row,i=p.settings,a=e.element,o=U.model.getDataSource(),r=i.viewXML.attr("source")||"attachment",s=o.getImageSource(r),d={row:n,model:U.model},l={createFields:!1};n&&(t=oe(p.settings.onClickURL,d,l)),a.addClass("nx-skootable-photowrapper").attr("data-onclickurl",t);var c=te("<img>").css("height","170px").load(function(){te(this).parent().css("visibility","visible")});s&&s.getSrc&&s.getSrc({context:d,mergeSettings:l,dataSource:s.dataSource,xmlDef:i.viewXML,fileField:i.photoField}).then(function(e){c.attr("src",e)},function(){c.attr("src",i.defaultPhoto)});var u=te("<div>").addClass("nx-skootable-photodesc").html(U.model.getFieldValue(n,i.descriptionField));a.append(u,c)},beforeRender:function(){U.on("click",".nx-skootable-photowrapper",function(){ne.redirect({url:te(this).data("onclickurl")})})}};this.views={};var u=100;(!this.viewsDef||this.viewsDef.length<1)&&(this.viewsDef=ne.makeXMLDoc("<views/>")),this.viewsDef.children().length||this.viewsDef.append(ne.makeXMLDoc('<view type="standard"/>')),this.viewsDef&&te.each(this.viewsDef.children(),function(){var e=te(this),t=e.attr("type");if(t&&!(t in U.views)){var n=e.attr("icon"),i=e.attr("label");if(i)i=te("<div>").append(U.model.mergeModel(i,{createFields:!1,registerFields:!1})).text();switch(t){case"standard":U.views.standard=te.extend(l,{icon:n||"sk-icon-listview",label:i||ae("List_View")});break;case"photo":p.settings={photoField:e.attr("photofield"),descriptionField:e.attr("descriptionfield"),onClickURL:e.attr("onclickurl"),defaultPhoto:ne.getDefaultImageUrl(e.attr("defaultphoto")||"person"),viewXML:e},U.views.photo=te.extend(p,{icon:n||"sk-icon-photoview",label:i||ae("Picture_View")});break;case"custom":var a=e.attr("viewsnippet"),o=e.attr("name"),r=ee.snippet.get(a),s={};r&&("function"==typeof r&&(r=r()),te.extend(s,r,{icon:n||"sk-icon-config",label:i||"Custom View"}),U.views[o||"list-view-"+u++]=s)}}});var f,h,m=e.children("searchfields").first(),y=H.getPersonalizationService(),x=y.getSettings(),z=U._columnsByGUID={},B=U._columnSettingsByUID=U._columnSettingsByUID||x.columnSettingsByUID||{},g=U._fieldsDefs=e.children("fields").first().children(),b=U.allowColumnShowHide=g.toArray().reduce(function(e,t){return e||"true"===te(t).attr("hideable")},!1);U.list=new ie.List(U.editor,U.model,{component:H,views:U.views,createRecords:U.createrecords,editRecords:U.editrecords,deleteRecords:U.deleterecords,listFilters:U.listFiltersDef,conditions:U.conditions,context:U.component?U.component.context:null,pageSize:U.pageSize,alwaysResetPagination:U.alwaysResetPagination,showSearchBox:U.showSearchBox,showHeader:!U.hideHeader,showFooter:!U.hideFooter,searchMethod:U.searchMethod,showConfigIcon:!U.hideConfigButton&&(U.allowColumnReordering||b),configIconTip:ae("Table_Settings"),configIcon:e.attr("configicon"),delayFilterExecution:"false"===e.attr("instantfilters"),useSOSLSearch:"true"===m.attr("usesosl"),SOSLFields:m.attr("soslfields"),searchConditionName:U.searchConditionName,tokenizeSearch:U.tokenizeSearch,searchPlaceholderText:e.attr("searchplaceholdertext"),emptySearchBehavior:e.attr("emptysearchbehavior")||"query",mode:U.mode,personalizationService:H.getPersonalizationService(),setupConfigPopup:U.setupConfigPopup,labeledBy:U.component.get("heading")&&U.editor.element.find(".nx-editor-header-heading").attr("id")}),U.component.list=U.list,U.model.registerList(U.list),U.tableheader=te("<thead>"),U.tableheaderrow=te("<tr>").appendTo(U.tableheader).on("mouseenter.skuid mouseleave.skuid","."+ue,function(e){f||(f=U.tableheaderrow.find("."+pe)),"mouseenter"===e.type?(h&&clearTimeout(h),f.fadeTo(400,1)):h=setTimeout(function(){f.fadeTo(400,0),h=null,U.skooTable("performPositioningUpdate")},2e3)});var q=!1,w=m.children();w.length&&(q=!0,w.each(function(){var e=te(this);U.list.addSearchField(U.model.getField(e.attr("field")),e.attr("operator"))}));var C=JSON.parse(JSON.stringify(B));g.each(function(e,t){var n=te(t).attr("uniqueid"),i=B[n]=B[n]||{};void 0===i.order&&(i.order=e),delete C[n],delete i.hidden,delete i.xmlDefinition,i.hideable="true"===te(t).attr("hideable"),i.hideable?i.userHidden=void 0!==i.userHidden?i.userHidden:"false"===te(t).attr("showbydefault"):i.userHidden=!1}),te.each(C,function(e){delete B[e]}),(U._reordered||!0===x.reordered)&&g.sort(function(e,t){var n=te(e).attr("uniqueid"),i=te(t).attr("uniqueid");if(void 0===n||void 0===i)return!1;var a=U._columnSettingsByUID[n],o=U._columnSettingsByUID[i];return void 0!==a&&void 0!==o&&(void 0!==a.order&&void 0!==o.order&&a.order-o.order)}),g.each(function(){var i,e=te(this),a=e.attr("id"),o=e.attr("name"),r=U.model.getField(o||a),t=e.attr("required"),n=e.attr("type"),s="CHILDREL"===n,d="COMBO"===n,l=n===ee.constants.FIELD_TYPES.IMAGE;if(a&&!r)return!0;if(i=te("<td>").appendTo(U.tablefooterrow),0<e.children("summaries").children("summary").length&&"None"!==e.attr("summarytype")){i.addClass("nx-summary");var c=[];e.children("summaries").children("summary").each(function(){i.append('<div class="nx-field"><div class="nx-fieldtext"></div></div>'),c.push({type:te(this).text(),tempvalue:0,temparray:[]})}),U.fieldsToCalculate.push({id:a,name:o,summaries:c,cellelem:i,objFieldData:r,countBlanks:"true"===e.attr("countBlanks"),decimalPlaces:e.attr("decimalplaces"),valueHorizontalAlignment:e.attr("valuehalign"),count:0}),U.selectrecords||(U.selectrecords=!0)}var u,p=r.displaytype,f=e.attr("valuehalign"),h=te("<th>"),m=te("<span>"),g=ne.generateGUID();(r&&r.required||"true"===t)&&(U.list.addRequiredField(r),h.addClass("required"));var v=e.attr("columnwidth");v&&h.css({width:v,"min-width":v,"max-width":v}),"right"===f&&h.css("text-align","right"),a&&h.attr("data-field",a),o&&h.attr("data-fieldname",o),h.data("fieldData",r),h.data("fieldDef",e),h.attr("data-guid",g);var b=e.children("label").first(),w=b.length?b.text():r&&r.label||"",y=U.model.mergeModel(w);u={element:h,fieldMetadata:r,xmlDefinition:e,fieldId:a,fieldName:o,fieldOptions:ie.getFieldOptionsFromXML(e,{model:U.model}),hidden:!0,label:y.text()},z[g]=u,B[e.attr("uniqueid")].label=y.text(),B[e.attr("uniqueid")].fieldId=a,y?m.text(y.text()):m.text(r.label),h.append(m);var x,C,k,S=[];if(q||s||d||U.list.addSearchField(r),(d||s)&&(k=(C=e.children("template")).length?C.first().text():null)&&!q&&(x=ne.extractFieldsFromTemplate(k,{ignoreGlobals:!0}))&&x.length&&te.each(x,function(e,t){s?U.list.addSearchSubField(a,t):U.list.addSearchField(U.model.getField(t))}),r&&"REFERENCE"===p){k=e.attr("searchtemplate")||e.attr("displaytemplate");var T=ne.getFieldRelationshipName(a,r);if(k)(x=ne.extractFieldsFromTemplate(k,{ignoreGlobals:!0}))&&x.length&&!q&&(S.push(r),te.each(x,function(e,t){var n=U.model.getField(T+"."+t);S.push(n),U.list.addSearchField(n)}));else{var I=r.ref&&U.model.getDataSource().getNameField(r.ref),_=I&&U.model.getField(T+"."+I);_&&(S.push(r),S.push(_))}}if("true"===e.attr("allowordering")){var F,M,R,D,A,P=!d&&!l&&o,E=-1;if(M=P?(F=o,r):(F=d?e.attr("orderfield"):a,U.model.getField(F)||{}),r.displaytype===ee.constants.DISPLAY_TYPES.REFERENCE&&(F=ne.getFieldReference(a,M)),U.sortableFields=U.sortableFields||[],U.sortableFields.push(F),M&&M.sortable||U.sortClientSide){u.orderField=F,(R=U.orderObject.map[F])&&(E=U.orderObject.indexOf(F)),m.addClass("nx-skootable-has-ordering"),D=te("<span>").addClass(ue+" "+fe+" "+fe+"-"+we(R)),A=te("<span>").addClass(pe).css("opacity",0),-1<E&&1<U.orderObject.list.length?A.text(1+E):A.html("&nbsp;");var L=te('<div class="nx-skootable-order-icon-wrapper">').append(D);L.on("click.skuid",function(e){e.stopPropagation();var t,n,i=te(this).find(".nx-skootable-order-icon");i.is("."+he)||(P?(n=r?r.function:null,t={id:a,name:o},n&&(t.function=n)):t=F,U.skooTable("toggleOrdering",t,i))}),h.prepend(L,A)}}function N(e,t,n,i,a){var o={id:e,name:t||e};n&&(o.label=n.label,o.displaytype=n.displaytype,o.type=n.type,o.referenceTo=n.referenceTo,o.ref=n.ref),i&&(o.label=i.text()),a&&(o.template=a),U.fieldsMetadataForExport.push(o)}U.showExportButtons&&("REFERENCE"===r.displaytype&&S.length?S.forEach(function(e){e&&N(e.id,e.id,e)}):N(a,o,r,y,k)),i.hide(),h.hide(),O.push(h),ne.conditionallyRender(function(e,t){var n=e.attr("uniqueid");B[n].hidden=!1,B[n]&&B[n].userHidden||(t.show(),i.show())},function(e,t){te(O).remove(t.hide()),B[e.attr("uniqueid")].hidden=!0,i.hide()},e,h,g,{eventParentElement:H.element})});var k=!1;if((U.createrecords||U.rowActionsDef&&U.rowActionsDef.children().length)&&(k=te("<th>").addClass("actioncolumn"),U.createrecords)){var S=te(ee.ui.createIcon(a)).attr({role:"button",tabindex:0}).skootip(ee.label.merge(ae("Add_New"),this.model.label),{delay:100}).addClass("newbutton inline"),T=function(e){"click"!==e.type&&e.which!==be.ENTER&&e.which!==be.SPACE||U.model.createRowAsync({initiatorId:U.list._GUID,additionalConditions:U.list.conditions}).then(function(e){var t=U.list.newItem(e,{editModeForNewItems:!0});U.list.render({resetPagination:!0,refreshFields:!1});var n=t.element.find(":input:not(."+ce+",."+me+")").first();n&&n.focus(),H.publish("newItemCreated",{component:H,item:t,list:U.list,row:e,model:U.model})})};if(S.on("click.skuid "+ge,T),k.append(S),R&&U.editor.header){var I=S.clone().addClass("newbutton-responsive");I.on("click.skuid "+ge,T),U.editor.header.find(".nx-editor-header-submitwrapper").prepend(I)}}if(U.editor.header&&(ee.actions._actionFunctions.initiateGlobalActions(U.actionsDef,H,{itemClass:ce}),ee.actions._actionFunctions.initiateMassActions(this.massActionsDef,H,{postSelectFunction:U.skooTable.bind(U,"performPositioningUpdate")}),0<U.editor.header.find(".nx-header-left").children(".nx-editor-header-submitwrapper").length)){var _=U.editor.header.find(".nx-editor-header-actions").detach();U.editor.header.find(".nx-editor-header-submitwrapper").before(_)}if(this.selectrecords){var F=te("<th>").addClass("checkcolumn"),M=te('<input type="checkbox" class="'+ce+'">').on("click.skuid",function(){var e=this;U.list.contents.find("."+ce).each(function(){te(this).prop("checked",e.checked),te(this).closest("tr").data("object").selected=this.checked}),U.editor.header.find(".nx-massactions")[U.list.getSelectedItems().length?"show":"hide"]("fast"),0<U.fieldsToCalculate.length&&A(),P(),U.skooTable("performPositioningUpdate")});F.append(M),d.push(F),U.on("click","tbody ."+ce,function(){te(this).closest("tr").data("object").selected=this.checked})}if(U.model&&U.model.updateable&&U.on("dblclick","tbody tr.nx-item .nx-field",function(){var e,t=te(this),n=t.closest("tr").data("object");n&&"read"===n.mode&&n.toggleEdit(),(e=t.find(":input").first())&&e.focus(),U.skooTable("performPositioningUpdate")}),!1!==k&&d.push(k),d.push.apply(d,O),this.list.render(),this.list.attach(),U.allowAdvancedScrolling="true"===e.attr("allowscrollbars"),U.floatTableHeader="true"===e.attr("floatheader"),U.verticalScrollHeight=ne.getCSSSizeObj(e.attr("tablescrollheight"),{defaultUnit:"px"}),U.freezeLeftColumns="true"===e.attr("freezeleftcolumns"),U.columnsToFreeze=U.freezeLeftColumns&&e.attr("columnstofreeze")?parseInt(e.attr("columnstofreeze"),10):0,U.allowAdvancedScrolling&&(U.editor.contents.css({position:"relative",overflow:"auto"}),U.verticalScrollHeight&&U.editor.contents.css({height:U.verticalScrollHeight.number+U.verticalScrollHeight.unit}),U.list.element.css("position","absolute")),(U.allowAdvancedScrolling||U.floatTableHeader)&&(n=U.component?U.component._GUID:U.uniqueId,i=re.map(function(e){return e+"."+n}).reduce(function(e,t){return e+" "+t},"").trim(),te(window).on(i,function(){U.skooTable("performPositioningUpdate")})),U.allowAdvancedScrolling&&U.verticalScrollHeight){if(U.editor.contents.css("max-height",U.verticalScrollHeight.number+U.verticalScrollHeight.unit).css("overflow-y","auto"),U.floatTableHeader){var N=U.editor.contents.scrollTop();U.scrollHandler=function(){if(U.floatingHeader){var e,t,n,i=U.editor.contents.scrollTop();(U.freezeLeftColumns||0<U.fieldsToCalculate.length)&&(e=U.editor.contents.scrollLeft(),t=U.editor.contents[0].clientHeight,n=U.editor.contents[0].scrollHeight),N!==i&&(a(U.floatingHeader),U.freezeLeftColumns&&a(U.floatingSidebarHeader)),0<U.fieldsToCalculate.length&&(n-i!=t?U.floatingFooter.css({display:"block",bottom:"-"+i+"px"}):U.floatingFooter.css({display:"none"})),U.freezeLeftColumns&&(0<e?U.floatingSidebar.css({display:"block",left:e+"px"}):U.floatingSidebar.css({display:"none"}),0<U.fieldsToCalculate.length&&(n-i!=t?U.floatingSidebarFooter.css({display:"block",bottom:"-"+(t+i)+"px"}):U.floatingSidebarFooter.css({display:"none"})))}function a(e){U.skooTable("performPositioningUpdate"),0<i?(e.css({display:"none",top:i+"px"}),N=i,setTimeout(function(){i===N&&e.fadeIn(100)},10)):e.hide()}},U.editor.contents.css("position","relative"),U.editor.contents.on("scroll mousewheel",function(){U.scrollHandler()})}}else U.floatTableHeader&&(U.headerHeight=38,U.footerHeight=40,U.scrollHandler=function(){if(U.floatingHeader){var e,t,n=te(window),i=n.scrollTop(),a=U.editor.contents.offset().top,o=U.editor.contents[0].clientHeight,r=a+o;ne.inPlatform(ee.constants.LIGHTNING)&&(a-=90),0<U.fieldsToCalculate.length&&(e=i+n.height()),U.freezeLeftColumns&&(t=U.editor.contents.scrollLeft()),a<i&&i<r-U.headerHeight?U.floatingHeader.css({display:"block",top:i-a+"px"}):U.floatingHeader.css({display:"none"}),0<U.fieldsToCalculate.length&&(e<r&&e>a+U.headerHeight+U.footerHeight?U.floatingFooter.css({display:"block",bottom:r-e+"px"}):U.floatingFooter.css({display:"none"})),U.freezeLeftColumns&&(0<t?U.floatingSidebar.css({display:"block",left:t+"px"}):U.floatingSidebar.css({display:"none"}),0<i-a&&i-a<o-U.headerHeight?U.floatingSidebarHeader.css({display:"block",top:i-a+"px"}):U.floatingSidebarHeader.css({display:"none"}),0<U.fieldsToCalculate.length&&(-1*(a-e)<o&&-1*(a-e)>U.headerHeight+U.footerHeight?U.floatingSidebarFooter.css({display:"block",bottom:a-e+"px"}):U.floatingSidebarFooter.css({display:"none"})))}},U.editor.contents.css("position","relative"),te(window).on("scroll mousewheel",function(){U.scrollHandler()}));if(this.list.editor.header&&R){var G=this.list.editor.header,j=G.find('[class^="nx-conditioncontainer"]').first().parent(),$=j.find(".nx-editor-header-submitwrapper"),X=U.list.filters,W=!1;if(X.length){var V=ne.makeXMLDoc('<panel uniqueid="'+ne.generateUniqueId()+'" title="" size="70%" origin="right" closeonpageclick="true" behavior="overlay" />'),Y=V.attr("uniqueid"),Q=ee.component.getByType("skuidpage")[0],K=U.list.filters,J=te("<div>").attr({role:"button",tabindex:0}).addClass("sk-icon fa-filter inline filter-panel-button");U.list.options.showConfigIcon?j.find(".nx-button-list-config").after(J):j.find("clearfix").before(J),J.on("click.skuid",function(){var e=Q.panel.getById(Y);if(e)e.open();else{var t=Q.panel.create(V,U.component),n=t.element.addClass("filters-panel"),i=U.list.makeSearchBox(),a=te.map(U.model.conditions,function(e){if("__default_searchbox"===e.name)return e.value})[0],o=te('<div class="nx-conditioncontainer"></div>'),r=[o,i];te.each(K,function(e,t){o.append(t.element)}),i.val(a),ne.size(U.model.changes)&&i.prop("disabled",!0),U.list.options.delayFilterExecution&&(r.push(U.list.applyFiltersBtn.clone(!0)),r.push(U.list.cancelFiltersBtn.clone(!0))),r.push(te('<div class="nx-button-secondary sk-button-cancel ui-button ui-corner-all ui-button-text-icon-primary" role="button" tabindex="0"><span class="ui-button-icon-primary ui-icon sk-icon-cancel sk-icon inline"></span><span class="ui-button-text">Close</span></div>')),n.append(r),n.find(".sk-button-cancel").on("click.skuid",function(e){e.stopPropagation(),t.close()})}})}else!X.length&&U.list.searchBox&&j.find(".searchbox").css({display:"inline-block"});var Z=H.get("reflowSubscription");Z&&Z.unsubscribe(),Z=ee.events.subscribe("ui.reflow",function(){var e=G.find(".nx-actionbutton"),t=te("<div>").addClass("action-buttons-wrapper").css({margin:"0 8px","min-height":"40px"});if(window.innerWidth<D&&!W)$.detach(),G.append($),$.append('<div class="clearfix"></div>'),j.find(".sk-button-save").css({right:"92px"}),e.parent().hasClass("action-buttons-wrapper")||(e.wrapAll(t),e.parent().append(te("<div>").addClass("clearfix"))),U.createrecords&&j.prepend(j.find(".newbutton")),W=!0;else if(window.innerWidth>=D&&$.find(".clearfix").length){$.detach(),j.append($),$.find(".clearfix").remove(),j.find(".sk-button-save").css({right:0}),e.parent().find(".clearfix").remove(),e.unwrap(".action-buttons-wrapper"),G.find(".nx-conditioncontainer").children().length||G.find(".nx-conditioncontainer").append(U.list.makeFiltersBar());var n=Y?Q.panel.getById(Y):null;n&&n.close(),W=!1}}),H.storeSubscription(Z),H.set("reflowSubscription",Z)}return setTimeout(function(){return U.skooTable("performPositioningUpdate")}),U},performPositioningUpdate:function(){var i=this;clearTimeout(i.positioningUpdateTimer),i.positioningUpdateTimer=setTimeout(function(){delete i.positioningUpdateTimer;var e=i.allowAdvancedScrolling,t=i.floatTableHeader;if(e&&i.skooTable("handleScrollPositioning"),t){if(i.skooTable("makeFloatingHeader"),0<i.fieldsToCalculate.length&&i.skooTable("makeFloatingFooter"),i.freezeLeftColumns){var n=0<te(document.activeElement).parents(".nx-skootable-floatsidebar").length;i.floatingSidebar&&n||i.skooTable("makeFloatingSidebar")}i.scrollHandler&&i.scrollHandler()}(e||t)&&i.list.footer&&i.editor.element.append(i.list.footer),i.component.publish("positioning.updated")},100)},handleScrollPositioning:function(){if(!this.verticalScrollHeight){var t=this.editor.contents,n=this.list.element[0],e=function(){var e=n.offsetHeight;t[0].offsetHeight>t[0].clientHeight&&(e+=15),t.css("height",e+"px")};0===n.offsetHeight?ne.delay(250).then(e):e()}},makeFloatingHeader:function(){var e=this,t=e.list.element.find("thead").first(),n=t.children("tr").first().children("th"),i=t.clone(!0);e.floatingHeader||(e.floatingHeader=te("<div>").addClass("nx-skootable-floatheader"),e.floatingHeaderTable=te('<table cellpadding="0" cellspacing="0">').css("table-layout","fixed").addClass(le).appendTo(e.floatingHeader)),e.floatingHeader.detach(),e.floatingHeaderTable.empty().append(i),i.children("tr").first().children("th").each(function(){var e=te(this),t=n.eq(e.index()).width();e.css("width",t+"px")}),e.editor.contents.append(e.floatingHeader),e.component.publish("floatingheader.ready")},makeFloatingFooter:function(){var e=this;0<e.fieldsToCalculate.length&&!e.floatingFooter&&(e.floatingFooter=te("<div>").addClass("nx-skootable-floatfooter"),e.floatingFooterTable=te('<table cellpadding="0" cellspacing="0">').css("table-layout","fixed").addClass(le).appendTo(e.floatingFooter)),e.floatingFooter.detach();var t=e.list.element.find("tfoot"),n=t.children("tr").first().children("td"),i=t.clone(!0);i.children("tr").first().children("td").each(function(){var e=te(this),t=n.eq(e.index()).width();e.css("width",t+"px")}),e.floatingFooterTable.empty().append(i),e.editor.contents.append(e.floatingFooter)},makeFloatingSidebar:function(){var i=this;i.floatingSidebar||(i.floatingSidebar=te("<div>").addClass("nx-skootable-floatsidebar"),i.floatingSidebarHeader=te("<div>").addClass("nx-skootable-floatheader"),i.floatingSidebarHeaderTable=te('<table cellpadding="0" cellspacing="0">').css("table-layout","fixed").addClass(le).appendTo(i.floatingSidebarHeader),i.floatingSidebarFooter=te("<div>").addClass("nx-skootable-floatfooter"),i.floatingSidebarFooterTable=te('<table cellpadding="0" cellspacing="0">').css("table-layout","fixed").addClass(le).appendTo(i.floatingSidebarFooter)),i.floatingSidebar.detach(),i.floatingSidebarTable=i.list.element.clone(!0).css("table-layout","fixed").css("width","0px");var e=i.columnsToFreeze+i.columnHeaders.length-i.fieldColumns.length;te.each(i.floatingSidebarTable.find("tr"),function(){te(this).children().slice(e).remove()}),te.each(i.floatingSidebarTable.find("th"),function(){var e=te(this),t=i.list.element.find("th").eq(e.index()).width();e.css("width",t+"px")}),te.each(i.floatingSidebarTable.find("tfoot").find("td"),function(){var e=te(this),t=i.list.element.find("tfoot").find("td").eq(e.index()).width();e.css("width",t+"px")}),te.each(i.floatingSidebarTable.find("tr"),function(e){var t=te(this).children().first(),n=i.list.element.find("tr").eq(e).children().first().height();t.css("height",n+"px")}),i.floatingSidebarHeaderTable.empty().append(i.floatingSidebarTable.find("thead").clone(!0)),i.floatingSidebarFooterTable.empty().append(i.floatingSidebarTable.find("tfoot").clone(!0)),i.floatingSidebar.empty().append(i.floatingSidebarTable,i.floatingSidebarHeader,i.floatingSidebarFooter),i.editor.contents.append(i.floatingSidebar)},getSelectedItems:function(){return this.list.getSelectedItems()},unSelectAll:function(){this.list.unSelectAll()},toggleOrdering:function(e,t){var n,a,i,o,r=this,s=r.data("object")._columnsByGUID,d=ne.isString(e),l=r.model.getOrderObject();n=!!ee.offline.networkDown()||r.sortClientSide,r.serverOrderData||(r.serverOrderData=l),r.editor.element.block({message:ae("applying_sort_order_change")}),o=r.model.toggleOrdering(e,{clientSide:n,serverOrderData:r.serverOrderData,sortableFields:r.sortableFields},function(){r.editor.element.unblock(),r.component.publish("sorted")}),a=r.model.getOrderObject(),i=!d&&e.name?'name="'+e.name:'="'+(d?e:e.id),(t=t||r.tableheaderrow.children("[data-field"+i+'"]').children("."+fe))&&(t.removeClass(),t.addClass(ue+" "+fe+" "+fe+"-"+we(o))),(1<l.size()||1<a.size())&&r.tableheaderrow.find("."+pe).each(function(){var e=te(this),t=e.closest("th").attr("data-guid"),n=s[t].orderField,i=n?a.indexOf(n):-1;-1<i&&1<a.size()?e.text(1+i):e.html("&nbsp;")}),r.skooTable("performPositioningUpdate")},exportData:function(){var e,t,d=this.model,n=this.list,i=this.component.xmlDefinition,a={};if(!d.hasChanged){"false"===(e=i.children("exportproperties").first()).attr("usetablecolumns")?(a.doNotAppendRowIdColumn=!0,a.fields=te.map(e.children("columns").first().children(),function(e){var t,n=te(e),i=n.attr("type"),a=n.attr("headertype"),o=n.attr("field"),r="field"===i?d.getField(o):null,s={id:o,name:o};return r&&(t="fieldlabel"===a?r.label:"apiname"===a?r.id:"custom"===a?n.children("label").first().text():r.label,s.displaytype=r.displaytype,s.type=r.type,s.referenceTo=r.referenceTo,s.ref=r.ref),"template"===i&&(s.template=n.children("template").first().text(),t=n.children("label").first().text()),s.label=oe(t||"",{model:d}),s})):(a.fields=this.fieldsMetadataForExport,"false"===e.attr("appendrowidcolumn")&&(a.doNotAppendRowIdColumn=!0));var o=e.attr("filename");if(o&&(a.fileName=oe(o,{model:d})),(t=n.getSelectedItems()).length?a.rows=te.map(t,function(e){return e.row}):n.conditions&&n.conditions.length&&(a.additionalConditions=n.conditions),d.canRetrieveMoreRows&&"true"===e.attr("loadallrecords")&&!t.length){var r=te("<div>").text(ae("Retrieving_data_for_export"));te.blockUI({message:r}),d.loadAllRemainingRecords({stepCallback:function(e,t){r.text(ee.label.merge(ae("Retrieving_records_a_to_b"),e,t))},finishCallback:function(e){d.exportData(a),r.text(ee.label.merge(ae("All_records_exported_to_CSV"),e)),setTimeout(function(){te.unblockUI()},1500)}})}else d.exportData(a)}}},ee.componentType.register("drawer",function(e,t,i){var n,a=t.children("beforeload").first(),o=i.context,r=o?o.item:null,s=!1;e.addClass("sk-drawer"),"true"===t.attr("closehandle")?(n=te("<div>").appendTo(e),te("<div>").addClass("sk-drawer-handle").append(te('<div class="sk-drawer-handle-arrow">'),te('<div class="sk-drawer-handle-arrow">'),te('<div class="sk-drawer-handle-arrow">')).click(function(){i.toggle()}).appendTo(e)):n=e,n.addClass("sk-drawer-content"),i.init=function(){return s&&r.drawerWrapper.prev()[0]!==r.element[0]&&(r.element.after(r.drawerWrapper),i.isOpen?e.css("display","block"):e.css("display","none")),i},i.toggle=function(){return s&&(i.isOpen?i.close():i.open()),i},i.needsModelMetadata=function(){return!0},i.close=function(){return s&&(i.isOpen=!1,e.slideUp(function(){var n=!1;te.each(r.drawers,function(e,t){if(t.isOpen)return!(n=!0)}),n||(r.drawerWrapper.detach(),r.element.removeClass("nx-item-has-drawer")),i.handleIconChange&&i.handleIconChange()})),i},i.open=function(){return r.drawerWrapper.parent().length||i.init(),s&&(e.slideDown({complete:function(){ee.events.publish("ui.reflow")}}),i.isOpen=!0,r.element.addClass("nx-item-has-drawer"),i.handleIconChange&&i.handleIconChange()),i};var d=function(){s=!0,i.createChildComponents(t.children("components").first().children(),n,o),i.isOpen=!1,e.css("display","none"),r.drawerContent.append(e),i.init().toggle()};a.length?ee.actions.runActionsNode(a,i,o).done(function(){d()}):d(),r.unregister=function(){i.unregister(),ie.Item.prototype.unregister.call(r)}}),ne.registerPlugin("skooTable",e),ee.componentType.register("skootable",{render:function(e,t,n){e.skooTable(t,n)},actions:{drawer:function(e,t,n){var i,a=n.item,o=e.children("drawer").first(),r=e.attr("openicon"),s=e.attr("icon")||e.parent().parent().attr("icon"),d=function(e,t,n){t.children("i").remove().end().append(ie.createIcon(oe(n,{row:e.row,model:e.list.model},{createFields:!1}),{additionalClass:"inline nx-skootable-buttonicon-visible"}))};if(a.drawers||(a.drawers=[]),a.drawerWrapper||(a.drawerWrapper=te("<tr>"),a.drawerCell=te('<td class="nx-item-drawer" colspan="1000">').appendTo(a.drawerWrapper),a.drawerContent=a.drawerCell),!o)return null;te.each(a.drawers,function(){if(this.xmlDefinition&&o&&this.xmlDefinition[0]===o[0])return i=this,!1}),i?i.init().toggle():(i=ee.component.factory({definition:o,context:n||{}}),a.drawers.push(i),r&&n&&n.button&&d(a,n.button,r),i.handleIconChange=function(){return r&&n&&n.button&&d(a,n.button,i.isOpen?r:s),i})},changeMode:function(e,t){var n=e.attr("mode"),i=t.element.list,a=i&&i.mode;if(i&&"readonly"!==a){var o=void 0;(o="toggle"===n?"read"===a?"edit":"read":n)!==a&&(i.mode=o,t.definition.attr("mode",o),te.each(i.renderedItems,function(e,t){t.mode=t.defaultMode=o,t.refreshFields()}))}},openConfigureModal:function(e,t){t.list.setupConfigPopup()()}}})}(skuid)},309:function(e,t,n){"use strict";var h,m,g,v,b,i,w,a,y,x,C,k,S;h=skuid,v=h.$,b=h.utils,i=h.componentType.register,w=h.events.subscribe,a=!1,y={},k=C=x=0,S=function(t){a||(v(window).scroll(function(){var e=window.pageYOffset||document.documentElement.scrollTop;"footer"in y&&t.height(),v.each(y,function(){this(e)})}),a=!0)},i("skuidheader",{render:function(t,e,n){var i,a,o=n.getParentPage(),r=o.element,s=o.getContentElement(),d=o.isInclude,l=!b.inPlatform(h.constants.LIGHTNING)&&"true"===e.attr("sticky"),c=e.children("components:first").children();t.addClass("sk-headerwrapper"),b.processStylesNode(e.children("styles").first(),t),c&&n.createChildComponents(c,t,n.context),1==l&&!0!==d&&(!0===h.page.showHeader?(a=t.is(".sk-headerwrapper-fixed"),y.header=function(e){void 0===m&&(m=r.offset()),void 0===i&&(i=t.height()),e>m.top?a||(t.addClass("sk-headerwrapper-fixed"),a=!0):a&&(t.removeClass("sk-headerwrapper-fixed"),a=!1)},S(s)):t.addClass("sk-headerwrapper-fixed"));var u=o.getOriginalTopPadding(),p=function(){i=t.height(),t.is(":visible")&&s.css({"padding-top":i+u.number+"px"}),C=i+u.number,x=k+C};n.unsubscribeAll().storeSubscription(w("ui.reflow",p));var f=setInterval(function(){return i!=t.height()&&p()},100);setTimeout(function(){return clearInterval(f)},3e3)}}),i("skuidfooter",{render:function(t,e,n){var i,a=h.component.getById(n._parentPageId),o=a.element,r=a.isInclude,s=!b.inPlatform(h.constants.LIGHTNING)&&"true"===e.attr("sticky"),d=e.children("components:first").children();if(t.addClass("sk-footerwrapper"),b.processStylesNode(e.children("styles").first(),n),d&&n.createChildComponents(d,t,n.context),1==s&&!0!==r)if(!0===h.page.showHeader){var l,c=t.is(".sk-footerwrapper-fixed");y.footer=function(e){void 0===l&&(l=v(window).height()),void 0===m&&(m=o.offset()),void 0===g&&(g=o.height()),e+l<m.top+g+x?c||(t.addClass("sk-footerwrapper-fixed"),c=!0):c&&(t.removeClass("sk-footerwrapper-fixed"),c=!1)},S(a.getContentElement())}else t.addClass("sk-footerwrapper-fixed");var u=h.utils.getCSSSizeObj(o.css("padding-bottom")),p=function(){i=t.height(),t.is(":visible")&&u&&(o.css({"padding-bottom":i+u.number+"px"}),s||t.css({bottom:"-"+o.css("padding-bottom")})),k=i+u.number,x=k+C};n.unsubscribeAll().storeSubscription(w("ui.reflow",p));var f=setInterval(function(){return i!=t.height()&&p()},100);setTimeout(function(){return clearInterval(f)},3e3)}})},310:function(e,t,n){"use strict";!function(b){if(b.platform.getName()!==b.constants.NATIVE){var w=b.$,g="Record";b.componentType.register("social",{onlyRenderOnce:!0,render:function(e,t,n){var i=b.utils.inPlatform,a=b.constants;i(a.LIGHTNING)?function(e,t,n){var i,a,o,r,s,d,l,c,u="newsfeed"===t.attr("feedtype")?"News":g,p=t.attr("model"),f=p&&b.$M(p),h=t.children("actions").first().children();f&&(i=f.getFirstRow())&&(a=f.getRowId(i)),0<h.length&&n.addProblem("The Chatter component does not support After-Post Actions in the Lightning runtime. ("+n.id()+")"),o={context:u==g?"RECORD":"GLOBAL"},d={type:u},u==g&&a&&(o.recordId=a,d.subjectId=a,d.feedDesign="DEFAULT");var m=n.getParentPage({root:!0});m.teleportLightningComponent&&(r=m.teleportLightningComponent("forceChatter:publisher",o,w('<div class="nx-chatter-publisher">').appendTo(e)),l=m.teleportLightningComponent("forceChatter:feed",d,w('<div class="nx-chatter-feed">').appendTo(e))),w.when(r,l).then(function(e,t){s=e,c=t,n.publish("loaded")}),n.unregister=function(){b.component.Component.prototype.unregister.call(n),s&&s.destroy(),c&&c.destroy()}}(e,t,n):i(a.VISUALFORCE)&&function(r,s,d){var e,t,n=s.attr("feedtype"),l="newsfeed"===n,i=s.attr("model"),a=s.attr("loadstandardstylesheets"),c=!0,o=s.attr("showfollowers"),u="true",p="true"===s.attr("showtopics"),f=w("<div />").attr("style","clear:both;display:none;"),h=d.context,m=b.utils.getSafeRelativeUrl("/apex/Social"),g=w.extend({},window.UserContext);"false"===a||!0===b.page.showHeader?c=!1:window.UserContext=void 0,null!=o&&"false"==o&&(u="false"),t={loadstandardstylesheets:c,showfollowers:u,showtopics:p},n&&(t.feedtype=n),r.addClass("nx-chatter"),r.append("<style>.multiforce #toolbar{ background-image: none !important; }</style>").append(f),h||(h={}),!l&&i&&(e=b.$M(i))&&(h.model=e).data&&e.data.length&&(h.row=e.getFirstRow(),t.id=e.getRowId(h.row)),d.unregister=function(){b.component.Component.prototype.unregister.call(d),w(".shadowDiv").remove()};var v=b.utils.applyURLParametersToURL(m,t);w.ajax(v).then(function(e){var t=document.createElement("div");t.innerHTML=e;var n=w(t);l&&!c&&n.find("link").first().remove(),c||(n.find('script[src*=static][src*="stub.js"]').remove(),n.find('script[src*=static][src*="functions.js"]').remove(),n.find('script[src*=jslibrary][src*="main.js"]').remove(),n.find('script[src*=jslibrary][src*="en_US.js"]').remove()),f.html(n.html()),g&&(window.UserContext=w.extend(!0,window.UserContext,g)),w(function(){if("true"===s.attr("showtopics")){var e,t=r.find(".topics");t.length&&(e=t.find(".editLink")).length&&e.on("click.skuid",function(){window.SfdcApp&&SfdcApp.TopicsFeed.edit(t.get(0))})}f.show(),d.publish("loaded")});var i=s.children("actions").first(),a=!!window.chatter&&chatter.getEventBus();if(a&&i.children().length){var o=function(e,t){w.extend(h,e,t),b.actions.runActionsNode(i,d,h)};a.addEventListener("chatter:feed","onAfterNewPostFeedUpdate",o),a.addEventListener("chatter:publisher","onAfterComment",o)}})}(e,t,n)}})}}(skuid)},311:function(e,t,n){"use strict";var T,I,_,w,i,F,M,R,D,A,P;T=skuid,I=T.$,_=T.utils,w=function(e,t){return t.selectedTabId===e},i="skuid.tabset.onTabShow",F=function(e){var t=e.panel;I.extend({},e,{event:i}),t.trigger("tabshow",e),t.trigger(i,e),T.events.publish(i,e),e.tabSetComponent.publish("onTabShow",e)},M=function(e,t){var n=t.element.children("ul").children('li[data-rendered="true"]'),i=n.filter('[data-tab="'+e+'"]'),a=n.index(i);return a<0&&(a=0),a},R=function(i){return i.setSelectedTab(null),I.each(i.tabPanels,function(e,t){var n=t.attr("id");if("true"===t.attr("data-rendered"))return i.setSelectedTab(n),D({tab:i.tabs.children('[data-tab="'+n+'"]').first(),panel:t,component:i}),!1}),i.selectedTabId},D=function(e){e||(e={});var t,n=e.tab,i=e.panel,a=e.component,o=i.attr("id"),r=a.childComponentsByTab[o],s=a.tabXMLById[o],d=function(){return{component:a,panel:i,tab:n,tabSetComponent:a}};"true"!==i.attr("data-contenthasloaded")&&((t=s&&s.children("oninitialshowactions"))&&t.length&&T.actions.runActionsNode(t,a,d()),i.attr("data-contenthasloaded","true"),r&&r.length&&(I.each(r,function(e,t){t.unregister&&t.unregister()}),r.length=0),s&&a.createChildComponents(s.children("components").first().children(),i,a.context).forEach(function(e){r&&r.push(e)}),n&&"true"===n.attr("data-lazyload")&&i.find(".nx-include-panel").each(function(e,t){var n=I(t).data("object");!n||n.isLoaded||n.isLoading||n.load()})),function(){i.show();var e=d(),t=s&&s.children("onshowactions");t&&t.length&&T.actions.runActionsNode(t,a,e),F(e)}()},A=function(e,t,n,i){var a,o=i.tab,r=i.component,s=i.renderAs,d=e.attr("name"),l=i.index;if(t.attr("data-rendered","true"),o.attr("data-rendered","true"),"none"===r.element.css("display")&&r.element.show(),a=I("<a>").prop("href","#"+n),e.attr("icon")&&a.append(I(T.ui.createIcon(_.encodeHTML(_.mergeAsText("global",e.attr("icon"))))).addClass("nx-tab-icon inline")),a.append(_.merge("global",d).css("display","inline-block")),o.empty().append(a).css("display",""),"picklist"===s){var c=i.select,u=c.children('[value="'+l+'"]');u.length||(u=I("<option>").prop("value",l).attr("data-tab",n),c.append(u)),w(n,r)&&u.prop("selected",!0),u.text(_.merge("global",d).css("display","inline-block").text())}else if("radio"===s){var p,f,h,m=i.tabsetHeader,g=m.children('[data-tab="'+n+'"]'),v=m.children(".nx-tabset-label");if(g.length)g.css("display","inline-block"),f=g.find("label");else{if(g=I("<div>").css("display","inline-block").attr("data-tab",n),p=m.children("[data-tab]"),0===l)v.length?g.insertAfter(v.first()):g.prependTo(m);else if(p.length&&l<p.length){var b=p.eq(l-1);g.insertAfter(b)}else m.append(g);h=I('<input type="radio" id="tab-radio-'+n+'" name="tab-radio-'+r._GUID+'">').prop("value",l).css("vertical-align","middle").appendTo(g),f=I("<label>").prop("for","tab-radio-"+n).css({display:"inline-block","vertical-align":"middle","margin-left":"3px","margin-right":"20px"}).appendTo(g),w(n,r)&&h.prop("checked",!0)}f.text(_.merge("global",d).text())}return i.deferTabRendering||w(n,r)||D({tab:o,panel:t,component:r,context:i.context}),r.isInitiallyLoading||r.element.tabs("refresh"),r.selectedTabId||r.findTabToActivate(),!0},P=function(e,t,n,i){var a=i.component,o=i.tab,r=a.childComponentsByTab[n];o.empty().hide(),"picklist"===i.renderAs?i.select.children('option[value="'+i.index+'"]').remove():"radio"===i.renderAs&&i.tabsetHeader.children('[data-tab="'+n+'"]').hide(),t&&(t.empty(),t.attr("data-contenthasloaded","false")),r&&I.each(r,function(e,t){t.unregister()}),t.attr("data-rendered","false"),o.attr("data-rendered","false"),n===a.selectedTabId&&a.findTabToActivate&&a.findTabToActivate()},T.componentType.register("tabset",{render:function(o,e,r){var s,d,t,n,l=r.tabPanels=[],c=I("<ul>"),u=e.attr("renderas"),i=parseInt(e.attr("sidebarwidth"))||200,p="false"!==e.attr("rememberlastusertab"),a=e.children("tabs").first().children(),f=1,h="true"===e.attr("defertabrendering"),m=r.childComponentsByTab={},g="picklist"===u,v="radio"===u,b="lefttabs"===u,w="righttabs"===u,y=e.attr("label"),x=r.getPersonalizationService(),C=x.getSettings(),k=!1;function S(e){return r.tabXMLById.hasOwnProperty(e)}return r.tabs=c,r.tabXMLById={},r.setSelectedTab=function(e){r.selectedTabId=e},r.selectTab=function(e){r.setSelectedTab(e);var t=M(e,r);o.tabs("option","active",t),F({tab:I("<li>").attr("data-tab",e),panel:l[t],tabSetComponent:r})},r.getSelectedTabId=function(){return r.selectedTabId},p||x.deleteSetting("lastTabId"),a.each(function(){var e=I(this),t=e.attr("uniqueid")||"skuid-component-tab-"+r._GUID+"-"+f,n=I("<div>").prop("id",t);r.tabXMLById[t]=e,l.push(n),f++}),window.location.hash&&(S(t=window.location.hash.substring(1))||(t=void 0)),_.isUndefined(t)&&(t=C.lastTabId),t&&S(t)&&r.setSelectedTab(t),g?(s=I("<div>").addClass("nx-tabset-header"),d=I("<select>").css("vertical-align","middle"),y&&s.append(I("<div>").addClass("nx-tabset-label").css("margin-right","10px").text(_.mergeAsText("global",y)))):v&&(s=I("<div>").addClass("nx-tabset-header"),y&&s.append(I("<div>").addClass("nx-tabset-label").css("margin-right","10px").text(_.mergeAsText("global",y)))),r.isInitiallyLoading=!0,_.isUndefined(r.getSelectedTabId())&&l.length&&r.setSelectedTab(l[0].attr("id")),a.each(function(e){var t=I(this),n=l[e],i=n.attr("id"),a=I("<li>").attr("data-tab",i).hide().appendTo(c);m[i]=[],"false"!==t.attr("loadlazypanels")&&a.attr("data-lazyload","true"),_.conditionallyRender(A,P,t,n,i,{component:r,tab:a,deferTabRendering:h,index:e,renderAs:u,tabsetHeader:s,select:d,context:r.context})||r.selectedTabId!==i||(k=!0)}),k&&R(r),delete r.isInitiallyLoading,o.addClass("clearfix").append(c,l),g?(s.append(d),o.prepend(s),d.on("change.skuid",function(){var e=d.children(":selected").attr("data-tab");r.setSelectedTab(e),o.tabs("option","active",M(e,r))}),c.hide()):v?(s.on("change.skuid",'input[type="radio"]',function(){var e=I(this).parent().attr("data-tab");r.setSelectedTab(e),r.element.tabs("option","active",M(e,r))}),o.prepend(s),c.hide()):(b||w)&&(o.addClass("nx-"+u),c.css("width",i+"px"),c.nextAll().css({width:"calc(100% - "+(i+24+6)+"px)",padding:"0 12px"})),o.hasClass("ui-tabs")&&o.tabs("destroy"),o.tabs({activate:function(e,t){var n,i=t.newPanel,a=t.newTab;i.length||(i=o.children("#"+r.selectedTabId).first(),a=o.children(".ui-tabs-nav").children('[data-tab="'+r.selectedTabId+'"]').first()),n=i.attr("id"),p&&x.updateSettings({lastTabId:n}),n&&r.setSelectedTab(n),D({tab:a,panel:i,component:r}),e.stopPropagation()},create:function(e,t){t&&t.tab&&t.panel&&D({tab:t.tab,panel:t.panel,component:r})},active:M(r.getSelectedTabId(),r)}),r.unregisterChildComponents=function(){return I.each(l,function(){_.removeEventSubscriptions(I(this))}),I.each(m,function(e,t){I.each(t,function(e,t){t&&_.removeEventSubscriptions(t.element),t.unregister&&t.unregister()}),t.length=0}),r},r.unregister=function(){return T.component.Component.prototype.unregister.call(r),m={},o.hasClass("ui-tabs")&&o.tabs("destroy"),r},r.unrender=function(){T.component.Component.prototype.unrender.call(r),o&&o.hasClass("ui-tabs")&&o.tabs("destroy")},r.findTabToActivate=function(){n&&clearTimeout(n),n=setTimeout(function(){if(clearTimeout(n),r.isRendered||r.isBeingRendered){var i=R(r);i?I.each(l,function(e,t){var n=t.attr("id");if(n===i)return v?s.find('input[type="radio"][value="'+e+'"]').prop("checked",!0):g&&d.val(""+e),r.setSelectedTab(n),o.tabs("option","active",e),!1}):o.hide()}},150)},r}})},312:function(e,t,n){"use strict";!function(k){var S=k.$,f="There is a problem with how this Skuid Wizard was built: ",T=k.utils,I=k.hotkeys,_=T.mergeAsTextInContext,h=k.events.publish,m="skuid.wizard.stepChange",g="skuid.wizard.stepShow",t="skuid.wizard.stepContentLoaded",F="click.skuid",M=function(e,t){I.off(e,t),I.off(t)},R=function(e,t){M(e,t),e.off(F)},v=function(e){S.extend(e,{event:t}),e.wizard.element.trigger(t,e),h(t,[e])},e={actions:{navigateToStep:function(e,t,n){var i=e.attr("stepid"),a=n&&n.wizard?n.wizard:t&&t.navigate?t:null;a&&i&&a.navigate(i)}}},n={actions:e.actions,render:function(n,e,t){var i,a,o,r,s=e,d=t.id(),l=s.attr("stepid"),c=s.attr("label"),u="true"===s.attr("secondary"),p=s.attr("url"),f=s.attr("window"),h=t.context,m=h.step,g=h.wizard,v=e.children("enableconditions"),b=function(e){var t=n.children(".ui-button-text");t.length&&(e?t.skootip(e):t.tooltip("instance")&&t.tooltip("destroy").removeAttr("title"))},w=function(){I.on(i,["return","space"],d,r,m.element),I.bind(s.children("hotkeys").first(),d,r,m.element)};switch(c&&(c=_(c,h)),R(i=n,d),i.hasClass("ui-button")&&i.skooButton("destroy"),i.text(c).skooButton({icon:s.attr("icon")}).css("margin-right","4px").removeClass("sk-unrendered"),u&&i.addClass("nx-button-secondary"),t.unregister=function(){return R(n,d),k.component.Component.prototype.unregister.apply(t,arguments)},t.unrender=function(){return n.hasClass("ui-button")&&n.skooButton("destroy"),n.removeClass().removeAttr("style").addClass("sk-unrendered"),R(n,d),k.component.Component.prototype.unrender.apply(t,arguments)},s.attr("type")){case"navigate":r=function(){m.navigate(l,p,{window:f,row:h.row,model:h.model})};break;case"save":(a=s.children("models").first())&&S.each(a.children("model"),function(e){var t=k.$M(S(this).text());0===e&&t&&(o=t),t&&m.editor.registerModel(t)}),r=function(){var e={},t="true"===s.attr("rollbackonanyerror");(p||(l||"0"==l))&&(e.callback=function(e){e.totalsuccess&&m.navigate(l,p,{model:o,row:o&&o.data.length?o.getFirstRow():null,window:f})},t&&(e.rollbackOnAnyError=!0)),m.editor.save(e)};break;case"cancel":(a=s.children("models").first())&&S.each(a.children("model"),function(e){var t=k.$M(S(this).text());0===e&&t&&(o=t),t&&m.editor.registerModel(t)}),r=function(){m.editor.cancel(),(p||l||"0"==l)&&m.navigate(l,p,{model:o,row:o&&o.data.length?o.getFirstRow():null,window:f})};break;case"custom":r=function(){var e=k.snippet.get(s.attr("snippet"));e&&e({wizard:g,step:m})};break;case"multi":var y=s.children("actions").first(),x=m.editor;k.actions.registerEditorWithModelsForActionsNode(y,x),r=function(){k.actions.runActionsNode(y,t,{wizard:g,step:m,initiatorId:m?x.id():t.id()})}}if(r&&i.attr("tabindex",0).on(F,r),v.length&&v.children().length){var C=v.attr("message");T.conditionallyDo(function(){i.hasClass("ui-button")&&(i.button("enable").attr("tabindex",0),C&&(b(),i.css("cursor",""),i.attr("title")===C&&i.removeAttr("title")),w())},function(){i.hasClass("ui-button")&&(i.button("disable").removeAttr("tabindex"),C&&(b(C),i.css("cursor","not-allowed"))),M(i,d)},v,i)}else w()}};function p(e){var t,n=this,i=n.element=e.element,a=n.xmlDefinition=e.stepDef,o=n.wizard=e.wizard,r=a.attr("stepid"),s="bottom"===o.buttonsLocation,d=a.attr("steplabel"),l=S.extend({},o.context,{step:n,wizard:o});n.id=r,i.addClass("nx-wizard-step").data({stepid:r,step:n,object:n}),n.editor=new k.ui.Editor(i,{showHeader:!0,showMessages:!0,showFooter:s}),d&&(d=_(d,l)),n.label=d,t=S("<div>").addClass("nx-editor-header-title").text(d),n.editor.header.prepend(t),n.actionwrapper=S("<div>").css("display","inline-block").prependTo(n.editor[s?"footerSubmitWrapper":"submitwrapper"]),n.childComponents=[],a.children("actions").children().each(function(){n.childComponents.push(k.component.factory({element:S('<div style="display:inline-block;"/>').appendTo(n.actionwrapper),definition:S(this),type:"wizard.step.button",context:l}))}),n.unregister=function(){n.editor&&n.editor.unregister(),S.each(n.childComponents,function(){this.unregister()})}}k.componentType.register("wizard.step.button",n),p.prototype.navigate=function(e,t,n){return this.wizard.navigate(e,t,n)};e.render=function(e,t,s){var d=s.childElements=[],l=s.context,c="true"===t.attr("deferstepcontentsrendering"),u=s.steps={},n=t.children("steps").children();s.buttonsLocation=t.attr("buttonslocation")||"top",s.currentstep=n.first().attr("stepid"),n.each(function(e){var t,n=S(this),i=n.attr("stepid"),a=S("<div>").attr("data-stepid",i),o=n.children("components").first().children();if(i?i in u?s.addProblem(f+" each step must have a unique Step Id, but multiple Steps have Id '"+i+"'."):t=u[i]=new p({wizard:s,stepDef:n,element:a}):s.addProblem(f+" step "+(e+1)+" does not have a valid Step Id."),n.attr("loadlazypanels")&&a.data("lazyload","true"),(!c||0===e)&&(s.createChildComponents(o,t.editor.contents,l),a.data("contentHasLoaded",!0),v({wizard:s,step:t}),a&&a.data("lazyload"))){var r=a.find(".nx-include-panel").data("object");r&&!r.isLoaded&&r.load()}d.push(a)}),e.data("object",s).addClass("nx-wizard").append(d),s.navigate=function(e,t,n){return function(e,t,n,i){var a=e.element;if(t&&T.contains(t,"{{")&&(t=_(t,i)),(t||"0"===t)&&t in e.steps){var o,r,s=e.steps[e.currentstep];if(a.children().hide(),e.currentstep=t,o=e.steps[e.currentstep]){r=o.editor.element;var d={event:m,wizard:e,currentStep:o,formerStep:s},l={event:g,wizard:e,step:o};if(!0!==r.data("contentHasLoaded")&&(e.createChildComponents(o.xmlDefinition.children("components").first().children(),o.editor.contents,e.context),r.data("contentHasLoaded",!0),v({wizard:e,step:o})),r){if(r.show(),a.trigger(g,l),h(g,[l]),r.data("lazyload")){var c=r.find(".nx-include-panel").data("object");c&&!c.isLoaded&&c.load()}var u=r.find(".nx-field :input:visible:not(.hasDatepicker)"),p=r.find(".nx-header-right .ui-button:visible");0<u.length?u.first().focus():0<p.length?p.first().focus():a.trigger("focus")}a.trigger("stepchange",d),a.trigger(m,d),h(m,[d])}}else n?(i||(i={}),T.redirect({window:i.window,url:n,title:i.stepLabel,model:i.model,row:i.row})):e.addProblem(f+"we were not given either a step id or a URL to navigate to.");return e}(s,e,t,n)},s.skooWizard=function(e,t){return"navigate"===e&&s.navigate(t),s},s.navigate(s.currentstep),s.unregisterChildComponents=function(){k.component.Component.prototype.unregisterChildComponents.call(s),S.each(s.steps,function(){this.unregister()})}},k.componentType.register("wizard",e)}(skuid)},37:function(e,t,n){"use strict";var v,b,w,s,y,x,C;skuid,v=skuid.$,b=v(document.body),w=skuid.utils,s="sk-pagepanel",y="nx-page-withpanels",x=function(e){return" "+s+"-"+e},C=function(e){return" "+y+"-"+e},skuid.componentType.register("panel",function(n,i,c){var e=c.context,u="true"===i.attr("closeonpageclick"),p=v('<div class="nx-page-clickcatcher">'),t=i.attr("uniqueid"),a=i.children("interactions").first(),f=c.origin=i.attr("origin")||"left",h=c.getParentPage(),o=c.behavior=i.attr("behavior")||"overlay",m="left"===c.origin||"right"===c.origin,g=!m;c.size=i.attr("size")||"270px",c._open=!1,n.addClass(s+x(o)+x(f));var r={};r["overflow-"+(g?"x":"y")]=w._oniOS()?"scroll":"auto",r[g?"height":"width"]=c.size,n.css(r),c.createChildComponents(i.find("components").first().children(),n,e),a.length&&skuid.interactions.enableInteractions(n,{interactionsDef:a,component:c,context:e}),c.toggle=function(e){if(e!==c._open){var t,n=c.behavior,i=h.getContentElement(),a=h.getElement(),o=c.element,r=o[g?"outerHeight":"outerWidth"](!0)+"px",s="reveal"===n?i:a,d="right"===c.origin||"bottom"===c.origin?"-":"",l=g?"0,"+d+r+",0":d+r+",0,0";e=void 0!==e?e:!c._open,o[e?"addClass":"removeClass"](x("open")),"overlay"!==n&&"reveal"!==n||(o.addClass(x("animatable")),o.one("transitionend.skuid",function(){o.removeClass(x("animatable"))})),"reveal"!==n&&"push"!==n||(e?(v.each(h.panel.getAll(),function(e,t){t.id()!==c.id()&&t.close()}),(m||"push"===n)&&(t=b.scrollTop(),s.one("transitionend.skuid",function(){i.scrollTop(t),o.css("z-index",2)}))):t=i.scrollTop(),i.toggleClass(C("pushed"),e),e?(a.addClass(y+" "+C(f)),i.scrollTop(t),w._oniOS()&&i.css("overflow","scroll"),o.css("opacity",""),m?b.css("overflow-x","hidden"):(i["top"===c.origin?"append":"prepend"]('<div class="sk-slidingpanelhelper" style="height: '+r+'">'),"top"!==c.origin&&r&&i.scrollTop(i.scrollTop()+parseFloat(r)))):((m||"push"===n)&&(b.scrollTop(t),m||o.css({top:t+"px","z-index":1})),s.one("transitionend.skuid",function(){c._open||(o.css({opacity:0,top:"","z-index":""}),v.each(h.panel.getAll(),function(e,t){return"overlay"===t.behavior||"reveal"===t.behavior}),a.removeClass(y+" "+C(f)),w._oniOS()&&i.css("overflow",""))}),m?s.one("transitionend.skuid",function(){c._open||b.css("overflow-x","")}):v(".sk-slidingpanelhelper").remove()),e?s.css("transform","translate3d("+l+")"):(s.css("transform",""),s.one("transitionend.skuid",function(){c._open||o.css("z-index","-100")}))),e?u&&(i.append(p),s.one("transitionend.skuid",function(){c._open&&p.one("click.skuid",function(){p.remove(),o.css("z-index",""),c.close()})})):p.remove(),c._open=e}},c.close=function(){c.toggle(!1)},c.open=function(){c.toggle(!0)},c.isOpen=function(){return c._open},c.unregister=function(){skuid.component.Component.prototype.unregister.call(c),h.panel._detachById(t)},c.updateContext=function(e){var t=i.children("interactions").first();n.empty(),c.unregisterChildComponents(),c.createChildComponents(i.find("components").first().children(),n,e),t.length&&(skuid.interactions.disableInteractions(n),skuid.interactions.enableInteractions(n,{interactionsDef:t,component:c,context:e})),c.context=e},setTimeout(function(){c.toggle(!0)},0)})},38:function(e,t,n){"use strict";var r,s,d;r=skuid,s=r.$,d=r.utils,r.componentType.register("wrapper",{render:function(e,t,n){var i=s("<div>").addClass("sk-wrapper").css({position:"relative"}),a=t.children("interactions").first();n.createChildComponents(t.children("components").first().children(),i,n.context),d.processStylesNode(t.children("styles").first(),i);var o=t.children("styles").children('[type="size"][height="viewport"]').attr("vwheight");o&&void 0===r.builder&&function(){function e(){var e=window.parseInt(o.replace("%","")),t=s(window).outerHeight()*(e/100);i.outerHeight(t)}s(window).one("pageload",e),s(window).on("resize."+n._GUID,e)}(),a.length&&r.interactions.enableInteractions(e,{interactionsDef:a,component:n}),e.append('<div style="font-size:0; line-height:0;" aria-hidden="true"></div>',i)}})},40:function(e,t,n){"use strict";var g,v,b;g=skuid,v=g.$,b=g.$L,g.componentType.register("filterset",{render:function(e,t,n){e.addClass("sk-filterset");var i=g.$M(t.attr("model"));if(i){var a,o="false"!==t.attr("searchbox"),r=t.attr("searchmethod")||"server",s="true"===t.attr("tokenizesearch"),d=t.attr("searchconditionname"),l=t.children("filters"),c=t.attr("layout"),u=t.attr("position"),p=new g.ui.Editor(e,{showHeader:!0,showMessages:!1,buttonPosition:!c&&u?"right":"left"});e.addClass(c?"sk-filterset-vertical":""),p.createConditionsFromXml(t,n),n&&(n.unregister=function(){return g.component.Component.prototype.unregister.call(n),p.unregister(),n},n.unrender=function(){return g.component.Component.prototype.unrender.call(n),p.unregister(),n},n.context&&n.context.mode&&(a=n.context.mode));var f=t.children("searchfields").first(),h=f.children(),m=new g.ui.List(p,i,{views:{standard:{render:function(e){return e}}},listFilters:l,filterCssClass:"sk-filterset-item",context:n?n.context:null,showSearchBox:o,searchMethod:r,delayFilterExecution:"false"===t.attr("instantfilters"),showFooter:!1,useSOSLSearch:"true"===f.attr("usesosl"),SOSLFields:f.attr("soslfields"),searchConditionName:d,tokenizeSearch:s,searchPlaceholderText:t.attr("searchplaceholdertext"),emptySearchBehavior:t.attr("emptysearchbehavior")||"query",mode:a||"read",personalizationService:n.getPersonalizationService(),component:n});i.registerList(m),h.length?h.each(function(){var e=v(this);m.addSearchField(i.getField(e.attr("field")),e.attr("operator"))}):i.fields.forEach(function(e){e.filterable&&m.addSearchField(e)}),m.render(),m.attach(),n.getFilters=function(){return m.filters.map(function(e){return e})}}else n.addProblem(b("Invalid Model '"+t.attr("model")+"' on Filterset component. This Model's Id may have been changed, or the Model may have been deleted."))}})},41:function(e,t,n){"use strict";!function(u){var p=u.utils;function n(e,t,n){var i,a,o,r=n?n.context:null,s=t.attr("model"),d=u.$M(s);!d&&!s&&r&&r.model&&(d=r.model),a=(i=(i=t.children("contents").first()).length?i[0]:t[0]).textContent||i.text,o=n.createConditionsFromXml(t);var l="true"===t.attr("multiple"),c=new p.TemplateComponent(e,{allowHTML:!0,component:n,context:r,conditions:o,isMultiRow:l,model:d,templateBody:a});e.addClass("sk-richtext"),n&&(n.unregister=function(){u.component.Component.prototype.unregister.call(n),c.unregister()})}u.componentType.register("richtext",n),p.registerPlugin("richtext",{init:function(e,t){return n(this,e,t),this.data("object",this),this}})}(skuid)},42:function(e,t,n){"use strict";var c,u,p,f;c=skuid,u=c.region,p=u.setContent,f=u.setContentByIds,c.componentType.register("pageregion",{render:function(e,t,n){var i=this,a=n.context,o=a&&a.inBuilder,r=n.id(),s=n.getParentPageId();if(e.addClass("nx-page-region"),!o){c.utils.processStylesNode(t.children("styles").first(),e);var d=u.get(r,s);if(d){var l=d.xmlDefinition;p(n,l.children("components").first())}}n.unregisterChildComponents=function(){return i.unregisterChildComponents(n),n},n.setContent=function(e){return p(n,e.children("components").first()),n},n.setContentById=function(e){return f(n.getFullyQualifiedId(),n.getParentPageId(),e),n}},unregisterChildComponents:function(e){c.component.Component.prototype.unregisterChildComponents.call(e),e.element.empty()}})},43:function(e,t,n){"use strict";var h,m,i,a;h=skuid,m=h.utils,i=h.componentType.register,a=function(e,t,a,n,i){var o,r,s,d=a?a.context:null,l=(o=new(h.platform.FileComponent||m.FileComponent)(e,{component:a,context:d,model:h.$M(t.attr("model")),datasource:t.attr("datasource"),idField:t.attr("idfield"),field:t.attr("field"),saveTo:t.attr("saveto"),storeAs:i,displayAs:n,deletable:"false"!==t.attr("deleteable"),editable:"false"!==t.attr("editable"),fileName:t.attr("filename"),filename:t.attr("filename"),maxFileSize:t.attr("maxfilesize"),enforceMaxFileSize:"true"===t.attr("enforcemaxfilesize"),autoRefreshModelsOnUpload:"false"!==t.attr("autorefreshmodels"),onUploadSuccessActions:t.children("uploadsuccessactions"),onUploadFailureActions:t.children("uploadfailureactions"),label:t.attr("label"),feedtext:t.attr("feedtext"),description:t.attr("description"),defaultImage:t.attr("defaultimage"),snippetName:t.attr("snippetname"),xmlDef:t,saveToModel:t.attr("model"),cacheBuster:a.fileController&&a.fileController.cacheBuster,_GUID:a._GUID})).fileController,c=l.model,u=l.row,p=l.idField,f=l.uploadMethod;a.fileController=o.fileController,a.fc=o,!a._fileRowUpdateListener&&u&&p&&"field"==i&&(r=f.getFileIdField&&f.getFileIdField(p),s=f.getFileNameField&&f.getFileNameField(p),a._fileRowUpdateListener=h.events.subscribe("row.updated",function(e){var t,n=m.hasObjectProperty,i=a.fileController;e.rowId===c.getRowId(u)&&e.modelId===c.id&&e.initiatorId!==a.id()&&(n(e.updates,p)||r&&n(e.updates,r)||s&&n(e.updates,s))&&((t=h.$C(e.initiatorId))&&t.fileController&&(i.cacheBuster=t.fileController.cacheBuster),a.unrender().conditionallyRender())})),!a._fileModelChangeListener&&c&&(a._fileModelChangeListener=h.events.subscribe(["models.loaded","models.saved","models.cancelled"],function(e){var t,n=a.fileController;c.id in e.models&&e.initiatorId!==a.id()&&((t=h.$C(e.initiatorId))&&t.fileController&&(n.cacheBuster=t.fileController.cacheBuster),a.unrender().conditionallyRender())})),a&&(a.unregister=function(){var e=a.fc;h.component.Component.prototype.unregister.call(a),e.unregister()})},i("file",function(e,t,n){return a(e,t,n,t.attr("displayas"),t.attr("storeas"))}),i("attachmentimage",function(e,t,n){return a(e,t,n,"image","field")})},44:function(e,t,n){"use strict";skuid.componentType.register("custom",function(e,t,n){var i=t.attr("name");i&&(n.unregister({removeElement:!1}),n.setType(i),skuid.component.register(n),n.isBeingRendered=!1,n.render())})},45:function(e,t,n){"use strict";var u,p,i;u=skuid,p=u.utils,i=function(e,t,n){var i,a,o,r=n?n.context:null,s=t.attr("model"),d=u.$M(s);!d&&!s&&r&&r.model&&(d=r.model),a=(i=(i=t.children("contents").first()).length?i[0]:t[0]).textContent||i.text,o=n.createConditionsFromXml(t);var l="true"===t.attr("multiple"),c=new p.TemplateComponent(e,{allowHTML:"true"===t.attr("allowhtml"),component:n,context:r,conditions:o,isMultiRow:l,model:d,templateBody:a});n&&(n.unregister=function(){u.component.Component.prototype.unregister.call(n),c.unregister()})},u.componentType.register("template",i),p.registerPlugin("template",{init:function(e,t){return i(this,e,t),this.data("object",this),this}})}});