!function(i){var n={};function s(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=i,s.c=n,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(i,n,function(e){return t[e]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=313)}({10:function(z,N,V){var U;!function(c){var l=/^\s+/,h=/\s+$/,n=0,r=c.round,u=c.min,d=c.max,e=c.random;function g(e,t){if(t=t||{},(e=e||"")instanceof g)return e;if(!(this instanceof g))return new g(e,t);var i=function(e){var t={r:0,g:0,b:0},i=1,n=null,s=null,o=null,r=!1,a=!1;"string"==typeof e&&(e=function(e){e=e.replace(l,"").replace(h,"").toLowerCase();var t,i=!1;if(L[e])e=L[e],i=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=W.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=W.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=W.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=W.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=W.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=W.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=W.hex8.exec(e))return{r:_(t[1]),g:_(t[2]),b:_(t[3]),a:F(t[4]),format:i?"name":"hex8"};if(t=W.hex6.exec(e))return{r:_(t[1]),g:_(t[2]),b:_(t[3]),format:i?"name":"hex"};if(t=W.hex4.exec(e))return{r:_(t[1]+""+t[1]),g:_(t[2]+""+t[2]),b:_(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:i?"name":"hex8"};if(t=W.hex3.exec(e))return{r:_(t[1]+""+t[1]),g:_(t[2]+""+t[2]),b:_(t[3]+""+t[3]),format:i?"name":"hex"};return!1}(e));"object"==typeof e&&(H(e.r)&&H(e.g)&&H(e.b)?(t=function(e,t,i){return{r:255*D(e,255),g:255*D(t,255),b:255*D(i,255)}}(e.r,e.g,e.b),r=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):H(e.h)&&H(e.s)&&H(e.v)?(n=M(e.s),s=M(e.v),t=function(e,t,i){e=6*D(e,360),t=D(t,100),i=D(i,100);var n=c.floor(e),s=e-n,o=i*(1-t),r=i*(1-s*t),a=i*(1-(1-s)*t),l=n%6;return{r:255*[i,r,o,o,a,i][l],g:255*[a,i,i,r,o,o][l],b:255*[o,o,a,i,i,r][l]}}(e.h,n,s),r=!0,a="hsv"):H(e.h)&&H(e.s)&&H(e.l)&&(n=M(e.s),o=M(e.l),t=function(e,t,i){var n,s,o;function r(e,t,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}if(e=D(e,360),t=D(t,100),i=D(i,100),0===t)n=s=o=i;else{var a=i<.5?i*(1+t):i+t-i*t,l=2*i-a;n=r(l,a,e+1/3),s=r(l,a,e),o=r(l,a,e-1/3)}return{r:255*n,g:255*s,b:255*o}}(e.h,n,o),r=!0,a="hsl"),e.hasOwnProperty("a")&&(i=e.a));return i=R(i),{ok:r,format:e.format||a,r:u(255,d(t.r,0)),g:u(255,d(t.g,0)),b:u(255,d(t.b,0)),a:i}}(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=r(100*this._a)/100,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=i.ok,this._tc_id=n++}function s(e,t,i){e=D(e,255),t=D(t,255),i=D(i,255);var n,s,o=d(e,t,i),r=u(e,t,i),a=(o+r)/2;if(o==r)n=s=0;else{var l=o-r;switch(s=.5<a?l/(2-o-r):l/(o+r),o){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:s,l:a}}function o(e,t,i){e=D(e,255),t=D(t,255),i=D(i,255);var n,s,o=d(e,t,i),r=u(e,t,i),a=o,l=o-r;if(s=0===o?0:l/o,o==r)n=0;else{switch(o){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4}n/=6}return{h:n,s:s,v:a}}function t(e,t,i,n){var s=[E(r(e).toString(16)),E(r(t).toString(16)),E(r(i).toString(16))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function a(e,t,i,n){return[E(I(n)),E(r(e).toString(16)),E(r(t).toString(16)),E(r(i).toString(16))].join("")}function i(e,t){t=0===t?0:t||10;var i=g(e).toHsl();return i.s-=t/100,i.s=T(i.s),g(i)}function f(e,t){t=0===t?0:t||10;var i=g(e).toHsl();return i.s+=t/100,i.s=T(i.s),g(i)}function p(e){return g(e).desaturate(100)}function m(e,t){t=0===t?0:t||10;var i=g(e).toHsl();return i.l+=t/100,i.l=T(i.l),g(i)}function b(e,t){t=0===t?0:t||10;var i=g(e).toRgb();return i.r=d(0,u(255,i.r-r(-t/100*255))),i.g=d(0,u(255,i.g-r(-t/100*255))),i.b=d(0,u(255,i.b-r(-t/100*255))),g(i)}function v(e,t){t=0===t?0:t||10;var i=g(e).toHsl();return i.l-=t/100,i.l=T(i.l),g(i)}function w(e,t){var i=g(e).toHsl(),n=(i.h+t)%360;return i.h=n<0?360+n:n,g(i)}function y(e){var t=g(e).toHsl();return t.h=(t.h+180)%360,g(t)}function k(e){var t=g(e).toHsl(),i=t.h;return[g(e),g({h:(i+120)%360,s:t.s,l:t.l}),g({h:(i+240)%360,s:t.s,l:t.l})]}function S(e){var t=g(e).toHsl(),i=t.h;return[g(e),g({h:(i+90)%360,s:t.s,l:t.l}),g({h:(i+180)%360,s:t.s,l:t.l}),g({h:(i+270)%360,s:t.s,l:t.l})]}function x(e){var t=g(e).toHsl(),i=t.h;return[g(e),g({h:(i+72)%360,s:t.s,l:t.l}),g({h:(i+216)%360,s:t.s,l:t.l})]}function $(e,t,i){t=t||6,i=i||30;var n=g(e).toHsl(),s=360/i,o=[g(e)];for(n.h=(n.h-(s*t>>1)+720)%360;--t;)n.h=(n.h+s)%360,o.push(g(n));return o}function C(e,t){t=t||6;for(var i=g(e).toHsv(),n=i.h,s=i.s,o=i.v,r=[],a=1/t;t--;)r.push(g({h:n,s:s,v:o})),o=(o+a)%1;return r}g.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,i,n=this.toRgb();return e=n.r/255,t=n.g/255,i=n.b/255,.2126*(e<=.03928?e/12.92:c.pow((.055+e)/1.055,2.4))+.7152*(t<=.03928?t/12.92:c.pow((.055+t)/1.055,2.4))+.0722*(i<=.03928?i/12.92:c.pow((.055+i)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=r(100*this._a)/100,this},toHsv:function(){var e=o(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=o(this._r,this._g,this._b),t=r(360*e.h),i=r(100*e.s),n=r(100*e.v);return 1==this._a?"hsv("+t+", "+i+"%, "+n+"%)":"hsva("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=s(this._r,this._g,this._b),t=r(360*e.h),i=r(100*e.s),n=r(100*e.l);return 1==this._a?"hsl("+t+", "+i+"%, "+n+"%)":"hsla("+t+", "+i+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,i,n,s){var o=[E(r(e).toString(16)),E(r(t).toString(16)),E(r(i).toString(16)),E(I(n))];if(s&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*D(this._r,255))+"%",g:r(100*D(this._g,255))+"%",b:r(100*D(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%)":"rgba("+r(100*D(this._r,255))+"%, "+r(100*D(this._g,255))+"%, "+r(100*D(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(A[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),i=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var s=g(e);i="#"+a(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,n=this._a<1&&0<=this._a;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(i=this.toRgbString()),"prgb"===e&&(i=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(i=this.toHexString()),"hex3"===e&&(i=this.toHexString(!0)),"hex4"===e&&(i=this.toHex8String(!0)),"hex8"===e&&(i=this.toHex8String()),"name"===e&&(i=this.toName()),"hsl"===e&&(i=this.toHslString()),"hsv"===e&&(i=this.toHsvString()),i||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return g(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(b,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(i,arguments)},saturate:function(){return this._applyModification(f,arguments)},greyscale:function(){return this._applyModification(p,arguments)},spin:function(){return this._applyModification(w,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(y,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(x,arguments)},triad:function(){return this._applyCombination(k,arguments)},tetrad:function(){return this._applyCombination(S,arguments)}},g.fromRatio=function(e,t){if("object"==typeof e){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]="a"===n?e[n]:M(e[n]));e=i}return g(e,t)},g.equals=function(e,t){return!(!e||!t)&&g(e).toRgbString()==g(t).toRgbString()},g.random=function(){return g.fromRatio({r:e(),g:e(),b:e()})},g.mix=function(e,t,i){i=0===i?0:i||50;var n=g(e).toRgb(),s=g(t).toRgb(),o=i/100;return g({r:(s.r-n.r)*o+n.r,g:(s.g-n.g)*o+n.g,b:(s.b-n.b)*o+n.b,a:(s.a-n.a)*o+n.a})},g.readability=function(e,t){var i=g(e),n=g(t);return(c.max(i.getLuminance(),n.getLuminance())+.05)/(c.min(i.getLuminance(),n.getLuminance())+.05)},g.isReadable=function(e,t,i){var n,s,o=g.readability(e,t);switch(s=!1,(n=function(e){var t,i;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),i=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==i&&"large"!==i&&(i="small");return{level:t,size:i}}(i)).level+n.size){case"AAsmall":case"AAAlarge":s=4.5<=o;break;case"AAlarge":s=3<=o;break;case"AAAsmall":s=7<=o}return s},g.mostReadable=function(e,t,i){var n,s,o,r,a=null,l=0;s=(i=i||{}).includeFallbackColors,o=i.level,r=i.size;for(var c=0;c<t.length;c++)l<(n=g.readability(e,t[c]))&&(l=n,a=g(t[c]));return g.isReadable(e,a,{level:o,size:r})||!s?a:(i.includeFallbackColors=!1,g.mostReadable(e,["#fff","#000"],i))};var L=g.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A=g.hexNames=function(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}(L);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function D(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var i=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=u(t,d(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),c.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function T(e){return u(1,d(0,e))}function _(e){return parseInt(e,16)}function E(e){return 1==e.length?"0"+e:""+e}function M(e){return e<=1&&(e=100*e+"%"),e}function I(e){return c.round(255*parseFloat(e)).toString(16)}function F(e){return _(e)/255}var O,B,P,W=(B="[\\s|\\(]+("+(O="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",P="[\\s|\\(]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")[,|\\s]+("+O+")\\s*\\)?",{CSS_UNIT:new RegExp(O),rgb:new RegExp("rgb"+B),rgba:new RegExp("rgba"+P),hsl:new RegExp("hsl"+B),hsla:new RegExp("hsla"+P),hsv:new RegExp("hsv"+B),hsva:new RegExp("hsva"+P),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(e){return!!W.CSS_UNIT.exec(e)}void 0!==z&&z.exports?z.exports=g:void 0===(U=function(){return g}.call(N,V,N,z))||(z.exports=U)}(Math)},3:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParameter=t.buildResourcesJson=t.makeTones=t.buildResourcesObjectFromThemeData=t.getResourcesCommentString=void 0;var n,v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(10),r=(n=s)&&n.__esModule?n:{default:n};var w=["DO NOT EDIT, this is a generated file and all changes","will be overwritten. If you wish to change the resources","loaded, please do so in the skuid_theme.json"].join(" ");t.getResourcesCommentString=function(){return w};var o=t.buildResourcesObjectFromThemeData=function(e){var t,i,n,s,o,r,a={},l=[],c={},h=e.cssResources||[],u=e.themeSettings?JSON.parse(JSON.stringify(e.themeSettings.getAll?e.themeSettings.getAll():e.themeSettings)):void 0,d=e.webFonts||{};if(d.google&&d.google.length)for(c.google={families:[]},s=0;s<d.google.length;s++)(n=d.google[s]).url&&(i=k(n.url,"family")),c.google.families.push(i);if(u&&u.tokens&&u.tokens.fontFamily){var g=u.tokens.fontWeight||{},f=":"+Object.keys(g).map(function(e){return g[e].value}).join(","),p=u.tokens.fontFamily,m=[];Object.keys(p).forEach(function(e){"google"===p[e].value.type&&m.push(p[e].value);var t=p[e].value.primaryFamily;p[e].value.secondaryFamily&&(t+=", "+p[e].value.secondaryFamily),p[e].value=t}),c=v(c,{google:{families:m.map(function(e){return e.primaryFamily+=f}).filter(function(e){return e})}})}if(d.custom)for(c.custom={families:[],urls:[]},s=0;s<d.custom.length;s++)t=d.custom[s],c.custom.families.push(t.name),t.url&&c.custom.urls.push(t.url);if(d.typekit&&(c.typekit={id:d.typekit}),u&&u.webFonts&&u.webFonts.typekit&&(c.typekit={id:u.webFonts.typekit}),c.typekit||c.google||c.custom?a.fontConfig=c:a.fontConfig={},h&&h.length){for(s=0;s<h.length;s++){switch(r=null,(o=h[s]).type){case"external":r={type:"external",url:o.url||o.path};break;default:r={type:"static",name:o.name},["namespace","path"].forEach(function(e){o.hasOwnProperty(e)&&(r[e]=o[e])})}r&&l.push(r)}l.length&&(a.cssResources=l)}if(u){if(a.themeSettings=function(e){return JSON.parse(JSON.stringify(e))}(u),u.palette){var b={};Object.keys(u.palette).forEach(function(e){var t=u.palette[e].value;b[e]={value:{color:t.color}},t.shades&&(b[e].value._shades=y(t.color,t.shades.map(function(e){return-e}).reverse())),t.tints&&(b[e].value._tints=y(t.color,t.tints))}),a.themeSettings.palette=b}u.tokens&&Object.keys(u.tokens).forEach(function(e){var t=u.tokens[e],i={};Object.keys(t).forEach(function(e){i[e]={value:t[e].value}}),a.themeSettings.tokens[e]=i})}return function(e){if(e&&e.hasOwnProperty){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}return 0}(a)&&(a.__comment=w),a},y=t.makeTones=function(e,t){var i=(0,r.default)(e),n=[],s=(0,r.default)("#000"),o=(0,r.default)("#fff");return t.forEach(function(e){e<0?n.push(r.default.mix(i,s,-e).toHexString()):n.push(r.default.mix(i,o,e).toHexString())}),n.map(function(e){return e.toUpperCase()})},k=(t.buildResourcesJson=function(e){return JSON.stringify(o(e),null,"\t")},t.getUrlParameter=function(e,t){var i,n=e.split("?");1<n.length&&(n=n[1]),i=n.split("&");for(var s=0;s<i.length;s++){var o=i[s].split("=");if(o[0]==t)return o[1]}})},313:function(e,t,i){"use strict";i.r(t);i(46),i(47),i(314),i(315),i(316),i(317)},314:function(e,t,i){"use strict";var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w=i(3);!function(k){var S=k.$,h=k.themeBuilder,x=h.utils,u=function(){return h.themeConfigurations.unsaved},$=k.ui.getRenderer,C="COLOR",l="skuid.themeBuilder.setThemeSettings";function t(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.marginPaddingEditor.defaults),t),this.init()}function i(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.backgroundEditor.defaults),t),this.init()}function n(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.borderEditor.defaults),t),this.init()}function s(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.cornerRadiusEditor.defaults),t),this.init()}function o(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.sizeEditor.defaults),t),this.init()}function r(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.customCssPicker.defaults),t),this.init()}function a(e){this.el=e,this.$el=S(e),this.init()}function e(){k.snippet.get("z99")();var t,e,i=u().inlineCss?u().inlineCss:"",n=S("<div>");S('<div id="skuidcodeditor">'+i+"</div>").addClass("nx-code-editor").css("height","600px").appendTo(n),n.dialog({width:"80%",height:"auto",minHeight:600,title:"Edit Inline Code",resizable:!0,modal:!0,close:function(){var e=t.getValue();u().inlineCss=e,h.updateInlineIframeCSS(),h.iframe.skuid.$("#tb-inlinecss").remove(),h.iframe.skuid.$("body").append('<style id="tb-inlinecss">'+e+"</style>"),n.dialog("destroy"),n.remove(),h.setConfirmExitEnabled(!0)}}),(t=window.ace.edit("skuidcodeditor")).getSession().setMode("ace/mode/css"),(e=t.getSession().getUndoManager()).reset(),t.getSession().setUndoManager(e),t.getSession().on("change",function(){var e=t.getValue();u().inlineCss=e,h.setConfirmExitEnabled(!0)})}function c(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.marginPaddingEditor.defaults),t),this.init()}function d(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.paletteEditor.defaults),t),this.init()}function g(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.shadowEditor.defaults),t),this.init()}function f(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(x.clone(S.fn.textEditor.defaults),t),this.init()}function p(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(h.utils.clone(S.fn.textSlider.defaults),t),this.init()}function m(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(h.utils.clone(S.fn.typekit.defaults),t),this.init()}function b(e,t){this.el=e,this.$el=S(e),this.settings=S.extend(h.utils.clone(S.fn.webFontPicker.defaults),t),this.settings.custom&&(this.settings.label="Custom"),this.init()}(h.tbWidget=function(){}).prototype={_init:function(){var e=this,t=this.settings,i=h.defaultLessVars;if(e.$el.addClass("tb-widget"),"string"==typeof t.lessDef)u().lessVars[t.lessDef]?(t.enabled=!0,e.value=u().lessVars[t.lessDef]):i[t.lessDef]&&(e.value=i[t.lessDef]),e.value&&-1<e.value.split("rgb(").join("").indexOf("(")&&delete e.value;else if("object"===v(t.lessDef))for(var n in e.value={},t.lessDef){var s=t.lessDef[n];void 0!==u().lessVars[s]?(t.enabled=!0,e.value[n]=u().lessVars[s]):void 0!==i[s]&&(e.value[n]=i[s])}if(t.setProps&&t.setProps.length){for(var o=u().themeSettingsLocal.getAll(),r=o,a=0;a<t.setProps.length;a++){var l=t.setProps[a];a!==t.setProps.length-1?(void 0===r[l]&&a!==t.setProps.length-1&&(r[l]={}),r=r[l]):void 0!==r[l]?(e.value=r[l],t.enabled=!0):void 0!==e.value&&(r[l]=e.value)}u().themeSettingsLocal.setAll(o)}},_makeHeader:function(){var e=this,t=S('<div class="tb-section-header">');""!==e.settings.subLabel?t.append("<h2>"+e.settings.label+" ("+e.settings.subLabel+")</h2>"):t.append("<h2>"+e.settings.label+"</h2>");var i=S('<input type="checkbox"></input>');if(e.settings.enabled&&i.prop("checked",!0),i.on("change",S.proxy(e._toggleEnabled,e)),t.append(i),e.settings.hint){var n=S('<div class="tb-hint"><span class="sk-icon sk-icon-help"></div>');n.skootip(e.settings.hint),t.append(n)}e.$el.append(t).append('<div style="clear:both">')},_toggleEnabled:function(e){this.settings.enabled=e.target.checked,void 0!==this.settings.setProps?this.updateSettings(e):this.updateLess&&this.updateLess(),this._updateDisplay()},_updateDisplay:function(){var e=this;e.settings.enabled?(e.settingsDiv.css("display",""),e.gridDiv&&e.gridDiv.css("display","")):(e.settingsDiv.css("display","none"),e.gridDiv&&e.gridDiv.css("display","none"))}},S.fn.accLite=function(e){return this.each(function(){new t(this,e)})},S.fn.accLite.defaults={},t.prototype={init:function(){var n=this.$el.children();n.length&&S.each(n,function(e,t){if(e%2!=1){var i=S(n[e+1]);0!==e&&i.addClass("display-none"),S(t).addClass("acc-header").on("click",function(){i.toggleClass("display-none")})}})}},S.fn.backgroundEditor=function(e){return this.each(function(){new i(this,e)})},S.fn.backgroundEditor.defaults={label:"Background",subLabel:"",enabled:!1,value:"transparent"},i.prototype={subParam:"all",init:function(){var e=this;e._init(),void 0===e.value&&(e.value=e.settings.value),e._makeHeader();var t=S("<h3>Color</h3>");e.colorInput=$(C).edit({color:e.value}),e.settingsDiv=S('<div class="settings"></div>').append(t).append(e.colorInput),e.colorInput.on("sk-colorselected",S.proxy(e.updateSettings,e)),e._updateDisplay(),e.$el.addClass("tb-background").append(e.settingsDiv)},updateSettings:function(e,t){void 0!==t&&(this.value=t);var i=this.settings.setProps;if(i&&i.length){for(var n=u().themeSettingsLocal.getAll(),s=n,o=0;o<i.length;o++){var r=i[o];o===i.length-1?this.settings.enabled?s[r]=this.value:delete s[r]:(void 0===s[r]&&(s[r]={}),s=s[r])}void 0!==u().lessVars[this.settings.lessDef]&&delete u().lessVars[this.settings.lessDef],u().themeSettingsLocal.setAll(n),k.events.publish(l)}else this.updateLess()},updateLess:function(){if(!this.settings.enabled)return delete u().lessVars[this.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());this.settings&&this.settings.lessDef&&(u().lessVars[this.settings.lessDef]=this.pToString(this.value),"undefined"!=typeof less&&h.modifyVars())},pToString:function(e){return e}},i.prototype=S.extend(i.prototype,h.tbWidget.prototype),S.fn.borderEditor=function(e){return this.each(function(){new n(this,e)})},S.fn.borderEditor.defaults={label:"Border",subLabel:"",enabled:!1,attributes:"all",stepSizes:{px:1,em:.01,rem:.01},all:{width:"1",widthUnit:"px",style:"solid",color:"black"},top:{width:"1",widthUnit:"px",style:"solid",color:"black"},right:{width:"1",widthUnit:"px",style:"solid",color:"black"},bottom:{width:"1",widthUnit:"px",style:"solid",color:"black"},left:{width:"1",widthUnit:"px",style:"solid",color:"black"},styleOptions:["none","solid","dotted","dashed"]},n.prototype={subParam:"all",init:function(){var e,t,i=this,n=i.settings;if(i._init(),void 0!==i.value?"string"==typeof i.value?(i.value=i.handleRgb(i.value),(t=i.value=x.parseSkuidBorderLess(this.value)).all=t.all||i.settings.all,t.individuallySet&&(i.subParam="bottom")):"object"===v(i.value)&&void 0!==i.value.color&&(i.value.color=i.handleRgb(i.value.color),i.value[i.subParam]=S.extend({},i.value)):i.value=i.settings,t=i.value,t=S.extend(x.clone(S.fn.borderEditor.defaults),t),i._makeHeader(),i.settingsDiv=S('<div class="settings"></div>'),"all"==i.settings.attributes){i.gridDiv=S('<div class="grid"></div>');var s=[];for(e=0;e<9;e++)s.push(S("<td></td>"));var o=S('<button class="top" sub-param="top">'+t.top.width+"</button>"),r=S('<button class="right" sub-param="right">'+t.right.width+"</button>"),a=S('<button class="bottom" sub-param="bottom">'+t.bottom.width+"</button>"),l=S('<button class="left" sub-param="left">'+t.left.width+"</button>"),c=S('<button class="all" sub-param="all">'+t.all.width+"</button>");"all"==i.subParam?c.addClass("selected"):a.addClass("selected"),s[1].append(o),s[3].append(l),s[4].append(c),s[4].addClass("sample"),s[5].append(r),s[7].append(a),i.sample=s[4];var h=[o,r,a,l,c];for(e=0;e<h.length;e++)h[e].on("click",S.proxy(i.changeSubParam,this));var u=[];for(e=0;e<3;e++)u.push(S("<tr></tr>")),u[e].append([s[3*e],s[3*e+1],s[3*e+2]]);i.gridDiv.append(u),i.$el.append(i.gridDiv),i.selectedButton=i.gridDiv.find("."+i.subParam).addClass("selected"),i.title=S('<h3 class="title">Border ('+i.capitaliseFirst(i.subParam)+")</h3>"),i.settingsDiv.append(i.title)}var d=S("<h3>Width</h3>");i.widthInput=S('<input value="0"></input>'),i.widthUnitInput=S("<select><option>rem</option><option>em</option><option>px</option></select>").on("change",S.proxy(i.updateWidthUnit,i)).css({"margin-left":"5px",width:"50px"}),i.settingsDiv.append(d,i.widthInput,i.widthUnitInput);var g=i.value[i.subParam]=i.value[i.subParam]||{width:0,style:"solid",color:"transparent",widthUnit:"px"};i.widthInput.spinner({min:0,max:30,input:S.proxy(i.updateWidth,i),stop:S.proxy(i.updateWidth,i),step:i.settings.stepSizes[g.initialWidthUnit]});var f=S("<h3>Style</h3>"),p=n.styleOptions;for(i.styleInput=S("<select></select>"),e=0;e<p.length;e++)i.styleInput.append("<option>"+p[e]+"</option>");i.styleInput.on("change",S.proxy(i.updateStyle,i)),i.settingsDiv.append("<br/>",f,i.styleInput);var m=S("<h3>Color</h3>");i.colorInput=$(C).edit({color:g.color}),i.colorInput.on("sk-colorselected",S.proxy(i.updateColor,i)),i.settingsDiv.append("<br/>",m,i.colorInput),i.widthInput.val(g.width),i.widthUnitInput.val(g.initialWidthUnit),i.styleInput.val(g.style),i.colorInput.find("input").val(g.color),i._updateDisplay(),i.$el.addClass("tb-border"),i.$el.append(i.settingsDiv)},updateWidth:function(e){this.value[this.subParam].width=e.target.value,this.update(),this.selectedButton&&this.selectedButton.html(Math.round(100*parseFloat(e.target.value))/100)},updateWidthUnit:function(e){this.value[this.subParam].widthUnit=e.target.value,this.widthInput.spinner("option",{step:this.settings.stepSizes[e.target.value]}),this.update()},updateStyle:function(e){this.value[this.subParam].style=e.target.value,this.update()},updateColor:function(e,t){this.value[this.subParam].color=t,this.update()},changeSubParam:function(e){var t=this;t.gridDiv.find("button").removeClass("selected"),S(e.target).addClass("selected"),t.selectedButton=S(e.target),t.subParam=S(e.target).attr("sub-param"),t.title&&t.title.html("Border ("+t.capitaliseFirst(t.subParam)+")");var i=t.value[t.subParam]||{width:0,style:"solid",color:"transparent",widthUnit:"px"};t.widthInput.val(i.width),t.widthUnitInput.val(i.widthUnit||"px"),this.widthInput.spinner("option",{step:this.settings.stepSizes[i.widthUnit||"px"]}),t.styleInput.val(i.style),t.colorInput.find("input").val(i.color).trigger("sk-colorselected",[i.color]),t.update()},update:function(){this.settings.setProps?this.updateSettings():this.updateLess()},updateSettings:function(e,t){var i=this;void 0!==t&&(i.value[i.subParam]=t);var n=i.settings.setProps;if(n&&n.length){for(var s=u().themeSettingsLocal.getAll(),o=s,r=0;r<n.length;r++){var a=n[r];r===n.length-1?i.settings.enabled?o[a]=i.value[i.subParam]:delete o[a]:(void 0===o[a]&&(o[a]={}),o=o[a])}void 0!==u().lessVars[i.settings.lessDef]&&delete u().lessVars[i.settings.lessDef],u().themeSettingsLocal.setAll(s),k.events.publish(l)}},updateLess:function(){var e,t=this;if(t._updateDisplay(),!t.settings.enabled)return delete u().lessVars[t.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());e="all"==t.subParam?t.pToString(t.value[t.subParam]):t.pToString(t.value.top)+", "+t.pToString(t.value.right)+", "+t.pToString(t.value.bottom)+", "+t.pToString(t.value.left),t.value&&t.settings.lessDef&&(u().lessVars[t.settings.lessDef]=e,"undefined"!=typeof less&&h.modifyVars())},pToString:function(e){return e.width+e.widthUnit+" "+e.style+" "+e.color},capitaliseFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},handleRgb:function(e){var t=e.match(/rgba*\(.+\)/g),i=e.split(/rgba*\(.+\)/),n=[];if(t){for(var s=0;s<t.length;s++)t[s]=x.rgbToHex(t[s]),n.push(i[s]),n.push(t[s]);return n.join("")}return e}},n.prototype=S.extend(n.prototype,h.tbWidget.prototype),S.fn.cornerRadiusEditor=function(e){return this.each(function(){new s(this,e)})},S.fn.cornerRadiusEditor.defaults={label:"Corner Radius",subLabel:"",enabled:!1,value:0},s.prototype={subParam:"all",init:function(){var e=this;e._init(),void 0!==e.value?e.value=x.parseCssSize(e.value,{defaultSize:2,defaultUnit:"px"}):e.value=e.settings.value,e._makeHeader(),e.settingsDiv=S('<div class="settings"></div>'),e.radiusInput=S("<div>"),e.settingsDiv.append(e.radiusInput),e.radiusInput.textSlider({value:e.value.size,unit:e.value.unit}),e.radiusInput.on("stop",S.proxy(e.update,e)),e.radiusInput.on("unitchange",S.proxy(e.update,e)),e._updateDisplay(),e.$el.addClass("tb-corner"),e.$el.append(e.settingsDiv)},update:function(e,t){this.value=t,this.updateLess()},updateLess:function(){if(this._updateDisplay(),!this.settings.enabled)return delete u().lessVars[this.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());this.settings&&this.settings.lessDef&&(u().lessVars[this.settings.lessDef]=this.value.size+this.value.unit,"undefined"!=typeof less&&h.modifyVars())}},s.prototype=S.extend(s.prototype,h.tbWidget.prototype),S.fn.sizeEditor=function(e){return this.each(function(){new o(this,e)})},S.fn.sizeEditor.defaults={label:"Size",subLabel:"",enabled:!1,value:{unit:"px",size:10}},o.prototype={subParam:"all",init:function(){this._init(),void 0!==this.value?this.value=x.parseCssSize(this.value):this.value=this.settings.value,this._makeHeader(),this.settingsDiv=S('<div class="settings"></div>'),this.sizeInput=S("<div>"),this.settingsDiv.append(this.sizeInput),this.sizeInput.textSlider({min:0,max:30,useUnits:!0,value:this.value.size,unit:this.value.unit,minSizes:{px:0,em:.01,rem:.01},maxSizes:{px:600,em:10,rem:10}}),this.sizeInput.on("stop",S.proxy(this.updateSize,this)),this.sizeInput.on("unitchange",S.proxy(this.updateSize,this)),this._updateDisplay(),this._updateDisplay(),this.$el.addClass("tb-corner"),this.$el.append(this.settingsDiv)},updateSize:function(e,t){this.value.size=t.size,this.value.unit=t.unit,this.updateLess()},updateLess:function(){if(this._updateDisplay(),!this.settings.enabled)return delete u().lessVars[this.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());this.settings&&this.settings.lessDef&&(u().lessVars[this.settings.lessDef]=this.value.size+(this.value.unit||"px"),"undefined"!=typeof less&&h.modifyVars())}},o.prototype=S.extend(o.prototype,h.tbWidget.prototype),S.fn.customCssPicker=function(e){return this.each(function(){new r(this,e)})},S.fn.customCssPicker.defaults={label:"Resources",subLabel:""},r.prototype={init:function(){this.$el.addClass("tb-widget tb-css"),this.resourceIdCounter=0,this.rendered=!1;var e=this,t=S('<div class="tb-section-header">').append("<h2>"+this.settings.label+"</h2>");if(this.resourceContainer=S('<div class="tb-resource-container">').append(this.resourceDivs),u().cssResources)for(var i=0;i<u().cssResources.length;i++)this.addResourceDiv(u().cssResources[i]);this.addResourceDiv(),this.updateData();var n=S('<div class="tb-resource-add">add more</div>').on("click",function(){e.addResourceDiv()});this.$el.append(t,'<div style="clear:both"></div>',this.resourceContainer,S('<div class="tb-resource-addcontainer">').append(n)),this.rendered=!0},update:function(e){var t=S(e.target).attr("sub-param");this.value[t]=e.target.value,this.updateLess()},addResourceDiv:function(e){e||(e={type:"static",name:"",namespace:"",path:""});var t=this,i=S('<div id="tb-resource-'+this.resourceIdCounter+'" class="tb-resource">'),n=S('<div class="tb-resource-label">Type</div>'),s="external"===e.type?"External":"Static Resource",o=S('<select class="tb-resource-type">').append("<option>Static Resource</option>","<option>External</option>").val(s).on("change",function(){S("#tb-resource-"+S(this).data("resourceId")).find(".tb-resource-css-static, .tb-resource-css-external").toggleClass("display-none"),t.updateData()}),r=S('<div class="tb-resource-remove"><div class="sk-icon sk-icon-close"></div></div>').data("resourceId",this.resourceIdCounter).on("click",function(){i.remove(),t.updateData()});i.append(r,S('<div style="clear:both">'),n,o),i.data("resourceId",this.resourceIdCounter),o.data("resourceId",this.resourceIdCounter);var a=S('<div class="tb-resource-item tb-resource-css-static"><div class="tb-resource-label">Resource Name</div><input class="tb-resource-static-name" value="'+(e.name||"")+'"><div style="clear:both"></div><div class="tb-resource-label">Namespace</div><input class="tb-resource-static-namespace" value="'+(e.namespace||"")+'"><div style="clear:both"></div><div class="tb-resource-label">File Path</div><input class="tb-resource-static-path" value="'+(e.path||"")+'"><div style="clear:both"></div><br></div>').appendTo(i),l=S('<div class="tb-resource-item tb-resource-css-external"><div class="tb-resource-label">Path</div><input class="tb-resource-external-path" value="'+(e.path||e.url||"")+'"><div style="clear:both"></div><br></div>').appendTo(i);"static"==e.type?l.addClass("display-none"):a.addClass("display-none"),i.find("input").on("input",S.proxy(this.updateData,this)),this.resourceIdCounter++,this.resourceContainer.append(i)},updateData:function(){this.rendered&&(u().cssResources=[],this.$el.find(".tb-resource").each(function(e,t){var i,n,s,o,r=S(t),a=r.find(".tb-resource-type").val();switch(a){case"Static Resource":i=r.find(".tb-resource-static-name").val(),n=r.find(".tb-resource-static-namespace").val(),s=r.find(".tb-resource-static-path").val(),a="static",""!==S.trim(i)&&(o={name:i,namespace:n,path:s,type:a});break;case"External":a="external",s=r.find(".tb-resource-external-path").val(),a="external",""!==S.trim(s)&&(o={path:s,type:a})}o&&u().cssResources.push(o)}),k.themeBuilder.setConfirmExitEnabled(!0),k.events.publish("skuid.themeBuilder.resourcesUpdated",[{cssResources:u().cssResources}]))}},S.fn.inlineCss=function(e){return this.each(function(){new a(this,e)})},a.prototype={init:function(){this.$el.addClass("tb-inlinecss").append(S("<div>").addClass("tb-section-header").append(S("<h2>").text("Inline CSS")),"<br/>",S("<div>").addClass("tb-inlinecss-button-code").on("click",e).append(S("<div>").addClass("sk-icon fa-code").skootip("Open Resource Editor")),S("<div>").css("clear","both"))}},S.fn.marginPaddingEditor=function(e){return this.each(function(){new c(this,e)})},S.fn.marginPaddingEditor.defaults={label:"Margin",subLabel:"",attributes:"all",lessDef:"",enabled:!1,all:{size:0,unit:"px"},top:{size:0,unit:"px"},right:{size:0,unit:"px"},bottom:{size:0,unit:"px"},left:{size:0,unit:"px"}},c.prototype={subParam:"all",init:function(){var e=this;if(e._init(),void 0!==e.value){var t=e.value.split(/[, ]\s*/);e.value={},1<t.length?(e.subParam="top",e.value.top=x.parseCssSize(t[0]),e.value.right=x.parseCssSize(t[1]),2==t.length?(e.value.bottom=x.parseCssSize(t[0]),e.value.left=x.parseCssSize(t[1])):(e.value.bottom=x.parseCssSize(t[2]),e.value.left=x.parseCssSize(t[3])),e.value.all=e.settings.all):(e.value.all=x.parseCssSize(t[0]),e.value.top=x.parseCssSize(t[0]),e.value.right=x.parseCssSize(t[0]),e.value.bottom=x.parseCssSize(t[0]),e.value.left=x.parseCssSize(t[0]))}else e.value=e.settings;if(e._makeHeader(),"all"==e.settings.attributes){e.gridDiv=S('<div class="grid"></div>');var i,n=[];for(i=0;i<9;i++)n.push(S("<td></td>"));var s=S('<button class="top" sub-param="top">'+e.value.top.size+"</button>"),o=S('<button class="right" sub-param="right">'+e.value.right.size+"</button>"),r=S('<button class="bottom" sub-param="bottom">'+e.value.bottom.size+"</button>"),a=S('<button class="left" sub-param="left">'+e.value.left.size+"</button>"),l=S('<button class="all" sub-param="all">'+e.value.all.size+"</button>");for(n[1].append(s),n[3].append(a),n[4].append(l),n[5].append(o),n[7].append(r),e.sample=n[4],e.buttons=[s,o,r,a,l],i=0;i<e.buttons.length;i++)e.buttons[i].hasClass(e.subParam)&&e.buttons[i].addClass("selected"),e.buttons[i].on("click",S.proxy(e.changeSubParam,e));var c=[];for(i=0;i<3;i++)c.push(S("<tr></tr>")),c[i].append(n[3*i]),c[i].append(n[3*i+1]),c[i].append(n[3*i+2]);e.selectedButton=l,e.gridDiv.append(c),e.$el.append(e.gridDiv)}e.settingsDiv=S('<div class="settings"></div>'),e.title=S('<div class="title">'+e.settings.label+" ("+e.capitaliseFirst(e.subParam)+")</div>"),e.settingsDiv.append(e.title),e.widthInput=S('<div sub-param="blur">'),e.settingsDiv.append(e.widthInput),e.widthInput.textSlider({min:0,max:30,useUnits:!0,value:e.value[e.subParam].size,unit:e.value[e.subParam].unit,minSizes:{px:0,em:.001},maxSizes:{px:30,em:2}}),e.widthInput.textSlider("value",e.value[e.subParam].size),e.widthInput.on("stop",S.proxy(e.updateWidth,e)),e.widthInput.on("unitchange",S.proxy(e.updateWidth,e)),e._updateDisplay(),e.$el.addClass("tb-margin"),e.$el.append(e.settingsDiv)},updateWidth:function(e,t){this.value[this.subParam].unit=t.unit,this.value[this.subParam].size=t.size,this.selectedButton&&this.selectedButton.html(Math.round(100*parseFloat(t.size))/100),this.updateLess()},changeSubParam:function(e){var t=this;t.gridDiv.find("button").removeClass("selected"),t.selectedButton=S(e.target),t.selectedButton.addClass("selected"),t.subParam=S(e.target).attr("sub-param"),t.title.html(t.settings.label+" ("+t.capitaliseFirst(t.subParam.replace("",""))+")"),t.widthInput.textSlider("value",t.value[t.subParam].size),t.widthInput.textSlider("unitValue",t.value[t.subParam].unit),t.updateLess()},updateLess:function(){var e,t=this;if(!t.settings.enabled)return delete u().lessVars[t.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());e="all"==t.subParam?t.value[t.subParam].size+t.value[t.subParam].unit:t.value.top.size+t.value.top.unit+" "+t.value.right.size+t.value.right.unit+" "+t.value.bottom.size+t.value.bottom.unit+" "+t.value.left.size+t.value.left.unit,t.settings&&t.settings.lessDef&&(u().lessVars[t.settings.lessDef]=e,"undefined"!=typeof less&&h.modifyVars())},capitaliseFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},c.prototype=S.extend(c.prototype,h.tbWidget.prototype),S.fn.paletteEditor=function(e){return this.each(function(){new d(this,e)})},S.fn.paletteEditor.defaults={label:"Palette",subLabel:"",enabled:!1,value:[]},d.prototype={subParam:"all",init:function(){var i=this;i._init(),void 0!==i.value&&i.value instanceof Array!=!1||(i.value=[]);var e=i.settingsDiv=S('<div class="settings"></div>'),t=i.settings.lessDef,n=u().lessVars[t]&&u().lessVars[t].match(/(#([a-zA-Z]|[0-9])*)|(rgb\(([0-9]|,|\.|\s)*\))|(rgba\(([0-9]|,|\.|\s)*\))|[a-zA-Z]+/g)||[];n.length&&(S.each(n,function(e,t){i.value.push(t)}),delete u().lessVars[i.settings.lessDef],h.modifyVars()),i._makeHeader(),i.colorInputsDiv=S('<div class="tb-palette-color">').appendTo(e),i.value.length?(S.each(i.value,function(e,t){i.addColorDiv({index:e,color:t})}),i.$el.find(".tb-section-header input[type=checkbox]").prop("checked",!0),i.settings.enabled=!0,i.updateSettings()):i.addColorDiv(),e.append(i.colorInput);var s=S('<div class="tb-resource-add">add more</div>');s.on("click",function(){i.addColorDiv()}),e.append(s),i._updateDisplay(),i.$el.addClass("tb-background").append(e)},update:function(e,t){var i=e.data("paletteIndex");this.value[i]=t,this.updateSettings()},removeColor:function(e){var i=e.data("paletteIndex");this.value.splice(i,1),S.each(this.colorInputsDiv.children(".tb-palette-color"),function(){var e=S(this),t=e.data("paletteIndex");i<t&&e.data("paletteIndex",t-1)}),this.updateSettings()},updateSettings:function(){for(var e=this.value,t=this.settings,i=t.setProps,n=u().themeSettingsLocal.getAll(),s=n,o=0;o<i.length;o++){var r=i[o];o===i.length-1?t.enabled?s[r]=e:delete s[r]:(void 0===s[r]&&(s[r]={}),s=s[r])}u().themeSettingsLocal.setAll(n),k.events.publish(l)},addColorDiv:function(e){e=e||{};var i=this,n=S('<div class="tb-palette-color">'),t=e.color||"#"+Math.floor(16777215*Math.random()).toString(16),s=e.index;n.data("paletteIndex",void 0===s?this.value.length:s),void 0===s&&this.update(n,t);var o=S('<div class="tb-resource-remove">').append('<div class="sk-icon sk-icon-close">');o.on("click",function(){i.removeColor(n),n.remove()});var r=$(C).edit({color:t});r.on("sk-colorselected",function(e,t){i.update(n,t)}),n.append(o,r),this.colorInputsDiv.append(n)}},d.prototype=S.extend(d.prototype,h.tbWidget.prototype),S.fn.shadowEditor=function(e){return this.each(function(){new g(this,e)})},S.fn.shadowEditor.defaults={label:"Shadow",subLabel:"",enabled:!1,offsetX:0,offsetY:0,blur:4,spread:3,color:"#cccccc"},g.prototype={init:function(){var e=this;if(e._init(),void 0!==e.value){var t=e.value.split(/[,\s]/);e.value={offsetX:parseFloat(t[0])||e.settings.offsetX,offsetY:parseFloat(t[1])||e.settings.offsetY,blur:parseFloat(t[2])||e.settings.blur,spread:parseFloat(t[3])||e.settings.spread,color:t[4]||e.settings.color}}else e.value=e.settings;e._makeHeader(),e.settingsDiv=S('<div class="settings">'),e.offsetXInput=S('<input value="0" sub-param="offsetX"></input>'),e.offsetYInput=S('<input value="0" sub-param="offsetY"></input>');var i=S("<h3>X Offset</h3>"),n=S("<h3>Y Offset</h3>"),s=S("<table>"),o=S("<tr>").append([S("<td>").append(i),S("<td>").append(n)]),r=S("<tr>").append([S("<td>").append(e.offsetXInput),S("<td>").append(e.offsetYInput)]);s.append([o,r]),e.settingsDiv.append(s),e.offsetXInput.spinner({min:-30,max:30,input:S.proxy(e.update,e),stop:S.proxy(e.update,e)}),e.offsetXInput.spinner("value",e.value.offsetX),e.offsetYInput.spinner({min:-30,max:30,input:S.proxy(e.update,e),stop:S.proxy(e.update,e)}),e.offsetYInput.spinner("value",e.value.offsetY);var a=S("<h3>Blur</h3>");e.blurInput=S('<div sub-param="blur">'),e.settingsDiv.append([a,e.blurInput]),e.blurInput.textSlider({min:0,max:30,value:e.value.blur}),e.blurInput.on("stop",S.proxy(e.update,e));var l=S("<h3>Spread</h3>");e.spreadInput=S('<div sub-param="spread">'),e.settingsDiv.append([l,e.spreadInput]),e.spreadInput.textSlider({min:0,max:30,value:e.value.spread}),e.spreadInput.on("stop",S.proxy(e.update,e));var c=S("<h3>color</h3>");e.colorInput=$(C).edit({color:e.value.color}),e.settingsDiv.append(c,e.colorInput),e.colorInput.on("sk-colorselected",S.proxy(e.updateColor,e)),e.$el.append(e.settingsDiv).addClass("tb-shadow"),e._updateDisplay()},update:function(e){var t=S(e.target).attr("sub-param");this.value[t]=e.target.value,this.updateLess()},updateColor:function(e,t){this.value.color=t,this.updateLess()},changeSubParam:function(e){this.subParam=S(e.target).attr("sub-param"),this.offsetXInput.val(this.settings[this.subParam].width),this.styleInput.val(this.settings[this.subParam].style),this.colorInput.find("input").val(this.value[this.subParam].color).trigger("sk-colorselected",[this.value[this.subParam].color]),"border-all"==this.subParam?this.sample.css({"border-top":"","border-right":"","border-bottom":"","border-left":"",border:this.pToString(this.settings["border-all"])}):this.sample.css({border:"","border-top":this.pToString(this.settings["border-top"]),"border-right":this.pToString(this.settings["border-right"]),"border-bottom":this.pToString(this.settings["border-bottom"]),"border-left":this.pToString(this.settings["border-left"])}),this.updateLess()},updateLess:function(){if(!this.settings.enabled)return delete u().lessVars[this.settings.lessDef],void("undefined"!=typeof less&&h.modifyVars());this.settings&&this.settings.lessDef&&(u().lessVars[this.settings.lessDef]=this.pToString(),"undefined"!=typeof less&&h.modifyVars())},updateSample:function(){var e=this.pToString(this.settings[this.subParam]);"border-all"==this.subParam?this.sample.css("border",e):this.sample.css(this.subParam,e)},pToString:function(){return this.value.offsetX+"px "+this.value.offsetY+"px "+this.value.blur+"px "+this.value.spread+"px "+this.value.color},capitaliseFirst:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},g.prototype=S.extend(g.prototype,h.tbWidget.prototype),S.fn.textEditor=function(e){return this.each(function(){new f(this,e)})},S.fn.textEditor.defaults={label:"Text",subLabel:"",attributes:"all",enabled:!1,decoration:"none",color:"black",size:1,unit:"em",family:"null",style:"normal",weight:"normal",transform:"none",lineHeight:{unit:""},sizeLimits:{max:{px:60,em:3,rem:5},min:{px:5,em:.05,rem:.05}}},f.prototype={subParam:"all",init:function(){var e,t,i,n,s=this,o=s.settings,r=o.attributes;s._init();var a=s.value;if(void 0!==a)if(a.color=a.color||o.color,a.transform=a.transform||o.transform,a.style=o.style,a.font){var l=a.font.split(/[,]\s*/);if(l[2]){var c=x.parseCssSize(l[2]);a.size=c.size,a.unit=c.unit}-1<S.inArray("size",r)&&!l[2]&&(a.size=o.size,a.unit=o.unit),a.lineHeight=l[4]?x.parseCssSize(l[4],{defaultUnit:""}):o.lineHeight,a.family=l.splice(3,l.length-3-1).join(",")||o.family,a.weight=l[1]||o.weight,a.style=l[0]||o.style}else a.size=o.size,a.family=o.family,a.weight=o.weight,a.unit=o.unit,a.lineHeight=o.lineHeight;else a=s.value=s.settings;if(s._makeHeader(),s.settingsDiv=S('<div class="settings"></div>'),"all"===r||-1<S.inArray("family",r)){var h=S("<h3>Family</h3>");s.familyInput=S("<select>"),s.refreshFonts(),k.events.subscribe("skuid.themeBuilder.fontsUpdated",S.proxy(s.refreshFonts,s)),s.settingsDiv.append([h,s.familyInput]),s.familyInput.on("change",S.proxy(s.updateTypeface,s))}if("all"===r||-1<S.inArray("weight",r)){var u=S("<h3>Weight</h3>"),d=S('<select><optgroup label="Standard"><option>inherit</option><option>normal</option><option>bold</option></optgroup><optgroup label="Advanced"><option>100</option><option>200</option><option>300</option><option>400</option><option>500</option><option>600</option><option>700</option><option>800</option><option>900</option></optgroup></select>').on("change",S.proxy(s.updateWeight,s));s.settingsDiv.append([u,d]);var g="null"==a.weight,f="normal"==a.weight||"400"==a.weight,p="bold"==a.weight||"700"==a.weight,m="lighter"==a.weight||"300"==a.weight;g?d.val("none"):f?d.val("normal"):p?d.val("bold"):m?d.val("light"):d.val(a.weight)}if("all"===r||-1<r.indexOf("style")){var b=S('<h3 class="tb-field-checkbox" >Italicized</h3>');s.italicizedInput=S('<input type="checkbox">'),"null"!=a.style&&"normal"!=a.style&&s.italicizedInput.prop("checked",!0),b.append(s.italicizedInput),s.settingsDiv.append([b]),s.italicizedInput.on("change",S.proxy(s.updateStyle,s))}if(("all"===r||-1<r.indexOf("transform"))&&(s.transformInput=S("<select>").append("<option>none</option>","<option>uppercase</option>","<option>lowercase</option>").on("change",S.proxy(s.updateTransform,s)).val(a.transform),s.settingsDiv.append(S("<h3>Text Transform</h3>"),s.transformInput)),("all"==r||-1<r.indexOf("decoration"))&&(s.decorationInput=S("<select>").append("<option>none</option>","<option>underline</option>","<option>strikethrough</option>").on("change",S.proxy(s.updateDecoration,s)).val(a.decoration),s.settingsDiv.append(S("<h3>Decoration</h3>"),s.decorationInput)),("all"==r||-1<r.indexOf("size"))&&(i=S("<h3>Size</h3>"),e=o.sizeLimits.min[a.unit],t=o.sizeLimits.max[a.unit],s.sizeInput=S("<div>"),s.settingsDiv.append([i,s.sizeInput]),n=(t-e)/200,s.sizeInput.textSlider({useUnits:!0,min:e,max:t,step:n,value:a.size,unit:a.unit}).on("stop",S.proxy(s.updateSize,s)).on("unitchange",S.proxy(s.updateSize,s)).textSlider("value",a.size)),("all"==r||-1<r.indexOf("color"))&&(s.colorInput=$(C).edit({color:a.color}).on("sk-colorselected",S.proxy(s.updateColor,s)),s.settingsDiv.append(S("<h3>Text Color</h3>"),s.colorInput)),"all"===r||-1<r.indexOf("lineHeight")){var v=S("<div>"),w=a.lineHeight?a.lineHeight.size:void 0,y=a.lineHeight?a.lineHeight.unit:"";e=o.sizeLimits.min[a.unit],t=o.sizeLimits.max[a.unit],s.settingsDiv.append("<h3>Line Height</h3>",v),v.textSlider({useUnits:!0,min:e,max:t,step:(t-e)/200,value:w,unit:y,unitTypes:["","rem","px","em"],minSizes:{px:5,em:.5,rem:.5,"":.5},maxSizes:{px:60,em:3,rem:4,"":3}}).on("stop unitchange",S.proxy(s.updateLineHeight,s))}s.$el.addClass("tb-text").append(s.settingsDiv),s._updateDisplay()},updateSize:function(e,t){this.value.size=isNaN(t.size)?"null":t.size,this.value.unit=t.unit,this.updateLess()},updateLineHeight:function(e,t){t.size=isNaN(t.size)?"null":t.size,this.value.lineHeight=t,this.updateLess()},updateTypeface:function(e){this.value.family=e.target.value,"default"==e.target.value&&(this.value.family="null"),this.updateLess()},updateWeight:function(e){switch(e.target.value){case"bold":this.value.weight="700";break;case"light":this.value.weight="300";break;case"normal":this.value.weight="400";break;default:this.value.weight=e.target.value}this.updateLess()},updateStyle:function(){this.value.style="normal",this.italicizedInput.prop("checked")&&(this.value.style="italic"),this.updateLess()},updateDecoration:function(e){this.value.decoration=e.target.value,this.updateLess()},updateColor:function(e,t){this.value.color=t,this.updateLess()},updateTransform:function(e){this.value.transform=e.target.value,this.updateLess()},updateLess:function(){var e=this,t=e.settings,i=t.lessDef,n=u().lessVars;if(!t.enabled)return delete n[i.color],delete n[i.font],delete n[i.size],delete n[i.decoration],delete n[t.family.decoration],void("undefined"!=typeof less&&h.modifyVars());if(t&&i){if(i.font&&(n[i.font]=e.pToStringFont()),i.color&&(n[i.color]=e.value.color),i.size&&(n[i.size]=e.value.size+e.value.unit),i.decoration&&e.value.decoration){switch(e.value.decoration){case"strikethrough":e.value.decoration="line-through"}n[i.decoration]=e.value.decoration}i.family&&e.value.family&&"null"!=e.value.family&&(n[i.family]=e.value.family),i.transform&&e.value.transform&&"null"!=e.value.transform&&(n[i.transform]=e.value.transform),"undefined"!=typeof less&&h.modifyVars()}},pToStringFont:function(){var e=this.value.size,t=this.value.lineHeight.size;return null!==this.value.size&&"null"!==this.value.size&&(e+=this.value.unit),null!==this.value.lineHeight&&"null"!==this.value.lineHeight&&(t+=this.value.lineHeight.unit),this.value.style+", "+this.value.weight+", "+e+", "+this.value.family+", "+t},refreshFonts:function(){if(this.familyInput){this.familyInput.empty();var e,t,i=S('<optgroup label="Basic Fonts">').appendTo(this.familyInput);for(e=0;e<h.basicFonts.length;e++)t=S("<option>"+h.basicFonts[e]+"</option>"),this.testFamilies(h.basicFonts[e],this.value.family)&&t.prop("selected",!0),i.append(t);var n=S('<optgroup label="Web Fonts">').appendTo(this.familyInput),s=[];for(u().webFonts.google&&(s=s.concat(x.clone(u().webFonts.google))),u().webFonts.typekitFonts&&(s=s.concat(x.clone(u().webFonts.typekitFonts))),u().webFonts.custom&&u().webFonts.custom.length&&(s=s.concat(x.clone(u().webFonts.custom))),e=0;e<s.length;e++)s[e]&&(t=S("<option>"+s[e].name+"</option>"),this.testFamilies(s[e].name,this.value.family)&&t.prop("selected",!0),n.append(t))}},testFamilies:function(e,t){return(e=e.toLowerCase().split(/[, "]/).join(""))==(t=t.toLowerCase().split(/[, "]/).join(""))}},f.prototype=S.extend(f.prototype,h.tbWidget.prototype),S.fn.textSlider=function(i){var n=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=S(this),t=e.data("textslider");t?"string"==typeof i&&t[i].apply(t,n):e.data("textslider",new p(this,i))})},S.fn.textSlider.defaults={useUnits:!0,unit:"rem",unitTypes:["rem","em","px"],minSizes:{px:5,em:.01,rem:.01},maxSizes:{px:60,em:3,rem:5}},p.prototype={init:function(){var e=this,t=e.settings;e.textInput=S("<input>"),e.textInput.on("change",S.proxy(e.textChange,e)),e.settings.value&&e.textInput.val(e.settings.value),e.settings.useUnits&&(t.min=t.minSizes[t.unit],t.max=t.maxSizes[t.unit],e.unit=t.unit),t.stepSize||(t.stepSize=e.calcStepSize()),e.sliderInput=S("<div>").slider(t).on("slide",S.proxy(e.slide,e)).on("slidestop",S.proxy(e.stop,e));var i=[S("<td>").append(e.textInput),S("<td>").append(e.sliderInput)],n=S('<table class="tb-tbslider">');if(t.useUnits){e.sizeSaver={em:1,px:18,rem:1},e.sizeSaver[t.unit]=t.value,e.unitPicker=S("<select>");for(var s=0;s<t.unitTypes.length;s++)e.unitPicker.append("<option>"+t.unitTypes[s]+"</option>");e.unitPicker.val(t.unit);var o=S('<td style="width: 50px">');o.append(e.unitPicker),i.splice(1,0,o),e.unitPicker.on("change",S.proxy(e.updateSizingUnit,e))}n.append(S("<tr>").append(i)),e.$el.append(n)},slide:function(e,t){var i=parseFloat(t.value);this.textInput.val(Math.round(1e4*i)/1e4),this.el.value=parseFloat(i),this.$el.trigger("change")},stop:function(){this.$el.trigger("stop",{size:this.textInput.val(),unit:this.unit})},textChange:function(e){this.sliderInput.slider("value",parseFloat(e.target.value)),this.el.value=parseFloat(e.target.value),this.$el.trigger("stop",{size:this.el.value,unit:this.unit})},value:function(e){void 0!==e&&(isNaN(e)&&(e=this.settings.min),this.sliderInput.slider("value",parseFloat(e)),this.textInput.val(parseFloat(e)))},unitValue:function(e){void 0!==e&&(this.unitPicker.val(e),this.unit=e,this.sliderInput.slider("option",{min:this.settings.minSizes[this.unit],max:this.settings.maxSizes[this.unit],step:this.calcStepSize()}))},updateSizingUnit:function(e){var t=this;t.sizeSaver[t.unit]=t.textInput.val(),t.unit=e.target.value,t.sliderInput.slider("option",{min:t.settings.minSizes[t.unit],max:t.settings.maxSizes[t.unit],step:t.calcStepSize(),value:t.sizeSaver[t.unit]}),t.textInput.val(t.sizeSaver[t.unit]),t.$el.trigger("unitchange",{size:t.textInput.val(),unit:t.unit})},calcStepSize:function(){var e=this.settings.minSizes[this.unit],t=this.settings.maxSizes[this.unit];return 20<t-e?1:(t-e)/400}},S.fn.typekit=function(e){return this.each(function(){new m(this,e)})},S.fn.typekit.defaults={label:"Typekit",subLabel:""},m.prototype={init:function(){var e=this;e.$el.addClass("tb-widget tb-font"),e.fontIdCounter=0;var t=S('<div class="tb-section-header">');function i(){e.head=e.head||h.iframe.skuid.$("head"),e.head.append(n),setTimeout(S.proxy(e.loadTypekit,e),16)}if(t.append("<h2>"+e.settings.label+"</h2>"),e.$el.append(t),e.$el.append('<div style="clear:both">'),e.inputEl=S("<input>"),e.$el.append('<div class="tb-font-label">Kit ID</div>'),e.$el.append(e.inputEl).append('<div style="clear:both">'),e.inputEl.on("input",S.proxy(this.update,this)),u().webFonts.typekit){e.inputEl.val(u().webFonts.typekit);var n=S("<script>");if(n.addClass("tb-font-script"),n.attr("src","//use.typekit.net/"+u().webFonts.typekit+".js"),h.iframe)i();else var s=k.events.subscribe("skuid.themeBuilder.iframeLoaded",function(){k.events.unsubscribe(s),i()})}e.fontContainer=S("<div>"),e.$el.append(e.fontContainer)},update:function(){if(h.iframe){var e=this;e.head||(e.head=h.iframe.skuid.$("head"));var t=this.inputEl.val();u().webFonts.typekit=t,e.head.find(".tb-font-script").remove(),window.Typekit=void 0,e.fontContainer.html("<br>"),u().webFonts.typekitFonts=[];var i=S("<script>");i.addClass("tb-font-script"),i.attr("src","//use.typekit.net/"+u().webFonts.typekit+".js"),e.head.append(i),setTimeout(S.proxy(e.loadTypekit,e),16)}},loadTypekit:function(){var e=window.Typekit=h.iframe.Typekit;if(void 0!==e){this.fontContainer.html("<br>"),u().webFonts.typekitFonts=[];for(var t=0;t<e.config.fn.length;t+=2){var i={name:e.config.fn[t]};u().webFonts.typekitFonts.push(i),this.addFontDiv(i)}e.load(),k.events.publish("skuid.themeBuilder.fontsUpdated",[])}else setTimeout(S.proxy(this.loadTypekit,this),16)},addFontDiv:function(e){var t=S('<div id="tb-font-'+this.fontIdCounter+'" class="tb-font">').append('<div class="tb-font-label">Font Name</div>').append('<input class="tb-font-name" disabled>').append('<div style="clear:both">').append("<br>").find(".tb-font-name").val(e.name);this.fontIdCounter++,this.fontContainer.append(t)}},S.fn.webFontPicker=function(e){return this.each(function(){new b(this,e)})},S.fn.webFontPicker.defaults={label:"Google Fonts",subLabel:""},b.prototype={init:function(){this.$el.addClass("tb-widget tb-webfont"),this.fontIdCounter=0;var e=this,t=S('<div class="tb-section-header">').append("<h2>"+this.settings.label+"</h2>");if(this.$el.append(t,'<div style="clear:both">'),this.fontContainer=S('<div class="tb-resource-container">').append(this.fontDivs),this.$el.append(this.fontContainer),this.fontArray=this.settings.custom?u().webFonts.custom:u().webFonts.google,this.fontArray)for(var i=0;i<this.fontArray.length;i++)this.addFontDiv(this.fontArray[i]);this.addFontDiv(),this.updateData(),this.$el.append(S('<div class="tb-resource-addcontainer">').append(S('<div class="tb-resource-add">add more</div>').on("click",function(){e.addFontDiv()})))},update:function(e){var t=S(e.target).attr("sub-param");this.value[t]=e.target.value,this.updateLess()},addFontDiv:function(e){e||(e={name:""});var t=this.settings.custom?"custom":"google",i=this,n=S('<div id="tb-resource-'+t+this.fontIdCounter+'" class="tb-resource-item">'),s=S('<div class="tb-resource-remove"><div class="sk-icon sk-icon-close"></div></div>').data("fontId",this.fontIdCounter).on("click",function(){n.remove(),h.setConfirmExitEnabled(!0),i.updateData()});n.data("fontId",this.fontIdCounter),n.append(s,S('<div style="clear:both">'),S('<div class="tb-resource-label">Font Name</div>'));var o=S('<input class="tb-resource-name">').val(e.name);this.settings.custom||o.prop("disabled",!0),n.append(o,'<div style="clear:both">'),this.settings.custom||n.append('<div class="tb-resource-label">Snippet</div>').append('<input class="tb-resource-url">'),e.url&&(this.settings.custom?n.find(".tb-resource-url").val(e.url):n.find(".tb-resource-url").val("<link href='"+e.url+"' rel='stylesheet' type='text/css'>")),n.find("input").on("input",S.proxy(this.updateData,this)).on("input",function(){h.setConfirmExitEnabled(!0)}),this.fontIdCounter++,this.fontContainer.append(n),h.setConfirmExitEnabled(!0)},updateData:function(){if(h.iframe&&h.iframe.skuid&&h.iframe.skuid.$){var a=h.iframe.skuid.$("head"),l="tb-resource-link-"+(this.settings.custom?"custom":"google");a.find("."+l).remove(),this.settings.custom?u().webFonts.custom=[]:u().webFonts.google=[],this.fontArray=(this.settings.custom?u().webFonts.custom:u().webFonts.google)||[];var c=this;this.$el.find(".tb-resource-item").each(function(e,t){var i,n=S(t),s=n.find(".tb-resource-name").val(),o=n.find(".tb-resource-url").val();try{i=S(o)}catch(e){}if(i&&"LINK"==i.prop("tagName")&&-1<o.indexOf("fonts.googleapis.com")){-1==(o=i.attr("href")).indexOf("https")&&(o=o.replace("http","https"));var r=(0,w.getUrlParameter)(o,"family");""===S.trim(s)&&(r=(r=r.split("+").join(" ")).split(":")[0],n.find(".tb-resource-name").val(r),s="'"+r+"'")}""!==S.trim(s)&&(!c.settings.custom&&-1<o.indexOf("fonts.googleapis.com")?c.fontArray.push({name:s,url:o}):c.settings.custom&&c.fontArray.push({name:s,url:o}),o&&a.append('<link class="'+l+'" rel="stylesheet" href="'+o+'">'))}),k.events.publish("skuid.themeBuilder.fontsUpdated",[])}else k.events.subscribe("skuid.themeBuilder.iframeLoaded",S.proxy(this.updateData,this))}}}(skuid)},315:function(e,t,i){"use strict";var n,s,o,r;n=skuid.themeBuilder.widgetConfigurations={},s=[{label:"Charts",widgets:[{type:"palette",setProps:["visualizations","chart","colorPalette"],lessDef:"sk-chart-palette"},{type:"background",setProps:["visualizations","chart","background"],lessDef:"sk-chart-background"},{type:"background",subLabel:"Back Button",lessDef:"sk-chart-back-background"},{type:"text",label:"Back Button Text Color",attributes:["color"],lessDef:{color:"sk-chart-back-color"}},{type:"text",label:"Axis Title Color",attributes:["color"],lessDef:{color:"sk-chart-axis-title-color"}},{type:"text",label:"Axis Label Color",attributes:["color"],lessDef:{color:"sk-chart-axis-label-color"}},{type:"text",label:"Title Color",attributes:["color"],lessDef:{color:"sk-chart-title-color"}},{type:"text",label:"Subtitle Color",attributes:["color"],lessDef:{color:"sk-chart-subtitle-color"}},{type:"text",label:"Legend Color",attributes:["color"],lessDef:{color:"sk-chart-legend-color"}},{type:"text",label:"Legend Color",subLabel:"Hover",attributes:["color"],lessDef:{color:"sk-chart-legend-hover-color"}},{type:"text",label:"Data Label Color",attributes:["color"],lessDef:{color:"sk-chart-data-label-color"}}]},{label:"GeoCharts",setProps:["visualizations","geochart"],widgets:[{type:"palette",setProps:["visualizations","geochart","colorPalette"],lessDef:"sk-geochart-palette"},{type:"background",setProps:["visualizations","geochart","background"],lessDef:"sk-geochart-background"},{type:"background",label:"Hover Color",setProps:["visualizations","geochart","hoverColor"],lessDef:"sk-geochart-hover-color"},{type:"background",label:"Null Color",setProps:["visualizations","geochart","nullColor"],lessDef:"sk-geochart-null-color"},{type:"background",subLabel:"Back Button",lessDef:"sk-geochart-back-background"},{type:"text",label:"Back Button Text Color",attributes:["color"],lessDef:{color:"sk-geochart-back-color"}},{type:"border",label:"Region Borders",attributes:["overall"],setProps:["visualizations","geochart","regions"],styleOptions:["Solid","ShortDash","ShortDot","ShortDashDot","ShortDashDotDot","Dot","Dash","LongDash","DashDot","LongDashDot","LongDashDotDot"],lessDef:"sk-geochart-region-border"},{type:"text",label:"Title Color",attributes:["color"],lessDef:{color:"sk-geochart-title-color"}},{type:"text",label:"Subtitle Color",attributes:["color"],lessDef:{color:"sk-geochart-subtitle-color"}},{type:"text",label:"Legend Color",attributes:["color"],lessDef:{color:"sk-geochart-legend-color"}},{type:"text",label:"Legend Color",subLabel:"Hover",attributes:["color"],lessDef:{color:"sk-geochart-legend-hover-color"}},{type:"text",label:"Data Label Color",attributes:["color"],lessDef:{color:"sk-geochart-data-label-color"}}]}],o=[{label:"CSS",widgets:[{type:"inlineCss"},{type:"css"}]}],r=[{label:"Web Fonts",hint:"Not supported when run from custom Lightning apps or components.",widgets:[{type:"webfont"},{type:"webfont",custom:!0},{type:"typekit"}]}],n.mobile=function(){return[{label:"Global",sections:[{label:"Global",widgets:[{label:"Header Color",type:"text",lessDef:{color:"sk-color-primary-main"},attributes:["color"]},{label:"Primary Darken Color",type:"text",hint:"Changes the color of the slide on the toggle, among other things",lessDef:{color:"sk-color-primary-main-darken"},attributes:["color"]},{label:"Background Color (Main Panel)",type:"background",lessDef:"sk-page-background"},{type:"text",lessDef:{font:"sk-page-font",family:"sk-font-family",color:"sk-page-color"},attributes:["size","family","color"]}]},{label:"Left Panel",widgets:[{label:"Background Color",type:"background",lessDef:"sk-panel-left-background"},{label:"Right Border",type:"border",attributes:["overall"],lessDef:"sk-panel-left-border-right"}]}]},{label:"Header",sections:[{label:"Header ",widgets:[{type:"shadow",lessDef:"sk-header-box-shadow"}]},{label:"Header Title",widgets:[{type:"text",attributes:["color","size","family","style"],lessDef:{font:"sk-header-title-font",color:"sk-header-title-color"}}]},{label:"Header Nav Buttons",widgets:[{type:"background",lessDef:"sk-button-header-background"},{type:"text",lessDef:{color:"sk-button-header-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-header-box-shadow"},{type:"border",lessDef:"sk-button-header-border"},{type:"corner-radius",lessDef:"sk-button-header-border-radius"},{type:"margin",lessDef:"sk-button-header-margin"},{type:"padding",lessDef:"sk-button-header-padding"}]},{label:"Header Nav Buttons (Pressed)",widgets:[{type:"background",lessDef:"sk-button-header-active-background"},{type:"text",lessDef:{color:"sk-button-header-active-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-header-active-box-shadow"},{type:"border",lessDef:"sk-button-header-active-border"}]}]},{label:"Title",sections:[{label:"Title",widgets:[{type:"text",attributes:["color","size","family","weight","style"],lessDef:{color:"sk-panel-title-color",font:"sk-panel-title-font"}},{type:"padding",lessDef:"sk-panel-title-padding"},{type:"background",lessDef:"sk-panel-title-background"},{type:"border",label:"Bottom Border",attributes:["overall"],lessDef:"sk-panel-title-border-bottom"}]},{label:"Sub-Title",widgets:[{type:"text",lessDef:{color:"sk-pagetitle-subtitle-color",font:"sk-pagetitle-subtitle-font",decoration:"sk-pagetitle-subtitle-decoration",transform:"sk-pagetitle-subtitle-text-transform"}},{type:"padding",lessDef:"sk-pagetitle-subtitle-padding"}]},{label:"Main & Sub-Title",widgets:[{hint:'Sets the margins for the "Page Title" component as a whole',type:"margin",lessDef:"sk-pagetitle-margin"}]}]},{label:"Buttons",sections:[{label:"Nav Buttons",widgets:[{type:"background",lessDef:"sk-button-background"},{type:"text",lessDef:{color:"sk-button-color",transform:"sk-button-text-transform"},attributes:["color","transform"]},{type:"shadow",lessDef:"sk-button-box-shadow"},{type:"border",lessDef:"sk-button-border"},{type:"corner-radius",lessDef:"sk-button-border-radius"},{type:"margin",lessDef:"sk-button-margin"},{type:"padding",lessDef:"sk-button-padding"}]},{label:"Nav Buttons (Pressed)",widgets:[{type:"background",lessDef:"sk-button-active-background"},{type:"text",lessDef:{color:"sk-button-active-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-active-box-shadow"},{type:"border",lessDef:"sk-button-active-border"}]},{label:"List Buttons",widgets:[{type:"background",lessDef:"sk-button-liststyle-background"},{type:"text",lessDef:{color:"sk-button-liststyle-color",transform:"sk-button-liststyle-text-transform"},attributes:["color","transform"]},{type:"border",lessDef:"sk-button-liststyle-border"},{type:"padding",lessDef:"sk-button-liststyle-padding"}]},{label:"List Buttons (Pressed)",widgets:[{type:"background",lessDef:"sk-button-liststyle-active-background"},{type:"text",lessDef:{color:"sk-button-liststyle-active-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-liststyle-active-box-shadow"},{type:"border",lessDef:"sk-button-liststyle-active-border"}]}]},{label:"Deck",sections:[{label:"Deck",widgets:[{type:"background",subLabel:"Header",lessDef:"sk-deck-header-background"},{type:"background",subLabel:"Body",lessDef:"sk-deck-background"}]},{label:"Deck Title",widgets:[{type:"text",attributes:["size","style","family","color","weight"],lessDef:{font:"sk-deck-title-font",color:"sk-deck-title-color"}},{type:"padding",lessDef:"sk-deck-title-padding"}]},{label:"Deck Title Buttons",widgets:[{type:"text",label:"Text Color (Enabled)",attributes:["color"],lessDef:{color:"sk-deck-titlebutton-color"}},{type:"text",label:"Text Color (Disabled)",attributes:["color"],lessDef:{color:"sk-deck-titlebutton-disabled-color"}},{type:"border",label:"Border",lessDef:"sk-deck-titlebutton-border"},{type:"corner-radius",lessDef:"sk-deck-titlebutton-border-radius"},{type:"background",lessDef:"sk-deck-titlebutton-background"},{type:"padding",lessDef:"sk-deck-titlebutton-padding"},{type:"margin",lessDef:"sk-deck-titlebutton-margin"}]},{label:"Save Button",widgets:[{type:"border",label:"Border",lessDef:"sk-deck-savebutton-border"},{type:"background",label:"Text Color (Enabled)",lessDef:"sk-deck-savebutton-active-color"},{type:"background",label:"Background (Enabled)",lessDef:"sk-deck-savebutton-active-background"}]},{label:"Cancel Button",widgets:[{type:"border",label:"Border",lessDef:"sk-deck-cancelbutton-border"},{type:"background",label:"Text Color (Enabled)",lessDef:"sk-deck-cancelbutton-active-color"},{type:"background",label:"Background (Enabled)",lessDef:"sk-deck-cancelbutton-active-background"}]},{label:"Card Title Buttons",widgets:[{type:"background",label:"Text Color",lessDef:"sk-deck-card-titlebutton-color"},{type:"padding",lessDef:"sk-deck-card-titlebutton-padding"}]},{label:"Card",widgets:[{type:"background",lessDef:"sk-deck-card-background"},{type:"shadow",lessDef:"sk-deck-card-box-shadow"},{type:"border",label:"Header Border",lessDef:"sk-deck-card-header-border"},{type:"text",label:"Header Color",attributes:["color"],lessDef:{color:"sk-deck-card-header-color"}}]}]},{label:"Popup",sections:[{label:"Popup",widgets:[{type:"background",lessDef:"sk-popupcontent-background"},{type:"shadow",lessDef:"sk-popupcontent-box-shadow"},{type:"corner-radius",lessDef:"sk-popupcontent-border-radius"},{type:"background",label:"Overlay Color",lessDef:"sk-popupmodal-background"}]},{label:"Popup Header",widgets:[{type:"text",attributes:["style","size","family","color"],lessDef:{font:"sk-popupcontent-title-font",color:"sk-popupcontent-title-color"}},{type:"background",lessDef:"sk-popupcontent-header-background"},{type:"border",lessDef:"sk-popupcontent-header-border"},{type:"padding",lessDef:"sk-popupcontent-title-padding"}]}]},{label:"Fields",sections:[{label:"Field",widgets:[{type:"margin",lessDef:"sk-field-margin"},{type:"border",label:"Required Field Border",lessDef:"sk-field-input-required-border"}]},{label:"Label Text",widgets:[{type:"text",attributes:["style","weight","size","color","transform"],lessDef:{color:"sk-field-label-color",font:"sk-field-label-font",transform:"sk-field-label-text-transform"}},{type:"padding",lessDef:"sk-field-text-padding"}]},{label:"Field Text (Read Mode)",widgets:[{type:"text",attributes:["style","weight","size","color"],lessDef:{color:"sk-field-text-color",font:"sk-field-text-font",size:"sk-field-text-font-size"}},{type:"background",lessDef:"sk-field-text-background"},{type:"padding",lessDef:"sk-field-text-padding"}]},{label:"Field Input",widgets:[{type:"text",attributes:["style","weight","color"],lessDef:{color:"sk-field-input-color",font:"sk-field-input-font"}},{type:"padding",lessDef:"sk-field-input-padding"},{type:"border",lessDef:"sk-field-input-border"},{type:"background",lessDef:"sk-field-input-background"},{type:"corner-radius",lessDef:"sk-field-input-border-radius"}]},{label:"Checkboxes",widgets:[{type:"background",label:"Circle Color",subLabel:"Checked",lessDef:"sk-field-checkbox-color-background"},{type:"background",label:"Background Color",subLabel:"Checked",lessDef:"sk-field-checkbox-color-circle"},{type:"background",label:"Circle Color",subLabel:"Unchecked",lessDef:"sk-field-checkbox-unchecked-color-circle"},{type:"background",label:"Background Color",subLabel:"Unchecked",lessDef:"sk-field-checkbox-unchecked-color-background"}]},{label:"Autocomplete Dropdown",widgets:[{type:"background",lessDef:"sk-autocomplete-background"},{type:"border",lessDef:"sk-autocomplete-border"},{type:"text",lessDef:{color:"sk-autocomplete-item-color"},attributes:["color"]},{type:"border",subLabel:"Item",lessDef:"sk-autocomplete-item-border"},{type:"corner-radius",lessDef:"sk-autocomplete-border-radius"}]},{label:"Date Picker",widgets:[{type:"background",subLabel:"Header",lessDef:"sk-ui-datepicker-header-background"},{type:"text",label:"Text Color",subLabel:"Header",attributes:["color"],lessDef:{color:"sk-ui-datepicker-header-color"}},{type:"text",label:"Text Color",subLabel:"Day of Week",attributes:["color"],lessDef:{color:"sk-ui-datepicker-dow-color"}},{type:"background",lessDef:"sk-ui-datepicker-background"},{type:"border",lessDef:"sk-ui-datepicker-border",attributes:["overall"]},{type:"corner-radius",lessDef:"sk-ui-datepicker-border-radius"},{type:"padding",lessDef:"sk-ui-datepicker-padding",attributes:["overall"]},{type:"shadow",lessDef:"sk-ui-datepicker-shadow"}]},{label:"Date Picker (Day)",widgets:[{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-color"}},{type:"background",lessDef:"sk-ui-datepicker-day-background"},{type:"border",attributes:["overall"],lessDef:"sk-ui-datepicker-day-border"},{type:"corner-radius",lessDef:"sk-ui-datepicker-day-border-radius"},{type:"text",label:"Text Color",subLabel:"Hover",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-hover-color"}},{type:"background",subLabel:"Hover",lessDef:"sk-ui-datepicker-day-hover-background"},{type:"border",subLabel:"Hover",attributes:["overall"],lessDef:"sk-ui-datepicker-day-hover-border"},{type:"text",label:"Text Color",subLabel:"Selected",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-active-color"}},{type:"background",subLabel:"Selected",lessDef:"sk-ui-datepicker-day-active-background"},{type:"border",subLabel:"Selected",attributes:["overall"],lessDef:"sk-ui-datepicker-day-active-border"}]}]},{label:"WebFonts",sections:r},{label:"CSS",sections:o},{label:"Charts",sections:s}]},n.desktop=function(){return[{label:"WebFonts",sections:r},{label:"CSS",sections:o},{label:"Global",sections:[{label:"Page",hint:"Settings that affect the entire Skuid page",widgets:[{label:"Primary Color",hint:"Changes the main color for tabs, table headers, and a variety of other small items",type:"text",lessDef:{color:"sk-color-primary-main"},attributes:["color"]},{type:"text",lessDef:{font:"sk-page-font",family:"sk-font-family",color:"sk-page-color"},attributes:["size","family","color","lineHeight"]},{label:"Page Background",type:"background",lessDef:"sk-page-background"}]},{label:"Links",widgets:[{type:"text",label:"Link",lessDef:{color:"sk-page-link-color",decoration:"sk-page-link-decoration"},attributes:["color","decoration"]},{label:"Link Background",type:"background",lessDef:"sk-page-link-background"},{type:"text",label:"Link",subLabel:"Hover",lessDef:{color:"sk-page-link-hover-color",decoration:"sk-page-link-hover-decoration"},attributes:["color","decoration"]},{label:"Link Background",subLabel:"Hover",type:"background",lessDef:"sk-page-link-hover-background"}]},{label:"Header",widgets:[{type:"background",lessDef:"sk-header-background"}]}]},{label:"PageTitle",sections:[{label:"Main Title",widgets:[{type:"text",lessDef:{color:"sk-pagetitle-maintitle-color",font:"sk-pagetitle-maintitle-font",decoration:"sk-pagetitle-maintitle-decoration",transform:"sk-pagetitle-maintitle-text-transform"}},{type:"padding",lessDef:"sk-pagetitle-maintitle-padding"}]},{label:"Sub-Title",widgets:[{type:"text",lessDef:{color:"sk-pagetitle-subtitle-color",font:"sk-pagetitle-subtitle-font",decoration:"sk-pagetitle-subtitle-decoration",transform:"sk-pagetitle-subtitle-text-transform"}},{type:"padding",lessDef:"sk-pagetitle-subtitle-padding"}]},{label:"Main & Sub-Title",widgets:[{hint:'Sets the margins for the "Page Title" component as a whole',type:"margin",lessDef:"sk-pagetitle-margin"}]}]},{label:"Table",sections:[{label:"Table",widgets:[{type:"border",lessDef:"sk-table-data-border"},{type:"margin",lessDef:"sk-table-data-margin"},{type:"padding",lessDef:"sk-table-data-padding"},{type:"corner-radius",lessDef:"sk-table-border-radius"}]},{label:"Table Header",widgets:[{type:"text",lessDef:{color:"sk-table-header-color",font:"sk-table-header-font",transform:"sk-table-header-text-transform",decoration:"sk-table-header-decoration"}},{type:"background",lessDef:"sk-table-header-background"},{type:"border",subLabel:"Top",attributes:["overall"],lessDef:"sk-table-header-top-border"},{type:"border",subLabel:"Bottom",attributes:["overall"],lessDef:"sk-table-header-bottom-border"},{type:"border",subLabel:"Column",attributes:["overall"],lessDef:"sk-table-header-column-border"}]},{label:"Table Body",widgets:[{type:"background",subLabel:"Odd Rows",lessDef:"sk-table-cell-background"},{type:"background",subLabel:"Even Rows",lessDef:"sk-table-cell-alternating-background"},{type:"background",subLabel:"Hovered Rows",lessDef:"sk-table-cell-hover-background"},{type:"padding",subLabel:"Cell Data",lessDef:"sk-table-data-fieldtext-padding"},{type:"padding",subLabel:"Text Input",lessDef:"sk-table-data-field-padding"},{type:"margin",subLabel:"Cell Checkbox",lessDef:"sk-table-row-select-margin"},{type:"text",attributes:["family","color","size"],lessDef:{color:"sk-table-color",font:"sk-table-font"}},{type:"text",subLabel:"Hovered Rows",attributes:["color"],lessDef:{color:"sk-table-row-hover-color"}},{type:"border",subLabel:"Column",attributes:["overall"],lessDef:"sk-table-column-border"},{type:"border",subLabel:"Row",attributes:["overall"],lessDef:"sk-table-row-border"}]},{label:"Table Summaries",widgets:[{type:"text",attributes:["color","size","transform"],lessDef:{color:"sk-table-foot-color",size:"sk-table-foot-text-size",transform:"sk-table-foot-text-transform"}},{type:"text",subLabel:"Label",attributes:["color"],lessDef:{color:"sk-table-foot-type-color"}},{type:"border",subLabel:"Top",attributes:["overall"],lessDef:"sk-table-foot-border-top"},{type:"background",lessDef:"sk-table-foot-background"}]},{label:"Table Footer",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-table-footer-color"}}]},{label:"Search Box",widgets:[{type:"background",lessDef:"sk-editor-searchbox-background"},{type:"text",subLabel:"Placeholder",attributes:["color"],lessDef:{color:"sk-editor-searchbox-unchanged-color"}},{type:"text",attributes:["color"],lessDef:{color:"sk-editor-searchbox-color"}},{type:"border",lessDef:"sk-editor-searchbox-border"},{type:"corner-radius",lessDef:"sk-editor-searchbox-border-radius"},{type:"padding",lessDef:"sk-editor-searchbox-padding"}]},{label:"Statuses",widgets:[{type:"background",lessDef:"sk-message-status-background"},{type:"text",attributes:["family","style","color","size"],lessDef:{color:"sk-message-status-color",font:"sk-message-status-font"}},{type:"corner-radius",lessDef:"sk-message-status-border-radius"},{label:"Border-Bottom",type:"border",attributes:["overall"],lessDef:"sk-message-status-border-bottom"},{type:"margin",lessDef:"sk-message-status-margin"},{type:"padding",lessDef:"sk-message-status-text-padding"},{type:"shadow",lessDef:"sk-message-status-box-shadow"}]},{label:"Errors",widgets:[{type:"background",lessDef:"sk-message-error-background"},{type:"text",attributes:["family","weight","color","size"],lessDef:{color:"sk-message-error-color",font:"sk-message-error-font"}},{type:"corner-radius",lessDef:"sk-message-error-border-radius"},{type:"padding",lessDef:"sk-message-error-padding"},{type:"margin",lessDef:"sk-message-error-margin"}]},{label:"Errors (Inline)",widgets:[{type:"background",lessDef:"sk-message-error-inline-background"},{type:"text",attributes:["family","style","color","size"],lessDef:{color:"sk-message-error-inline-color",font:"sk-message-error-inline-font"}},{type:"corner-radius",lessDef:"sk-message-error-inline-border-radius"},{type:"padding",lessDef:"sk-message-error-inline-padding"}]},{label:"Drawers",widgets:[{type:"background",lessDef:"sk-table-drawer-background"},{type:"border",subLabel:"Top",attributes:["overall"],lessDef:"sk-table-drawer-border-top"},{type:"text",label:"Handle Color",lessDef:{color:"sk-table-drawer-handle-color"},attributes:["color"]}]}]},{label:"Buttons",sections:[{label:"Buttons (All)",widgets:[{type:"text",lessDef:{font:"sk-button-font",transform:"sk-button-text-transform"},attributes:["size","style","transform","lineHeight"]},{type:"corner-radius",lessDef:"sk-button-border-radius"},{type:"margin",lessDef:"sk-button-margin"},{type:"padding",lessDef:"sk-button-text-padding"}]},{label:"Primary Buttons (Default)",widgets:[{type:"background",lessDef:"sk-button-background"},{type:"text",lessDef:{color:"sk-button-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-box-shadow"},{type:"border",lessDef:"sk-button-border"}]},{label:"Primary Buttons (Hover)",widgets:[{type:"background",lessDef:"sk-button-hover-background"},{type:"text",lessDef:{color:"sk-button-hover-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-hover-box-shadow"},{type:"border",lessDef:"sk-button-hover-border"}]},{label:"Primary Buttons (Pressed)",widgets:[{type:"background",lessDef:"sk-button-active-background"},{type:"text",lessDef:{color:"sk-button-active-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-active-box-shadow"},{type:"border",lessDef:"sk-button-active-border"}]},{label:"Secondary Buttons (Default)",widgets:[{type:"background",lessDef:"sk-button-secondary-background"},{type:"text",lessDef:{color:"sk-button-secondary-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-secondary-box-shadow"},{type:"border",lessDef:"sk-button-secondary-border"}]},{label:"Secondary Buttons (Hover)",widgets:[{type:"background",lessDef:"sk-button-secondary-hover-background"},{type:"text",lessDef:{color:"sk-button-secondary-hover-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-secondary-hover-box-shadow"},{type:"border",lessDef:"sk-button-secondary-hover-border"}]},{label:"Secondary Buttons (Pressed)",widgets:[{type:"background",lessDef:"sk-button-secondary-active-background"},{type:"text",lessDef:{color:"sk-button-secondary-active-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-secondary-active-box-shadow"},{type:"border",lessDef:"sk-button-secondary-active-border"}]},{label:"Disabled Buttons",widgets:[{type:"background",lessDef:"sk-button-disabled-background"},{type:"text",lessDef:{color:"sk-button-disabled-color"},attributes:["color"]},{type:"shadow",lessDef:"sk-button-disabled-box-shadow"},{type:"border",lessDef:"sk-button-disabled-border"}]}]},{label:"FieldEditor",sections:[{label:"Section Header",widgets:[{type:"text",attributes:["text","color","size","decoration","style","lineHeight"],lessDef:{color:"sk-fieldeditor-section-header-color",decoration:"sk-fieldeditor-section-header-decoration",font:"sk-fieldeditor-section-header-font"}},{type:"border",subLabel:"Bottom",lessDef:"sk-fieldeditor-section-header-border-bottom",attributes:["overall"]},{type:"background",lessDef:"sk-fieldeditor-section-header-background"}]},{label:"Section",widgets:[{type:"border",lessDef:"sk-fieldeditor-section-border"},{type:"corner-radius",lessDef:"sk-fieldeditor-section-border-radius"},{type:"shadow",lessDef:"sk-fieldeditor-section-box-shadow"},{type:"background",lessDef:"sk-fieldeditor-section-background"}]},{label:"Field Item",hint:"A field/input combo",widgets:[{type:"text",attributes:["style","size","color","lineHeight"],lessDef:{font:"sk-fieldeditor-item-font",color:"sk-fieldeditor-fieldtext-color"}},{type:"text",subLabel:"Hover",attributes:["color"],lessDef:{color:"sk-fieldeditor-item-hover-fieldtext-color"}},{type:"text",subLabel:"Modified",attributes:["color"],lessDef:{color:"sk-field-modified-color"}},{type:"border",subLabel:"Bottom",lessDef:"sk-fieldeditor-item-border-bottom",attributes:["size"]},{type:"border",subLabel:"Bottom, Layout Above Only",lessDef:"sk-fieldeditor-item-layout-above-border-bottom",attributes:["size"]},{type:"background",lessDef:"sk-fieldeditor-item-background"},{type:"background",subLabel:"Hover",lessDef:"sk-fieldeditor-item-hover-background"},{type:"padding",lessDef:"sk-fieldeditor-item-padding"},{type:"padding",subLabel:"Text",lessDef:"sk-fieldeditor-fieldtext-padding"}]},{label:"Field Item Label",hint:"The label for an input field, usually placed to the left of or above the input element itself",widgets:[{type:"text",lessDef:{font:"sk-fieldeditor-item-label-font",color:"sk-fieldeditor-item-label-color"},attributes:["color","style","size","weight"]},{type:"padding",lessDef:"sk-fieldeditor-item-label-padding"},{type:"padding",subLabel:"Labels Above",lessDef:"sk-fieldeditor-item-label-padding-above"}]},{label:"Field Input",hint:"The box in which text is entered to populate a field's value",widgets:[{type:"text",lessDef:{color:"sk-field-color",font:"sk-field-font"},attributes:["color","weight"]},{type:"background",lessDef:"sk-field-background"},{type:"border",lessDef:"sk-field-border"},{type:"border",subLabel:"required",lessDef:"sk-editor-required-border"},{type:"padding",lessDef:"sk-field-padding"},{type:"corner-radius",lessDef:"sk-field-border-radius"}]},{label:"Multipicklist",widgets:[{type:"background",subLabel:"Header",lessDef:"sk-ui-multiselect-header-background"},{type:"text",label:"Text Color",subLabel:"Header",attributes:["color"],lessDef:{color:"sk-ui-multiselect-header-color"}},{type:"background",lessDef:"sk-ui-multiselect-background"},{type:"border",lessDef:"sk-ui-multiselect-border",attributes:["overall"]},{type:"corner-radius",lessDef:"sk-ui-multiselect-border-radius"},{type:"padding",lessDef:"sk-ui-multiselect-padding",attributes:["overall"]},{type:"shadow",lessDef:"sk-ui-multiselect-shadow"},{type:"text",label:"Text Color",subLabel:"List",attributes:["color"],lessDef:{color:"sk-ui-multiselect-li-color"}},{label:"List Item Border",subLabel:"Bottom",type:"border",lessDef:"sk-ui-multiselect-li-border-bottom",attributes:["overall"]}]},{label:"Multipicklist Filter Input",widgets:[{type:"text",subLabel:"Color",attributes:["color"],lessDef:{color:"sk-ui-multiselect-input-color"}},{type:"border",lessDef:"sk-ui-multiselect-input-border"},{type:"background",lessDef:"sk-ui-multiselect-input-background"}]},{label:"Date Picker",widgets:[{type:"background",subLabel:"Header",lessDef:"sk-ui-datepicker-header-background"},{type:"text",label:"Text Color",subLabel:"Header",attributes:["color"],lessDef:{color:"sk-ui-datepicker-header-color"}},{type:"text",label:"Text Color",subLabel:"Day of Week",attributes:["color"],lessDef:{color:"sk-ui-datepicker-dow-color"}},{type:"background",lessDef:"sk-ui-datepicker-background"},{type:"border",lessDef:"sk-ui-datepicker-border",attributes:["overall"]},{type:"corner-radius",lessDef:"sk-ui-datepicker-border-radius"},{type:"padding",lessDef:"sk-ui-datepicker-padding",attributes:["overall"]},{type:"shadow",lessDef:"sk-ui-datepicker-shadow"}]},{label:"Date Picker (Day)",widgets:[{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-color"}},{type:"background",lessDef:"sk-ui-datepicker-day-background"},{type:"border",attributes:["overall"],lessDef:"sk-ui-datepicker-day-border"},{type:"corner-radius",lessDef:"sk-ui-datepicker-day-border-radius"},{type:"text",label:"Text Color",subLabel:"Hover",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-hover-color"}},{type:"background",subLabel:"Hover",lessDef:"sk-ui-datepicker-day-hover-background"},{type:"border",subLabel:"Hover",attributes:["overall"],lessDef:"sk-ui-datepicker-day-hover-border"},{type:"text",label:"Text Color",subLabel:"Selected",attributes:["color"],lessDe:{color:"sk-ui-datepicker-day-active-color"}},{type:"background",subLabel:"Selected",lessDef:"sk-ui-datepicker-day-active-background"},{type:"border",subLabel:"Selected",attributes:["overall"],lessDef:"sk-ui-datepicker-day-active-border"},{type:"text",label:"Text Color",subLabel:"Today",attributes:["color"],lessDef:{color:"sk-ui-datepicker-day-highlight-color"}},{type:"background",subLabel:"Today",lessDef:"sk-ui-datepicker-day-highlight-background"},{type:"border",subLabel:"Today",attributes:["overall"],lessDef:"sk-ui-datepicker-day-highlight-border"}]},{label:"Datetime",widgets:[{type:"size",label:"Date Input Width",lessDef:"sk-ui-datepicker-day-width-in-datetime"}]}]},{label:"Queue",sections:[{label:"Queue",widgets:[{type:"shadow",lessDef:"sk-queue-box-shadow"}]},{label:"Queue Header",widgets:[{type:"text",attributes:["size","weight","color","transform","decoration","lineHeight"],lessDef:{font:"sk-queue-titlebar-font",color:"sk-queue-titlebar-color",decoration:"sk-queue-titlebar-decoration",transform:"sk-queue-titlebar-text-transform"}},{type:"border",lessDef:"sk-queue-header-border"},{type:"background",lessDef:"sk-queue-header-background"}]},{label:"Queue Row",widgets:[{type:"text",attributes:["size","color","style","lineHeight"],lessDef:{font:"sk-queue-item-font",color:"sk-queue-item-color"}},{type:"padding",lessDef:"sk-queue-item-padding"},{type:"border",lessDef:"sk-queue-item-border-bottom",attributes:["overall"],subLabel:"Bottom"},{type:"background",lessDef:"sk-queue-item-background"}]},{label:"Queue Row (Hover)",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-queue-item-hover-color"}},{type:"background",lessDef:"sk-queue-item-hover-background"}]},{label:"Queue Search Box",widgets:[{type:"text",lessDef:{color:"sk-queue-searchbox-color"},attributes:["color"]},{type:"border",lessDef:"sk-queue-searchbox-border"},{type:"background",lessDef:"sk-queue-searchbox-background"}]},{label:"Footer",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-queue-footer-color"}}]}]},{label:"Tabset",sections:[{label:"Tab Set",widgets:[{type:"text",attributes:["size","style","transform","lineHeight"],lessDef:{font:"sk-tabset-tab-font",transform:"sk-tabset-tab-text-transform"}},{type:"corner-radius",subLabel:"Container",lessDef:"sk-tabset-nav-border-radius"},{type:"corner-radius",subLabel:"Tabs",lessDef:"sk-tabset-tab-border-radius"},{type:"border",lessDef:"sk-tabset-nav-border"},{type:"background",lessDef:"sk-tabset-nav-background"},{type:"margin",lessDef:"sk-tabset-tab-margin"}]},{label:"Selected Tab",widgets:[{type:"text",lessDef:{color:"sk-tabset-tab-active-color"},attributes:["color"]},{type:"background",lessDef:"sk-tabset-tab-active-background"},{type:"border",lessDef:"sk-tabset-tab-active-border"}]},{label:"Unselected Tab",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-tabset-tab-color"}},{type:"background",lessDef:"sk-tabset-tab-background"},{type:"border",lessDef:"sk-tabset-tab-border"}]},{label:"Unselected Tab (Hover)",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-tabset-tab-hover-color"}},{type:"background",lessDef:"sk-tabset-tab-hover-background"},{type:"border",lessDef:"sk-tabset-tab-hover-border"}]},{label:"Vertical Tabs",widgets:[{type:"border",label:"Side Border",attributes:"overall",lessDef:"sk-tabset-verttab-tab-border-side"},{type:"border",label:"Side Border",subLabel:"Hover",attributes:"overall",lessDef:"sk-tabset-verttab-tab-border-side-hover"},{type:"border",label:"Side Border",subLabel:"Selected",attributes:"overall",lessDef:"sk-tabset-verttab-tab-border-side-active"}]},{label:"Sub-Tabset",widgets:[{type:"text",attributes:["size","style","transform"],lessDef:{font:"sk-tabset-subtab-font",transform:"sk-tabset-subtab-text-transform"}},{type:"corner-radius",lessDef:"sk-tabset-subtab-border-radius"},{type:"background",lessDef:"sk-tabset-subnav-background"},{type:"border",subLabel:"bottom",attributes:["overall"],lessDef:"sk-tabset-subnav-border-bottom"},{type:"margin",lessDef:"sk-tabset-subtab-margin"}]},{label:"Sub-Tabset Selected Tab",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-tabset-subtab-active-color"}},{type:"background",lessDef:"sk-tabset-subtab-active-background"},{type:"border",lessDef:"sk-tabset-subtab-active-border"}]},{label:"Sub-Tabset Unselected Tab",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-tabset-subtab-color"}},{type:"background",lessDef:"sk-tabset-subtab-background"},{type:"border",lessDef:"sk-tabset-subtab-border"}]},{label:"Sub-Tabset Unselected Tab (Hover)",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-tabset-subtab-hover-color"}},{type:"background",lessDef:"sk-tabset-subtab-hover-background"},{type:"border",lessDef:"sk-tabset-subtab-hover-border"},{label:"Border Color",type:"background",lessDef:"sk-tabset-subtab-hover-border-color"}]}]},{label:"Calendar",sections:[{label:"Header",widgets:[{type:"text",subLabel:"Title",attributes:["color","size","weight"],lessDef:{color:"sk-calendar-header-title-color",font:"sk-calendar-header-title-font"}},{type:"text",subLabel:"Day of Week",attributes:["color"],lessDef:{color:"sk-calendar-dowpicker-color"}}]},{label:"Table Header",widgets:[{type:"text",attributes:["size","color","weight"],lessDef:{color:"sk-calendar-table-th-color",font:"sk-calendar-table-th-font",decoration:"sk-calendar-table-th-decoration"}},{type:"background",lessDef:"sk-calendar-table-th-background"},{type:"border",attributes:["overall"],lessDef:"sk-calendar-table-th-border"}]},{label:"Day (Month View)",widgets:[{type:"border",attributes:["overall"],lessDef:"sk-calendar-month-td-border"},{type:"background",lessDef:"sk-calendar-month-background"},{type:"background",subLabel:"Today",lessDef:"sk-calendar-month-today-background"},{type:"background",subLabel:"Other Month",lessDef:"sk-calendar-other-month-background"},{type:"border",subLabel:"Date Label",attributes:["overall"],lessDef:"sk-calendar-month-header-border"},{type:"text",subLabel:"Date Label",lessDef:{color:"sk-calendar-month-header-color"},attributes:["color"]},{type:"background",subLabel:"Date Label",lessDef:"sk-calendar-month-header-background"}]},{label:"Hour (Week View)",widgets:[{type:"border",attributes:["overall"],lessDef:"sk-calendar-table-week-hour-td-border"},{type:"background",subLabel:"Odd",lessDef:"sk-calendar-row-background"},{type:"background",subLabel:"Even",lessDef:"sk-calendar-row-background-even"},{type:"border",subLabel:"Column",attributes:["overall"],lessDef:"sk-calendar-week-hour-td-border"},{type:"border",label:"Border-Bottom",subLabel:"Odd",attributes:["overall"],lessDef:"sk-calendar-row-border-bottom-even"},{type:"border",label:"Border-Bottom",subLabel:"Even",attributes:["overall"],lessDef:"sk-calendar-row-border-bottom-odd"},{type:"text",subLabel:"Label",lessDef:{color:"sk-calendar-week-hour-label-color"},attributes:["color"]},{type:"background",subLabel:"Label",lessDef:"sk-calendar-week-hour-label-background"},{type:"border",attributes:"overall",subLabel:"Label",lessDef:"sk-calendar-week-hour-label-border-right"}]},{label:"Event",widgets:[{type:"border",attributes:"overall",lessDef:"sk-calendar-event-border"},{type:"corner-radius",lessDef:"sk-calendar-event-border-radius"}]}]},{label:"File",sections:[{label:"Image",widgets:[{type:"border",lessDef:"sk-attachmentimage-border"},{type:"corner-radius",lessDef:"sk-attachmentimage-border-radius"},{type:"padding",lessDef:"sk-attachmentimage-padding",attributes:["overall"]}]}]},{label:"Popup",sections:[{label:"Popup",widgets:[{type:"corner-radius",lessDef:"sk-dialog-border-radius"},{type:"shadow",lessDef:"sk-dialog-box-shadow"},{type:"border",lessDef:"sk-dialog-border"},{type:"background",lessDef:"sk-dialog-background"}]},{label:"Header",widgets:[{type:"background",lessDef:"sk-dialog-titlebar-background"},{type:"border",lessDef:"sk-ui-dialog-title-border"},{type:"padding",lessDef:"sk-ui-dialog-title-padding"},{type:"text",lessDef:{color:"sk-ui-dialog-title-color",font:"sk-ui-dialog-title-font",decoration:"sk-ui-dialog-title-decoration"}},{type:"corner-radius",lessDef:"sk-dialog-titlebar-border-radius"}]},{label:"Close Icon",widgets:[{type:"background",lessDef:"sk-dialog-titlebar-close-background"},{type:"background",label:"Color",lessDef:"sk-dialog-titlebar-close-color"},{type:"border",lessDef:"sk-dialog-titlebar-close-border"},{type:"shadow",lessDef:"sk-dialog-titlebar-close-box-shadow"},{type:"background",subLabel:"Hover",lessDef:"sk-dialog-titlebar-close-hover-background"},{type:"background",label:"Color",subLabel:"Hover",lessDef:"sk-dialog-titlebar-close-hover-color"},{type:"border",subLabel:"Hover",lessDef:"sk-dialog-titlebar-close-hover-border"},{type:"shadow",subLabel:"Hover",lessDef:"sk-dialog-titlebar-close-hover-box-shadow"},{type:"padding",lessDef:"sk-dialog-titlebar-close-padding"},{type:"margin",lessDef:"sk-dialog-titlebar-close-margin"}]}]},{label:"ActionSelect",sections:[{label:"Actions & Filters",widgets:[{type:"background",subLabel:"Filters",lessDef:"sk-actionselect-condition-background"},{type:"background",subLabel:"Actions",lessDef:"sk-actionselect-actionbutton-background"},{type:"border",lessDef:"sk-actionselect-border"},{type:"corner-radius",lessDef:"sk-actionselect-border-radius"},{type:"text",subLabel:"Filters",attributes:["size","color","style","transform","lineHeight"],lessDef:{font:"sk-actionselect-condition-font",color:"sk-actionselect-condition-color",transform:"sk-actionselect-condition-text-transform"}},{type:"text",subLabel:"Actions",attributes:["size","color","style","transform","lineHeight"],lessDef:{font:"sk-actionselect-actionbutton-font",color:"sk-actionselect-actionbutton-color",transform:"sk-actionselect-actionbutton-text-transform"}},{type:"shadow",lessDef:"sk-actionselect-box-shadow"},{type:"margin",lessDef:"sk-actionselect-margin"},{type:"padding",lessDef:"sk-actionselect-text-padding"},{type:"text",subLabel:"Filter Label",attributes:["color","size","transform"],lessDef:{color:"sk-actionselect-label-color",font:"sk-actionselect-label-font",transform:"sk-actionselect-label-text-transform"}},{type:"padding",subLabel:"Dropdown Arrow",lessDef:"sk-actionselect-arrow-padding"},{type:"border",label:"Dropdown Arrow",subLabel:"Left Border",lessDef:"sk-actionselect-arrow-border-left",attributes:"overall"}]},{label:"Actions & Filters (Hover)",widgets:[{type:"background",subLabel:"Filters",lessDef:"sk-actionselect-condition-hover-background"},{type:"background",subLabel:"Actions",lessDef:"sk-actionselect-actionbutton-hover-background"},{type:"text",subLabel:"Filters",attributes:["color"],lessDef:{color:"sk-actionselect-condition-hover-color"}},{type:"text",subLabel:"Actions",attributes:["color"],lessDef:{color:"sk-actionselect-actionbutton-hover-color"}},{type:"shadow",lessDef:"sk-actionselect-hover-box-shadow"}]},{label:"Dropdown List",widgets:[{type:"border",lessDef:"sk-actionselect-dropdown-border"},{type:"shadow",lessDef:"sk-actionselect-dropdown-box-shadow"},{type:"corner-radius",lessDef:"sk-actionselect-dropdown-border-radius"}]},{label:"Dropdown Item",widgets:[{type:"background",lessDef:"sk-actionselect-dropdown-background"},{type:"text",attributes:["color"],lessDef:{color:"sk-actionselect-dropdown-item-color"}},{type:"border",subLabel:"Bottom",attributes:["overall"],lessDef:"sk-actionselect-dropdown-item-border-bottom"}]},{label:"Dropdown Item (Hover)",widgets:[{type:"background",lessDef:"sk-actionselect-dropdown-item-hover-background"},{type:"text",attributes:["color"],lessDef:{color:"sk-actionselect-dropdown-item-hover-color"}},{type:"border",subLabel:"Bottom",lessDef:"sk-actionselect-dropdown-item-border-bottom"}]},{label:"Autocomplete Input",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-actionselect-autocomplete-input-color"}},{type:"background",lessDef:"sk-actionselect-autocomplete-input-background"},{type:"padding",lessDef:"sk-actionselect-autocomplete-input-padding"}]},{label:"Autocomplete Dropdown",widgets:[{type:"background",lessDef:"sk-autocomplete-background"},{type:"border",lessDef:"sk-autocomplete-border"},{type:"corner-radius",lessDef:"sk-autocomplete-border-radius"}]},{label:"Autocomplete Item",widgets:[{type:"text",attributes:["size","color","style","transform"],lessDef:{font:"sk-autocomplete-item-font",color:"sk-autocomplete-item-color",transform:"sk-autocomplete-item-text-transform"}},{type:"background",lessDef:"sk-autocomplete-item-background"},{type:"border",lessDef:"sk-autocomplete-item-border"}]},{label:"Autocomplete Item (Hover)",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-autocomplete-item-selected-color"}},{type:"background",lessDef:"sk-autocomplete-item-selected-background"},{type:"border",lessDef:"sk-autocomplete-item-selected-border"}]}]},{label:"Wizard",sections:[{label:"Wizard",widgets:[{type:"text",label:"Step Text",attributes:["color","size","weight"],lessDef:{color:"sk-wizard-editor-header-title-color",font:"sk-wizard-editor-header-title-font"}}]}]},{label:"Navigation",sections:[{label:"Navigation",widgets:[{type:"padding",lessDef:"sk-navigation-padding"},{type:"text",attributes:["size","style"],lessDef:{font:"sk-navigation-item-font"}}]},{label:"Navigation (Item)",widgets:[{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-navigation-color"}},{type:"text",label:"Text Color (Hover)",attributes:["color"],lessDef:{color:"sk-navigation-selected-color"}},{type:"padding",lessDef:"sk-navigation-item-padding"},{type:"margin",lessDef:"sk-navigation-item-margin"},{type:"background",label:"Background (Hover)",lessDef:"sk-navigation-selected-background"},{type:"corner-radius",lessDef:"sk-navigation-item-border-radius"}]},{label:"Sub-Navigation",widgets:[{type:"margin",lessDef:"sk-subnavigation-margin"},{type:"background",lessDef:"sk-subnavigation-background"},{type:"border",lessDef:"sk-subnavigation-border"}]},{label:"Sub-Navigation (Item)",widgets:[{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-subnavigation-color"}},{type:"text",label:"Text Color (Hover)",attributes:["color"],lessDef:{color:"sk-subnavigation-selected-color"}},{type:"padding",lessDef:"sk-subnavigation-item-padding"},{type:"border",subLabel:"Bottom",attributes:["overall"],lessDef:"sk-subnavigation-item-border-bottom"},{type:"background",label:"Background (Hover)",lessDef:"sk-subnavigation-selected-background"}]},{label:"Navigation (In Header)",widgets:[{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-header-navigation-color"}},{type:"text",label:"Text Color (Hover)",attributes:["color"],lessDef:{color:"sk-header-navigation-selected-color"}}]}]},{label:"Search",sections:[{label:"Search Box",widgets:[{type:"text",attributes:["size","color","weight"],lessDef:{font:"sk-search-input-font",size:"sk-search-input-font-size",color:"sk-search-input-color"}},{type:"text",label:"Placeholder Text",attributes:["color"],lessDef:{color:"sk-search-input-placeholder-color"}},{type:"background",lessDef:"sk-search-input-background"},{type:"corner-radius",lessDef:"sk-search-input-border-radius"},{type:"padding",lessDef:"sk-search-input-padding"},{type:"border",lessDef:"sk-search-input-border"},{type:"background",label:"Search Icon Color",lessDef:"sk-search-input-icon-color"}]},{label:"Search Box (In Skuid Header)",widgets:[{type:"text",attributes:["color"],lessDef:{color:"sk-header-search-input-color"}},{type:"background",lessDef:"sk-header-search-input-background"},{type:"border",lessDef:"sk-header-search-input-border"}]},{label:"Search Result Header",widgets:[{type:"background",lessDef:"sk-search-result-header-background"},{type:"padding",lessDef:"sk-search-result-header-padding"},{type:"border",lessDef:"sk-search-result-header-border"},{type:"text",attributes:["color","size"],lessDef:{color:"sk-search-result-header-color",size:"sk-search-result-header-font-size"}},{type:"text",subLabel:"View Link",attributes:["color","size"],lessDef:{color:"sk-search-result-header-view-link-color",size:"sk-search-result-header-view-link-font-size"}}]},{label:"Search Results",widgets:[{type:"background",lessDef:"sk-search-result-background"},{type:"corner-radius",lessDef:"sk-search-result-border-radius"},{type:"border",lessDef:"sk-search-result-border"},{type:"shadow",lessDef:"sk-search-result-box-shadow"}]},{label:"Search Result Items",widgets:[{type:"background",subLabel:"Even",lessDef:"sk-search-result-item-background"},{type:"background",subLabel:"Odd",lessDef:"sk-search-result-item-odd-background"},{type:"padding",lessDef:"sk-search-result-item-padding"},{type:"margin",lessDef:"sk-search-result-item-margin"},{type:"border",lessDef:"sk-search-result-item-border"},{type:"text",attributes:["size","color"],lessDef:{size:"sk-search-result-item-font-size",color:"sk-search-result-color"}}]},{label:"Search Result Items (Hover)",widgets:[{type:"background",lessDef:"sk-search-result-item-focus-background"},{type:"text",label:"Text Color",attributes:["color"],lessDef:{color:"sk-search-result-item-focus-color"}}]}]},{label:"Deck",sections:[{label:"Basic",widgets:[{type:"background",lessDef:"sk-deck-card-background"},{type:"border",lessDef:"sk-deck-card-border"},{type:"corner-radius",lessDef:"sk-deck-card-border-radius"},{type:"padding",lessDef:"sk-deck-card-padding"},{type:"shadow",lessDef:"sk-deck-card-shadow"},{type:"shadow",subLabel:"Selected",lessDef:"sk-deck-card-selected-shadow"},{type:"shadow",subLabel:"Deleted",lessDef:"sk-deck-card-deleted-shadow"}]}]},{label:"Charts",sections:s}]}},316:function(e,t,i){"use strict";!function(g){var s,t,i,r,f,l=g.$,n=g.utils,o=n.size,c=g.events.publish,a=g.events.subscribe,h="skuid.themeBuilder.setThemeSettings",d=g.themeBuilder,u=!1,p={};function e(){f.$("#tb-inlinecss").remove(),f.$("head").append('<style id="tb-inlinecss">'+p.unsaved.inlineCss+"</style>")}function m(e,t){var i=f.$M(e);i.getRows().length||(i.accessible=!0,i.createable=!0,i.updateable=!0,i.deleteable=!0,i.fields&&i.fields.length&&i.fields.forEach(function(e){e.accessible=!0,e.editable=!0,e.createable=!1}),i.adoptRows(t))}function b(){var i;return less.render(p.saved.lessStr,{modifyVars:p.unsaved.lessVars}).then(function(e){if("tb-preview-charts"==l("#tb-nav li.selected").attr("tab-id")||"Charts"==l("#tb-nav li.selected").attr("tab-id")){var t=f.component.getByType("skuidvis__geochart").concat(f.component.getByType("skuidvis__chart"));l.each(t,function(e,t){t.drillInParents&&t.drillup(),t.render()})}return i=e.css,f?n.resolve(e.css):g.events.subscribeOnce("skuid.themeBuilder.iframeLoaded")}).then(function(){f.$("#sk-less-css").remove(),f.$("body").append('<style id="sk-less-css">'+i+"<style>"),w(!0)})}function v(e){var t="This theme has unsaved changes, which will be lost.";return(e=e||window.event)&&(e.returnValue=t),t}function w(e){u&&(window.onbeforeunload=e?v:null,y(e))}function y(e){l("#tb-button-save, #tb-button-cancel").button("option","disabled",!e)}function k(){return f.$("head")}function S(e){var i=l.Deferred();if(l("#ThemePreviewPage").css("display","block"),e.isMobile){var n=r.skuid.mobile.mainpanel.element.attr("id");r.skuid.mobile.setMainPanel("ScreenCapture"),r.skuid.$("#mobile-iframe").css({height:"900px",width:"900px"}),r.html2canvas(r.skuid.$(".nx-page")[0],{onrendered:function(e){r.skuid.$("#mobile-iframe").css({height:"",width:""}),r.skuid.mobile.setMainPanel(n);var t=e.toDataURL("image/png");i.resolve(t.split(",")[1])}})}else{var t=r.skuid.utils,s=t.createPopupFromPopupXML(t.makeXMLDoc('<popup title="Theme Preview" width="354"><components><ThemeBuilderPreview/></components></popup>')),o=r.skuid.$("#ThemePreviewPage");o?r.html2canvas(o[0],{letterRendering:!0,onrendered:function(e){var t=e.toDataURL("image/png");s.dialog("close"),i.resolve(t.split(",")[1])}}):(s.dialog("close"),i.resolve())}return i.promise()}function x(){var e,t=d.widgetConfigurations;for(l("#tb-holder").find(".component-pane").remove(),d.currentPane||(d.currentPane="#ThemeBuilderGlobal"),e=0;e<t.length;e++)t[e].rendered=!0,$(t[e]),"#ThemeBuilder"+t[e].label!=d.currentPane&&l("#ThemeBuilder"+t[e].label).addClass("display-none")}function $(e){var t=l("#tb-holder"),i=l('<div id="ThemeBuilder'+e.label+'" + class="component-pane"></div>');if(e.sections)for(var n=0;n<e.sections.length;n++){var s=l('<div class="tb-section-accordion"></div>');if(s.append('<span class="tb-section-accordion-title">'+e.sections[n].label+"</span>"),e.sections[n].hint){var o=l('<div class="tb-hint"><span class="sk-icon sk-icon-help"></div>');o.skootip(e.sections[n].hint),s.append(o)}i.append(s);var r=l('<div class="section">');C(r,e.sections[n].widgets),i.append(r)}i.accLite(),t.append(i)}function C(e,t){for(var i=0;i<t.length;i++){var n,s=t[i];try{switch(s.type){case"border":n=l("<div>").borderEditor(s);break;case"shadow":n=l("<div>").shadowEditor(s);break;case"text":n=l("<div>").textEditor(s);break;case"corner-radius":n=l("<div>").cornerRadiusEditor(s);break;case"margin":s.label="Margin",n=l("<div>").marginPaddingEditor(s);break;case"padding":s.label="Padding",n=l("<div>").marginPaddingEditor(s);break;case"size":n=l("<div>").sizeEditor(s);break;case"background":n=l("<div>").backgroundEditor(s);break;case"palette":n=l("<div>").paletteEditor(s);break;case"webfont":n=l("<div>").webFontPicker(s);break;case"typekit":n=l("<div>").typekit(s);break;case"css":n=l("<div>").customCssPicker(s);break;case"inlineCss":n=l("<div>").inlineCss(s)}}catch(e){g.component.getByType("skuidpage")[0].addProblem(e),console.error(e)}n&&e.append(n)}}function L(){g.events.publish("skuid.themeBuilder.iframeLoaded"),f.$("*").on("click",function(){l(".sk-colorpicker-popup").hide()}),f.$("body").on("keydown",function(e){(e.metaKey||e.ctrlKey)&&("s"!==String.fromCharCode(e.which)&&"S"!==String.fromCharCode(e.which)||(e.preventDefault(),l("#tb-button-save").trigger("click")),"p"!==String.fromCharCode(e.which)&&"P"!==String.fromCharCode(e.which)||(e.preventDefault(),l("#tb-button-preview").trigger("click")))});var e=p.unsaved.webFonts,t=p.unsaved.cssResources,i=k();e&&e.custom&&e.custom.length&&l.each(e.custom,function(e,t){t.url&&f.$("<link>").attr({type:"text/css",rel:"stylesheet",href:t.url}).appendTo(i)}),g.events.publish("skuid.themeBuilder.resourcesUpdated",[{cssResources:t}]),a(h,function(){w(!0),f.themeSettings.load(p.unsaved.themeSettingsLocal.getAll())}),p.unsaved.themeSettingsLocal&&p.unsaved.themeSettingsLocal.getAll()&&(g.events.publish(h),w(!1)),f.$("#tb-preview-table .nx-header-right").append('<div class="nx-status" style="float: left"><div class="nx-status-text">Saving...</div></div>'),f.$("#tb-preview-table .nx-messages").append('<div class="nx-error">A sample error message</div>'),a("skuid.themeBuilder.panelChanged",function(e){switch(e){case"tb-preview-table":f.$("#tb-preview-table tr:nth-child(3) td:nth-child(5) .nx-field").prepend('<div class="nx-error-inline">A sample inline error message</div>'),f.$("#tb-preview-table tr:nth-child(3) td:nth-child(5) .nx-field").addClass("nx-field-error nx-modified");break;case"tb-preview-field":f.$("#tb-preview-field .nx-basicfieldeditor-column:first .nx-basicfieldeditor-item:nth-child(2) .nx-fieldtext").remove(),f.$("#tb-preview-field .nx-basicfieldeditor-column:first .nx-basicfieldeditor-item:nth-child(2) .nx-field").append('<div class="nx-field nx-layout-above required nx-modified" data-uid="6" field-id="1-skuid__Description__c"><input value="Required"></input></div>'),f.$("#tb-preview-field .nx-basicfieldeditor-column:first .nx-basicfieldeditor-item:nth-child(3) .nx-fieldtext").remove(),f.$("#tb-preview-field .nx-basicfieldeditor-column:first .nx-basicfieldeditor-item:nth-child(3) .nx-field").append('<div class="nx-field nx-layout-above nx-modified" data-uid="6" field-id="1-skuid__Description__c"><input value="Currently being edited"></input></div>');break;case"tb-preview-deck":var t=f.$("#tb-preview-deck .sk-card");l(t[1]).addClass("selected"),l(t[2]).addClass("deleted")}}),c("skuid.themeBuilder.createDataInModel.SampleEvents"),c("skuid.themeBuilder.createDataInModel.Sample"),c("skuid.themeBuilder.createDataInModel.SampleSingle"),c("skuid.themeBuilder.iframeSpoofed")}function A(){l("#tb-iframe").css("height",window.innerHeight-128+"px"),l("#tb-holder").css("height",window.innerHeight-110+"px")}a("skuid.themeBuilder.saveStatus",function(e,t){"number"==typeof t?g.ui.hideStatus(l("#tb-buttons .nx-status"),l("#tb-buttons .nx-status .nx-status-text"),e,t):g.ui.setStatus(l("#tb-buttons .nx-status"),l("#tb-buttons .nx-status .nx-status-text"),e)}),a("skuid.themeBuilder.createDataInModel.Sample",function(){m("Sample",[{Id:"001000010000321AAA",Id15:"001000010000321",Name:"Acme Corp",Industry:"Other",Description:"The de facto standard",Deleted:"true",AnnualRevenue:41510858,BillingState:"NM"},{Id:"001000010000987AAA",Id15:"001000010000987",Name:"Outdoor Escapades",Industry:"Recreation",Description:"For life beyond the office",Deleted:"true",AnnualRevenue:17184930,BillingState:"ND"},{Id:"001000010000789AAA",Id15:"001000010000789",Name:"Skuid, Inc.",Industry:"Technology",Description:"Skuid, Skuid, and more Skuid!",Deleted:"true",AnnualRevenue:13371337,BillingState:"TN"},{Id:"001000010000456AAA",Id15:"001000010000456",Name:"United Oil and Gas",Industry:"Energy",Description:"The largest energy supplier in APAC",Deleted:"true",AnnualRevenue:33490999,BillingState:"NY"},{Id:"001000010000123AAA",Id15:"001000010000123",Name:"Genepoint",Industry:"Biotechnology",Description:"A biotech company",Deleted:"true",AnnualRevenue:4572580,BillingState:"NY"},{Id:"001000010000322AAA",Id15:"001000010000321",Name:"Casul Star",Industry:"Technology",Description:"Light sabers and more",Deleted:"true",AnnualRevenue:21410551,BillingState:"NM"},{Id:"001000010000446AAA",Id15:"001000010000456",Name:"Wind Works",Industry:"Energy",Description:"Making wind work for YOU",Deleted:"true",AnnualRevenue:1490796,BillingState:"OR"},{Id:"001000010000787AAA",Id15:"001000010000789",Name:"Zimity",Industry:"Technology",Description:"Zip, zbop, zippado!",Deleted:"true",AnnualRevenue:13371337,BillingState:"GA"},{Id:"001000010000788AAA",Id15:"001000010000789",Name:"Supertech",Industry:"Technology",Description:"Technology, but super",Deleted:"true",AnnualRevenue:8140033,BillingState:"CA"},{Id:"001000010000124AAA",Id15:"001000010000123",Name:"BioCo Unlimited",Industry:"Biotechnology",Description:"A large biotech supplier",Deleted:"true",AnnualRevenue:7542385,BillingState:"NM"}]);var e,t,i,n,s=[],o=new Date,r=o.getFullYear(),a=3*Math.ceil(o.getMonth()/3)-3,l=0,c=new d.utils.randomSeed(67),h=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],u=[];for(0===a&&(r--,a=12),e=0;e<24;e++){for(i=Math.floor(8*c.random()+5),t=0;t<i;t++)s.push({Amount:9e4*c.random()+2e4,CloseDate:r+"-"+a+"-15",FiscalQuarter:Math.ceil(a/3),FiscalYear:r,Id:"00100001000"+(l+1e3)+"AAA",Id15:"00100001000"+(l+1e3)}),l++;--a<=0&&(r--,a=12)}for(m("SampleOpportunities",s),e=l=0;e<h.length;e++)for(n=Math.floor(10*c.random()),t=0;t<n;t++)u.push({BillingState:h[e],AnnualRevenue:1,Id:"00100001000"+(l+1e3)+"AAA",Id15:"00100001000"+(l+1e3)}),l++;m("SampleGeoChartAccounts",u)}),a("skuid.themeBuilder.createDataInModel.SampleSingle",function(){m("SampleSingle",[{Id:"001000010000123AAA",Id15:"001000010000123",Name:"Genepoint",Industry:"Biotechnology",Description:"A biotech company"}])}),a("skuid.themeBuilder.createDataInModel.SampleEvents",function(){var e,t,i,n,s,o,r,a,l,c,h,u=f.$M("SampleEvents"),d=g.time.resolveDateKeyword("THIS_MONTH");u.getRows().length||(u.accessible=!0,u.createable=!1,u.updateable=!1,u.deleteable=!1,(e=u.getField("Subject")).accessible=!0,e.editable=!1,e.createable=!1,(t=u.getField("StartDateTime")).accessible=!0,t.editable=!1,t.createable=!1,(i=u.getField("EndDateTime")).accessible=!0,i.editable=!1,i.createable=!1,n=g.time.parseSFDateTime(d[0]),s=g.time.parseSFDateTime(d[1]),o=new Date(n.getTime()+(s.getTime()-n.getTime())/2),r=new Date(o.getTime()+72e5),(l=new Date).setHours(12),l.setMinutes(0),l.setSeconds(0),c=new Date(l.getTime()),h=new Date(l.getTime()+72e5),a=[{Id:"00U000010000111AAA",Id15:"00U000010000111",Subject:"Meeting with Bob",StartDateTime:g.time.getSFDateTime(o),EndDateTime:g.time.getSFDateTime(r)},{Id:"00U000010000112AAA",Id15:"00U000010000112",Subject:"Another Meeting with Bob",StartDateTime:g.time.getSFDateTime(c),EndDateTime:g.time.getSFDateTime(h)}],u.adoptRows(a))}),a("skuid.themeBuilder.save",function(){return y(!1),p.unsaved.save({screenshotFunction:S}).then(function(){var e=p.unsaved.themeSettingsLocal,t=new g.themeSettings.ThemeSettings(JSON.parse(JSON.stringify(p.unsaved.themeSettingsLocal.getAll())));p.saved=p.unsaved,p.saved.themeSettingsLocal=t,p.unsaved.themeSettingsLocal=e,p.unsaved=new g.themeBuilder.ThemeConfiguration(p.saved)})}),a("skuid.themeBuilder.cancel",function(){g.ui.setStatus(l("#tb-buttons .nx-status"),l("#tb-buttons .nx-status .nx-status-text"),"Cancelling..."),p.unsaved=new d.ThemeConfiguration(p.saved),d.modifyVars().then(function(){x(),g.ui.hideStatus(l("#tb-buttons .nx-status"),l("#tb-buttons .nx-status .nx-status-text"),"Cancelled"),w(!1)})}),a("skuid.themeBuilder.resourcesUpdated",function(e){!function(e){var i,n,t=k(),s=t.find("link.skuid-tb-css-resource");e&&e.length?(i={},n={},e.forEach(function(e){i[g.platform.getResourceUrl(e)]=e}),s.length&&l.each(s,function(){var e=l(this),t=e.attr("href");i[t]?n[t]=1:e.remove()}),o(i)!==o(n)&&l.each(i,function(e){n[e]||f.$("<link>").attr({type:"text/css",rel:"stylesheet",href:e}).addClass("skuid-tb-css-resource").appendTo(t)})):s.remove()}(e.cssResources)}),a("skuid.themeBuilder.inlineCssLoaded",function(){f?e():g.events.subscribe("skuid.themeBuilder.iframeLoaded",e)}),a("skuid.themeBuilder.baseInlineCssLoaded",function(e){f&&f.$?f.$("head").append('<style id="tb-inlinecss-basetheme">'+e+"</style>"):g.events.subscribe("skuid.themeBuilder.iframeLoaded",function(){f.$("head").append('<style id="tb-inlinecss-basetheme">'+e+"</style>")})}),g.snippet.register("skuid.themeBuilder.clone",function(){var e,t,i=g.$M("ThemeClone").getRows()[0],n=new JSZip;return n.file("skuid_theme.json",'{"__": "This is a placeholder"}'),e=n.generate({type:"base64",compression:"DEFLATE"}),t={Name:g.$M("ThemeClone").getRows()[0].skuid__Resource_Name__c,ContentType:"application/zip",Body:e,CacheControl:"Public"},l.blockUI({message:"Cloning..."}),l.ajax({type:"POST",url:"/services/data/v32.0/sobjects/StaticResource",headers:{"Content-Type":"application/json",Authorization:"Bearer "+g.utils.userInfo.sessionId},data:JSON.stringify(t),dataType:"json"}).then(function(e){return new d.ThemeConfiguration(l.extend(p.saved,{model:g.$M("ThemeClone"),id:i.skuid__Resource_Name__c.toLowerCase(),resource:{Id:e.id,Name:t.Name,NamespacePrefix:p.unsaved.resource.NamespacePrefix},isDesktop:"Desktop"===s.type})).save()}).then(function(){l.unblockUI(),y(!1)}).catch(function(e){l.blockUI({message:"Failed to clone theme: "+e,timeout:3e3})})}),l(document.body).one("pageload",function(){g.themeBuilder.utils.subscribeMultipleEventsOnce(["skuid.themeBuilder.lessVarsAssigned","skuid.themeBuilder.iframeSpoofed"],function(){b().then(function(){l("#cover-up").remove(),p.saved.isMobile&&l("#tb-preview").fadeIn(400),c("skuid.themeBuilder.lessVarsInitiallyRendered"),l("#tb-iframe").removeClass("display-none").hide().fadeIn(1e3),l.unblockUI(),w(!(u=!0))})}),y(!1),t=d.model=g.$M("Theme"),s=d.row=t.getFirstRow(),i=d.resource=g.$M("ThemeResource").getFirstRow(),l.blockUI({message:"Loading Theme Composer..."}),g.platform.themeBuilder.getThemeData(i).then(function(e){var a=new d.ThemeConfiguration(l.extend(e.themeData,{resource:i,baseThemeData:e.baseThemeData,lessStr:e.baseThemeLess,model:t}));a=g.themeBuilder.migrateTheme(a),p.saved=a,p.unsaved=new d.ThemeConfiguration(a),a.lessVars&&(d.widgetConfigurations=a.isMobile?d.widgetConfigurations.mobile():d.widgetConfigurations.desktop()),a.loadAndProcessLess().then(function(){c("skuid.themeBuilder.lessLoaded");var e=d.utils.lessRenderer.parseVars(p.saved.lessStr);d.defaultLessVars=l.extend(e,d.utils.clone(p.saved.lessVars)),c("skuid.themeBuilder.lessVarsAssigned",[])}).then(x),l("#tb-iframe").one("load",function(){r=d.iframe=document.getElementById("tb-iframe").contentWindow,f=r.skuid,l(window).resize(A);var e=setInterval(function(){f.tbIframe&&(clearInterval(e),f.tbIframe.onePageRender(L),A())},100)}),l("#tb-preview .nx-panel").append(l(".tb-preview")),l("#tb-preview-global").removeClass("display-none"),l("#tb-nav li:first-child").addClass("selected"),l("#tb-nav li").on("click",function(e){l("#tb-nav li").removeClass("selected");var t,i,n=l(e.target),s=n.attr("tab-id");if(n.addClass("selected"),a.isMobile)f.mobile.setMainPanel(s),f.mobile.hidePopupPanel(),f.events.publish("skuid.mobile.mainPanelSet",[s]);else if(i=f.$("#"+n.attr("tab-id")),f.$(".tb-preview").addClass("display-none"),i.removeClass("display-none"),"tb-preview-charts"==n.attr("tab-id")&&(f.events.publish("ui.reflow"),!this.chartsRendered)){this.chartsRendered=!0;var o=f.component.getByType("skuidvis__geochart").concat(f.component.getByType("skuidvis__chart"));l.each(o,function(e,t){t.render()})}l(".component-pane").addClass("display-none"),t=n.attr("pane-label");for(var r=0;r<d.widgetConfigurations.length;r++)d.widgetConfigurations[r].label==t&&(d.currentPane="#ThemeBuilder"+d.widgetConfigurations[r].label,l(d.currentPane).removeClass("display-none"));c("skuid.themeBuilder.panelChanged",[s])})})}),d.updateInlineIframeCSS=e,d.modifyVars=b,d.setConfirmExitEnabled=w,d.themeConfigurations=p,d.basicFonts=["default","Georgia, serif",'"Palatino Linotype", "Book Antiqua", Palatino, serif','"Times New Roman", Times, serif',"Arial, Helvetica, sans-serif",'"Arial Black", Gadget, sans-serif','"Comic Sans MS", cursive, sans-serif',"Impact, Charcoal, sans-serif",'"Lucida Sans Unicode", "Lucida Grande", sans-serif',"Tahoma, Geneva, sans-serif",'"Trebuchet MS", Helvetica, sans-serif',"Verdana, Geneva, sans-serif",'"Courier New"','"Lucida Console", Monaco, monospace']}(skuid)},317:function(e,t,w){(function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var o=function(e,t,i){"string"==typeof e?(2==arguments.length&&(i=t),o.modules[e]||(o.payloads[e]=i,o.modules[e]=null)):o.original?o.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};o.modules={},o.payloads={};var t,i,r=function(e,t,i){if("string"==typeof t){var n=c(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],o=0,r=t.length;o<r;++o){var a=c(e,t[o]);if(null==a&&l.original)return;s.push(a)}return i&&i.apply(null,s)||!0}},l=function(e,t){var i=r("",e,t);return null==i&&l.original?l.original.apply(this,arguments):i},a=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return a(e,i[0])+"!"+a(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},c=function(e,i){i=a(e,i);var t=o.modules[i];if(!t){if("function"==typeof(t=o.payloads[i])){var n={},s={id:i,uri:"",exports:n,packaged:!0};n=t(function(e,t){return r(i,e,t)},n,s)||s.exports,o.modules[i]=n,delete o.payloads[i]}t=o.modules[i]=n||t}return t};i=e,(t="ace")&&(e[t]||(e[t]={}),i=e[t]),i.define&&i.define.packaged||(o.original=i.define,i.define=o,i.define.packaged=!0),i.require&&i.require.packaged||(l.original=i.require,i.require=l,i.require.packaged=!0)})(),ace.define("ace/lib/regexp",["require","exports","module"],function(e,t,i){"use strict";var n,o={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},r=void 0===o.exec.call(/()??/,"")[1],a=(n=/^/g,o.test.call(n,""),!n.lastIndex);a&&r||(RegExp.prototype.exec=function(e){var t,i,n=o.exec.apply(this,arguments);if("string"==typeof e&&n){if(!r&&1<n.length&&-1<function(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}(n,"")&&(i=RegExp(this.source,o.replace.call(function(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}(this),"g","")),o.replace.call(e.slice(n.index),i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(n[e]=void 0)})),this._xregexp&&this._xregexp.captureNames)for(var s=1;s<n.length;s++)(t=this._xregexp.captureNames[s-1])&&(n[t]=n[s]);!a&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return n},a||(RegExp.prototype.test=function(e){var t=o.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(e,t,i){function o(){}function n(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}function s(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(0<e||-1)*Math.floor(Math.abs(e))),e}Function.prototype.bind||(Function.prototype.bind=function(t){var i=this;if("function"!=typeof i)throw new TypeError("Function.prototype.bind called on incompatible "+i);var n=f.call(arguments,1),s=function(){if(this instanceof s){var e=i.apply(this,n.concat(f.call(arguments)));return Object(e)===e?e:this}return i.apply(t,n.concat(f.call(arguments)))};return i.prototype&&(o.prototype=i.prototype,s.prototype=new o,o.prototype=null),s});var r,a,l,c,h,u=Function.prototype.call,d=Array.prototype,g=Object.prototype,f=d.slice,p=u.bind(g.toString),m=u.bind(g.hasOwnProperty);if((h=m(g,"__defineGetter__"))&&(r=u.bind(g.__defineGetter__),a=u.bind(g.__defineSetter__),l=u.bind(g.__lookupGetter__),c=u.bind(g.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),i.length,t+1==i.length)return!0}()){var b=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?b.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(f.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;0<e?i<e&&(e=i):null==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),s=f.call(arguments,2),o=s.length;if(e===i)o&&this.push.apply(this,s);else{var r=Math.min(t,i-e),a=e+r,l=a+o-r,c=i-a,h=i-r;if(l<a)for(var u=0;u<c;++u)this[l+u]=this[a+u];else if(a<l)for(u=c;u--;)this[l+u]=this[a+u];if(o&&e===h)this.length=h,this.push.apply(this,s);else for(this.length=h+o,u=0;u<o;++u)this[e+u]=s[u]}return n};Array.isArray||(Array.isArray=function(e){return"[object Array]"==p(e)});var v,w=Object("a"),y="a"!=w[0]||!(0 in w);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=arguments[1],s=-1,o=i.length>>>0;if("[object Function]"!=p(e))throw new TypeError;for(;++s<o;)s in i&&e.call(n,i[s],s,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=i.length>>>0,s=Array(n),o=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var r=0;r<n;r++)r in i&&(s[r]=e.call(o,i[r],r,t));return s}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=_(this),n=y&&"[object String]"==p(this)?this.split(""):i,s=n.length>>>0,o=[],r=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var a=0;a<s;a++)a in n&&(t=n[a],e.call(r,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&!e.call(s,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&e.call(s,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var s,o=0;if(2<=arguments.length)s=arguments[1];else for(;;){if(o in i){s=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in i&&(s=e.call(void 0,s,i[o],o,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=_(this),i=y&&"[object String]"==p(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=p(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var s,o=n-1;if(2<=arguments.length)s=arguments[1];else for(;;){if(o in i){s=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}for(;o in this&&(s=e.call(void 0,s,i[o],o,t)),o--;);return s}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=y&&"[object String]"==p(this)?this.split(""):_(this),i=t.length>>>0;if(!i)return-1;var n=0;for(1<arguments.length&&(n=s(arguments[1])),n=0<=n?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=y&&"[object String]"==p(this)?this.split(""):_(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(1<arguments.length&&(n=Math.min(n,s(arguments[1]))),n=0<=n?n:i-Math.abs(n);0<=n;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:g)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(m(e,t)){var i;if(i={enumerable:!0,configurable:!0},h){var n=e.__proto__;e.__proto__=g;var s=l(e,t),o=c(e,t);if(e.__proto__=n,s||o)return s&&(i.get=s),o&&(i.set=o),i}return i.value=e[t],i}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(v=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=v();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var n=function(){};n.prototype=e,(i=new n).__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i});if(Object.defineProperty){var k=n({}),S="undefined"==typeof document||n(document.createElement("div"));if(!k||!S)var x=Object.defineProperty}if(!Object.defineProperty||x){Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Property description must be an object: "+i);if(x)try{return x.call(Object,e,t,i)}catch(e){}if(m(i,"value"))if(h&&(l(e,t)||c(e,t))){var n=e.__proto__;e.__proto__=g,delete e[t],e[t]=i.value,e.__proto__=n}else e[t]=i.value;else{if(!h)throw new TypeError("getters & setters can not be defined on this javascript engine");m(i,"get")&&r(e,t,i.get),m(i,"set")&&a(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)m(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze(function(){})}catch(e){Object.freeze=function(t){return function(e){return"function"==typeof e?e:t(e)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";m(e,t);)t+="?";e[t]=!0;var i=m(e,t);return delete e[t],i}),!Object.keys){var $=!0,C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],L=C.length;for(var A in{toString:null})$=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in e)m(e,i)&&t.push(i);if($)for(var n=0,s=L;n<s;n++){var o=C[n];m(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var R="\t\n\v\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||R.trim()){R="["+R+"]";var D=new RegExp("^"+R+R+"*"),T=new RegExp(R+R+"*$");String.prototype.trim=function(){return String(this).replace(D,"").replace(T,"")}}var _=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],function(e,t,i){"use strict";e("./regexp"),e("./es5-shim")}),ace.define("ace/lib/dom",["require","exports","module"],function(e,a,t){"use strict";a.buildDom=function e(t,i,n){if("string"==typeof t&&t){var s=document.createTextNode(t);return i&&i.appendChild(s),s}if(!Array.isArray(t))return t;if("string"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],i,n);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],h=1;c&&"object"==typeof c&&!Array.isArray(c)&&(h=2);for(r=h;r<t.length;r++)e(t[r],l,n);return 2==h&&Object.keys(c).forEach(function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e?l[e]=t:"ref"===e?n&&(n[t]=l):null!=t&&l.setAttribute(e,t)}),i&&i.appendChild(l),l},a.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},a.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},a.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},a.addCssClass=function(e,t){a.hasCssClass(e,t)||(e.className+=" "+t)},a.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},a.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var s=i.indexOf(t);if(-1==s)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(" "),n},a.setCssClass=function(e,t,i){i?a.addCssClass(e,t):a.removeCssClass(e,t)},a.hasCssString=function(e,t){var i,n=0;if((t=t||document).createStyleSheet&&(i=t.styleSheets)){for(;n<i.length;)if(i[n++].owningElement.id===e)return!0}else if(i=t.getElementsByTagName("style"))for(;n<i.length;)if(i[n++].id===e)return!0;return!1},a.importCssString=function(e,t,i){if(i=i||document,t&&a.hasCssString(t,i))return null;var n;t&&(e+="\n/*# sourceURL=ace/css/"+t+" */"),i.createStyleSheet?((n=i.createStyleSheet()).cssText=e,t&&(n.owningElement.id=t)):((n=a.createElement("style")).appendChild(i.createTextNode(e)),t&&(n.id=t),a.getDocumentHead(i).appendChild(n))},a.importCssStylsheet=function(e,t){if(t.createStyleSheet)t.createStyleSheet(e);else{var i=a.createElement("link");i.rel="stylesheet",i.href=e,a.getDocumentHead(t).appendChild(i)}},a.getInnerWidth=function(e){return parseInt(a.computedStyle(e,"paddingLeft"),10)+parseInt(a.computedStyle(e,"paddingRight"),10)+e.clientWidth},a.getInnerHeight=function(e){return parseInt(a.computedStyle(e,"paddingTop"),10)+parseInt(a.computedStyle(e,"paddingBottom"),10)+e.clientHeight},a.scrollbarWidth=function(e){var t=a.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var i=a.createElement("ace_outer"),n=i.style;n.position="absolute",n.left="-10000px",n.overflow="hidden",n.width="200px",n.minWidth="0px",n.height="150px",n.display="block",i.appendChild(t);var s=e.documentElement;s.appendChild(i);var o=t.offsetWidth;n.overflow="scroll";var r=t.offsetWidth;return o==r&&(r=i.clientWidth),s.removeChild(i),o-r},"undefined"!=typeof document?(void 0!==window.pageYOffset?(a.getPageScrollTop=function(){return window.pageYOffset},a.getPageScrollLeft=function(){return window.pageXOffset}):(a.getPageScrollTop=function(){return document.body.scrollTop},a.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?a.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:a.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},a.setInnerHtml=function(e,t){var i=e.cloneNode(!1);return i.innerHTML=t,e.parentNode.replaceChild(i,e),i},"textContent"in document.documentElement?(a.setInnerText=function(e,t){e.textContent=t},a.getInnerText=function(e){return e.textContent}):(a.setInnerText=function(e,t){e.innerText=t},a.getInnerText=function(e){return e.innerText}),a.getParentWindow=function(e){return e.defaultView||e.parentWindow}):a.importCssString=function(){}}),ace.define("ace/lib/oop",["require","exports","module"],function(e,i,t){"use strict";i.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},i.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},i.implement=function(e,t){i.mixin(e,t)}}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],function(e,t,i){"use strict";e("./fixoldbrowsers");var n=e("./oop"),s=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter(function(e){return t&i.KEY_MODS[e]}).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}}),ace.define("ace/lib/useragent",["require","exports","module"],function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),s=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||0<=navigator.appName.indexOf("MSAppHost")?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=s.match(/ Gecko\/\d+/),t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isAIR=0<=s.indexOf("AdobeAIR"),t.isIPad=0<=s.indexOf("iPad"),t.isChromeOS=0<=s.indexOf(" CrOS "),t.isIOS=/iPad|iPhone|iPod/.test(s)&&!window.MSStream,t.isIOS&&(t.isMac=!0)}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,u,t){"use strict";function o(e,t,i){var n=h(t);if(!d.isMac&&l){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(n|=8),l.altGr){if(3==(3&n))return;l.altGr=0}if(18===i||17===i){var s="location"in t?t.location:t.keyLocation;if(17===i&&1===s)1==l[i]&&(c=t.timeStamp);else if(18===i&&3===n&&2===s){t.timeStamp-c<50&&(l.altGr=!0)}}}if((i in a.MODIFIER_KEYS&&(i=-1),8&n&&91<=i&&i<=93&&(i=-1),!n&&13===i)&&(3===(s="location"in t?t.location:t.keyLocation)&&(e(t,n,-i),t.defaultPrevented)))return;if(d.isChromeOS&&8&n){if(e(t,n,i),t.defaultPrevented)return;n&=-9}return!!(n||i in a.FUNCTION_KEYS||i in a.PRINTABLE_KEYS)&&e(t,n,i)}function r(){l=Object.create(null)}var a=e("./keys"),d=e("./useragent"),l=null,c=0;u.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var n=function(){i.call(e,window.event)};i._wrapper=n,e.attachEvent("on"+t,n)}},u.removeListener=function(e,t,i){if(e.removeEventListener)return e.removeEventListener(t,i,!1);e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i)},u.stopEvent=function(e){return u.stopPropagation(e),u.preventDefault(e),!1},u.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},u.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},u.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||d.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},u.capture=function(e,t,i){function n(e){t&&t(e),i&&i(e),u.removeListener(document,"mousemove",t,!0),u.removeListener(document,"mouseup",n,!0),u.removeListener(document,"dragstart",n,!0)}return u.addListener(document,"mousemove",t,!0),u.addListener(document,"mouseup",n,!0),u.addListener(document,"dragstart",n,!0),n},u.addTouchMoveListener=function(e,n){var s,o;u.addListener(e,"touchstart",function(e){var t=e.touches[0];s=t.clientX,o=t.clientY}),u.addListener(e,"touchmove",function(e){var t=e.touches;if(!(1<t.length)){var i=t[0];e.wheelX=s-i.clientX,e.wheelY=o-i.clientY,s=i.clientX,o=i.clientY,n(e)}})},u.addMouseWheelListener=function(e,t){"onmousewheel"in e?u.addListener(e,"mousewheel",function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}):"onwheel"in e?u.addListener(e,"wheel",function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}):u.addListener(e,"DOMMouseScroll",function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)})},u.addMultiMouseDownListener=function(e,i,n,s){function t(e){if(0!==u.getButton(e)?c=0:1<e.detail?4<++c&&(c=1):c=1,d.isIE){var t=5<Math.abs(e.clientX-r)||5<Math.abs(e.clientY-a);l&&!t||(c=1),l&&clearTimeout(l),l=setTimeout(function(){l=null},i[c-1]||600),1==c&&(r=e.clientX,a=e.clientY)}if(e._clicks=c,n[s]("mousedown",e),4<c)c=0;else if(1<c)return n[s](h[c],e)}function o(e){c=2,l&&clearTimeout(l),l=setTimeout(function(){l=null},i[c-1]||600),n[s]("mousedown",e),n[s](h[c],e)}var r,a,l,c=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach(function(e){u.addListener(e,"mousedown",t),d.isOldIE&&u.addListener(e,"dblclick",o)})};var h=!d.isMac||!d.isOpera||"KeyboardEvent"in window?function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}:function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)};if(u.getModifierString=function(e){return a.KEY_MODS[h(e)]},u.addCommandKeyListener=function(e,i){var t=u.addListener;if(d.isOldGecko||d.isOpera&&!("KeyboardEvent"in window)){var n=null;t(e,"keydown",function(e){n=e.keyCode}),t(e,"keypress",function(e){return o(i,e,n)})}else{var s=null;t(e,"keydown",function(e){l[e.keyCode]=(l[e.keyCode]||0)+1;var t=o(i,e,e.keyCode);return s=e.defaultPrevented,t}),t(e,"keypress",function(e){s&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(u.stopEvent(e),s=null)}),t(e,"keyup",function(e){l[e.keyCode]=null}),l||(r(),t(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!d.isOldIE){u.nextTick=function(i,n){n=n||window;var s="zero-timeout-message-1";u.addListener(n,"message",function e(t){t.data==s&&(u.stopPropagation(t),u.removeListener(n,"message",e),i())}),n.postMessage(s,"*")}}u.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),u.nextFrame?u.nextFrame=u.nextFrame.bind(window):u.nextFrame=function(e){setTimeout(e,17)}}),ace.define("ace/range",["require","exports","module"],function(e,t,i){"use strict";var o=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)i={row:e,column:0};if(this.start.row>t)var n={row:t+1,column:0};else if(this.start.row<e)n={row:e,column:0};return o.fromPoints(n||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var n={row:e,column:t};else var s={row:e,column:t};return o.fromPoints(n||this.start,s||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return o.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new o(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new o(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new o(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(o.prototype),o.fromPoints=function(e,t){return new o(e.row,e.column,t.row,t.column)},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},o.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=o}),ace.define("ace/lib/lang",["require","exports","module"],function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";0<t;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var n in i={},t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,function(e){i.push({offset:arguments[arguments.length-2],length:e.length})}),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return(n.schedule=n).call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},(s.schedule=s).call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}}),ace.define("ace/keyboard/textinput_ios",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/lib/keys"],function(e,t,i){"use strict";var T=e("../lib/event"),_=e("../lib/useragent"),E=e("../lib/dom"),M=e("../lib/lang"),I=e("../lib/keys"),F=I.KEY_MODS,O=_.isChrome<18,B=_.isIE;t.TextInput=function(e,l){function n(e){if(!a){if(a=!0,m)t=0,i=e?0:h.value.length-1;else var t=4,i=5;try{h.setSelectionRange(t,i)}catch(e){}a=!1}}function s(){a||(h.value=t,_.isWebKit&&p.schedule())}function c(){clearTimeout(C),C=setTimeout(function(){u&&(h.style.cssText=u,u=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}var h=E.createElement("textarea");h.className=_.isIOS?"ace_text-input ace_text-input-ios":"ace_text-input",_.isTouchPad&&h.setAttribute("x-palm-disable-auto-cap",!0),h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",e.insertBefore(h,e.firstChild);var t="\n aaaa a\n",o=!1,r=!1,i=!1,a=!1,u="",d=!0;try{var g=document.activeElement===h}catch(e){}T.addListener(h,"blur",function(e){l.onBlur(e),g=!1}),T.addListener(h,"focus",function(e){g=!0,l.onFocus(e),n()}),this.focus=function(){if(u)return h.focus();h.style.position="fixed",h.focus()},this.blur=function(){h.blur()},this.isFocused=function(){return g};var f=M.delayedCall(function(){g&&n(d)}),p=M.delayedCall(function(){a||(h.value=t,g&&n())});_.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=d&&(d=!d,f.schedule())}),s(),g&&l.onFocus();var m=null;this.setInputHandler=function(e){m=e};var b=(this.getInputHandler=function(){return m},!1),v=function(e){4===h.selectionStart&&5===h.selectionEnd||(m&&(e=m(e),m=null),i?(n(),e&&l.onPaste(e),i=!1):e==t.substr(0)&&4===h.selectionStart?b?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):o||(e.substring(0,9)==t&&e.length>t.length?e=e.substr(9):e.substr(0,4)==t.substr(0,4)?e=e.substr(4,e.length-t.length+1):e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e!=t.charAt(0)&&e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e&&l.onTextInput(e)),o&&(o=!1),b&&(b=!1))},w=function(e){if(!a){var t=h.value;v(t),s()}},y=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!O){var s=B||i?"Text":"text/plain";try{return t?!1!==n.setData(s,t):n.getData(s)}catch(e){if(!i)return y(e,t,!0)}}},k=function(e,t){var i=l.getCopyText();if(!i)return T.preventDefault(e);y(e,i)?(_.isIOS&&(r=t,h.value="\n aa"+i+"a a\n",h.setSelectionRange(4,4+i.length),o={value:i}),t?l.onCut():l.onCopy(),_.isIOS||T.preventDefault(e)):(o=!0,h.value=i,h.select(),setTimeout(function(){o=!1,s(),n(),t?l.onCut():l.onCopy()}))};T.addCommandKeyListener(h,l.onCommandKey.bind(l)),T.addListener(h,"select",function(e){!function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length}(h)?m&&n(l.selection.isEmpty()):(l.selectAll(),n())}),T.addListener(h,"input",w),T.addListener(h,"cut",function(e){k(e,!0)}),T.addListener(h,"copy",function(e){k(e,!1)}),T.addListener(h,"paste",function(e){var t=y(e);"string"==typeof t?(t&&l.onPaste(t,e),_.isIE&&setTimeout(n),T.preventDefault(e)):(h.value="",i=!0)});var S=function(){if(a&&l.onCompositionUpdate&&!l.$readOnly){var e=h.value.replace(/\x01/g,"");if(a.lastValue!==e&&(l.onCompositionUpdate(e),a.lastValue&&l.undo(),a.canUndo&&(a.lastValue=e),a.lastValue)){var t=l.selection.getRange();l.insert(a.lastValue),l.session.markUndoGroup(),a.range=l.selection.getRange(),l.selection.setRange(t),l.selection.clearSelection()}}},x=function(e){if(l.onCompositionEnd&&!l.$readOnly){var t=a;a=!1;var i=setTimeout(function(){i=null;var e=h.value.replace(/\x01/g,"");a||(e==t.lastValue?s():!t.lastValue&&e&&(s(),v(e)))});m=function(e){return i&&clearTimeout(i),(e=e.replace(/\x01/g,""))==t.lastValue?"":(t.lastValue&&i&&l.undo(),e)},l.onCompositionEnd(),l.removeListener("mousedown",x),"compositionend"==e.type&&t.range&&l.selection.setRange(t.range),(_.isChrome&&53<=_.isChrome||_.isWebKit&&603<=_.isWebKit)&&w()}},$=M.delayedCall(S,50);T.addListener(h,"compositionstart",function(e){a||!l.onCompositionStart||l.$readOnly||((a={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(S,0),l.on("mousedown",x),a.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())}),T.addListener(h,"compositionupdate",function(){$.schedule()}),T.addListener(h,"keyup",function(){$.schedule()}),T.addListener(h,"keydown",function(){$.schedule()}),T.addListener(h,"compositionend",x),this.getElement=function(){return h},this.setReadOnly=function(e){h.readOnly=e},this.onContextMenu=function(e){b=!0,n(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,t){u||(u=h.style.cssText),h.style.cssText=(t?"z-index:100000;":"")+"height:"+h.style.height+";"+(_.isIE?"opacity:0.1;":"");var i=l.container.getBoundingClientRect(),n=E.computedStyle(l.container),s=i.top+(parseInt(n.borderTopWidth)||0),o=i.left+(parseInt(i.borderLeftWidth)||0),r=i.bottom-s-h.clientHeight-2,a=function(e){h.style.left=e.clientX-o-2+"px",h.style.top=Math.min(e.clientY-s-2,r)+"px"};a(e),"mousedown"==e.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(C),_.isWin&&T.capture(l.container,a,c))},this.onContextMenuClose=c;var C,L=function(e){l.textInput.onContextMenu(e),c()};if(T.addListener(h,"mouseup",L),T.addListener(h,"mousedown",function(e){e.preventDefault(),c()}),T.addListener(l.renderer.scroller,"contextmenu",L),T.addListener(h,"contextmenu",L),_.isIOS){var A=null,R=!1;e.addEventListener("keydown",function(e){A&&clearTimeout(A),R=!0}),e.addEventListener("keyup",function(e){A=setTimeout(function(){R=!1},100)});var D=function(e){if(document.activeElement===h&&!R){if(r)return setTimeout(function(){r=!1},100);var t=h.selectionStart,i=h.selectionEnd;if(h.setSelectionRange(4,5),t==i)switch(t){case 0:l.onCommandKey(null,0,I.up);break;case 1:l.onCommandKey(null,0,I.home);break;case 2:l.onCommandKey(null,F.option,I.left);break;case 4:l.onCommandKey(null,0,I.left);break;case 5:l.onCommandKey(null,0,I.right);break;case 7:l.onCommandKey(null,F.option,I.right);break;case 8:l.onCommandKey(null,0,I.end);break;case 9:l.onCommandKey(null,0,I.down)}else{switch(i){case 6:l.onCommandKey(null,F.shift,I.right);break;case 7:l.onCommandKey(null,F.shift|F.option,I.right);break;case 8:l.onCommandKey(null,F.shift,I.end);break;case 9:l.onCommandKey(null,F.shift,I.down)}switch(t){case 0:l.onCommandKey(null,F.shift,I.up);break;case 1:l.onCommandKey(null,F.shift,I.home);break;case 2:l.onCommandKey(null,F.shift|F.option,I.left);break;case 3:l.onCommandKey(null,F.shift,I.left)}}}};document.addEventListener("selectionchange",D),l.on("destroy",function(){document.removeEventListener("selectionchange",D)})}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/keyboard/textinput_ios"],function(e,t,i){"use strict";var E=e("../lib/event"),M=e("../lib/useragent"),I=e("../lib/dom"),F=e("../lib/lang"),O=M.isChrome<18,B=M.isIE,P=63<M.isChrome,W=e("./textinput_ios").TextInput;t.TextInput=function(e,l){function n(e){if(e=!g&&e,!a){if(a=!0,v)var t=0,i=e?0:h.value.length-1;else t=e?2:1,i=2;try{h.setSelectionRange(t,i)}catch(e){}a=!1}}function s(){a||(h.value=t,M.isWebKit&&b.schedule())}function c(){clearTimeout(T),T=setTimeout(function(){u&&(h.style.cssText=u,u=""),null==l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=!0,l.renderer.$moveTextAreaToCursor())},0)}if(M.isIOS)return W.call(this,e,l);var h=I.createElement("textarea");h.className="ace_text-input",h.setAttribute("wrap","off"),h.setAttribute("autocorrect","off"),h.setAttribute("autocapitalize","off"),h.setAttribute("spellcheck",!1),h.style.opacity="0",e.insertBefore(h,e.firstChild);var t=M.isIE?"":"\u2028\u2028",o=M.isIE?/\x01/g:/\u2028/g,r=!1,i=!1,a=!1,u="",d=!0,g=!1,f=!1;try{var p=document.activeElement===h}catch(e){}E.addListener(h,"blur",function(e){l.onBlur(e),p=!1}),E.addListener(h,"focus",function(e){p=!0,l.onFocus(e),n()}),this.$focusScroll=!1,this.focus=function(){if(u||P||"browser"==this.$focusScroll)return h.focus({preventScroll:!0});var e=h.style.top;h.style.position="fixed",h.style.top="0px";var t=0!=h.getBoundingClientRect().top,i=[];if(t)for(var n=h.parentElement;n;)i.push(n),n.setAttribute("ace_nocontext",!0),n=n.parentElement;h.focus({preventScroll:!0}),t&&i.forEach(function(e){e.removeAttribute("ace_nocontext")}),setTimeout(function(){h.style.position="","0px"==h.style.top&&(h.style.top=e)},0)},this.blur=function(){h.blur()},this.isFocused=function(){return p};var m=F.delayedCall(function(){p&&n(d)}),b=F.delayedCall(function(){a||(h.value=t,p&&n())});M.isWebKit||l.addEventListener("changeSelection",function(){l.selection.isEmpty()!=d&&(d=!d,m.schedule())}),s(),p&&l.onFocus();var v=null;this.setInputHandler=function(e){v=e};var w=(this.getInputHandler=function(){return v},!1),y=function(e){v&&(e=v(e),v=null),i?(n(),e&&l.onPaste(e),i=!1):e==t.charAt(0)?w?l.execCommand("del",{source:"ace"}):l.execCommand("backspace",{source:"ace"}):(e.substring(0,2)==t?e=e.substr(2):e.charAt(0)==t.charAt(0)?e=e.substr(1):e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)==t.charAt(0)&&(e=e.slice(0,-1)),e&&l.onTextInput(e)),w&&(w=!1)},k=function(e){if(!a){var t=h.value;y(t),s()}},S=function(e,t,i){var n=e.clipboardData||window.clipboardData;if(n&&!O){var s=B||i?"Text":"text/plain";try{return t?!1!==n.setData(s,t):n.getData(s)}catch(e){if(!i)return S(e,t,!0)}}},x=function(e,t){var i=l.getCopyText();if(!i)return E.preventDefault(e);S(e,i)?(t?l.onCut():l.onCopy(),E.preventDefault(e)):(r=!0,h.value=i,h.select(),setTimeout(function(){r=!1,s(),n(),t?l.onCut():l.onCopy()}))},$=function(e){x(e,!0)},C=function(e){x(e,!1)},L=function(e){var t=S(e);"string"==typeof t?(t&&l.onPaste(t,e),M.isIE&&setTimeout(n),E.preventDefault(e)):(h.value="",i=!0)};E.addCommandKeyListener(h,l.onCommandKey.bind(l)),E.addListener(h,"select",function(e){r?r=!1:function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length}(h)?(l.selectAll(),n()):v&&n(l.selection.isEmpty())}),E.addListener(h,"input",k),E.addListener(h,"cut",$),E.addListener(h,"copy",C),E.addListener(h,"paste",L),(!("oncut"in h)||!("oncopy"in h)||!("onpaste"in h))&&E.addListener(e,"keydown",function(e){if((!M.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:C(e);break;case 86:L(e);break;case 88:$(e)}});var A=function(){if(a&&l.onCompositionUpdate&&!l.$readOnly){var e=h.value.replace(o,"");if(a.lastValue!==e&&(l.onCompositionUpdate(e),a.lastValue&&l.undo(),a.canUndo&&(a.lastValue=e),a.lastValue)){var t=l.selection.getRange();l.insert(a.lastValue),l.session.markUndoGroup(),a.range=l.selection.getRange(),l.selection.setRange(t),l.selection.clearSelection()}}},R=function(e){if(l.onCompositionEnd&&!l.$readOnly){var t=a;a=!1;var i=setTimeout(function(){i=null;var e=h.value.replace(o,"");a||(e==t.lastValue?s():!t.lastValue&&e&&(s(),y(e)))});v=function(e){return i&&clearTimeout(i),(e=e.replace(o,""))==t.lastValue?"":(t.lastValue&&i&&l.undo(),e)},l.onCompositionEnd(),l.removeListener("mousedown",R),"compositionend"==e.type&&t.range&&l.selection.setRange(t.range),(M.isIE||M.isChrome&&53<=M.isChrome||M.isWebKit&&603<=M.isWebKit)&&k()}},D=F.delayedCall(A,50);E.addListener(h,"compositionstart",function(e){a||!l.onCompositionStart||l.$readOnly||((a={}).canUndo=l.session.$undoManager,l.onCompositionStart(),setTimeout(A,0),l.on("mousedown",R),a.canUndo&&!l.selection.isEmpty()&&(l.insert(""),l.session.markUndoGroup(),l.selection.clearSelection()),l.session.markUndoGroup())}),E.addListener(h,"compositionupdate",function(){D.schedule()}),E.addListener(h,"keyup",function(){D.schedule()}),E.addListener(h,"keydown",function(){D.schedule()}),E.addListener(h,"compositionend",R),this.getElement=function(){return h},this.setCommandMode=function(e){f=e,h.readOnly=!1},this.setReadOnly=function(e){f||(h.readOnly=e)},this.setCopyWithEmptySelection=function(e){g=e},this.onContextMenu=function(e){w=!0,n(l.selection.isEmpty()),l._emit("nativecontextmenu",{target:l,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,t){u||(u=h.style.cssText),h.style.cssText=(t?"z-index:100000;":"")+"height:"+h.style.height+";"+(M.isIE?"opacity:0.1;":"");var i=l.container.getBoundingClientRect(),n=I.computedStyle(l.container),s=i.top+(parseInt(n.borderTopWidth)||0),o=i.left+(parseInt(i.borderLeftWidth)||0),r=i.bottom-s-h.clientHeight-2,a=function(e){h.style.left=e.clientX-o-2+"px",h.style.top=Math.min(e.clientY-s-2,r)+"px"};a(e),"mousedown"==e.type&&(l.renderer.$keepTextAreaAtCursor&&(l.renderer.$keepTextAreaAtCursor=null),clearTimeout(T),M.isWin&&E.capture(l.container,a,c))},this.onContextMenuClose=c;var T,_=function(e){l.textInput.onContextMenu(e),c()};E.addListener(h,"mouseup",_),E.addListener(h,"mousedown",function(e){e.preventDefault(),c()}),E.addListener(l.renderer.scroller,"contextmenu",_),E.addListener(h,"contextmenu",_)}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){t.$clickSelection=null;var e=t.editor;e.setDefaultHandler("mousedown",this.onMouseDown.bind(t)),e.setDefaultHandler("dblclick",this.onDoubleClick.bind(t)),e.setDefaultHandler("tripleclick",this.onTripleClick.bind(t)),e.setDefaultHandler("quadclick",this.onQuadClick.bind(t)),e.setDefaultHandler("mousewheel",this.onMouseWheel.bind(t)),e.setDefaultHandler("touchmove",this.onTouchMove.bind(t));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach(function(e){t[e]=this[e]},this),t.selectByLines=this.extendSelectionBy.bind(t,"getLineRange"),t.selectByWords=this.extendSelectionBy.bind(t,"getWordRange")}function l(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}e("../lib/dom"),e("../lib/event");var o=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor,s=e.getButton();return 0!==s?((n.getSelectionRange().isEmpty()||1==s)&&n.selection.moveToPosition(i),void(2==s&&(n.textInput.onContextMenu(e.domEvent),o.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimeout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,1<e.domEvent._clicks),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select")},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var s=l(this.$clickSelection,i);i=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),s=i.selection[e](n.row,n.column);if(this.$clickSelection){var o=this.$clickSelection.comparePoint(s.start),r=this.$clickSelection.comparePoint(s.end);if(-1==o&&r<=0)t=this.$clickSelection.end,s.end.row==n.row&&s.end.column==n.column||(n=s.start);else if(1==r&&0<=o)t=this.$clickSelection.start,s.start.row==n.row&&s.start.column==n.column||(n=s.end);else if(-1==o&&1==r)n=s.end,t=s.start;else{var a=l(this.$clickSelection,n);n=a.cursor,t=a.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(0<e||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var i=this.$lastScroll,n=e.domEvent.timeStamp,s=n-i.t,o=s?e.wheelX/s:i.vx,r=s?e.wheelY/s:i.vy;s<250&&(o=(o+i.vx)/2,r=(r+i.vy)/2);var a=Math.abs(o/r),l=!1;if(1<=a&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)i.allowed=n;else if(n-i.allowed<250){var c=Math.abs(o)<=1.1*Math.abs(i.vx)&&Math.abs(r)<=1.1*Math.abs(i.vy);i.allowed=c?(l=!0,n):0}return i.t=n,i.vx=o,i.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},this.onTouchMove=function(e){this.editor._emit("mousewheel",e)}}).call(n.prototype),t.DefaultHandlers=n}),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],function(e,t,i){"use strict";function n(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var s=e("./lib/dom");(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){s.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){s.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(n.prototype),t.Tooltip=n}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],function(e,t,i){"use strict";function n(e){r.call(this,e)}var s=e("../lib/dom"),o=e("../lib/oop"),f=e("../lib/event"),r=e("../tooltip").Tooltip;o.inherits(n,r),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();i<(e+=15)+s&&(e-=e+s-i),n<(t+=15)+o&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(n.prototype),t.GutterHandler=function(r){function a(){i&&(i=clearTimeout(i)),h&&(g.hide(),h=null,u._signal("hideGutterTooltip",g),u.removeEventListener("mousewheel",a))}function l(e){g.setPosition(e.x,e.y)}var i,c,h,u=r.editor,d=u.renderer.$gutterLayer,g=new n(u.container);r.editor.setDefaultHandler("guttermousedown",function(e){if(u.isFocused()&&0==e.getButton()&&"foldWidgets"!=d.getRegion(e)){var t=e.getDocumentPosition().row,i=u.session.selection;if(e.getShiftKey())i.selectTo(t,0);else{if(2==e.domEvent.detail)return u.selectAll(),e.preventDefault();r.$clickSelection=u.selection.getLineRange(t)}return r.setState("selectByLines"),r.captureMouse(e),e.preventDefault()}}),r.editor.setDefaultHandler("guttermousemove",function(e){var t=e.domEvent.target||e.domEvent.srcElement;if(s.hasCssClass(t,"ace_fold-widget"))return a();h&&r.$tooltipFollowsMouse&&l(e),c=e,i||(i=setTimeout(function(){i=null,c&&!r.isMousePressed?function(){var e=c.getDocumentPosition().row,t=d.$annotations[e];if(!t)return a();if(e==u.session.getLength()){var i=u.renderer.pixelToScreenCoordinates(0,c.y).row,n=c.$pos;if(i>u.session.documentToScreenRow(n.row,n.column))return a()}if(h!=t)if(h=t.text.join("<br/>"),g.setHtml(h),g.show(),u._signal("showGutterTooltip",g),u.on("mousewheel",a),r.$tooltipFollowsMouse)l(c);else{var s=c.domEvent.target.getBoundingClientRect(),o=g.getElement().style;o.left=s.right+"px",o.top=s.bottom+"px"}}():a()},50))}),f.addListener(u.renderer.$gutter,"mouseout",function(e){c=null,h&&!i&&(i=setTimeout(function(){i=null,a()},50))}),u.on("changeSession",a)}}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(e,t,i){"use strict";function n(t){function e(){var e=u;(function(e,t){var i=Date.now(),n=!t||e.row!=t.row,s=!t||e.column!=t.column;!v||n||s?(g.moveCursorToPosition(e),v=i,w={x:f,y:p}):5<x(w.x,w.y,f,p)?v=null:200<=i-v&&(g.renderer.scrollCursorIntoView(),v=null)})(u=g.renderer.screenToTextCoordinates(f,p),e),function(e,t){var i=Date.now(),n=g.renderer.layerConfig.lineHeight,s=g.renderer.layerConfig.characterWidth,o=g.renderer.scroller.getBoundingClientRect(),r={x:{left:f-o.left,right:o.right-f},y:{top:p-o.top,bottom:o.bottom-p}},a=Math.min(r.x.left,r.x.right),l=Math.min(r.y.top,r.y.bottom),c={row:e.row,column:e.column};a/s<=2&&(c.column+=r.x.left<r.x.right?-3:2),l/n<=1&&(c.row+=r.y.top<r.y.bottom?-1:1);var h=e.row!=c.row,u=e.column!=c.column,d=!t||e.row!=t.row;h||u&&!d?b?200<=i-b&&g.renderer.scrollCursorIntoView(c):b=i:b=null}(u,e)}function i(){h=g.selection.toOrientedRange(),l=g.session.addMarker(h,"ace_selection",g.getSelectionStyle()),g.clearSelection(),g.isFocused()&&g.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),e(),c=setInterval(e,20),k=0,C.addListener(document,"mousemove",s)}function n(){clearInterval(c),g.session.removeMarker(l),l=null,g.selection.fromOrientedRange(h),g.isFocused()&&!m&&g.renderer.$cursorLayer.setBlinking(!g.getReadOnly()),k=0,v=b=u=h=null,C.removeListener(document,"mousemove",s)}function s(){null==S&&(S=setTimeout(function(){null!=S&&l&&n()},20))}function o(e){var t=e.types;return!t||Array.prototype.some.call(t,function(e){return"text/plain"==e||"Text"==e})}function r(e){var t=["copy","copymove","all","uninitialized"],i=L.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return i&&0<=t.indexOf(n)?s="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(n)?s="move":0<=t.indexOf(n)&&(s="copy"),s}var g=t.editor,a=$.createElement("img");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",L.isOpera&&(a.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach(function(e){t[e]=this[e]},this),g.addEventListener("mousedown",this.onMouseDown.bind(t));var l,f,p,c,h,u,d,m,b,v,w,y=g.container,k=0;this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var t=this;return setTimeout(function(){t.startSelect(),t.captureMouse(e)},0),e.preventDefault()}h=g.getSelectionRange();var i=e.dataTransfer;i.effectAllowed=g.getReadOnly()?"copy":"copyMove",L.isOpera&&(g.container.appendChild(a),a.scrollTop=0),i.setDragImage&&i.setDragImage(a,0,0),L.isOpera&&g.container.removeChild(a),i.clearData(),i.setData("Text",g.session.getTextRange()),m=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,m=!1,this.setState(null),!g.getReadOnly()){var t=e.dataTransfer.dropEffect;!d&&"move"==t&&g.session.remove(g.getSelectionRange()),g.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!g.getReadOnly()&&o(e.dataTransfer))return f=e.clientX,p=e.clientY,l||i(),k++,e.dataTransfer.dropEffect=d=r(e),C.preventDefault(e)},this.onDragOver=function(e){if(!g.getReadOnly()&&o(e.dataTransfer))return f=e.clientX,p=e.clientY,l||(i(),k++),null!==S&&(S=null),e.dataTransfer.dropEffect=d=r(e),C.preventDefault(e)},this.onDragLeave=function(e){if(--k<=0&&l)return n(),d=null,C.preventDefault(e)},this.onDrop=function(e){if(u){var t=e.dataTransfer;if(m)switch(d){case"move":h=h.contains(u.row,u.column)?{start:u,end:u}:g.moveText(h,u);break;case"copy":h=g.moveText(h,u,!0)}else{var i=t.getData("Text");h={start:u,end:g.session.insert(u,i)},g.focus(),d=null}return n(),C.preventDefault(e)}},C.addListener(y,"dragstart",this.onDragStart.bind(t)),C.addListener(y,"dragend",this.onDragEnd.bind(t)),C.addListener(y,"dragenter",this.onDragEnter.bind(t)),C.addListener(y,"dragover",this.onDragOver.bind(t)),C.addListener(y,"dragleave",this.onDragLeave.bind(t)),C.addListener(y,"drop",this.onDrop.bind(t));var S=null}function x(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}var $=e("../lib/dom"),C=e("../lib/event"),L=e("../lib/useragent");(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=L.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;L.isIE&&"dragReady"==this.state&&(3<x(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&t.dragDrop());"dragWait"===this.state&&(0<x(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),t.getDragDelay()){if(L.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(n.prototype),t.DragdropHandler=n}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var s=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,i){var t=s.getDocumentHead(),n=document.createElement("script");n.src=e,t.appendChild(n),n.onload=n.onreadystatechange=function(e,t){!t&&n.readyState&&"loaded"!=n.readyState&&"complete"!=n.readyState||(n=n.onload=n.onreadystatechange=null,t||i())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(e,t,i){"use strict";var n={},o=function(){this.propagationStopped=!0},r=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=r),i=i.slice();for(var s=0;s<i.length&&(i[s](t,this),!t.propagationStopped);s++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(t,i){var n=this;i&&this.addEventListener(t,function e(){n.removeEventListener(t,e),i.apply(null,arguments)})},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t){i[e];n&&this.setDefaultHandler(e,n.pop())}else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){function n(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout(function(){throw i})}var o=e("./oop"),r=e("./event_emitter").EventEmitter,a={setOptions:function(t){Object.keys(t).forEach(function(e){this.setOption(e,t[e])},this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var i=this.$options;e=Object.keys(i).filter(function(e){return!i[e].hidden})}return e.forEach(function(e){t[e]=this.getOption(e)},this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];return i?i.forwardTo?this[i.forwardTo]&&this[i.forwardTo].setOption(e,t):(i.handlesSet||(this["$"+e]=t),void(i&&i.set&&i.set.call(this,t))):n('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,r),this.defineOptions=function(i,e,n){return i.$options||(this.$defaultOptions[e]=i.$options={}),Object.keys(n).forEach(function(e){var t=n[e];"string"==typeof t&&(t={forwardTo:t}),t.name||(t.name=e),"initialValue"in(i.$options[t.name]=t)&&(i["$"+t.name]=t.initialValue)}),o.implement(i,a),this},this.resetOptions=function(i){Object.keys(i.$options).forEach(function(e){var t=i.$options[e];"value"in t&&i.setOption(e,t.value)})},this.setDefaultValue=function(e,t,i){var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(t,i){Object.keys(i).forEach(function(e){this.setDefaultValue(t,e,i[e])},this)},this.warn=n,this.reportError=s}).call(l.prototype),t.AppConfig=l}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],function(f,p,m){var e=f("./lib/lang"),o=(f("./lib/oop"),f("./lib/net")),t=f("./lib/app_config").AppConfig;m.exports=p=new t;var b=function(){return this||"undefined"!=typeof window&&window}(),v={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};p.get=function(e){if(!v.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return v[e]},p.set=function(e,t){if(!v.hasOwnProperty(e))throw new Error("Unknown config key: "+e);v[e]=t},p.all=function(){return e.copyObject(v)},p.moduleUrl=function(e,t){if(v.$moduleUrls[e])return v.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",s=i[i.length-1];if("worker"==t&&"-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&1<i.length&&(s=i[i.length-2]);var r=v[t+"Path"];return null==r?r=v.basePath:"/"==n&&(t=n=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+n+s+this.get("suffix")},p.setModuleUrl=function(e,t){return v.$moduleUrls[e]=t},p.$loading={},p.loadModule=function(i,e){var t,n;Array.isArray(i)&&(n=i[0],i=i[1]);try{t=f(i)}catch(e){}if(t&&!p.$loading[i])return e&&e(t);if(p.$loading[i]||(p.$loading[i]=[]),p.$loading[i].push(e),!(1<p.$loading[i].length)){var s=function(){f([i],function(t){p._emit("load.module",{name:i,module:t});var e=p.$loading[i];p.$loading[i]=null,e.forEach(function(e){e&&e(t)})})};if(!p.get("packaged"))return s();o.loadScript(p.moduleUrl(i,n),s)}},p.init=function(e){if(b&&b.document){v.packaged=e||f.packaged||m.packaged||b.define&&w(50).packaged;for(var t={},i="",n=document.currentScript||document._currentScript,s=(n&&n.ownerDocument||document).getElementsByTagName("script"),o=0;o<s.length;o++){var r=s[o],a=r.src||r.getAttribute("src");if(a){for(var l=r.attributes,c=0,h=l.length;c<h;c++){var u=l[c];0===u.name.indexOf("data-ace-")&&(t[u.name.replace(/^data-ace-/,"").replace(/-(.)/g,function(e,t){return t.toUpperCase()})]=u.value)}var d=a.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);d&&(i=d[1])}}for(var g in i&&(t.base=t.base||i,t.packaged=!0),t.basePath=t.base,t.workerPath=t.workerPath||t.base,t.modePath=t.modePath||t.base,t.themePath=t.themePath||t.base,delete t.base,t)void 0!==t[g]&&p.set(g,t[g])}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],function(e,t,i){"use strict";var h=e("../lib/event"),u=e("../lib/useragent"),n=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,d=e("./mouse_event").MouseEvent,a=e("./dragdrop_handler").DragdropHandler,s=e("../config"),o=function(s){var o=this;this.editor=s,new n(this),new r(this),new a(this);var e=function(e){(!document.hasFocus||!document.hasFocus()||!s.isFocused()&&document.activeElement==(s.textInput&&s.textInput.getElement()))&&window.focus(),s.focus()},t=s.renderer.getMouseEventTarget();h.addListener(t,"click",this.onMouseEvent.bind(this,"click")),h.addListener(t,"mousemove",this.onMouseMove.bind(this,"mousemove")),h.addMultiMouseDownListener([t,s.renderer.scrollBarV&&s.renderer.scrollBarV.inner,s.renderer.scrollBarH&&s.renderer.scrollBarH.inner,s.textInput&&s.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent"),h.addMouseWheelListener(s.container,this.onMouseWheel.bind(this,"mousewheel")),h.addTouchMoveListener(s.container,this.onTouchMove.bind(this,"touchmove"));var i=s.renderer.$gutter;h.addListener(i,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),h.addListener(i,"click",this.onMouseEvent.bind(this,"gutterclick")),h.addListener(i,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),h.addListener(i,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),h.addListener(t,"mousedown",e),h.addListener(i,"mousedown",e),u.isIE&&s.renderer.scrollBarV&&(h.addListener(s.renderer.scrollBarV.element,"mousedown",e),h.addListener(s.renderer.scrollBarH.element,"mousedown",e)),s.on("mousemove",function(e){if(!o.state&&!o.$dragDelay&&o.$dragEnabled){var t=s.renderer.screenToTextCoordinates(e.x,e.y),i=s.session.selection.getRange(),n=s.renderer;!i.isEmpty()&&i.insideStart(t.row,t.column)?n.setCursorStyle("default"):n.setCursorStyle("")}})};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new d(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new d(t,this.editor))},this.onMouseWheel=function(e,t){var i=new d(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.onTouchMove=function(e,t){var i=new d(t,this.editor);i.speed=1,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor,n=this.editor.renderer;n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=null);var s=this,o=function(e){if(e)return u.isWebKit&&!e.which&&s.releaseMouse?s.releaseMouse():(s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new d(e,s.editor),void(s.$mouseMoved=!0))},r=function(e){i.off("beforeEndOperation",l),clearInterval(c),a(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",null==n.$keepTextAreaAtCursor&&(n.$keepTextAreaAtCursor=!0,n.$moveTextAreaToCursor()),s.isMousePressed=!1,s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e)},a=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(u.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout(function(){r(e)});var l=function(e){i.curOp.command.name&&i.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};i.on("beforeEndOperation",l),s.$onCaptureMouseMove=o,s.releaseMouse=h.capture(this.editor.container,o,r);var c=setInterval(a,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var t=function(e){e&&e.domEvent&&"contextmenu"!=e.domEvent.type||(this.editor.off("nativecontextmenu",t),e&&e.domEvent&&h.stopEvent(e.domEvent))}.bind(this);setTimeout(t,10),this.editor.on("nativecontextmenu",t)}}).call(o.prototype),s.defineOptions(o.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:u.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=o}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var o=e("../lib/dom");t.FoldHandler=function(r){r.on("click",function(e){var t=e.getDocumentPosition(),i=r.session,n=i.getFoldAt(t.row,t.column,1);n&&(e.getAccelKey()?i.removeFold(n):i.expandFold(n),e.stop());var s=e.domEvent&&e.domEvent.target;s&&o.hasCssClass(s,"ace_inline_button")&&o.hasCssClass(s,"ace_toggle_wrap")&&(i.setOption("wrap",!0),r.renderer.scrollCursorIntoView())}),r.on("gutterclick",function(e){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(e)){var t=e.getDocumentPosition().row,i=r.session;i.foldWidgets&&i.foldWidgets[t]&&r.session.onFoldWidgetClick(t,e),r.isFocused()||r.focus(),e.stop()}}),r.on("gutterdblclick",function(e){if("foldWidgets"==r.renderer.$gutterLayer.getRegion(e)){var t=e.getDocumentPosition().row,i=r.session,n=i.getParentFoldRangeData(t,!0),s=n.range||n.firstRange;if(s){t=s.start.row;var o=i.getFoldAt(t,i.getLine(t).length,1);o?i.removeFold(o):(i.addFold("...",s),r.renderer.scrollCursorIntoView({row:s.start.row,column:0}))}e.stop()}})}}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(e,t,i){"use strict";var s=e("../lib/keys"),l=e("../lib/event"),n=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var t=this.$data,i=t.editor;return this.$handlers.map(function(e){return e.getStatusText&&e.getStatusText(i,t)||""}).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var s,o=!1,r=this.$editor.commands,a=this.$handlers.length;a--&&!((s=this.$handlers[a].handleKeyboard(this.$data,e,t,i,n))&&s.command&&((o="null"==s.command||r.exec(s.command,this.$editor,s.args,n))&&n&&-1!=e&&1!=s.passEvent&&1!=s.command.passEvent&&l.stopEvent(n),o)););return!o&&-1==e&&(s={command:"insertstring"},o=r.exec("insertstring",this.$editor,t)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",s),o},this.onCommandKey=function(e,t,i){var n=s.keyCodeToString(i);this.$callKeyboardHandlers(t,n,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)}}).call(n.prototype),t.KeyBinding=n}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(e,l,t){"use strict";function c(e,t,i){if(!(v<e))if(1!=e||1!=b||y)for(var n,s,o,r,a=i.length,l=0;l<a;){if(t[l]>=e){for(n=l+1;n<a&&t[n]>=e;)n++;for(s=l,o=n-1;s<o;s++,o--)r=i[s],i[s]=i[o],i[o]=r;l=n}l++}else i.reverse()}function p(e,t,i,n){var s,o,r,a,l=t[n];switch(l){case u:case d:w=!1;case $:case f:return l;case g:return w?f:g;case A:return w=!0,d;case R:return $;case D:return n<1||n+1>=t.length||(s=i[n-1])!=g&&s!=f||(o=t[n+1])!=g&&o!=f?$:(w&&(o=f),o==s?o:$);case T:return(s=0<n?i[n-1]:C)==g&&n+1<t.length&&t[n+1]==g?g:$;case _:if(0<n&&i[n-1]==g)return g;if(w)return $;for(a=n+1,r=t.length;a<r&&t[a]==_;)a++;return a<r&&t[a]==g?g:$;case E:for(r=t.length,a=n+1;a<r&&t[a]==E;)a++;if(a<r){var c=e[n],h=1425<=c&&c<=2303||64286==c;if(s=t[a],h&&(s==d||s==A))return d}return n<1||(s=t[n-1])==C?$:i[n-1];case C:return y=!(w=!1),b;case L:return k=!0,$;case M:case I:case O:case B:case F:w=!1;case P:return $}}function m(e){var t=e.charCodeAt(0),i=t>>8;return 0==i?191<t?u:n[t]:5==i?/[\u0591-\u05f4]/.test(e)?d:u:6==i?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?E:/[\u0660-\u0669\u066b-\u066c]/.test(e)?f:1642==t?_:/[\u06f0-\u06f9]/.test(e)?g:A:32==i&&t<=8287?s[255&t]:254==i&&65136<=t?A:$}var b=0,v=0,w=!1,y=!1,k=!1,S=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],x=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],u=0,d=1,g=2,f=3,$=4,C=5,L=6,A=7,R=8,D=9,T=10,_=11,E=12,M=13,I=14,F=15,O=16,B=17,P=18,n=[P,P,P,P,P,P,P,P,P,L,C,L,R,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,C,C,C,L,R,$,$,_,_,_,$,$,$,$,$,T,D,T,D,D,g,g,g,g,g,g,g,g,g,g,D,$,$,$,$,$,$,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,$,$,$,$,$,$,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,$,$,$,$,P,P,P,P,P,P,C,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,P,D,$,_,_,_,_,$,$,$,$,u,$,$,P,$,$,_,_,g,g,$,u,$,$,$,g,u,$,$,$,$,$],s=[R,R,R,R,R,R,R,R,R,R,R,P,P,P,u,d,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,R,C,M,I,F,O,B,D,_,_,_,_,_,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,D,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,$,R];l.L=u,l.R=d,l.EN=g,l.ON_R=3,l.AN=4,l.R_H=5,l.B=6,l.DOT="",l.doBidiReorder=function(e,t,i){if(e.length<2)return{};var n=e.split(""),s=new Array(n.length),o=new Array(n.length),r=[];b=i?1:0,function(e,t,i,n){var s=b?x:S,o=null,r=null,a=null,l=0,c=null,h=-1,u=null,d=null,g=[];if(!n)for(u=0,n=[];u<i;u++)n[u]=m(e[u]);for(v=b,k=y=w=!1,d=0;d<i;d++){if(o=l,g[d]=r=p(e,n,g,d),c=240&(l=s[o][r]),l&=15,t[d]=a=s[l][5],0<c)if(16==c){for(u=h;u<d;u++)t[u]=1;h=-1}else h=-1;if(s[l][6])-1==h&&(h=d);else if(-1<h){for(u=h;u<d;u++)t[u]=a;h=-1}n[d]==C&&(t[d]=0),v|=a}if(k)for(u=0;u<i;u++)if(n[u]==L){t[u]=b;for(var f=u-1;0<=f&&n[f]==R;f--)t[f]=b}}(n,r,n.length,t);for(var a=0;a<s.length;s[a]=a,a++);c(2,r,s),c(1,r,s);for(a=0;a<s.length-1;a++)t[a]===f?r[a]=l.AN:r[a]===d&&(t[a]>A&&t[a]<M||t[a]===$||t[a]===P)?r[a]=l.ON_R:0<a&&""===n[a-1]&&/\u0622|\u0623|\u0625|\u0627/.test(n[a])&&(r[a-1]=r[a]=l.R_H,a++);n[n.length-1]===l.DOT&&(r[n.length-1]=l.B);for(a=0;a<s.length;a++)o[a]=r[s[a]];return{logicalFromVisual:s,bidiLevels:o}},l.hasBidiCharacters=function(e,t){for(var i=!1,n=0;n<e.length;n++)t[n]=m(e.charAt(n)),!i&&(t[n]==d||t[n]==A)&&(i=!0);return i},l.getVisualFromLogicalIdx=function(e,t){for(var i=0;i<t.logicalFromVisual.length;i++)if(t.logicalFromVisual[i]==e)return i;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang","ace/lib/useragent"],function(e,t,i){"use strict";var f=e("./lib/bidiutil"),r=e("./lib/lang"),n=e("./lib/useragent"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=f,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.line="",this.wrapIndent=0,this.isLastRow=!1,this.EOF="",this.seenBidi=!1};(function(){this.isBidiRow=function(e,t,i){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);0<=i&&(e=this.session.$docRowCache[i])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);0<this.currentRow-e&&(i=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===n;)n=i,e++;return e},this.updateRowLine=function(e,t){if(void 0===e&&(e=this.getDocumentRow()),this.wrapIndent=0,this.isLastRow=e===this.session.getLength()-1,this.line=this.session.getLine(e),this.session.$useWrapMode){var i=this.session.$wrapData[e];i&&(void 0===t&&(t=this.getSplitIndex()),0<t&&i.length?(this.wrapIndent=i.indent,this.line=t<i.length?this.line.substring(i[t-1],i[i.length-1]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[t]))}var n,s=this.session,o=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(e,t){return"\t"===e||s.isFullWidth(e.charCodeAt(0))?(n="\t"===e?s.getScreenTabSize(t+o):2,o+=n-1,r.stringRepeat(f.DOT,n)):e})},this.updateBidiMap=function(){var e=[],t=this.isLastRow?this.EOF:this.EOL,i=this.line+(this.showInvisibles?t:f.DOT);f.hasBidiCharacters(i,e)?this.bidiMap=f.doBidiReorder(i,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.seenBidi&&this.characterWidth!==e.$characterSize.width){var t=this.characterWidth=e.$characterSize.width,i=e.$measureCharWidth("");this.charWidths[f.L]=this.charWidths[f.EN]=this.charWidths[f.ON_R]=t,this.charWidths[f.R]=this.charWidths[f.AN]=i,this.charWidths[f.R_H]=n.isChrome?i:.45*i,this.charWidths[f.B]=0,this.currentRow=null}},this.getShowInvisibles=function(){return this.showInvisibles},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setTextDir=function(e){this.isRtlDir=e},this.getPosLeft=function(e){e-=this.wrapIndent;var t=f.getVisualFromLogicalIdx(0<e?e-1:0,this.bidiMap),i=this.bidiMap.bidiLevels,n=0;0===e&&i[t]%2!=0&&t++;for(var s=0;s<t;s++)n+=this.charWidths[i[s]];return 0!==e&&i[t]%2==0&&(n+=this.charWidths[i[t]]),this.wrapIndent&&(n+=this.wrapIndent*this.charWidths[f.L]),n},this.getSelections=function(e,t){for(var i,n,s=this.bidiMap,o=s.bidiLevels,r=this.wrapIndent*this.charWidths[f.L],a=[],l=Math.min(e,t)-this.wrapIndent,c=Math.max(e,t)-this.wrapIndent,h=!1,u=!1,d=0,g=0;g<o.length;g++)n=s.logicalFromVisual[g],i=o[g],(h=l<=n&&n<c)&&!u?d=r:!h&&u&&a.push({left:d,width:r-d}),r+=this.charWidths[i],u=h;return h&&g===o.length&&a.push({left:d,width:r-d}),a},this.offsetToCol=function(e){e=Math.max(e,0);var t=0,i=0,n=this.bidiMap.bidiLevels,s=this.charWidths[n[i]];for(this.wrapIndent&&(e-=this.wrapIndent*this.charWidths[f.L]);t+s/2<e;){if(t+=s,i===n.length-1){s=0;break}s=this.charWidths[n[++i]]}return(0<i&&n[i-1]%2!=0&&n[i]%2==0?(e<t&&i--,this.bidiMap.logicalFromVisual[i]):0<i&&n[i-1]%2==0&&n[i]%2!=0?1+(t<e?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===n.length-1&&0===s&&n[i-1]%2==0||!this.isRtlDir&&0===i&&n[i]%2!=0?1+this.bidiMap.logicalFromVisual[i]:(0<i&&n[i-1]%2!=0&&0!==s&&i--,this.bidiMap.logicalFromVisual[i]))+this.wrapIndent}}).call(o.prototype),t.BidiHandler=o}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(e,t,i){"use strict";var n=e("./lib/oop"),r=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)}),this.anchor.on("change",function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")})};(function(){n.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?o.fromPoints(t,t):this.isBackwards()?o.fromPoints(t,e):o.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var i=t?e.end:e.start,n=t?e.start:e.end;this.$setSelection(i.row,i.column,n.row,n.column)},this.$setSelection=function(e,t,i,n){this.$isEmpty;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(i,n),this.$isEmpty=!o.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged)&&this._emit("changeSelection")},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection(function(){this.moveCursorTo(e,t)})},this.selectToPosition=function(e){this.$moveSelection(function(){this.moveCursorToPosition(e)})},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return i=s?(n=s.start.row,s.end.row):n,!0===t?new o(n,0,i,this.session.getLine(i).length):new o(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,i){var n=e.column,s=e.column+t;return i<0&&(n=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(n,s).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)0<t.row&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,i,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,i,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);0<n&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var s=r.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(s)&&(i-=this.session.nonTokenRe.lastIndex,s=s.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(0<t&&this.moveCursorWordLeft());this.session.tokenRe.exec(s)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(s.lastIndex=0;(t=e[i])&&!s.test(t);)if(s.lastIndex=0,i++,n.test(t)){if(2<i){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(2<i)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){for(var o=this.doc.getLength();e++,n=this.doc.getLine(e),e<o&&/^\s*$/.test(n););/^\s+/.test(n)||(n=""),t=0}var r=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){for(;t--,n=this.doc.getLine(t),0<t&&/^\s*$/.test(n););i=n.length,/\s+$/.test(n)||(n="")}var s=r.stringReverse(n),o=this.$shortWordEndIndex(s);return this.moveCursorTo(t,i-o)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i,n=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(i=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(i/this.session.$bidiHandler.charWidths[0])):i=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column);var s=this.session.screenToDocumentPosition(n.row+e,n.column,i);0!==e&&0===t&&s.row===this.lead.row&&s.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[s.row]&&(0<s.row||0<e)&&s.row++,this.moveCursorTo(s.row,s.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var i=this.getCursor();return o.fromPoints(t,i)}catch(e){return o.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map(function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t});else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=o.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a}),ace.define("ace/tokenizer",["require","exports","module","ace/config"],function(e,t,i){"use strict";var n=e("./config"),v=2e3,s=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<i.length;l++){var c=i[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&(r="gi"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=1<u?this.$applyToken:c.token),1<u&&(h=/\\\d/.test(c.regex)?c.regex.replace(/\\([0-9]+)/g,function(e,t){return"\\"+(parseInt(t,10)+s+1)}):(u=1,this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),o[s]=l,s+=u,n.push(h),c.onMatch||(c.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach(function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)},this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){v=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],s=0,o=i.length;s<o;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,s=0,o=n.length;s<o;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,function(e,t){return t?"(?:":e})},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var r=0,a=!1,l={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,t,i,n,s,o){return a?a="]"!=s:s?a=!0:n?(r==l.stack&&(l.end=o+1,l.stack=-1),r--):i&&(r++,1!=i.length&&(l.stack=r,l.start=o)),e}),null!=l.end&&/^\)*$/.test(e.substr(l.end))&&(e=e.substring(0,l.start)+e.substr(l.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t)"#tmp"===(t=(i=t.slice(0))[0])&&(i.shift(),t=i.shift());else var i=[];var n=t||"start",s=this.states[n];s||(n="start",s=this.states[n]);for(var o,r=this.matchMappings[n],a=this.regExps[n],l=[],c=a.lastIndex=0,h=0,u={type:null,value:""};o=a.exec(e);){var d=r.defaultToken,g=null,f=o[0],p=a.lastIndex;if(p-f.length>c){var m=e.substring(c,p-f.length);u.type==d?u.value+=m:(u.type&&l.push(u),u={type:d,value:m})}for(var b=0;b<o.length-2;b++)if(void 0!==o[b+1]){d=(g=s[r[b]]).onMatch?g.onMatch(f,n,i,e):g.token,g.next&&(n="string"==typeof g.next?g.next:g.next(n,i),(s=this.states[n])||(this.reportError("state doesn't exist",n),n="start",s=this.states[n]),r=this.matchMappings[n],c=p,(a=this.regExps[n]).lastIndex=p),g.consumeLineEnd&&(c=p);break}if(f)if("string"==typeof d)g&&!1===g.merge||u.type!==d?(u.type&&l.push(u),u={type:d,value:f}):u.value+=f;else if(d){u.type&&l.push(u),u={type:null,value:""};for(b=0;b<d.length;b++)l.push(d[b])}if(c==e.length)break;if(c=p,h++>v){for(h>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)u.type&&l.push(u),u={value:e.substring(c,c+=2e3),type:"overflow"};n="start",i=[];break}}return u.type&&l.push(u),1<i.length&&i[0]!==n&&i.unshift("#tmp",n),{tokens:l,state:i.length?i:n}},this.reportError=n.reportError}).call(s.prototype),t.Tokenizer=s}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],function(e,t,i){"use strict";var c=e("../lib/lang"),n=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var o=n[s];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,n,s){var o="function"==typeof e?(new e).getRules():e;if(n)for(var r=0;r<n.length;r++)n[r]=t+n[r];else for(var a in n=[],o)n.push(t+a);if(this.addRules(o,t),i){var l=Array.prototype[s?"push":"unshift"];for(r=0;r<n.length;r++)l.apply(this.$rules[n[r]],c.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var g=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},f=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var u=0,d=this.$rules;Object.keys(d).forEach(function e(t){var i=d[t];i.processed=!0;for(var n=0;n<i.length;n++){var s=i[n],o=null;Array.isArray(s)&&(o=s,s={}),!s.regex&&s.start&&(s.regex=s.start,s.next||(s.next=[]),s.next.push({defaultToken:s.token},{token:s.token+".end",regex:s.end||s.start,next:"pop"}),s.token=s.token+".start",s.push=!0);var r=s.next||s.push;if(r&&Array.isArray(r)){var a=s.stateName;a||("string"!=typeof(a=s.token)&&(a=a[0]||""),d[a]&&(a+=u++)),d[a]=r,e(s.next=a)}else"pop"==r&&(s.next=f);if(s.push&&(s.nextState=s.next||s.push,s.next=g,delete s.push),s.rules)for(var l in s.rules)d[l]?d[l].push&&d[l].push.apply(d[l],s.rules[l]):d[l]=s.rules[l];var c="string"==typeof s?s:s.include;if(c&&(o=Array.isArray(c)?c.map(function(e){return d[e]}):d[c]),o){var h=[n,1].concat(o);s.noEscape&&(h=h.filter(function(e){return!e.next})),i.splice.apply(i,h),n--}s.keywordMap&&(s.token=this.createKeywordMapper(s.keywordMap,s.defaultToken||"text",s.caseInsensitive),delete s.defaultToken)}},this)},this.createKeywordMapper=function(s,t,o,r){var a=Object.create(null);return Object.keys(s).forEach(function(e){var t=s[e];o&&(t=t.toLowerCase());for(var i=t.split(r||"|"),n=i.length;n--;)a[i[n]]=e}),Object.getPrototypeOf(a)&&(a.__proto__=null),this.$keywordList=Object.keys(a),s=null,o?function(e){return a[e.toLowerCase()]||t}:function(e){return a[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(n.prototype),t.TextHighlightRules=n}),ace.define("ace/mode/behaviour",["require","exports","module"],function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}}).call(n.prototype),t.Behaviour=n}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(e,t,i){"use strict";var n=e("./range").Range,s=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;0<t;)i+=e[t-=1].value.length;return i},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new n(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(e,t,i){"use strict";var f,n=e("../../lib/oop"),s=e("../behaviour").Behaviour,o=e("../../token_iterator").TokenIterator,p=e("../../lib/lang"),r=["text","paren.rparen","punctuation.operator"],a=["text","paren.rparen","punctuation.operator","comment"],l={},k={'"':'"',"'":"'"},S=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,l.rangeCount!=e.multiSelect.rangeCount&&(l={rangeCount:e.multiSelect.rangeCount})),l[t])return f=l[t];f=l[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},x=function(e,t,i,n){var s=e.end.row-e.start.row;return{text:i+t+n,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},m=function(g){this.add("braces","insertion",function(e,t,i,n,s){var o=i.getCursorPosition(),r=n.doc.getLine(o.row);if("{"==s){S(i);var a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&"{"!==l&&i.getWrapBehavioursEnabled())return x(a,l,"{","}");if(m.isSaneInsertion(i,n))return/[\]\}\)]/.test(r[o.column])||i.inMultiSelectMode||g&&g.braces?(m.recordAutoInsert(i,n,"}"),{text:"{}",selection:[1,1]}):(m.recordMaybeInsert(i,n,"{"),{text:"{",selection:[1,1]})}else if("}"==s){if(S(i),"}"==r.substring(o.column,o.column+1))if(null!==n.$findOpeningBracket("}",{column:o.column+1,row:o.row})&&m.isAutoInsertedClosing(o,r,s))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==s||"\r\n"==s){S(i);var c="";if(m.isMaybeInsertedClosing(o,r)&&(c=p.stringRepeat("}",f.maybeInsertedBrackets),m.clearMaybeInsertedClosing()),"}"===r.substring(o.column,o.column+1)){var h=n.findMatchingBracket({row:o.row,column:o.column+1},"}");if(!h)return null;var u=this.$getIndent(n.getLine(h.row))}else{if(!c)return void m.clearMaybeInsertedClosing();u=this.$getIndent(r)}var d=u+n.getTabString();return{text:"\n"+d+"\n"+u+c,selection:[1,d.length,1,d.length]}}m.clearMaybeInsertedClosing()}}),this.add("braces","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==o){if(S(i),"}"==n.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;f.maybeInsertedBrackets--}}),this.add("parens","insertion",function(e,t,i,n,s){if("("==s){S(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return x(o,r,"(",")");if(m.isSaneInsertion(i,n))return m.recordAutoInsert(i,n,")"),{text:"()",selection:[1,1]}}else if(")"==s){S(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,s))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("parens","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"("==o&&(S(i),")"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s}),this.add("brackets","insertion",function(e,t,i,n,s){if("["==s){S(i);var o=i.getSelectionRange(),r=n.doc.getTextRange(o);if(""!==r&&i.getWrapBehavioursEnabled())return x(o,r,"[","]");if(m.isSaneInsertion(i,n))return m.recordAutoInsert(i,n,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){S(i);var a=i.getCursorPosition(),l=n.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1))if(null!==n.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&m.isAutoInsertedClosing(a,l,s))return m.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}),this.add("brackets","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&"["==o&&(S(i),"]"==n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s}),this.add("string_dquotes","insertion",function(e,t,i,n,s){var o=n.$mode.$quotes||k;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;S(i);var r=s,a=i.getSelectionRange(),l=n.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&i.getWrapBehavioursEnabled())return x(a,l,r,r);if(!l){var c=i.getCursorPosition(),h=n.doc.getLine(c.row),u=h.substring(c.column-1,c.column),d=h.substring(c.column,c.column+1),g=n.getTokenAt(c.row,c.column),f=n.getTokenAt(c.row,c.column+1);if("\\"==u&&g&&/escape/.test(g.type))return null;var p,m=g&&/string|escape/.test(g.type),b=!f||/string|escape/.test(f.type);if(d==r)(p=m!==b)&&/string\.end/.test(f.type)&&(p=!1);else{if(m&&!b)return null;if(m&&b)return null;var v=n.$mode.tokenRe;v.lastIndex=0;var w=v.test(u);v.lastIndex=0;var y=v.test(u);if(w||y)return null;if(d&&!/[\s;,.})\]\\]/.test(d))return null;p=!0}return{text:p?r+r:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(e,t,i,n,s){var o=n.doc.getTextRange(s);if(!s.isMultiLine()&&('"'==o||"'"==o)&&(S(i),n.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==o))return s.end.column++,s})};m.isSaneInsertion=function(e,t){var i=e.getCursorPosition(),n=new o(t,i.row,i.column);if(!this.$matchTokenType(n.getCurrentToken()||"text",r)){var s=new o(t,i.row,i.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",r))return!1}return n.stepForward(),n.getCurrentTokenRow()!==i.row||this.$matchTokenType(n.getCurrentToken()||"text",a)},m.$matchTokenType=function(e,t){return-1<t.indexOf(e.type||e)},m.recordAutoInsert=function(e,t,i){var n=e.getCursorPosition(),s=t.doc.getLine(n.row);this.isAutoInsertedClosing(n,s,f.autoInsertedLineEnd[0])||(f.autoInsertedBrackets=0),f.autoInsertedRow=n.row,f.autoInsertedLineEnd=i+s.substr(n.column),f.autoInsertedBrackets++},m.recordMaybeInsert=function(e,t,i){var n=e.getCursorPosition(),s=t.doc.getLine(n.row);this.isMaybeInsertedClosing(n,s)||(f.maybeInsertedBrackets=0),f.maybeInsertedRow=n.row,f.maybeInsertedLineStart=s.substr(0,n.column)+i,f.maybeInsertedLineEnd=s.substr(n.column),f.maybeInsertedBrackets++},m.isAutoInsertedClosing=function(e,t,i){return 0<f.autoInsertedBrackets&&e.row===f.autoInsertedRow&&i===f.autoInsertedLineEnd[0]&&t.substr(e.column)===f.autoInsertedLineEnd},m.isMaybeInsertedClosing=function(e,t){return 0<f.maybeInsertedBrackets&&e.row===f.maybeInsertedRow&&t.substr(e.column)===f.maybeInsertedLineEnd&&t.substr(0,e.column)==f.maybeInsertedLineStart},m.popAutoInsertedClosing=function(){f.autoInsertedLineEnd=f.autoInsertedLineEnd.substr(1),f.autoInsertedBrackets--},m.clearMaybeInsertedClosing=function(){f&&(f.maybeInsertedBrackets=0,f.maybeInsertedRow=-1)},n.inherits(m,s),t.CstyleBehaviour=m}),ace.define("ace/unicode",["require","exports","module"],function(e,t,i){"use strict";for(var n=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<n.length;r+=2)o.push(s+=n[r]),n[r+1]&&o.push(45,s+=n[r+1]);t.wordChars=String.fromCharCode.apply(null,o)}),ace.define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var n=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour/cstyle").CstyleBehaviour,r=e("../unicode"),k=e("../lib/lang"),p=e("../token_iterator").TokenIterator,m=e("../range").Range,a=function(){this.HighlightRules=s};(function(){this.$defaultBehaviour=new o,this.tokenRe=new RegExp("^["+r.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+r.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,s,i,n){function t(e){for(var t=i;t<=n;t++)e(o.getLine(t),t)}var o=s.doc,r=!0,a=!0,l=1/0,c=s.getTabSize(),h=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))p=this.lineCommentStart.map(k.escapeRegExp).join("|"),g=this.lineCommentStart[0];else p=k.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;p=new RegExp("^(\\s*)(?:"+p+") ?"),h=s.getUseSoftTabs();v=function(e,t){var i=e.match(p);if(i){var n=i[1].length,s=i[0].length;!d(e,n,s)&&" "==i[0][s-1]&&s--,o.removeInLine(t,n,s)}};var u=g+" ",d=(b=function(e,t){r&&!/\S/.test(e)||(d(e,l,l)?o.insertInLine({row:t,column:l},u):o.insertInLine({row:t,column:l},g))},w=function(e,t){return p.test(e)},function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%c!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return 2<c?n%c!=c-1:n%c==0})}else{if(!this.blockComment)return!1;var g=this.blockComment.start,f=this.blockComment.end,p=new RegExp("^(\\s*)(?:"+k.escapeRegExp(g)+")"),m=new RegExp("(?:"+k.escapeRegExp(f)+")\\s*$"),b=function(e,t){w(e,t)||r&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},f),o.insertInLine({row:t,column:l},g))},v=function(e,t){var i;(i=e.match(m))&&o.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(p))&&o.removeInLine(t,i[1].length,i[0].length)},w=function(e,t){if(p.test(e))return!0;for(var i=s.getTokens(t),n=0;n<i.length;n++)if("comment"===i[n].type)return!0}}var y=1/0;t(function(e,t){var i=e.search(/\S/);-1!==i?(i<l&&(l=i),a&&!w(e,t)&&(a=!1)):y>e.length&&(y=e.length)}),l==1/0&&(l=y,a=r=!1),h&&l%c!=0&&(l=Math.floor(l/c)*c),t(a?v:b)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(g=new p(t,n.row,n.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var c,h;a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(s.start))){var u=g.getCurrentTokenRow(),d=g.getCurrentTokenColumn()+f;c=new m(u,d,u,d+s.start.length);break}a=g.stepBackward()}var g;for(a=(g=new p(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var f;if(-1!=(f=a.value.indexOf(s.end))){u=g.getCurrentTokenRow(),d=g.getCurrentTokenColumn()+f;h=new m(u,d,u,d+s.end.length);break}a=g.stepForward()}h&&t.remove(h),c&&(t.remove(c),o=c.start.row,r=-s.start.length)}else r=s.start.length,o=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var n in this.$embeds=[],this.$modes={},e)e[n]&&(this.$embeds.push(n),this.$modes[n]=new e[n]);var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(n=0;n<s.length;n++)!function(e){var t=s[n],i=e[t];e[s[n]]=function(){return this.$delegator(t,arguments,i)}}(this)},this.$delegator=function(e,t,i){var n=t[0];"string"!=typeof n&&(n=n[0]);for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var o=n.split(this.$embeds[s]);if(!o[0]&&o[1]){t[0]=o[1];var r=this.$modes[this.$embeds[s]];return r[e].apply(r,t)}}var a=i.apply(this,t);return i?a:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&i.push(s[o].regex);else if("object"==typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)if(/keyword|support|storage/.test(s[o].token[a])){n=s[o].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map(function(e){return{name:e,value:e,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(a.prototype),t.Mode=a}),ace.define("ace/apply_delta",["require","exports","module"],function(e,t,i){"use strict";t.applyDelta=function(e,t,i){var n=t.start.row,s=t.start.column,o=e[n]||"";switch(t.action){case"insert":if(1===t.lines.length)e[n]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[n,1].concat(t.lines);e.splice.apply(e,r),e[n]=o.substring(0,s)+e[n],e[n+t.lines.length-1]+=o.substring(s)}break;case"remove":var a=t.end.column,l=t.end.row;n===l?e[n]=o.substring(0,s)+o.substring(a):e.splice(n,l-n+1,o.substring(0,s)+e[l].substring(a))}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){function l(e,t,i){var n=i?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&n}n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var t=function(e,t,i){var n="insert"==e.action,s=(n?1:-1)*(e.end.row-e.start.row),o=(n?1:-1)*(e.end.column-e.start.column),r=e.start,a=n?r:e.end;return l(t,r,i)?{row:t.row,column:t.column}:l(a,t,!i)?{row:t.row+s,column:t.column+(t.row==a.row?o:0)}:{row:r.row,column:r.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,h=e("./range").Range,r=e("./anchor").Anchor,a=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){n.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new h(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new r(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var i=this.clippedPos(e.row,e.column),n=this.pos(e.row,e.column+t.length);return this.applyDelta({start:i,end:n,action:"insert",lines:[t]},!0),this.clonePos(n)},this.clippedPos=function(e,t){var i=this.getLength();void 0===e?e=i:e<0?e=0:i<=e&&(e=i-1,t=void 0);var n=this.getLine(e);return null==t&&(t=n.length),{row:e,column:t=Math.min(Math.max(t,0),n.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var i=0;i=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),0):(t=[""].concat(t),e--,this.$lines[e].length),this.insertMergedLines({row:e,column:i},t)},this.insertMergedLines=function(e,t){var i=this.clippedPos(e.row,e.column),n={row:i.row+t.length-1,column:(1==t.length?i.column:0)+t[t.length-1].length};return this.applyDelta({start:i,end:n,action:"insert",lines:t}),this.clonePos(n)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),i=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:i,action:"remove",lines:this.getLinesForRange({start:t,end:i})}),this.clonePos(t)},this.removeInLine=function(e,t,i){var n=this.clippedPos(e,t),s=this.clippedPos(e,i);return this.applyDelta({start:n,end:s,action:"remove",lines:this.getLinesForRange({start:n,end:s})},!0),this.clonePos(n)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var i=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,n=t<this.getLength()-1,s=i?e-1:e,o=i?this.getLine(s).length:0,r=n?t+1:t,a=n?0:this.getLine(r).length,l=new h(s,o,r,a),c=this.$lines.slice(e,t+1);return this.applyDelta({start:l.start,end:l.end,action:"remove",lines:this.getLinesForRange(l)}),c},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof h||(e=h.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var i="insert"==e.action;(i?e.lines.length<=1&&!e.lines[0]:!h.comparePoints(e.start,e.end))||(i&&2e4<e.lines.length&&this.$splitAndapplyLargeDelta(e,2e4),s(this.$lines,e,t),this._signal("change",e))},this.$splitAndapplyLargeDelta=function(e,t){for(var i=e.lines,n=i.length,s=e.start.row,o=e.start.column,r=0,a=0;;){r=a,a+=t-1;var l=i.slice(r,a);if(n<a){e.lines=l,e.start.row=s+r,e.start.column=o;break}l.push(""),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}},this.revertDelta=function(e){this.applyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,o=i.length;s<o;s++)if((e-=i[s].length+n)<0)return{row:s,column:e+i[s].length+n};return{row:o-1,column:i[o-1].length}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,i.length),r=t||0;r<o;++r)s+=i[r].length+n;return s+e.column}}).call(a.prototype),t.Document=a}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var a=this;this.$worker=function(){if(a.running){for(var e=new Date,t=a.currentLine,i=-1,n=a.doc,s=t;a.lines[t];)t++;var o=n.getLength(),r=0;for(a.running=!1;t<o;){for(a.$tokenizeRow(t),i=t;t++,a.lines[t];);if(++r%5==0&&20<new Date-e){a.running=setTimeout(a.$worker,20);break}}a.currentLine=t,-1==i&&(i=t),s<=i&&a.fireUpdateEvent(s,i)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,i=e.end.row-t;if(0==i)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,1+i,null),this.states.splice(t,1+i,null);else{var n=Array(1+i);n.unshift(t,1),this.lines.splice.apply(this.lines,n),this.states.splice.apply(this.states,n)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var c=e("./lib/lang"),h=(e("./lib/oop"),e("./range").Range),n=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,n){if(this.regExp)for(var s=n.firstRow,o=n.lastRow,r=s;r<=o;r++){var a=this.cache[r];null==a&&((a=c.getMatchOffsets(i.getLine(r),this.regExp)).length>this.MAX_RANGES&&(a=a.slice(0,this.MAX_RANGES)),a=a.map(function(e){return new h(r,e.offset,r,e.offset+e.length)}),this.cache[r]=a.length?a:"");for(var l=a.length;l--;)t.drawSingleLineMarker(e,a[l].toScreenRange(i),this.clazz,n)}}}).call(n.prototype),t.SearchHighlight=n}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(e,t,i){"use strict";function c(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(e){e.setFoldLine(this)},this)}var n=e("../range").Range;(function(){this.shiftRow=function(t){this.start.row+=t,this.end.row+=t,this.folds.forEach(function(e){e.start.row+=t,e.end.row+=t})},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort(function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)}),0<this.range.compareEnd(e.start.row,e.start.column)?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(n=r[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===s)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(-1==(n=(i=this.folds[s]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,s,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var r=(s=this.folds).indexOf(n);for(0===r&&(this.start.column+=i);r<s.length;r++){if((n=s[r]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=i.fold,s=this.folds,o=this.foldData,r=s.indexOf(n),a=s[r-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new c(o,s=s.splice(r,s.length-r));return o.splice(o.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var t=[this.range.toString()+": ["];return this.folds.forEach(function(e){t.push("  "+e.toString())}),t.push("]"),t.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(c.prototype),t.FoldLine=c}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(e,t,i){"use strict";var l=e("./range").Range.comparePoints,n=function(){this.ranges=[]};(function(){this.comparePoints=l,this.pointIndex=function(e,t,i){for(var n=this.ranges,s=i||0;s<n.length;s++){var o=n[s],r=l(e,o.end);if(!(0<r)){var a=l(e,o.start);return 0===r?t&&0!==a?-s-2:s:0<a||0===a&&!t?s:-s-1}}return-s-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.apply(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,n=(i=i.sort(function(e,t){return l(e.start,t.start)}))[0],s=1;s<i.length;s++){e=n,n=i[s];var o=l(e.end,n.start);o<0||(0!=o||e.isEmpty()||n.isEmpty())&&(l(e.end,n.end)<0&&(e.end.row=n.end.row,e.end.column=n.end.column),i.splice(s,1),t.push(n),n=e,s--)}return this.ranges=i,t},this.contains=function(e,t){return 0<=this.pointIndex({row:e,column:t})},this.containsPoint=function(e){return 0<=this.pointIndex(e)},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var o=[],r=n;r<s;r++)o.push(i[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){if("insert"==e.action)var t=e.start,i=e.end;else i=e.start,t=e.end;for(var n=t.row,s=i.row-n,o=-t.column+i.column,r=this.ranges,a=0,l=r.length;a<l;a++){if(!((c=r[a]).end.row<n)){if(c.start.row>n)break;if(c.start.row==n&&c.start.column>=t.column&&(c.start.column!=t.column||!this.$insertRight)&&(c.start.column+=o,c.start.row+=s),c.end.row==n&&c.end.column>=t.column){if(c.end.column==t.column&&this.$insertRight)continue;c.end.column==t.column&&0<o&&a<l-1&&c.end.column>c.start.column&&c.end.column==r[a+1].start.column&&(c.end.column-=o),c.end.column+=o,c.end.row+=s}}}if(0!=s&&a<l)for(;a<l;a++){var c;(c=r[a]).start.row+=s,c.end.row+=s}}}).call(n.prototype),t.RangeList=n}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],function(e,t,i){"use strict";function a(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function n(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}e("../range").Range;var s=e("../range_list").RangeList,o=e("../lib/oop"),r=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};o.inherits(r,s),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(t){this.foldLine=t,this.subFolds.forEach(function(e){e.setFoldLine(t)})},this.clone=function(){var e=this.range.clone(),t=new r(e,this.placeholder);return this.subFolds.forEach(function(e){t.subFolds.push(e.clone())}),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);!function(e,t){a(e.start,t),a(e.end,t)}(e,this.start);for(var t=e.start.row,i=e.start.column,n=0,s=-1;n<this.subFolds.length&&1==(s=this.subFolds[n].range.compare(t,i));n++);var o=this.subFolds[n];if(0==s)return o.addSubFold(e);t=e.range.end.row,i=e.range.end.column;var r=n;for(s=-1;r<this.subFolds.length&&1==(s=this.subFolds[r].range.compare(t,i));r++);this.subFolds[r];if(0==s)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(n,r-n,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){n(e.start,t),n(e.end,t)}(e,this.start)}}.call(r.prototype)}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],function(e,t,i){"use strict";var h=e("../range").Range,p=e("./fold_line").FoldLine,m=e("./fold").Fold,u=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,o=0;o<s.length;o++){var r=s[o];if(r.range.contains(e,t)){if(1==i&&r.range.isEnd(e,t))continue;if(-1==i&&r.range.isStart(e,t))continue;return r}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var r=n[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=n[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(r=c.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(c)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach(function(e){t=t.concat(this.getFoldsInRange(e))},this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==i?s.substring(0,t-r.end.column):1==i?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var o=i[s],r=o.end.row,a=o.start.row;if(t<=r){a<t&&(e<=a?n-=t-a:n=0);break}e<=r&&(n-=e<=a?r-a:r-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort(function(e,t){return e.start.row-t.start.row}),e},this.addFold=function(e,t){var i,n=this.$foldData,s=!1;e instanceof m?i=e:(i=new m(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var o=i.start.row,r=i.start.column,a=i.end.row,l=i.end.column;if(o<a||o==a&&r<=l-2){var c=this.getFoldAt(o,r,1),h=this.getFoldAt(a,l,-1);if(c&&h==c)return c.addSubFold(i);c&&!c.range.isStart(o,r)&&this.removeFold(c),h&&!h.range.isEnd(a,l)&&this.removeFold(h);var u=this.getFoldsInRange(i.range);0<u.length&&(this.removeFolds(u),u.forEach(function(e){i.addSubFold(e)}));for(var d=0;d<n.length;d++){var g=n[d];if(a==g.start.row){g.addFold(i),s=!0;break}if(o==g.end.row){if(g.addFold(i),s=!0,!i.sameRow){var f=n[d+1];if(f&&f.start.row==a){g.merge(f);break}}break}if(a<=g.start.row)break}return s||(g=this.$addFoldLine(new p(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:i,action:"add"}),i}throw new Error("The range has to be at least 2 characters width")},this.addFolds=function(e){e.forEach(function(e){this.addFold(e)},this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(e){t.restoreRange(e),this.addFold(e)},this),0<t.collapseChildren&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(e){e.forEach(function(e){this.expandFold(e)},this)},this.unfold=function(e,t){var i,n;if(null==e?(i=new h(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new h(e,0,e,this.getLine(e).length):"row"in e?h.fromPoints(e,e):e,n=this.getFoldsInRangeList(i),t)this.removeFolds(n);else for(var s=n;s.length;)this.expandFolds(s),s=this.getFoldsInRangeList(i);if(n.length)return n},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,s,o){null==s&&(s=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var r=this.doc,a="";return e.walk(function(e,t,i,n){if(!(t<s)){if(t==s){if(i<o)return;n=Math.max(o,n)}a+=null!=e?e:r.getLine(t).substring(n,i)}},t,i),a},this.getDisplayLine=function(e,t,i,n){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,n):(s=this.doc.getLine(e)).substring(n||0,t||s.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(e){var t=e.folds.map(function(e){return e.clone()});return new p(i,t)})},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var s=n.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(i=this.findMatchingBracket(s))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var r="...";if(!n.isMultiLine()){if((r=this.getTextRange(n)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,n)}},this.getCommentFoldRange=function(e,t,i){var n=new u(this,e,t),s=n.getCurrentToken(),o=s.type;if(s&&/^comment|string/.test(o)){"comment"==(o=o.match(/comment|string/)[0])&&(o+="|doc-start");var r=new RegExp(o),a=new h;if(1!=i){for(;(s=n.stepBackward())&&r.test(s.type););n.stepForward()}if(a.start.row=n.getCurrentTokenRow(),a.start.column=n.getCurrentTokenColumn()+2,n=new u(this,e,t),-1!=i){var l=-1;do{if(s=n.stepForward(),-1==l){var c=this.getState(n.$row);r.test(c)||(l=n.$row)}else if(n.$row>l)break}while(s&&r.test(s.type));s=n.stepBackward()}else s=n.getCurrentToken();return a.end.row=n.getCurrentTokenRow(),a.end.column=n.getCurrentTokenColumn()+s.value.length-2,a}},this.foldAll=function(e,t,i){null==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==n[s]&&(n[s]=this.getFoldWidget(s)),"start"==n[s]){var o=this.getFoldWidgetRange(s);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){s=o.end.row;try{var r=this.addFold("...",o);r&&(r.collapseChildren=i)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){"manual"==(this.$foldStyle=e)&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;0<=s;){var o=i[s];if(null==o&&(o=i[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(n||(n=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:n}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,i)){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s="end"===i?-1:1,o=this.getFoldAt(e,-1==s?0:n.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=r?r.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.start.row,i=e.end.row-t;if(0==i)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,1+i,null);else{var n=Array(1+i);n.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,n)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(e,t,i){"use strict";var u=e("../token_iterator").TokenIterator,a=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,s=i.charAt(e.column-1),o=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(o||(s=i.charAt(e.column),e={row:e.row,column:e.column+1},o=s&&s.match(/([\(\[\{])|([\)\]\}])/),n=!1),!o)return null;if(o[1]){if(!(r=this.$findClosingBracket(o[1],e)))return null;t=a.fromPoints(e,r),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var r;if(!(r=this.$findOpeningBracket(o[2],e)))return null;t=a.fromPoints(r,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var n=this.$brackets[e],s=1,o=new u(this,t.row,t.column),r=o.getCurrentToken();if(r||(r=o.stepForward()),r){i||(i=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var a=t.column-o.getCurrentTokenColumn()-2,l=r.value;;){for(;0<=a;){var c=l.charAt(a);if(c==n){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else c==e&&(s+=1);a-=1}for(;(r=o.stepBackward())&&!i.test(r.type););if(null==r)break;a=(l=r.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var n=this.$brackets[e],s=1,o=new u(this,t.row,t.column),r=o.getCurrentToken();if(r||(r=o.stepForward()),r){i||(i=new RegExp("(\\.?"+r.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var a=t.column-o.getCurrentTokenColumn();;){for(var l=r.value,c=l.length;a<c;){var h=l.charAt(a);if(h==n){if(0==(s-=1))return{row:o.getCurrentTokenRow(),column:a+o.getCurrentTokenColumn()}}else h==e&&(s+=1);a+=1}for(;(r=o.stepForward())&&!i.test(r.type););if(null==r)break;a=0}return null}}}}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./bidihandler").BidiHandler,r=e("./config"),l=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,g=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.$bidiHandler=new o(this),this.setDocument(e),this.selection=new a(this),r.resetOptions(this),this.setMode(t),r._signal("session",this)};f.$uid=0,function(){function a(e){return!(e<4352)&&(4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12288<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510)}n.implement(this,l),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=e).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;i<t&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=e[s];if(o<t)i=1+s;else{if(!(t<o))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=n.length-1;s=this.getLine(e).length}else for(o=0;o<n.length&&!(t<=(s+=n[o].value.length));o++);return(i=n[o])?(i.index=o,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new g(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var s=new h(e,0,t,1/0);return s.id=this.addMarker(s,i,"fullLine",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(0<t&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))s=/\s/;else s=this.nonTokenRe;var o=t;if(0<o){for(;0<=--o&&i.charAt(o).match(s););o++}for(var r=t;r<i.length&&i.charAt(r).match(s);)r++;return new h(e,o,e,r)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,r.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||((this.$modes[n]=e).$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new d(i);var s=this;this.bgTokenizer.addEventListener("update",function(e){s._signal("tokenizerUpdate",e)})}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var t=0;return this.lineWidgets.forEach(function(e){e&&e.screenWidth>t&&(t=e.screenWidth)}),this.lineWidgetWidth=t},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(r<l){if(a<=(l=o.end.row+1))break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=e.length-1;-1!=i;i--){var n=e[i];"insert"==n.action||"remove"==n.action?this.doc.revertDelta(n):n.folds&&this.addFolds(n.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=0;i<e.length;i++){var n=e[i];("insert"==n.action||"remove"==n.action)&&this.doc.applyDelta(n)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function i(e){return t?"insert"!==e.action:"insert"===e.action}for(var n,s,o=0;o<e.length;o++){var r=e[o];r.start&&(n?i(r)?(s=r.start,-1==n.compare(s.row,s.column)&&n.setStart(s),s=r.end,1==n.compare(s.row,s.column)&&n.setEnd(s),!0):(s=r.start,-1==n.compare(s.row,s.column)&&(n=h.fromPoints(r.start,r.start)),!1):i(r)?(n=h.fromPoints(r.start,r.end),!0):(n=h.fromPoints(r.start,r.start),!1))}return n},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!i){this.remove(e);var r=e.start.row-e.end.row;(c=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,n),s.length){var a=e.start,l=o.start,c=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map(function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=r,e.end.row+=r,e}))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.doc.insertInLine({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);i.start.row=s,i.end.row=s;for(var r=0;r<n&&" "==o.charAt(r);++r);r<n&&"\t"==o.charAt(r)?(i.start.column=r,i.end.column=r+1):(i.start.column=0,i.end.column=r),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((s=this.getRowFoldStart(e+i))<0)return 0;var n=s-e}else if(0<i){var s;if((s=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=s-t}else{e=this.$clipRowToDocument(e);n=(t=this.$clipRowToDocument(t))-e+1}var o=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map(function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e}),a=0==i?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+n,a),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)t=e=0;else{var i=this.doc.getLength();t=i<=e?(e=i-1,this.doc.getLine(i-1).length):Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&1<n&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,i=e.action,n=e.start,s=e.end,o=n.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if("remove"===i){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var h=0;if(p=this.getFoldLine(s.row)){p.addRemoveChars(s.row,s.column,n.column-s.column),p.shiftRow(-a);var u=this.getFoldLine(o);u&&u!==p&&(u.merge(p),p=u),h=c.indexOf(p)+1}for(;h<c.length;h++){(p=c[h]).start.row>=s.row&&p.shiftRow(-a)}r=o}else{var d=Array(a);d.unshift(o,0);var g=t?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,d);c=this.$foldData,h=0;if(p=this.getFoldLine(o)){var f=p.range.compareInside(n.row,n.column);0==f?(p=p.split(n.row,n.column))&&(p.shiftRow(a),p.addRemoveChars(r,0,s.column-n.column)):-1==f&&(p.addRemoveChars(o,0,s.column-n.column),p.shiftRow(a)),h=c.indexOf(p)+1}for(;h<c.length;h++){var p;(p=c[h]).start.row>=o&&p.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===i&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(p=this.getFoldLine(o))&&p.addRemoveChars(o,n.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,t){var r,i,a=this.doc.getAllLines(),n=this.getTabSize(),s=this.$wrapData,o=this.$wrapLimit,l=e;for(t=Math.min(t,a.length-1);l<=t;)(i=this.getFoldLine(l,i))?(r=[],i.walk(function(e,t,i,n){var s;if(null!=e){(s=this.$getDisplayTokens(e,r.length))[0]=f;for(var o=1;o<s.length;o++)s[o]=p}else s=this.$getDisplayTokens(a[t].substring(n,i),r.length);r=r.concat(s)}.bind(this),i.end.row,a[i.end.row].length+1),s[i.start.row]=this.$computeWrapSplits(r,o,n),l=i.end.row+1):(r=this.$getDisplayTokens(a[l]),s[l]=this.$computeWrapSplits(r,o,n),l++)};var f=3,p=4;this.$computeWrapSplits=function(n,e,s){function t(e){var t=n.slice(r,e),i=t.length;t.join("").replace(/12/g,function(){i-=1}).replace(/2/g,function(){i-=1}),o.length||(u=function(){var e=0;if(0===h)return e;if(c)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=s}}return l&&!1!==c&&(e+=s),Math.min(e,h)}(),o.indent=u),a+=i,o.push(a),r=e}if(0==n.length)return[];for(var o=[],i=n.length,r=0,a=0,l=this.$wrapAsCode,c=this.$indentedSoftWrap,h=e<=Math.max(2*s,8)||!1===c?0:Math.floor(e/2),u=0;e-u<i-r;){var d=r+e-u;if(10<=n[d-1]&&10<=n[d])t(d);else if(n[d]!=f&&n[d]!=p){for(var g=Math.max(d-(e-(e>>2)),r-1);g<d&&n[d]<f;)d--;if(l){for(;g<d&&n[d]<f;)d--;for(;g<d&&9==n[d];)d--}else for(;g<d&&n[d]<10;)d--;g<d?t(++d):(2==n[d=r+e]&&d--,t(d-u))}else{for(;d!=r-1&&n[d]!=f;d--);if(r<d){t(d);continue}for(d=r+e;d<n.length&&n[d]==p;d++);if(d==n.length)break;t(d)}}return o},this.$getDisplayTokens=function(e,t){var i,n=[];t=t||0;for(var s=0;s<e.length;s++){var o=e.charCodeAt(s);if(9==o){i=this.getScreenTabSize(n.length+t),n.push(11);for(var r=1;r<i;r++)n.push(12)}else 32==o?n.push(10):39<o&&o<48||57<o&&o<64?n.push(9):4352<=o&&a(o)?n.push(1,2):n.push(1)}return n},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var n,s;for(null==t&&(t=1/0),i=i||0,s=0;s<e.length&&(9==(n=e.charCodeAt(s))?i+=this.getScreenTabSize(i):4352<=n&&a(n)?i+=2:i+=1,!(t<i));s++);return[i,s]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,i){if(e<0)return{row:0,column:0};var n,s,o=0,r=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,e),u=c.length;if(u&&0<=h){a=c[h],o=this.$docRowCache[h];var d=e>c[u-1]}else d=!u;for(var g=this.getLength()-1,f=this.getNextFoldLine(o),p=f?f.start.row:1/0;a<=e&&!(e<a+(l=this.getRowLength(o))||g<=o);)a+=l,p<++o&&(o=f.end.row+1,p=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)n=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||g<o)return{row:g,column:this.getLine(g).length};n=this.getLine(o),f=null}var m=0,b=Math.floor(e-a);if(this.$useWrapMode){var v=this.$wrapData[o];v&&(s=v[b],0<b&&v.length&&(m=v.indent,r=v[b-1]||v[v.length-1],n=n.substring(r)))}return void 0!==i&&this.$bidiHandler.isBidiRow(a+b,o,b)&&(t=this.$bidiHandler.offsetToCol(i)),r+=this.$getStringScreenWidth(n,t-m)[1],this.$useWrapMode&&s<=r&&(r=s-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(void 0===t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n,s=0,o=null;(n=this.getFoldAt(e,t,1))&&(e=n.start.row,t=n.start.column);var r,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&0<=c){a=l[c],s=this.$screenRowCache[c];var u=e>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),g=d?d.start.row:1/0;a<e;){if(g<=a){if(e<(r=d.end.row+1))break;g=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f="";o=d&&g<=a?(f=this.getFoldDisplayLine(d,e,t),d.start.row):(f=this.getLine(e).substring(0,t),e);var p=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var b=0;f.length>=m[b];)s++,b++;f=f.substring(m[b-1]||0,f.length),p=0<b?m.indent:0}}return{row:s,column:p+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,s<++n&&(n=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(o){this.$enableVarChar&&(this.$getStringScreenWidth=function(e,t,i){if(0===t)return[0,0];var n,s;for(t||(t=1/0),i=i||0,s=0;s<e.length&&!(t<(i+="\t"===(n=e.charAt(s))?this.getScreenTabSize(i):o.getCharacterWidth(n)));s++);return[i,s]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()},this.isFullWidth=a}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),r.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=f}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(e,t,i){"use strict";var y=e("./lib/lang"),n=e("./lib/oop"),k=e("./range").Range,s=function(){this.$options={}};(function(){this.set=function(e){return n.mixin(this.$options,e),this},this.getOptions=function(){return y.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var s=this.$options,t=this.$matchIterator(e,s);if(!t)return!1;var o=null;return t.forEach(function(e,t,i,n){return o=new k(e,t,i,n),!(t==n&&s.start&&s.start.start&&0!=s.skipCurrent&&o.isEqual(s.start))||(o=null,!1)}),o},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,n=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),s=[],o=t.re;if(t.$isMultiLine){var r,a=o.length,l=n.length-a;e:for(var c=o.offset||0;c<=l;c++){for(var h=0;h<a;h++)if(-1==n[c+h].search(o[h]))continue e;var u=n[c],d=n[c+a-1],g=u.length-u.match(o[0])[0].length,f=d.match(o[a-1])[0].length;r&&r.end.row===c&&r.end.column>g||(s.push(r=new k(c,g,c+a-1,f)),2<a&&(c=c+a-2))}}else for(var p=0;p<n.length;p++){var m=y.getMatchOffsets(n[p],o);for(h=0;h<m.length;h++){var b=m[h];s.push(new k(p,b.offset,p,b.offset+b.length))}}if(i){var v=i.start.column,w=i.start.column;for(p=0,h=s.length-1;p<h&&s[p].start.column<v&&s[p].start.row==i.start.row;)p++;for(;p<h&&s[h].end.column>w&&s[h].end.row==i.end.row;)h--;for(s=s.slice(p,h+1),p=0,h=s.length;p<h;p++)s[p].start.row+=i.start.row,s[p].end.row+=i.start.row}return s},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=y.escapeRegExp(i)),e.wholeWord&&(i=function(e,t){function i(e){return/\w/.test(e)||t.regExp?"\\b":""}return i(e[0])+e+i(e[e.length-1])}(i,e));var n=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,n);try{var s=new RegExp(i,n)}catch(e){s=!1}return e.re=s},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(e){return!1}return n},this.$matchIterator=function(h,i){var u=this.$assembleRegExp(i);if(!u)return!1;var l=1==i.backwards,e=0!=i.skipCurrent,t=i.range,n=i.start;n||(n=t?t[l?"end":"start"]:h.selection.getRange()),n.start&&(n=n[e!=l?"end":"start"]);var s=t?t.start.row:0,o=t?t.end.row:h.getLength()-1;if(l)var r=function(e){var t=n.row;if(!a(t,n.column,e)){for(t--;s<=t;t--)if(a(t,Number.MAX_VALUE,e))return;if(0!=i.wrap)for(t=o,s=n.row;s<=t;t--)if(a(t,Number.MAX_VALUE,e))return}};else r=function(e){var t=n.row;if(!a(t,n.column,e)){for(t+=1;t<=o;t++)if(a(t,0,e))return;if(0!=i.wrap)for(t=s,o=n.row;t<=o;t++)if(a(t,0,e))return}};if(i.$isMultiLine)var c=u.length,a=function(e,t,i){var n=l?e-c+1:e;if(!(n<0)){var s=h.getLine(n),o=s.search(u[0]);if(!(!l&&o<t||-1===o)){for(var r=1;r<c;r++)if(-1==(s=h.getLine(n+r)).search(u[r]))return;var a=s.match(u[c-1])[0].length;if(!(l&&t<a))return!!i(n,o,n+c-1,a)||void 0}}};else if(l)a=function(e,t,i){var n,s=h.getLine(e),o=[],r=0;for(u.lastIndex=0;n=u.exec(s);){var a=n[0].length;if(r=n.index,!a){if(r>=s.length)break;u.lastIndex=r+=1}if(n.index+a>t)break;o.push(n.index,a)}for(var l=o.length-1;0<=l;l-=2){var c=o[l-1];if(i(e,c,e,c+(a=o[l])))return!0}};else a=function(e,t,i){var n,s,o=h.getLine(e);for(u.lastIndex=t;s=u.exec(o);){var r=s[0].length;if(i(e,n=s.index,e,n+r))return!0;if(!r&&(u.lastIndex=n+=1,n>=o.length))return!1}};return{forEach:r}}}).call(s.prototype),t.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(e,t,i){"use strict";function n(e,t){this.platform=t||(o.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){n.call(this,e,t),this.$singleCommand=!1}var a=e("../lib/keys"),o=e("../lib/useragent"),l=a.KEY_MODS;s.prototype=n.prototype,function(){function r(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),(this.commands[e.name]=e).bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var o=n[s];if(o==e)delete n[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(n[s]=o[0]))}}},this.bindKey=function(e,o,r){if("object"==typeof e&&e&&(null==r&&(r=e.position),e=e[this.platform]),e)return"function"==typeof o?this.addCommand({exec:o,bindKey:e,name:o.name||e}):void e.split("|").forEach(function(e){var n="";if(-1!=e.indexOf(" ")){var t=e.split(/\s+/);e=t.pop(),t.forEach(function(e){var t=this.parseKeys(e),i=l[t.hashId]+t.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")},this),n+=" "}var i=this.parseKeys(e),s=l[i.hashId]+i.key;this._addCommandToBinding(n+s,o,r)},this)},this._addCommandToBinding=function(e,t,i){var n,s=this.commandKeyBinding;if(t)if(!s[e]||this.$singleCommand)s[e]=t;else{Array.isArray(s[e])?-1!=(n=s[e].indexOf(t))&&s[e].splice(n,1):s[e]=[s[e]],"number"!=typeof i&&(i=r(t));var o=s[e];for(n=0;n<o.length;n++){if(i<r(o[n]))break}o.splice(n,0,t)}else delete s[e]},this.addCommands=function(i){i&&Object.keys(i).forEach(function(e){var t=i[e];if(t){if("string"==typeof t)return this.bindKey(t,e);"function"==typeof t&&(t={exec:t}),"object"==typeof t&&(t.name||(t.name=e),this.addCommand(t))}},this)},this.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},this.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(e){return e}),i=t.pop(),n=a[i];if(a.FUNCTION_KEYS[n])i=a.FUNCTION_KEYS[n].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var s=0,o=t.length;o--;){var r=a.KEY_MODS[t[o]];if(null==r)return"undefined"!=typeof console&&console.error("invalid modifier "+t[o]+" in "+e),!1;s|=r}return{key:i,hashId:s}},this.findKeyCommand=function(e,t){var i=l[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){if(!(n<0)){var s=l[t]+i,o=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||0<n)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:o}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(n.prototype),t.HashHandler=n,t.MultiHashHandler=s}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",function(e){return e.command.exec(e.editor,e.args||{})})};n.inherits(r,s),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(t){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(t);try{this.$inReplay=!0,this.macro.forEach(function(e){"string"==typeof e?this.exec(e,t):this.exec(e[0],t,e[1])},this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map(function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e})}}.call(r.prototype),t.CommandManager=r}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(e,t,i){"use strict";function n(e,t){return{win:e,mac:t}}var c=e("../lib/lang"),s=e("../config"),h=e("../range").Range;t.commands=[{name:"showSettingsMenu",bindKey:n("Ctrl-,","Command-,"),exec:function(t){s.loadModule("ace/ext/settings_menu",function(e){e.init(t),t.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",bindKey:n("Alt-E","F4"),exec:function(t){s.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:n("Alt-Shift-E","Shift-F4"),exec:function(t){s.loadModule("./ext/error_marker",function(e){e.showErrorMarker(t,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:n("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:n(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:n("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t&&(t=parseInt(prompt("Enter line number:"),10)),isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:n("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:n("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:n("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:n("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:n(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:n("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:n("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:n("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:n("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:n("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:n("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:n("Ctrl-F","Command-F"),exec:function(t){s.loadModule("ace/ext/searchbox",function(e){e.Search(t)})},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:n("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:n("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:n("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:n("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:n("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:n("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:n("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:n("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:n("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:n("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:n("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:n("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:n("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:n("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:n("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:n("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:n("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:n("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:n("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:n("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:n(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:n("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:n(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:n("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:n("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:n("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:n("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:n("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:n("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:n("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:n(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",exec:function(e){},readOnly:!0},{name:"cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",bindKey:n("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:n("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:n("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:n("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:n("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:n("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:n("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:n("Ctrl-H","Command-Option-F"),exec:function(t){s.loadModule("ace/ext/searchbox",function(e){e.Search(t,!0)})}},{name:"undo",bindKey:n("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:n("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:n("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:n("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:n("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:n("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:n("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:n("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:n("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:n("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:n("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",bindKey:n("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",bindKey:n("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:n("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:n("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:n("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:n("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:n("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:n("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(c.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:n(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:n("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:n("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:n("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:n("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:n(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),n=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(i.row).length,o=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,r=e.session.doc.getLine(i.row),a=i.row+1;a<=n.row+1;a++){var l=c.stringTrimLeft(c.stringTrimRight(e.session.doc.getLine(a)));0!==l.length&&(l=" "+l),r+=l}n.row+1<e.session.doc.getLength()-1&&(r+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new h(i.row,0,n.row+2,0),r),0<o?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+o)):(s=e.session.doc.getLine(i.row).length>s?s+1:s,e.selection.moveCursorTo(i.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:n(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var o=0;o<n.length;o++)o==n.length-1&&(n[o].end.row!==t||n[o].end.column!==i)&&s.push(new h(n[o].end.row,n[o].end.column,t,i)),0===o?(0!==n[o].start.row||0!==n[o].start.column)&&s.push(new h(0,0,n[o].start.row,n[o].start.column)):s.push(new h(n[o-1].end.row,n[o-1].end.column,n[o].start.row,n[o].start.column));e.exitMultiSelectMode(),e.clearSelection();for(o=0;o<s.length;o++)e.selection.addRange(s[o],!1)},readOnly:!0,scrollIntoView:"none"}]}),ace.define("ace/clipboard",["require","exports","module"],function(e,t,i){"use strict";i.exports={lineMode:!1}}),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var o=e("./lib/oop"),n=e("./lib/dom"),h=e("./lib/lang"),s=e("./lib/useragent"),r=e("./keyboard/textinput").TextInput,a=e("./mouse/mouse_handler").MouseHandler,l=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,b=e("./config"),v=e("./token_iterator").TokenIterator,w=e("./clipboard"),y=function(e,t,i){var n=e.getContainerElement();this.container=n,this.renderer=e,this.id="editor"+ ++y.$uid,this.commands=new f(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new r(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new a(this),new l(this)),this.keyBinding=new c(this),this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=h.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(e,t){t._$emitInputEvent.schedule(31)}),this.setSession(t||i&&i.session||new u("")),b.resetOptions(this),i&&this.setOptions(i),b._signal("editor",this)};y.$uid=0,function(){o.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=h.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command,i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(t,i){if(t&&"string"==typeof t&&"ace"!=t){this.$keybindingId=t;var n=this;b.loadModule(["keybinding",t],function(e){n.$keybindingId==t&&n.keyBinding.setKeyboardHandler(e&&e.handler),i&&i()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(t),i&&i()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.off("changeCursor",this.$onCursorChange),i.off("changeSelection",this.$onSelectionChange)}(this.session=e)?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||n.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var n=this;this.$highlightPending=!0,setTimeout(function(){n.$highlightPending=!1;var e=n.session;if(e&&e.bgTokenizer){var t=e.findMatchingBracket(n.getCursorPosition());if(t)var i=new p(t.row,t.column,t.row,t.column+1);else if(e.$mode.getMatching)i=e.$mode.getMatching(n.session);i&&(e.$bracketHighlight=e.addMarker(i,"ace_bracket","text"))}},50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var u=this;this.$highlightTagPending=!0,setTimeout(function(){u.$highlightTagPending=!1;var e=u.session;if(e&&e.bgTokenizer){var t=u.getCursorPosition(),i=new v(u.session,t.row,t.column),n=i.getCurrentToken();if(!n||!/\b(?:tag-open|tag-name)/.test(n.type))return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);if(-1==n.type.indexOf("tag-open")||(n=i.stepForward())){var s=n.value,o=0,r=i.stepBackward();if("<"==r.value)for(;r=n,(n=i.stepForward())&&n.value===s&&-1!==n.type.indexOf("tag-name")&&("<"===r.value?o++:"</"===r.value&&o--),n&&0<=o;);else{for(;n=r,r=i.stepBackward(),n&&n.value===s&&-1!==n.type.indexOf("tag-name")&&("<"===r.value?o++:"</"===r.value&&o--),r&&o<=0;);i.stepForward()}if(!n)return e.removeMarker(e.$tagHighlight),void(e.$tagHighlight=null);var a=i.getCurrentTokenRow(),l=i.getCurrentTokenColumn(),c=new p(a,l,a,l+n.value.length),h=e.$backMarkers[e.$tagHighlight];e.$tagHighlight&&null!=h&&0!==c.compareRange(h.range)&&(e.removeMarker(e.$tagHighlight),e.$tagHighlight=null),e.$tagHighlight||(e.$tagHighlight=e.addMarker(c,"ace_bracket","text"))}}},50)}},this.focus=function(){var e=this;setTimeout(function(){e.isFocused()||e.textInput.focus()}),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,i=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,i,t),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(1<this.renderer.$minLines)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new p(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column,n=t.end.column,s=e.getLine(t.start.row),o=s.substring(i,n);if(!(5e3<o.length)&&/[\w\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(i-1,n+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),i=!1;if(!e&&this.$copyWithEmptySelection){i=!0;for(var n=this.selection.getAllRanges(),s=0;s<n.length;s++){var o=n[s];s&&n[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal("copy",r),w.lineMode=i?r.text:"",r.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var i={text:e,event:t};this.commands.exec("paste",this,i)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,i=t==w.lineMode,n=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)i?n.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(i)this.selection.rangeList.ranges.forEach(function(e){n.insert({row:e.start.row,column:0},t)});else{var s=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(s.length>o.length||s.length<2||!s[1])return this.commands.exec("insertstring",this,t);for(var r=o.length;r--;){var a=o[r];a.isEmpty()||n.remove(a),n.insert(a.start,s[r])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(s.row),"insertion",this,i,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(r=new p.fromPoints(s,s)).end.column+=e.length,this.session.remove(r)}}else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var c=s.column,h=i.getState(s.row),u=(a=i.getLine(s.row),n.checkOutdent(h,a,e));i.insert(s,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new p(s.row,c+o.selection[0],s.row,c+o.selection[1])):this.selection.setSelectionRange(new p(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(h,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},d)}u&&n.autoOutdent(h,i,s.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var r=i.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);n=t<s.length?(i=s.charAt(t)+s.charAt(t-1),new p(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),new p(e.row,t-2,e.row,t)),this.session.replace(n,i),this.session.selection.moveToPosition(n.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,"\t")}}var n=e.getLine(t.start.row),s=t.start,o=e.getTabSize(),r=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var a=o-r%o,l=h.stringRepeat(" ",a);else{for(a=r%o;" "==n[t.start.column-1]&&a;)t.start.column--,a--;this.selection.setSelectionRange(t),l="\t"}return this.insert(l)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,i=[],n=e.first;n<=e.last;n++)i.push(t.getLine(n));i.sort(function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0});var s=new p(0,0,0,0);for(n=e.first;n<=e.last;n++){var o=t.getLine(n);s.start.row=n,s.end.row=n,s.end.column=o.length,t.replace(s,i[n-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new p(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,i);if(o){var r=0<=o.value.indexOf(".")?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&i<r?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),h=new p(t,o.start,t,o.end);this.session.replace(h,c),this.moveCursorTo(t,Math.max(o.start+1,i+c.length-o.value.length))}}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var o=n?i.start:i.end,r=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=r,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();i=this.$getSelectedRows(o),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),o.moveBy(n,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=r.length,h=0;h<c;h++){var u=h;r[h].moveBy(a,0);for(var d=(i=this.$getSelectedRows(r[h])).first,g=i.last;++h<c;){l&&r[h].moveBy(l,0);var f=this.$getSelectedRows(r[h]);if(t&&f.first!=g)break;if(!t&&f.first>g+1)break;g=f.last}for(h--,a=this.session.$moveLines(d,g,t?0:e),t&&-1==e&&(u=h+1);u<=h;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);!0===t?this.selection.$moveSelection(function(){this.moveCursorBy(s,0)}):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new v(this.session,i.row,i.column),s=n.getCurrentToken(),o=s||n.stepForward();if(o){var r,a,l=!1,c={},h=i.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;h<o.value.length&&!l;h++)if(u[o.value[h]])switch(a=u[o.value[h]]+"."+o.type.replace("rparen","lparen"),isNaN(c[a])&&(c[a]=0),o.value[h]){case"(":case"[":case"{":c[a]++;break;case")":case"]":case"}":c[a]--,-1===c[a]&&(r="bracket",l=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(c[o.value])&&(c[o.value]=0),"<"===s.value?c[o.value]++:"</"===s.value&&c[o.value]--,-1===c[o.value]&&(r="tag",l=!0));l||(s=o,o=n.stepForward(),h=0)}while(o&&!l);if(r){var d,g;if("bracket"===r)(d=this.session.getBracketRange(i))||(g=(d=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+h-1)).start,(t||g.row===i.row&&Math.abs(g.column-i.column)<2)&&(d=this.session.getBracketRange(g)));else if("tag"===r){if(!o||-1===o.type.indexOf("tag-name"))return;var f=o.value;if(0===(d=new p(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column))for(l=!1;o=s,(s=n.stepBackward())&&(-1!==s.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===f&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?c[f]++:"</"===s.value&&c[f]--,0===c[f]&&(l=!0))),s&&!l;);o&&o.type.indexOf("tag-name")&&((g=d.start).row==i.row&&Math.abs(g.column-i.column)<2&&(g=d.end))}(g=d&&d.cursor||g)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i&&(this.$tryReplace(i,e)&&(n=1),this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;0<=o;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(s),n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&o.mixin(t,e);var n=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(n)||this.$search.$options.needle)||(n=this.session.getWordRange(n.start.row,n.start.column),e=this.session.getTextRange(n)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:n});var s=this.$search.find(this.session);return t.preventScroll?s:s?(this.revealRange(s,i),s):(t.backwards?n.start=n.end:n.end=n.start,void this.selection.setRange(n))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var s,o=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var a=this.$scrollAnchor;a.style.cssText="position:absolute",this.container.insertBefore(a,this.container.firstChild);var t=this.on("changeSelection",function(){r=!0}),i=this.renderer.on("beforeRender",function(){r&&(s=o.renderer.container.getBoundingClientRect())}),n=this.renderer.on("afterRender",function(){if(r&&s&&(o.isFocused()||o.searchBox&&o.searchBox.isFocused())){var e=o.renderer,t=e.$cursorLayer.$pixelPos,i=e.layerConfig,n=t.top-i.offset;null!=(r=0<=t.top&&n+s.top<0||!(t.top<i.height&&t.top+s.top+i.lineHeight>window.innerHeight)&&null)&&(a.style.top=n+"px",a.style.left=t.left+"px",a.style.height=i.lineHeight+"px",a.scrollIntoView(r)),r=s=null}});this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",t),this.renderer.off("afterRender",n),this.renderer.off("beforeRender",i))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,n.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}.call(y.prototype),b.defineOptions(y.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=y}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(e,t,i){"use strict";function a(e){return{row:e.row,column:e.column}}function s(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)if(0<=g(t.start,e.end))l(t,e,-1);else{if(!(g(t.start,e.start)<=0))return null;l(e,t,1)}else if(i&&!n)if(0<=g(t.start,e.end))l(t,e,-1);else{if(!(g(t.end,e.start)<=0))return null;l(e,t,-1)}else if(!i&&n)if(0<=g(t.start,e.start))l(t,e,1);else{if(!(g(t.start,e.start)<=0))return null;l(e,t,1)}else if(!i&&!n)if(0<=g(t.start,e.start))l(t,e,1);else{if(!(g(t.end,e.start)<=0))return null;l(e,t,-1)}return[t,e]}function o(e,t){for(var i=e.length;i--;)for(var n=0;n<t.length;n++)if(!s(e[i],t[n])){for(;i<e.length;){for(;n--;)s(t[n],e[i]);n=t.length,i++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function r(e,t){var i="insert"==e.action,n="insert"==t.action;if(i&&n)g(e.start,t.start)<0?l(t,e,1):l(e,t,1);else if(i&&!n)0<=g(e.start,t.end)?l(e,t,-1):(g(e.start,t.start)<=0||l(e,d.fromPoints(t.start,e.start),-1),l(t,e,1));else if(!i&&n)0<=g(t.start,e.end)?l(t,e,-1):(g(t.start,e.start)<=0||l(t,d.fromPoints(e.start,t.start),-1),l(e,t,1));else if(!i&&!n)if(0<=g(t.start,e.end))l(t,e,-1);else{var s,o;if(!(g(t.end,e.start)<=0))return g(e.start,t.start)<0&&(e=h(s=e,t.start)),0<g(e.end,t.end)&&(o=h(e,t.end)),c(t.end,e.start,e.end,-1),o&&!s&&(e.lines=o.lines,e.start=o.start,e.end=o.end,o=e),[t,s,o].filter(Boolean);l(e,t,-1)}return[t,e]}function l(e,t,i){c(e.start,t.start,t.end,i),c(e.end,t.start,t.end,i)}function c(e,t,i,n){e.row==(1==n?t:i).row&&(e.column+=n*(i.column-t.column)),e.row+=n*(i.row-t.row)}function h(e,t){var i=e.lines,n=e.end;e.end=a(t);var s=e.end.row-e.start.row,o=i.splice(s,i.length),r=s?t.column:t.column-e.start.column;return i.push(o[0].substring(0,r)),o[0]=o[0].substr(r),{start:a(t),end:n,lines:o,action:e.action}}function u(e,t){t=function(e){return{start:a(e.start),end:a(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var i=e.length;i--;)for(var n=e[i],s=n.length;0<s--;){var o=r(n[s],t);t=o[0],2!=o.length&&(o[2]?(e.splice(s+1,1,o[1],o[2]),s++):o[1]||(e.splice(s,1),s--))}return e}var n=function(){this.$maxRev=0,this.$fromUndo=!1,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,i){this.$fromUndo||e!=this.$lastDelta&&(!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=i.length;n--;){var s=i[n][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var i=this.selections,n=i.length;n--;){var s=i[n];if(s.rev<e)return t&&(s=i[n+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var i=this.$undoStack,n=null,s=0,o=i.length;o--;){var r=i[o][0];if(r.id<t&&!n&&(n=o+1),r.id<=e){s=o+1;break}}return i.slice(s,n)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var i=this.$undoStack;if(function(e,t){for(var i=t;i--;){var n=e[i];if(n&&!n[0].ignore){for(;i<t-1;){var s=o(e[i],e[i+1]);e[i]=s[0],e[i+1]=s[1],i++}return!0}}}(i,i.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var n=i.pop(),s=null;return n&&n.length&&(s=e.undoChanges(n,t),this.$redoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var i=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(e,t){for(var i=0;i<t.length;i++)for(var n=t[i],s=0;s<n.length;s++)u(e,n[s])})(this.$redoStack,i),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(e){e[0].id=++this.$maxRev},this)}var n=this.$redoStack.pop(),s=null;return n&&(s=e.redoChanges(n,t),this.$undoStack.push(n),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],i=t&&t[0].id||0;this.$redoStackBaseRev=i,this.$rev=i},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark}).call(n.prototype);var d=e("./range").Range,g=d.comparePoints;d.comparePoints;t.UndoManager=n}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],function(e,t,i){"use strict";var k=e("../lib/dom"),n=e("../lib/oop"),a=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,o=function(e){this.element=k.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){n.implement(this,s),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var o=i.text;o=o?a.escapeHTML(o):i.html||"",-1===s.text.indexOf(o)&&s.text.push(o);var r=i.type;"error"==r?s.className=" ace_error":"warning"==r&&" ace_error"!=s.className?s.className=" ace_warning":"info"==r&&!s.className&&(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,i=e.end.row-t;if(0!=i)if("remove"==e.action)this.$annotations.splice(t,1+i,null);else{var n=new Array(1+i);n.unshift(t,1),this.$annotations.splice.apply(this.$annotations,n)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,n=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),s=t.getNextFoldLine(i),o=s?s.start.row:1/0,r=this.$showFoldWidgets&&t.foldWidgets,a=t.$breakpoints,l=t.$decorations,c=t.$firstLineNumber,h=0,u=t.gutterRenderer||this.$renderer,d=null,g=-1,f=i;;){if(o<f&&(f=s.end.row+1,o=(s=t.getNextFoldLine(f,s))?s.start.row:1/0),n<f){for(;this.$cells.length>g+1;)d=this.$cells.pop(),this.element.removeChild(d.element);break}(d=this.$cells[++g])||((d={element:null,textNode:null,foldWidget:null}).element=k.createElement("div"),d.textNode=document.createTextNode(""),d.element.appendChild(d.textNode),this.element.appendChild(d.element),this.$cells[g]=d);var p="ace_gutter-cell ";if(a[f]&&(p+=a[f]),l[f]&&(p+=l[f]),this.$annotations[f]&&(p+=this.$annotations[f].className),d.element.className!=p&&(d.element.className=p),(b=t.getRowLength(f)*e.lineHeight+"px")!=d.element.style.height&&(d.element.style.height=b),r){var m=r[f];null==m&&(m=r[f]=t.getFoldWidget(f))}if(m){d.foldWidget||(d.foldWidget=k.createElement("span"),d.element.appendChild(d.foldWidget));p="ace_fold-widget ace_"+m;"start"==m&&f==o&&f<s.end.row?p+=" ace_closed":p+=" ace_open",d.foldWidget.className!=p&&(d.foldWidget.className=p);var b=e.lineHeight+"px";d.foldWidget.style.height!=b&&(d.foldWidget.style.height=b)}else d.foldWidget&&(d.element.removeChild(d.foldWidget),d.foldWidget=null);var v=h=u?u.getText(t,f):f+c;v!==d.textNode.data&&(d.textNode.data=v),f++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(h=t.getLength()+c);var w=u?u.getWidth(t,h,e):h.toString().length*e.characterWidth,y=this.$padding||this.$computePadding();(w+=y.left+y.right)!==this.gutterWidth&&!isNaN(w)&&(this.gutterWidth=w,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",w))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?k.addCssClass(this.element,"ace_folding-enabled"):k.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=k.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(o.prototype),t.Gutter=o}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(e,t,i){"use strict";var f=e("../range").Range,n=e("../lib/dom"),s=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(e){this.config=e;var t=[];for(var i in this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+(this.session.$bidiHandler.isBidiRow(s.start.row)?this.session.$bidiHandler.getPosLeft(s.start.column):s.start.column*e.characterWidth);n.renderer(t,s,r,o,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?"text"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.session.$bidiHandler.isBidiRow(s.start.row)?this.drawBidiSingleLineMarker(t,s,n.clazz+" ace_start ace_br15",e):this.drawSingleLineMarker(t,s,n.clazz+" ace_start ace_br15",e)}else n.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,n,s){for(var o=this.session,r=t.start.row,a=t.end.row,l=r,c=0,h=0,u=o.getScreenLastRowColumn(l),d=null,g=new f(l,t.start.column,l,h);l<=a;l++)g.start.row=g.end.row=l,g.start.column=l==r?t.start.column:o.getRowWrapIndent(l),c=h,h=g.end.column=u,u=l+1<a?o.getScreenLastRowColumn(l+1):l==a?0:t.end.column,d=i+(l==r?" ace_start":"")+" ace_br"+((l==r||l==r+1&&t.start.column?1:0)|(c<h?2:0)|(u<h?4:0)|(l==a?8:0)),this.session.$bidiHandler.isBidiRow(l)?this.drawBidiSingleLineMarker(e,g,d,n,l==a?0:1,s):this.drawSingleLineMarker(e,g,d,n,l==a?0:1,s)},this.drawMultiLineMarker=function(e,t,i,n,s){var o,r,a,l=this.$padding;(s=s||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,i+" ace_br1 ace_start",n,null,s)):(o=n.lineHeight,r=this.$getTop(t.start.row,n),a=l+t.start.column*n.characterWidth,e.push("<div class='",i," ace_br1 ace_start' style='","height:",o,"px;","right:0;","top:",r,"px;","left:",a,"px;",s,"'></div>"));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,i+" ace_br12",n,null,s)}else{var h=t.end.column*n.characterWidth;o=n.lineHeight,r=this.$getTop(t.end.row,n),e.push("<div class='",i," ace_br12' style='","height:",o,"px;","width:",h,"px;","top:",r,"px;","left:",l,"px;",s,"'></div>")}if(!((o=(t.end.row-t.start.row-1)*n.lineHeight)<=0)){r=this.$getTop(t.start.row+1,n);var u=(t.start.column?1:0)|(t.end.column?0:8);e.push("<div class='",i,u?" ace_br"+u:"","' style='","height:",o,"px;","right:0;","top:",r,"px;","left:",l,"px;",s,"'></div>")}},this.drawSingleLineMarker=function(e,t,i,n,s,o){var r=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),c=this.$padding+t.start.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",r,"px;","width:",a,"px;","top:",l,"px;","left:",c,"px;",o||"","'></div>")},this.drawBidiSingleLineMarker=function(t,e,i,n,s,o){var r=n.lineHeight,a=this.$getTop(e.start.row,n),l=this.$padding;this.session.$bidiHandler.getSelections(e.start.column,e.end.column).forEach(function(e){t.push("<div class='",i,"' style='","height:",r,"px;","width:",e.width+(s||0),"px;","top:",a,"px;","left:",l+e.left,"px;",o||"","'></div>")})},this.drawFullLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,n)-o),e.push("<div class='",i,"' style='","height:",r,"px;","top:",o,"px;","left:0;right:0;",s||"","'></div>")},this.drawScreenLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;e.push("<div class='",i,"' style='","height:",r,"px;","top:",o,"px;","left:0;right:0;",s||"","'></div>")}}).call(s.prototype),t.Marker=s}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("../lib/oop"),c=e("../lib/dom"),u=e("../lib/lang"),s=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),o=function(e){this.element=c.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,s),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){(this.session=e)&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+u.stringRepeat(this.TAB_CHAR,i)+"</span>"):t.push(u.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",s="",o="";if(this.showInvisibles){n+=" ace_invisible",s=" ace_invisible_space",o=" ace_invisible_tab";var r=u.stringRepeat(this.SPACE_CHAR,this.tabSize),a=u.stringRepeat(this.TAB_CHAR,this.tabSize)}else a=r=u.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+n+s+"'>"+r+"</span>",this.$tabStrings["\t"]="<span class='"+n+o+"'>"+a+"</span>"}},this.updateLines=function(e,t,i){(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)&&this.scrollLines(e),this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}r++}a=n;for(var l,c=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;c<a&&(a=l.end.row+1,c=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(s<a);){var h=o[r++];if(h){var u=[];this.$renderLine(u,a,!this.$useLineGroups(),a==c&&l),h.style.height=e.lineHeight*this.session.getRowLength(a)+"px",h.innerHTML=u.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var i=this.element;if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<n;n--)i.removeChild(i.firstChild);if(t.lastRow>e.lastRow)for(n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);0<n;n--)i.removeChild(i.lastChild);if(e.firstRow<t.firstRow){var s=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s)}if(e.lastRow>t.lastRow){s=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);i.appendChild(s)}},this.$renderLinesFragment=function(e,t,i){for(var n=this.element.ownerDocument.createDocumentFragment(),s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;r<s&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(i<s);){var a=c.createElement("div"),l=[];if(this.$renderLine(l,s,!1,s==r&&o),a.innerHTML=l.join(""),this.$useLineGroups())a.className="ace_line_group",n.appendChild(a),a.style.height=e.lineHeight*this.session.getRowLength(s)+"px";else for(;a.firstChild;)n.appendChild(a.firstChild);s++}return n},this.update=function(e){for(var t=[],i=(this.config=e).firstRow,n=e.lastRow,s=i,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;r<s&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(n<s);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(s),"px'>"),this.$renderLine(t,s,!1,s==r&&o),this.$useLineGroups()&&t.push("</div>"),s++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,l,t,i){var c=this,n=i.replace(/\t|&|<|>|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF\uFFF9-\uFFFC])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(e,t,i,n,s){if(t)return c.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+u.stringRepeat(c.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if(">"==e)return"&#62;";if("\t"==e){var o=c.session.getScreenTabSize(l+n);return l+=o-1,c.$tabStrings[o]}if(""!=e)return i?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+c.SPACE_CHAR+"</span>":(l+=1,"<span class='ace_cjk' style='width:"+2*c.config.characterWidth+"px'>"+e+"</span>");var r=c.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",a=c.showInvisibles?c.SPACE_CHAR:"";return l+=1,"<span class='"+r+"' style='width:"+2*c.config.characterWidth+"px'>"+a+"</span>"});if(this.$textToken[t.type])e.push(n);else{var s="ace_"+t.type.replace(/\./g," ace_"),o="";"fold"==t.type&&(o=" style='width:"+t.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",s,"'",o,">",n,"</span>")}return l+i.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);return n<=0||i<=n?t:" "==t[0]?(n-=n%this.tabSize,e.push(u.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),t.substr(n)):"\t"==t[0]?(e.push(u.stringRepeat(this.$tabStrings["\t"],n)),t.substr(n)):t},this.$renderWrappedLine=function(e,t,i,n){for(var s=0,o=0,r=i[0],a=0,l=0;l<t.length;l++){var c=t[l],h=c.value;if(0==l&&this.displayIndentGuides){if(s=h.length,!(h=this.renderIndentGuide(e,h,r)))continue;s-=h.length}if(s+h.length<r)a=this.$renderToken(e,a,c,h),s+=h.length;else{for(;s+h.length>=r;)a=this.$renderToken(e,a,c,h.substring(0,r-s)),h=h.substring(r-s),s=r,n||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(u.stringRepeat("",i.indent)),a=0,r=i[++o]||Number.MAX_VALUE;0!=h.length&&(s+=h.length,a=this.$renderToken(e,a,c,h))}}},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],s=n.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(i=this.$renderToken(e,i,n,s));for(var o=1;o<t.length;o++){if(i+(s=(n=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,i,n,s);i=this.$renderToken(e,i,n,s)}},this.$renderOverflowMessage=function(e,t,i,n){this.$renderToken(e,t,i,n.slice(0,this.MAX_LINE_LENGTH-t)),e.push("<span style='position:absolute;right:0' class='ace_inline_button ace_keyword ace_toggle_wrap'>&lt;click to see more...&gt;</span>")},this.$renderLine=function(e,t,i,n){if(!n&&0!=n&&(n=this.session.getFoldLine(t)),n)var s=this.$getFoldLineTokens(t,n);else s=this.session.getTokens(t);if(i||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),s.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,s,o,i):this.$renderSimpleLine(e,s)}this.showInvisibles&&(n&&(t=n.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var o=this.session,r=[],a=o.getTokens(e);return t.walk(function(e,t,i,n,s){null!=e?r.push({type:"fold",value:e}):(s&&(a=o.getTokens(t)),a.length&&function(e,t,i){for(var n=0,s=0;s+e[n].value.length<t;)if(s+=e[n].value.length,++n==e.length)return;for(s!=t&&((o=e[n].value.substring(t-s)).length>i-t&&(o=o.substring(0,i-t)),r.push({type:e[n].type,value:o}),s=t+o.length,n+=1);s<i&&n<e.length;){var o;(o=e[n].value).length+s>i?r.push({type:e[n].type,value:o.substring(0,i-s)}):r.push(e[n]),s+=o.length,n+=1}}(a,n,i))},t.end.row,this.session.getLine(t.end.row).length),r},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(o.prototype),t.Text=o}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";var n,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n=!("opacity"in this.element.style)),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=(n?this.$updateVisibility:this.$updateOpacity).bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&!n&&(this.smoothBlinking=e,s.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=this.$updateOpacity.bind(this),this.restartTimer())},this.addCursor=function(){var e=s.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(1<this.cursors.length){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&s.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){s.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout(function(){e(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){e(!0),t()},this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e.row)?this.session.$bidiHandler.getPosLeft(i.column):i.column*this.config.characterWidth),top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);i=0;for(var s=t.length;i<s;i++){var o=this.getPixelPosition(t[i].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&1<i)){var r=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(r,o,e,t[i],this.session):(r.left=o.left+"px",r.top=o.top+"px",r.width=e.characterWidth+"px",r.height=e.lineHeight+"px")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&((this.overwrite=e)?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){32768<(this.scrollHeight=e)?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(c,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(e,t,i){"use strict";var n=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame(function(){var e;for(t.pending=!1;e=t.changes;)t.changes=0,t.onRender(e)},this.window)}}}).call(s.prototype),t.RenderLoop=s}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],function(e,t,i){var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l="function"==typeof ResizeObserver,c=t.FontMetrics=function(e){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.innerHTML=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},l?this.$addObserver():this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",r.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var i=this;this.$observer=new window.ResizeObserver(function(e){var t=e[0].contentRect;i.checkForSizeChanges({height:t.height,width:t.width/256})}),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval(function(){e.checkForSizeChanges()},500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(c.prototype)}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],function(e,t,i){"use strict";var n=e("./lib/oop"),o=e("./lib/dom"),r=e("./config"),s=(e("./lib/useragent"),e("./layer/gutter").Gutter),a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,f=e("./lib/event_emitter").EventEmitter;o.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}[ace_nocontext=true] {transform: none!important;filter: none!important;perspective: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_text-input-ios {position: absolute !important;top: -100000px !important;left: -100000px !important;}',"ace_editor.css");var p=function(e,t){var i=this;this.container=e||o.createElement("div"),o.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var n=this.$textLayer=new l(this.content);this.canvas=n.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new d(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),r.resetOptions(this),r._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,f),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=e)&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var s=0,o=this.$size,r={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return n&&(e||o.height!=n)&&(o.height=n,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(e||o.width!=i)&&(s|=this.CHANGE_SIZE,o.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)),o.$dirty=!i||!n,s&&this._signal("resize",r),s},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var i=this.session.selection.getCursor();i.column=0,e=this.$cursorLayer.getPixelPosition(i,!0),t*=this.session.getRowLength(i.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=o.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e=this.textarea.style;if(this.$keepTextAreaAtCursor){var t=this.layerConfig,i=this.$cursorLayer.$pixelPos.top,n=this.$cursorLayer.$pixelPos.left;i-=t.offset;var s=this.lineHeight;if(i<0||i>t.height-s)e.top=e.left="0";else{var o=this.characterWidth;if(this.$composition){var r=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(r)[0]+2,s+=2}(n-=this.scrollLeft)>this.$size.scrollerWidth-o&&(n=this.$size.scrollerWidth-o),n+=this.gutterWidth,e.height=s+"px",e.width=o+"px",e.left=Math.min(n,this.$size.scrollerWidth-o)+"px",e.top=Math.min(i,this.$size.height-s)+"px"}}else e.left="-100px"},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender"),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;0<n&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"}return e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()):e&this.CHANGE_SCROLL?(e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor()):(e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i)),void this._signal("afterRender")}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(i+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&i>this.$maxPixelHeight&&(i=this.$maxPixelHeight);var n=t<e;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=this.scrollTop%this.lineHeight,c=t.scrollerHeight+this.lineHeight,h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h;var u=this.scrollMargin;this.session.setScrollTop(Math.max(-u.top,Math.min(this.scrollTop,n-t.scrollerHeight+u.bottom))),this.session.setScrollLeft(Math.max(-u.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+u.right)));var d=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+h<0||this.scrollTop>u.top),g=a!==d;g&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var f,p,m=Math.ceil(c/this.lineHeight)-1,b=Math.max(0,Math.round((this.scrollTop-l)/this.lineHeight)),v=b+m,w=this.lineHeight;b=e.screenToDocumentRow(b,0);var y=e.getFoldLine(b);y&&(b=y.start.row),f=e.documentToScreenRow(b,0),p=e.getRowLength(b)*w,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),c=t.scrollerHeight+e.getRowLength(v)*w+p,l=this.scrollTop-f*w;var k=0;return(this.layerConfig.width!=s||r)&&(k=this.CHANGE_H_SCROLL),(r||g)&&(k=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),g&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:b,firstRowScreen:f,lastRow:v,lineHeight:w,characterWidth:this.characterWidth,minHeight:c,maxHeight:n,offset:l,gutterOffset:w?Math.max(0,Math.ceil((l+t.height-t.scrollerHeight)/w)):0,height:this.$size.scrollerHeight},k},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,o=n.top,r=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;o<l+r?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var c=this.scrollLeft;s<c?(s<this.$padding+2*this.layerConfig.characterWidth&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):c+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&s-c<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i,n,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((i=s/this.STEPS,(t-(n=e))*(Math.pow(i-1,3)+1)+n));return r},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==i&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval(function(){o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())},10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(0<t&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(0<e&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=e+this.scrollLeft-i.left-this.$padding,s=n/this.characterWidth,o=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),r=Math.round(s);return{row:o,column:r,side:0<s-r?1:-1,offsetX:n}},this.screenToTextCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=e+this.scrollLeft-i.left-this.$padding,s=Math.round(n/this.characterWidth),o=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(o,Math.max(s,0),n)},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e)?this.session.$bidiHandler.getPosLeft(n.column):Math.round(n.column*this.characterWidth)),o=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(o.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(i,n){function e(e){if(s.$themeId!=i)return n&&n();if(!e||!e.cssClass)throw new Error("couldn't load module "+i+" or it didn't call define");e.$id&&(s.$themeId=e.$id),o.importCssString(e.cssText,e.cssClass,s.container.ownerDocument),s.theme&&o.removeCssClass(s.container,s.theme.cssClass);var t="padding"in e?e.padding:"padding"in(s.theme||{})?4:s.$padding;s.$padding&&t!=s.$padding&&s.setPadding(t),s.$theme=e.cssClass,s.theme=e,o.addCssClass(s.container,e.cssClass),o.setCssClass(s.container,"ace_dark",e.isDark),s.$size&&(s.$size.width=0,s.$updateSizeAsync()),s._dispatchEvent("themeLoaded",{theme:e}),n&&n()}var s=this;if(this.$themeId=i,s._dispatchEvent("themeChange",{theme:i}),i&&"string"!=typeof i)e(i);else{var t=i||this.$options.theme.initialValue;r.loadModule(["theme",t],e)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){o.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){o.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(p.prototype),r.defineOptions(p.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=o.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=p}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(a,e,t){"use strict";function l(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};var t=function(e){var t="importScripts('"+n.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}(e),i=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(i)}var i=a("../lib/oop"),n=a("../lib/net"),c=a("../lib/event_emitter").EventEmitter,h=a("../config"),s=function(e,t,i,n,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),a.nameToUrl&&!a.toUrl&&(a.toUrl=a.nameToUrl),h.get("packaged")||!a.toUrl)n=n||h.moduleUrl(t,"worker");else{var o=this.$normalizePath;n=n||o(a.toUrl("ace/worker/worker.js",null,"_"));var r={};e.forEach(function(e){r[e]=o(a.toUrl(e,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}this.$worker=l(n),s&&this.send("importScripts",s),this.$worker.postMessage({init:!0,tlns:r,module:t,classname:i}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,c),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return n.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,50<e.length&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(s.prototype);var o=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,s=!1,o=Object.create(c),r=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){r.messageBuffer.push(e),n&&(s?setTimeout(a):a())},this.setEmitSync=function(e){s=e};var a=function(){var e=r.messageBuffer.shift();e.command?n[e.command].apply(n,e.args):e.event&&o._signal(e.event,e.data)};o.postMessage=function(e){r.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},h.loadModule(["worker",t],function(e){for(n=new e[i](o);r.messageBuffer.length;)a()})};o.prototype=s.prototype,e.UIWorkerClient=o,e.WorkerClient=s,e.createWorker=l}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(e,t,i){"use strict";var l=e("./range").Range,n=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop"),o=function(e,t,i,n,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){r.onCursorChange()})},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){s.implement(this,n),this.setup=function(){var i=this,n=this.doc,e=this.session;this.selectionBefore=e.selection.toJSON(),e.selection.inMultiSelectMode&&e.selection.toSingleRange(),this.pos=n.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=e.addMarker(new l(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var t=n.createAnchor(e.row,e.column);t.$insertRight=!0,t.detach(),i.others.push(t)}),e.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var t=this.session,i=this;this.othersActive=!0,this.others.forEach(function(e){e.markerId=t.addMarker(new l(e.row,e.column,e.row,e.column+i.length),i.othersClass,null,!1)})}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,s=t.start.column-this.pos.column;if(this.updateAnchors(e),n&&(this.length+=i),n&&!this.session.$fromUndo)if("insert"===e.action)for(var o=this.others.length-1;0<=o;o--){var r={row:(a=this.others[o]).row,column:a.column+s};this.doc.insertMergedLines(r,e.lines)}else if("remove"===e.action)for(o=this.others.length-1;0<=o;o--){var a;r={row:(a=this.others[o]).row,column:a.column+s};this.doc.remove(new l(r.row,r.column,r.row,r.column-i))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var i=this,n=this.session,e=function(e,t){n.removeMarker(e.markerId),e.markerId=n.addMarker(new l(e.row,e.column,e.row,e.column+i.length),t,null,!1)};e(this.pos,this.mainClass);for(var t=this.others.length;t--;)e(this.others[t],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(o.prototype),t.PlaceHolder=o}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(e,t,i){function C(e,t){return e.row==t.row&&e.column==t.column}var L=e("../lib/event"),A=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,n=t.shiftKey,s=t.ctrlKey,o=e.getAccelKey(),r=e.getButton();if(s&&A.isMac&&(r=t.button),e.editor.inMultiSelectMode&&2==r)e.editor.textInput.onContextMenu(e.domEvent);else if(s||i||o){if(0===r){var a,l=e.editor,c=l.selection,h=l.inMultiSelectMode,u=e.getDocumentPosition(),d=c.getCursor(),g=e.inSelection()||c.isEmpty()&&C(u,d),f=e.x,p=e.y,m=l.session,b=l.renderer.pixelToScreenCoordinates(f,p),v=b;if(l.$mouseHandler.$enableJumpToDef)s&&i||o&&i?a=n?"block":"add":i&&l.$blockSelectEnabled&&(a="block");else if(o&&!i){if(a="add",!h&&n)return}else i&&l.$blockSelectEnabled&&(a="block");if(a&&A.isMac&&t.ctrlKey&&l.$mouseHandler.cancelContextMenu(),"add"==a){if(!h&&g)return;if(!h){var w=c.toOrientedRange();l.addSelectionMarker(w)}var y=c.rangeList.rangeAtPoint(u);l.inVirtualSelectionMode=!0,n&&(y=null,w=c.ranges[0]||w,l.removeSelectionMarker(w)),l.once("mouseup",function(){var e=c.toOrientedRange();y&&e.isEmpty()&&C(y.cursor,e.cursor)?c.substractPoint(e.cursor):(n?c.substractPoint(w.cursor):w&&(l.removeSelectionMarker(w),c.addRange(w)),c.addRange(e)),l.inVirtualSelectionMode=!1})}else if("block"==a){e.stop(),l.inVirtualSelectionMode=!0;var k,S=[];h&&!o?c.toSingleRange():!h&&o&&(k=c.toOrientedRange(),l.addSelectionMarker(k)),n?b=m.documentToScreenPosition(c.lead):c.moveToPosition(u),v={row:-1,column:-1};var x=function(){var e=l.renderer.pixelToScreenCoordinates(f,p),t=m.screenToDocumentPosition(e.row,e.column,e.offsetX);C(v,e)&&C(t,c.lead)||(v=e,l.selection.moveToPosition(t),l.renderer.scrollCursorIntoView(),l.removeSelectionMarkers(S),S=c.rectangularRangeBlock(v,b),l.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=l.$mouseHandler.$clickSelection.clone()),S.forEach(l.addSelectionMarker,l),l.updateSelectionMarkers())};L.capture(l.container,function(e){f=e.clientX,p=e.clientY},function(e){clearInterval($),l.removeSelectionMarkers(S),S.length||(S=[c.toOrientedRange()]),k&&(l.removeSelectionMarker(k),c.toSingleRange(k));for(var t=0;t<S.length;t++)c.addRange(S[t]);l.inVirtualSelectionMode=!1,l.$mouseHandler.$clickSelection=null});var $=setInterval(function(){x()},20);return e.preventDefault()}}}else 0===r&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(e,t,i){function n(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",o),e.commands.addCommands(a.defaultCommands),function(i){function n(e){s&&(i.renderer.setMouseCursor(""),s=!1)}var e=i.textInput.getElement(),s=!1;r.addListener(e,"keydown",function(e){var t=18==e.keyCode&&!(e.ctrlKey||e.shiftKey||e.metaKey);i.$blockSelectEnabled&&t?s||(i.renderer.setMouseCursor("crosshair"),s=!0):s&&n()}),r.addListener(e,"keyup",n),r.addListener(e,"blur",n)}(e))}var s=e("./range_list").RangeList,y=e("./range").Range,p=e("./selection").Selection,o=e("./mouse/multi_select_handler").onMouseDown,r=e("./lib/event"),m=e("./lib/lang"),a=e("./commands/multi_select_commands");t.commands=a.defaultCommands.concat(a.multiSelectCommands);var l=new(e("./search").Search),c=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(c.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new s,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(1<this.rangeCount){var e=this.rangeList.ranges,t=e[e.length-1],i=y.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{i=this.getRange();var n=this.isBackwards(),s=i.start.row,o=i.end.row;if(s==o){if(n)var r=i.end,a=i.start;else r=i.start,a=i.end;return this.addRange(y.fromPoints(a,a)),void this.addRange(y.fromPoints(r,r))}var l=[],c=this.getLineRange(s,!0);c.start.column=i.start.column,l.push(c);for(var h=s+1;h<o;h++)l.push(this.getLineRange(h,!0));(c=this.getLineRange(o,!0)).end.column=i.end.column,l.push(c),l.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(1<this.rangeCount){var e=this.rangeList.ranges,t=e[e.length-1],i=y.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(n,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],s=e.column<t.column;if(s)var o=e.column,r=t.column,a=e.offsetX,l=t.offsetX;else o=t.column,r=e.column,a=t.offsetX,l=e.offsetX;var c,h,u,d=e.row<t.row;if(d)var g=e.row,f=t.row;else g=t.row,f=e.row;o<0&&(o=0),g<0&&(g=0),g==f&&(i=!0);for(var p=g;p<=f;p++){var m=y.fromPoints(this.session.screenToDocumentPosition(p,o,a),this.session.screenToDocumentPosition(p,r,l));if(m.isEmpty()){if(c&&(h=m.end,u=c,h.row==u.row&&h.column==u.column))break;c=m.end}m.cursor=s?m.start:m.end,n.push(m)}if(d&&n.reverse(),!i){for(var b=n.length-1;n[b].isEmpty()&&0<b;)b--;if(0<b)for(var v=0;n[v].isEmpty();)v++;for(var w=b;v<=w;w--)n[w].isEmpty()&&n.splice(w,1)}return n}}.call(p.prototype);var h=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(a.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(a.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)n="forEach"==t.multiSelectAction?i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),t.exec(i,e.args||{})):t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,o=1==i||i&&i.$byLines,r=this.session,a=this.selection,l=a.rangeList,c=(s?a:l).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var h=a._eventRegistry;a._eventRegistry={};var u=new p(r);this.inVirtualSelectionMode=!0;for(var d=c.length;d--;){if(o)for(;0<d&&c[d].start.row==c[d-1].end.row;)d--;u.fromOrientedRange(c[d]),u.index=d,this.selection=r.selection=u;var g=e.exec?e.exec(this,t||{}):e(this,t||{});!n&&void 0!==g&&(n=g),u.toOrientedRange(c[d])}u.detach(),this.selection=r.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=h,a.mergeOverlappingRanges();var f=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),f&&f.from==f.to&&this.renderer.animateScrolling(f.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();(e=i.join(s)).length==(i.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;(n.row!=t.row||this.session.$clipPositionToDocument(n.row,n.column).column!=t.column)&&this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,null==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;i||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,s=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,r=this.session.screenToDocumentPosition(s.row+e,s.column);if(i.isEmpty())l=r;else var a=this.session.documentToScreenPosition(n?i.end:i.start),l=this.session.screenToDocumentPosition(a.row+e,a.column);n?(o=y.fromPoints(r,l)).cursor=o.start:(o=y.fromPoints(l,r)).cursor=o.end;if(o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var c=i.cursor}else this.selection.addRange(i);this.selection.addRange(o),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;){if((a=n[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}i.mergeOverlappingRanges();var r=[];for(s=n.length;s--;){var a=n[s];r.unshift(t.getTextRange(a))}e<0?r.unshift(r.pop()):r.push(r.shift());for(s=n.length;s--;){o=(a=n[s]).clone();t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column}},this.selectMore=function(e,t,i){var n=this.session,s=n.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=n.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var o=n.getTextRange(s),r=function(e,t,i){return l.$options.wrap=!0,l.$options.needle=t,l.$options.backwards=-1==i,l.find(e)}(n,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var o=this.session,t=o.multiSelect,e=t.ranges,i=-1,n=e.filter(function(e){if(e.cursor.row==i)return!0;i=e.cursor.row});if(e.length&&n.length!=e.length-1){n.forEach(function(e){t.substractPoint(e.cursor)});var r=0,a=1/0,l=e.map(function(e){var t=e.cursor,i=o.getLine(t.row).substr(t.column).search(/\S/g);return-1==i&&(i=0),t.column>r&&(r=t.column),i<a&&(a=i),i});e.forEach(function(e,t){var i=e.cursor,n=r-i.column,s=l[t]-a;s<n?o.insert(i,m.stringRepeat(" ",n-s)):o.remove(new y(i.row,i.column,i.row,i.column-n+s)),e.start.column=e.end.column=r,e.start.row=e.end.row=i.row,e.cursor=e.end}),t.fromOrientedRange(e[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var s=this.selection.getRange(),c=s.start.row,h=s.end.row,u=c==h;if(u){for(var d,g=this.session.getLength();d=this.session.getLine(h),/[=:]/.test(d)&&++h<g;);for(;d=this.session.getLine(c),/[=:]/.test(d)&&0<--c;);c<0&&(c=0),g<=h&&(h=g-1)}var f=this.session.removeFullLines(c,h);f=this.$reAlignText(f,u),this.session.insert({row:c,column:0},f.join("\n")+"\n"),u||(s.start.column=0,s.end.column=f[f.length-1].length),this.selection.setRange(s)}},this.$reAlignText=function(e,t){function i(e){return m.stringRepeat(" ",e)}function n(e){return e[2]?i(s)+e[2]+i(o-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,o,r,a=!0,l=!0;return e.map(function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?(null==s?(s=t[1].length,o=t[2].length,r=t[3].length):(s+o+r!=t[1].length+t[2].length+t[3].length&&(l=!1),s!=t[1].length&&(a=!1),s>t[1].length&&(s=t[1].length),o<t[2].length&&(o=t[2].length),r>t[3].length&&(r=t[3].length)),t):[e]}).map(t?n:a?l?function(e){return e[2]?i(s+o-e[2].length)+e[2]+i(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:n:function(e){return e[2]?i(s)+e[2]+i(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=n,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){n(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",o)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",o))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(e,t,i){"use strict";var d=e("../../range").Range,n=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var n=/\S/,s=e.getLine(t),o=s.search(n);if(-1!=o){for(var r=i||s.length,a=e.getLength(),l=t,c=t;++t<a;){var h=e.getLine(t).search(n);if(-1!=h){if(h<=o)break;c=t}}if(l<c){var u=e.getLine(c).length;return new d(l,r,c,u)}}},this.openingBracketBlock=function(e,t,i,n,s){var o={row:i,column:n+1},r=e.$findClosingBracket(t,o,s);if(r){var a=e.foldWidgets[r.row];return null==a&&(a=e.getFoldWidget(r.row)),"start"==a&&r.row>o.row&&(r.row--,r.column=e.getLine(r.row).length),d.fromPoints(o,r)}},this.closingBracketBlock=function(e,t,i,n,s){var o={row:i,column:n},r=e.$findOpeningBracket(t,o);if(r)return r.column++,o.column--,d.fromPoints(r,o)}}).call(n.prototype)}),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],function(e,t,i){"use strict";function n(e){this.session=e,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}e("./lib/oop");var o=e("./lib/dom");e("./range").Range;(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var t=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(t+=e.rowCount)}),t},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),(this.editor=e)&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach(function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})}},this.updateOnFold=function(e,t){var i=t.lineWidgets;if(i&&e.action){for(var n=e.data,s=n.start.row,o=n.end.row,r="add"==e.action,a=s+1;a<o;a++)i[a]&&(i[a].hidden=r);i[o]&&(r?i[s]?i[o].hidden=r:i[s]=i[o]:(i[s]==i[o]&&(i[s]=void 0),i[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.start.row,n=e.end.row-i;if(0!=n)if("remove"==e.action){t.splice(i+1,n).forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var s=new Array(n);s.unshift(i,0),t.splice.apply(t,s),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var i=!0;e.forEach(function(e,t){if(e)for(i=!1,e.row=t;e.$oldWidget;)e.$oldWidget.row=t,e=e.$oldWidget}),i&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];t&&((e.$oldWidget=t).el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),(this.session.lineWidgets[e.row]=e).session=this.session;var i=this.editor.renderer;e.html&&!e.el&&(e.el=o.createElement("div"),e.el.innerHTML=e.html),e.el&&(o.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,i.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/i.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n){var s=this.session.lineWidgets;e.row!=n.end.row||s[n.start.row]?e.hidden=!0:s[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,i),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,i=t&&t[e],n=[];i;)n.push(i),i=i.$oldWidget;return n},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,o=0;o<i.length;o++){var r=i[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var a=r.h/n.lineHeight;r.coverLine&&((a-=this.session.getRowLineCount(r.row))<0&&(a=0)),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);0<s&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var r=s;r<=o;r++){var a=n[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=i.width+2*i.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(n.prototype),t.LineWidgets=n}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],function(e,t,i){"use strict";var f=e("../line_widgets").LineWidgets,p=e("../lib/dom"),m=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new f(i),i.widgetManager.attach(e));var n=e.getCursorPosition(),s=n.row,o=i.widgetManager.getWidgetsAtRow(s).filter(function(e){return"errorMarker"==e.type})[0];o?o.destroy():s-=t;var r,a=function(e,t,i){var n=e.getAnnotations().sort(m.comparePoints);if(n.length){var s=function(e,t,i){for(var n=0,s=e.length-1;n<=s;){var o=n+s>>1,r=i(t,e[o]);if(0<r)n=1+o;else{if(!(r<0))return o;s=o-1}}return-(n+1)}(n,{row:t,column:-1},m.comparePoints);s<0&&(s=-s-1),s>=n.length?s=0<i?0:n.length-1:0===s&&i<0&&(s=n.length-1);var o=n[s];if(o&&i){if(o.row===t){for(;(o=n[s+=i])&&o.row===t;);if(!o)return n.slice()}var r=[];for(t=o.row;r[i<0?"unshift":"push"](o),(o=n[s+=i])&&o.row==t;);return r.length&&r}}}(i,s,t);if(a){var l=a[0];n.column=(l.pos&&"number"!=typeof l.column?l.pos.sc:l.column)||0,n.row=l.row,r=e.renderer.$gutterLayer.$annotations[n.row]}else{if(o)return;r={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(n.row),e.selection.moveToPosition(n);var c={row:n.row,fixedWidth:!0,coverGutter:!0,el:p.createElement("div"),type:"errorMarker"},h=c.el.appendChild(p.createElement("div")),u=c.el.appendChild(p.createElement("div"));u.className="error_widget_arrow "+r.className;var d=e.renderer.$cursorLayer.getPixelPosition(n).left;u.style.left=d+e.renderer.gutterWidth-5+"px",c.el.className="error_widget_wrapper",h.className="error_widget "+r.className,h.innerHTML=r.text.join("<br>"),h.appendChild(p.createElement("div"));var g=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return c.destroy(),{command:"null"}};c.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),i.widgetManager.removeLineWidget(c),e.off("changeSelection",c.destroy),e.off("changeSession",c.destroy),e.off("mouseup",c.destroy),e.off("change",c.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",c.destroy),e.on("changeSession",c.destroy),e.on("mouseup",c.destroy),e.on("change",c.destroy),e.session.widgetManager.addLineWidget(c),c.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:c.el.offsetHeight})},p.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")}),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],function(e,l,t){"use strict";e("./lib/fixoldbrowsers");var c=e("./lib/dom"),h=e("./lib/event"),i=e("./range").Range,u=e("./editor").Editor,n=e("./edit_session").EditSession,s=e("./undomanager").UndoManager,d=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),l.config=e("./config"),l.require=e,l.define=w(50),l.edit=function(e,t){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof u)return e.env.editor;var n="";if(e&&/input|textarea/i.test(e.tagName)){var s=e;n=s.value,e=c.createElement("pre"),s.parentNode.replaceChild(e,s)}else e&&(n=e.textContent,e.innerHTML="");var o=l.createEditSession(n),r=new u(new d(e),o,t),a={document:o,editor:r,onResize:r.resize.bind(r,null)};return s&&(a.textarea=s),h.addListener(window,"resize",a.onResize),r.on("destroy",function(){h.removeListener(window,"resize",a.onResize),a.editor.container.env=null}),r.container.env=r.env=a,r},l.createEditSession=function(e,t){var i=new n(e,t);return i.setUndoManager(new s),i},l.Range=i,l.EditSession=n,l.UndoManager=s,l.VirtualRenderer=d,l.version="1.3.1"}),ace.require(["ace/ace"],function(e){for(var t in e&&(e.config.init(!0),e.define=ace.define),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])})},46:function(e,t,i){"use strict";!function(o){var r=o.themeBuilder={themeSettings:{}},a=o.$,l=r.utils={},e={render:function(e,i){less.render(e,{optimization:1},function(e,t){i(e,t)})},parseVars:function(e){var t,i,n,s,o=e.match(/@[\w\-_]+\s*:\s*[^;]*;/g),r={};for(t=0;t<o.length;t++)if((n=(i=o[t].split(":"))[0].match(/[^@].+/))&&(n=n[0],null!==(s=i[1].match(/[^ ].+[^;]/)))){var a=(s=s[0]).match(/@[\w\-_]+/g);if(a&&0<a.length)for(var l=0;l<a.length;l++)s=s.replace(a[l],r[a[l].replace("@","")]);r[n]=s}return r}};function c(e){return"static"===e.type?["static",e.name||"",e.namespace||"",e.path||""].join("--"):"external"===e.type?["external",e.url||e.path||""]:""}a.extend(l,{clone:function(e){return void 0===e?e:JSON.parse(JSON.stringify(e))},getCSSResourceIdentifier:c,isBaseThemeCSSResource:function(e){var t=r.themeConfigurations.base,i=t?t.cssResources:null,n=c(e),s=!1;return n&&i&&i.length&&a.each(i,function(e,t){if(c(t)===n)return!(s=!0)}),s},isBaseThemeFontDefinition:function(e,t){var i=r.themeConfigurations.base,n=i?i.webFonts:null,s=t.name,o=!1;return s&&n&&n[e]&&n[e].length&&a.each(n[e],function(e,t){if(t.name===s)return!(o=!0)}),o},lessRenderer:e,parallel:function(e,n){if(0!==e.length){var s=[],o=0,r=0,a=!1;for(var t in e)"remove"!=t&&r++;for(var i in e)"remove"!=i&&e[i](l(i))}else n.apply(this,{});function l(i){return function(){var e=i;o++;for(var t=0;t<arguments.length;t++)void 0===s[t]&&(s[t]=[]),s[t][e]=arguments[t];if(o==r&&!a)return a=!0,void n.apply(this,s)}}},parseCssSize:function(e,t){var i,n,s=void 0!==(t=t||{}).defaultUnit?t.defaultUnit:"px";return o.utils.isString(e)&&(n=(n=e.match(/px|rem|em|pt/))?n[0]:s,i=parseFloat(e),"pt"===n&&(n="px",i*=4/3)),{size:i,unit:n}},parseSkuidBorderLess:function(e){var t,i=e.split(/[, ]\s*/),n={};if(i.length<=3)t=l.parseCssSize(i[0]),n.all={},n.all.width=t.size,n.all.widthUnit=t.unit,n.all.style=i[1],n.all.color=i[2],n.top=l.clone(n.all),n.right=l.clone(n.all),n.bottom=l.clone(n.all),n.left=l.clone(n.all);else{for(var s=["top","right","bottom","left"],o=0,r=0;o<i.length&&r<s.length;)n[s[r]]={},"null"==i[o]||"none"==i[o]?(n[s[r]].width="1",n[s[r]].style="none",n[s[r]].color="black",o++):(t=l.parseCssSize(i[o]),n[s[r]].width=t.size,n[s[r]].widthUnit=t.unit,n[s[r]].style=i[o+1],n[s[r]].color=i[o+2],o+=3),r++;n.individuallySet=!0}return n},randomSeed:function(e){this.seed=e,this.random=function(){var e=1e4*Math.sin(this.seed++);return e-Math.floor(e)}},rgbToHex:function(e){return(e=e.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===e.length?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},subscribeMultipleEventsOnce:function(e,n){var s={};e.forEach(function(e){s[e]=!1;var i=o.events.subscribe(e,function(){var t=!0;o.events.unsubscribe(i),s[e]=!0,a.each(s,function(e){t=t&&s[e]}),t&&n()})})},toLessString:function(e){var t="";for(var i in e)t+="@"+i+":"+e[i]+";";return t},baseThemes:["SkuidThemeClassic","SkuidThemeBuilderDark","SkuidThemeBuilderLight","SkuidThemeModern","SkuidThemePaper","SkuidThemeMobileClassic","SkuidThemeCleanGreen","SkuidThemeCoolGrey","SkuidThemeDynamics","SkuidThemeGlacial","SkuidThemeIceAge","SkuidThemeInvestor","SkuidThemeLightningDesign","SkuidThemeMaterialBlue","SkuidThemeSlated","SkuidThemeMobileCoolGrey","SkuidThemeMobileIceAge","SkuidThemeMobileMaterialBlue","SkuidThemeMobileNorthernLights","SkuidThemeInk","SkuidThemeInkComposerLight","SkuidThemeInkComposerDark","SkuidThemeLightning","SkuidThemeSkuidApp"]})}(skuid)},47:function(e,t,i){"use strict";var s=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),v=i(3);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(u){u.themeBuilder||(u.themeBuilder={});var d=u.$,g=u.utils,l=u.events.publish,c=u.themeBuilder,o=g.resolve,h=u.themeSettings.ThemeSettings;function f(e){return void 0===e?e:JSON.parse(JSON.stringify(e))}function a(e){if(g.startsWith(e,"/resource/")){var t,i,n,s,o=e.substring(10).split("/");if(1<=o.length&&(isNaN(o[0])||o.shift(),1<=o.length))return t=2===(s=o.shift().split("__")).length?(i=s[0],s[1]):s[0],o.length&&(n=o.join("/")),{type:"static",name:t,namespace:i,path:n}}return!1}var r={},p=function(){function n(e,t,i){w(this,n),this._themeModel=e,this._themeRecords=t,this._resourceRecords=i}return s(n,[{key:"migrate",value:function(t){var s=this;return d.when.all(this._themeRecords.map(function(i){var n=s._resourceRecords.find(function(e){return e.Name===i.skuid__Resource_Name__c});if(n)return u.platform.themeBuilder.getResource(n,"skuid_theme.json").then(function(t){t=JSON.parse(t);var i=r[t.baseTheme];return i?{themeData:t,baseThemeData:i.data,baseThemeLess:i.less}:u.platform.themeBuilder.getThemeData(n).then(function(e){return i=r[t.baseTheme]={data:e.baseThemeData,less:e.baseThemeLess},e})}).then(function(e){if(!e.themeData.baseTheme)return d.Deferred().reject("No theme configuration");var t=new c.ThemeConfiguration(d.extend(e.themeData,{resource:n,baseThemeData:e.baseThemeData,lessStr:e.baseThemeLess,model:s._themeModel,row:i}));return(t=u.themeBuilder.migrateTheme(t)).loadAndProcessLess().then(function(){return t})}).then(function(e){return e.save({skipScreenshot:!0,noLess:t.noLess})}).then(function(){return u.events.publish("skuid.themeBuilder.themeUpdated",[i.Name])}).catch(function(e){return u.events.publish("skuid.themeBuilder.themeUpdateFailed",[i.Name,e&&e.message||""])})}))}}]),n}();function e(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(e&&t){var n=e.getRows(),s=t.getRows();if(n.length&&s.length){var o=0;i.whiteList&&(n=n.filter(function(e){return-1===i.whiteList.indexOf(e.skuid__Resource_Name__c)}));var r,a=[],l=void 0;for(l=0,r=n.length;l<r;l+=10)a.push(new p(e,n.slice(l,l+10),s));var c=u.events.subscribe("skuid.themeBuilder.themeUpdated",function(e){!g.runningTests()&&d.blockUI({fadeIn:0,message:o+" of "+n.length+' Themes updated <br/> Updated "'+e+'"'}),o++}),h=u.events.subscribe("skuid.themeBuilder.themeUpdateFailed",function(e,t){!g.runningTests()&&d.blockUI({fadeIn:0,message:'Error updating "'+e+'"'+(t?": "+t:"")}),o++});return function e(t){return a[t].migrate(i).then(function(){if(t<a.length-1)return e(t+1)})}(0).then(function(){u.events.unsubscribe([c,h])})}}}function m(s,i){i=i||{};var o={},r=s.cssResources,a=c.utils.clone;return function(e){var i=d.Deferred();return JSZipUtils.getBinaryContent(e,function(e,t){e?i.reject(e):i.resolve(t)}),i.promise()}(s.baseThemeUrl).then(function(e){var t=new JSZip(e),i="",n=d.Deferred();return o.lessVars=a(s.lessVars),o.webFonts=a(s.webFonts),o.cssResources=a(r),o.typekitId=a(s.typekitId),o.iconsets=a(s.iconsets),o.baseTheme=a(s.baseTheme),o.isMobile=a(s.isMobile),o.themeSettings=a(s.themeSettings.getAll()),o.themeSettingsLocal=a(s.themeSettingsLocal.getAll()),o.timeStamp=(new Date).getTime(),s.migrations&&(o.migrations=a(s.migrations)),o.id=s.id||s.getThemeUrl().split("/").splice(-2)[0].split("skuid__SkuidTheme").join("").toLowerCase(),o.initialized=!0,s.inlineCss&&(o.hasInlineCss=!0,i+=s.inlineCss,t.file("inline.css",i)),s.baseThemeData.hasInlineCss?u.platform.themeBuilder.getResource({Name:"SkuidTheme"+s.baseTheme,NamespacePrefix:"skuid"},"inline.css").then(function(e){i+=" "+e,n.resolve(t,i)}).fail(n.reject):n.resolve(t,""),n.promise()}).then(function(t,e){return t.file("skuid_theme.json",function(e){return JSON.stringify(e,void 0,"\t")}(o)),t.file("skuidtheme.css",s.outputCSS+(e?" "+e:"")),t.file("resources.json",(0,v.buildResourcesJson)(s)),i.screenshotFunction&&!i.skipScreenshot?i.screenshotFunction(s).then(function(e){return e&&t.file("screenshot.png",e,{base64:!0}),t}):(s.screenshot&&t.file("screenshot.png",s.screenshot,{base64:!0}),t)}).then(function(e){return e.generate({type:"base64",compression:"DEFLATE"})}).catch(function(e){throw'Error generating zip: "'+e+'"'})}u.snippet.register("skuid.themebuilder.updateThemes",function(){return d.blockUI({fadeIn:0,message:"Updating themes, please wait..."}),e(u.$M("stng__Themes_Desktop"),u.$M("stng__DesktopThemeResources"),{whiteList:c.utils.baseThemes}).then(function(){return e(u.$M("stng__Themes_Mobile"),u.$M("stng__MobileThemeResources"),{whiteList:c.utils.baseThemes})}).then(function(){!function(e,t){var i=u.$M("UiDriver"),n=i.getFirstRow();i.updateRow(n,e,void 0!==t?t:!n[e])}("showUpdateThemesButton",!1),d.blockUI({fadeIn:0,message:"Done updating themes!",timeout:2500})})});var n=function(){function a(e){w(this,a);var t,i,n=this,s=e.baseThemeData&&new a(e.baseThemeData),o=e.baseTheme||"Modern";if(o=o.charAt(0).toUpperCase()+o.slice(1),s&&(t=s.cssResources,i=s.webFonts),n.baseTheme=f(e.baseTheme),n.baseThemeData=s,n.baseThemeUrl=f(e.baseThemeUrl),n.cssResources=f(e.cssResources)||[],n.iconsets=f(e.iconsets),n.id=f(e.id),n.initialized=f(e.initialized),n.isMobile=f(e.isMobile),n.lessVars=f(e.lessVars),n.migrations=f(e.migrations),n.outputCSS=f(e.outputCSS),n.resource=e.resource,n.themeResourceName=f(e.themeResourceName),n.themeResourceName=this.resource&&f(this.resource.resourceName||this.resource.resource_name),n.timeStamp=(new Date).getTime(),n.webFonts=f(e.webFonts)||{},n.lessStr=f(e.lessStr),n.model=e.model,n.row=e.row,n.subscriptions={},n.hasInlineCss=e.hasInlineCss,e.themeSettings instanceof h?n.themeSettings=new h(f(e.themeSettings.getAll())||{}):n.themeSettings=new h(f(e.themeSettings)||{}),e.themeSettingsLocal instanceof h?n.themeSettingsLocal=new h(f(e.themeSettingsLocal.getAll())||{}):n.themeSettingsLocal=new h(f(e.themeSettingsLocal)||{}),s&&s.lessVars&&(n.lessVars=d.extend(s.lessVars,n.lessVars||{})),n.lessVars&&(n.baseThemeUrl=u.platform.themeBuilder.getThemeResourceUrl({name:"SkuidTheme"+o,namespace:"skuid",modstamp:(new Date).getTime()})),!n.initialized&&s&&(i&&(n.webFonts=i),t)){var r={};n.cssResources.forEach(function(e){var t=c.utils.getCSSResourceIdentifier(e);r[t]=e}),t.forEach(function(e){var t=c.utils.getCSSResourceIdentifier(e);r[t]||n.cssResources.push(e)})}s&&s.themeSettings&&(n.themeSettings=b(s.themeSettings,n.themeSettingsLocal)),s&&s.hasInlineCss&&u.platform.themeBuilder.getResource({Name:n.baseTheme,NamespacePrefix:"skuid"},"inline.css").done(function(e){l("skuid.themeBuilder.baseInlineCssLoaded",[e])}),n.hasInlineCss&&n.resource&&u.platform.themeBuilder.getResource(n.resource,"inline.css").done(function(e){n.inlineCss=e,l("skuid.themeBuilder.inlineCssLoaded",[n])})}return s(a,[{key:"getThemeUrl",value:function(){return u.platform.getResourceUrl({name:this.resourceName,namespace:this.resource.resourceNamespace,modstamp:(new Date).getTime()})+"/"}},{key:"save",value:function(i){i=i||{};var n=this,s=n.model||c.model,e=c.utils.clone;if(!n.resource)throw"Cannot save, Theme Config has no resource";return l("skuid.themeBuilder.saveStatus",["Saving Theme..."]),n.themeSettingsLocal&&n.themeSettings.setAll(b(n.baseThemeData.themeSettings,n.themeSettingsLocal).getAll()),u.utils.delay(10).then(function(){return l("skuid.themeBuilder.saveStatus",["Compiling Theme to CSS..."]),i.noLess?o():d.when(function(e,t){var i=d.Deferred();return c.utils.lessRenderer.render(e+c.utils.toLessString(t),function(e,t){e?i.reject(e):i.resolve(t.css)}),i.promise()}(n.lessStr,e(n.lessVars)).then(function(e){return l("skuid.themeBuilder.saveStatus",["Compressing Theme CSS file..."]),d.when(e,u.utils.delay(1))}).then(function(e){return new CleanCSS({compatibility:"ie8"}).minify(e).styles}),function(e){return e.hasInlineCss&&void 0===e.inlineCss?u.platform.themeBuilder.getResource({Name:"SkuidTheme"+e.baseTheme,NamespacePrefix:"skuid"},"inline.css").catch(o):o()}(n)).then(function(e,t){n.outputCSS=[e,t,n.inlineCss].filter(function(e){return!!e}).join(" ")})}).then(function(){if(s){var e=n.row||s.getFirstRow(),t=u.platform.getEntityFieldName("theme","version_date");s.updateRow(e,t,u.version.date)}return l("skuid.themeBuilder.saveStatus",["Generating Theme bundle..."]),m(n,i)}).then(function(e){return l("skuid.themeBuilder.saveStatus",["Saving Theme bundle to server..."]),u.platform.themeBuilder.saveTheme(n,e,n.resource)}).then(function(){if(s)return s.save()}).then(function(){return l("skuid.themeBuilder.saveStatus",["Saved",1500]),l("skuid.themeBuilder.saveSuccess",[]),n}).fail(function(e){l("skuid.themeBuilder.saveStatus",["Save failed",1500]),l("skuid.themeBuilder.saveFailure",[e]);var t="There was a problem saving this Theme"+(n.id?": "+n.id:"");!g.runningTests()&&console.error(t,e),e&&("string"==typeof e?e+=": "+e:e.message&&(e+=": "+e.message)),!g.runningTests()&&d.blockUI({fadeIn:0,message:t,timeout:3e3})})}},{key:"loadAndProcessLess",value:function(){var t=this;function i(e){return'"'===(e=e.split('\\"').join('"').split("\\r\\n").join("\n").split("\\t").join("\t").split("\\n").join("\n").split("\\\\").join("\\"))[0]&&(e=e.substring(1,e.length-1)),t.lessStr=e}return t.lessStr?o(i(t.lessStr)):u.platform.themeBuilder.getResource({Name:"SkuidTheme"+(t.baseThemeData.baseTheme||{mobileclassic:"MobileClassic",modern:"Modern",paper:"Paper",classic:"Classic",ink:"Ink"}[t.baseThemeData.id]),NamespacePrefix:"skuid"},"skuidtheme.min.less").done(function(e){return i(e)}).fail(function(){d.blockUI({fadeIn:0,message:"There was an error"}),setTimeout(d.unblockUI,2e3)})}},{key:"removeSetting",value:function(e){this.themeSettingsLocal.unset(e),this.baseThemeData.themeSettings.get(e)?this.themeSettings.set(e,this.baseThemeData.themeSettings.get(e)):this.themeSettings.unset(e)}},{key:"updateSetting",value:function(n,e){var s=this,t=s.subscriptions,o={};d.each(t,function(e){o[e]=JSON.stringify(u.utils.getObjectProperty(s.themeSettings,e))}),s.themeSettingsLocal.set(n,e),s.themeSettings.set(n,e),d.map(t,function(e,t){return t}).filter(function(e){var t=(n||"").match(e),i=JSON.stringify(s.themeSettings.get(e));return o[e]!==i&&(t&&0==t.index)}).forEach(function(e){t[e].forEach(function(e){e()})})}},{key:"subscribeChange",value:function(t,i){var n=this.subscriptions;return n[t]||(n[t]=[]),n[t].push(i),{unsubscribe:function(){var e=n[t].indexOf(i);-1!==e&&n[t].splice(e,1)}}}},{key:"getSetting",value:function(e){return this.themeSettings.get(e)}}]),a}();function b(e,t){var i=d.extend(!0,{},e.getAll(),t.getAll()),n=u.utils.getObjectProperty(t,"palette");d.each(n,function(e,t){t.value.shades&&(i.palette[e].value.shades=t.value.shades),t.value.tints&&(i.palette[e].value.tints=t.value.tints)});var s=u.utils.getObjectProperty(t,"tokens.shadow");return d.each(s,function(e,t){i.tokens.shadow[e]=t}),new h(i)}g.loadJS(u.platform.getResourceUrl({ns:"skuid",path:"js/lib/jSZip.js"})),c.updateThemes=e,c.updateAllThemes=function(){u.snippet.get("skuid.themebuilder.updateThemes")("",!0)},c.migrateTheme=function(e){var t=new n(e),i=t.migrations;return i||(i=t.migrations={}),i.millau||(function(e){var t=d.extend({},e),i=t.webFonts&&t.webFonts.custom,o=t.cssResources,r={};o||(o=t.cssResources=[]),o.forEach(function(e){var t=c.utils.getCSSResourceIdentifier(e);r[t]=e}),i&&i.length&&i.forEach(function(e){var t,i=e.localurl,n=e.url,s=a(i)||a(n);!s&&n&&(-1<n.indexOf("http://")||-1<n.indexOf("https://"))&&(s={type:"external",path:n}),s&&(t=c.utils.getCSSResourceIdentifier(s),r[t]||o.push(s),delete e.localurl,delete e.url)})}(t),i.millau=""+(new Date).getTime()),t},c.ThemeConfiguration=n}(skuid)},50:function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}});